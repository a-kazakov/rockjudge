# RockJudge #

Система для проведения соревнований по акробатическому рок-н-роллу.

## Основные особенности ##

* Поддержка самой актуальной версии правил проведения сорвнований РосФАРР
* Ввод оценок судьями с планшетов
* Возможность одновременной работы с интерфейсом администратора с нескольких устройств
* Возможен запуск сервера на Windows, Linux или Mac OS X
* База данных: PostgreSQL

## Установка на Windows ##

Поддерживаются все версии Windows начиная с Windows 7. Наверняка систему можно запустить и на Windows XP, однако я это не проверял.

Для установки необходимо узнать разрядность системы. Узнать это можно через панель управления -> Система и Безопасность (System and Security) -> Система (System). Разрядность будет указана в разделе Тип Системы (System Type).

1. Скачать и установить Python 3.5 [для 64-разрядных систем](https://www.python.org/ftp/python/3.5.0/python-3.5.0-amd64.exe) или для [для 32-разрядных систем](https://www.python.org/ftp/python/3.5.0/python-3.5.0.exe). При установке выбрать "Customize installation" и отметить все галочки. На следующей странице отметить галочку "Install for all users".
1. Скачать и установить [PostgreSQL](http://www.enterprisedb.com/products-services-training/pgdownload#windows). При установке будет запрошен пароль администратора (root). Крайне важно сохранить его, так как он потребуется в дальнейшем. Так же при установке нужно будет выбрать Locale: English, United States. Остальные параметры оставить по умолчанию. Перед завершением снять галочку "Launch Stack Builder ...".
1. Перезагрузить компьютер
1. В каталоге системы в папке install запустить install_win64.bat или install_win32.bat **от имени администратора** (через контенстное меню). На запрос пароля от базы данных нужно будет ввести пароль администратора, введенный при установке PostgreSQL. На запрос названия базы данных, если не знаете, что это означает, можно ввести rock.

## Запуск сервера на Windows ##

В каталоге control нужно запустить файл start_windows.bat.

## Установка и запуск на Linux/Mac OS X ##

Установка состоит из трёх основных шагов: установки Python 3.5, установки PostgreSQL и настройи системы.

Поскольку, процесс установки Python 3.5 и PostgreSQL зависит от системы и не имеет особенностей для данной судейской системы, этот процесс будет опущен.

Настройка производится следующим образом:

### Установка модулей python ###
```
#!bash

pip3 install openpyxl aiopg psycopg2 peewee tornado sockjs-tornado
pip3 install peewee-async
```
peewee-async должен устанавливаться отдельно после все остальных модулей

### Настройка базы данных ###

Для этого из каталога программы нужно запустить следующую команду:
```
#!bash
python3 install/internal/db_setup.py
```
### Создание таблиц в базе данных ###
```
#!bash
python3 manage.py reset
```

**Для запуска сервера нужно выполнить следующую команду из каталога программы:**
```
#!bash
python3 manage.py start
```