(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

var _main = require("admin/main");

ReactDOM.render(React.createElement(_main.Admin, window.page_props), document.getElementById("content"));

},{"admin/main":9}],2:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.DisciplineResults = exports.DisciplineResultsButtons = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _loader = require("l10n/loader");

var _api = require("server/api");

var _storage = require("server/storage");

var _message_dispatcher = require("server/message_dispatcher");

var _components = require("ui/components");

var _printable = require("ui/printable");

var _docx = require("common/docx");

var _discipline_results = require("./rosfarr/discipline_results");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DisciplineResultsButtons = exports.DisciplineResultsButtons = function (_React$Component) {
    _inherits(DisciplineResultsButtons, _React$Component);

    function DisciplineResultsButtons() {
        _classCallCheck(this, DisciplineResultsButtons);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(DisciplineResultsButtons).apply(this, arguments));
    }

    _createClass(DisciplineResultsButtons, [{
        key: "signal",
        value: function signal(message) {
            var _this2 = this;

            return function () {
                return _this2.props.onSignal(message);
            }.bind(this);
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                null,
                React.createElement(
                    "button",
                    { className: "btn btn-primary", onClick: this.signal("docx") },
                    "DOCX"
                )
            );
        }
    }]);

    return DisciplineResultsButtons;
}(React.Component);

var DisciplineResults = exports.DisciplineResults = function (_React$Component2) {
    _inherits(DisciplineResults, _React$Component2);

    _createClass(DisciplineResults, null, [{
        key: "defaultProps",
        get: function get() {
            return {
                renderer: "page"
            };
        }

        // Initialization

    }]);

    function DisciplineResults(props) {
        _classCallCheck(this, DisciplineResults);

        var _this3 = _possibleConstructorReturn(this, Object.getPrototypeOf(DisciplineResults).call(this, props));

        _this3.state = {
            loaded: false
        };
        _this3.runs_loaded = false;
        return _this3;
    }

    _createClass(DisciplineResults, [{
        key: "componentWillMount",
        value: function componentWillMount() {
            var _this4 = this;

            this.storage = _storage.storage.getDomain("discipline_results_" + this.props.discipline_id);
            this.reload_listener = _message_dispatcher.message_dispatcher.addListener("reload_data", this.loadData.bind(this));
            this.db_update_listener = _message_dispatcher.message_dispatcher.addListener("db_update", this.reloadState.bind(this));
            this.results_change_listener = _message_dispatcher.message_dispatcher.addListener("tour_results_changed reload_data", function (message) {
                if (!message) {
                    this.loadResults();
                    return;
                }
                var tour_storage = this.storage.get("Tour").by_id(message["tour_id"]);
                if (!tour_storage) {
                    return;
                }
                if (tour_storage.discipline.id === this.props.discipline_id) {
                    this.loadResults();
                }
            }.bind(this));
            this.loadData();
            this.loadResults();
            if (this.props.autoDocx) {
                (function () {
                    var interval_id = setInterval(function () {
                        if (_this4.refs.printable) {
                            clearInterval(interval_id);
                            _this4.createDocx(_this4.props.autoDocx.filename);
                            _this4.props.autoDocx.callback(_this4.props.autoDocx.filename);
                        }
                    }, 500);
                })();
            }
        }
    }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
            _message_dispatcher.message_dispatcher.removeListener(this.reload_listener);
            _message_dispatcher.message_dispatcher.removeListener(this.db_update_listener);
            _message_dispatcher.message_dispatcher.removeListener(this.results_change_listener);
            _storage.storage.delDomain("discipline_results_" + this.props.discipline_id);
        }
    }, {
        key: "reloadState",
        value: function reloadState() {
            if (!this.state.discipline_results) {
                return;
            }
            if (!this.runs_loaded) {
                return;
            }
            var storage_runs = this.storage.get("Run");
            var results = this.state.discipline_results;
            var new_state = [];
            var SCHEMA = {
                tour: {},
                participant: {
                    sportsmen: {},
                    club: {}
                }
            };
            for (var i = 0; i < results.length; ++i) {
                new_state.push({
                    place: results[i].place,
                    run: storage_runs.by_id(results[i].run_id).serialize(SCHEMA)
                });
            }
            this.setState({
                loaded: true,
                table: new_state,
                discipline: this.storage.get("Discipline").by_id(this.props.discipline_id).serialize({
                    competition: {}
                })
            });
        }
    }, {
        key: "loadResults",
        value: function loadResults() {
            var _this5 = this;

            (0, _api.Api)("discipline.get_results", {
                discipline_id: this.props.discipline_id
            }).onSuccess(function (response) {
                _this5.setState({
                    discipline_results: response
                });
                _this5.reloadState();
            }).send();
        }
    }, {
        key: "loadData",
        value: function loadData() {
            var _this6 = this;

            (0, _api.Api)("discipline.get", {
                discipline_id: this.props.discipline_id,
                children: {
                    competition: {},
                    tours: {
                        runs: {
                            participant: {
                                club: {}
                            }
                        }
                    }
                }
            }).addToDB("Discipline", this.props.discipline_id, this.storage).onSuccess(function () {
                _this6.runs_loaded = true;
                _this6.reloadState(_this6);
            }).send();
        }

        // Listeners

    }, {
        key: "onSignal",
        value: function onSignal(message) {
            switch (message) {
                case "docx":
                    this.createDocx();
                    break;
                default:
                    console.log("Unknown message:", message);
            }
        }

        // Rendering

    }, {
        key: "renderBody",
        value: function renderBody() {
            switch (this.props.renderer) {
                case "presenter":
                    return React.createElement(_discipline_results.DisciplineResultsPresenterTable, { table: this.state.table, ref: "main_table" });
                case "screen_operator":
                    return React.createElement(_discipline_results.DisciplineResultsScreenOperatorTable, {
                        table: this.state.table,
                        selectedPlace: this.props.selectedPlace,
                        onPlaceSelect: this.props.onPlaceSelect,
                        ref: "main_table" });
                case "page":
                    return React.createElement(_printable.Printable, {
                        ref: "printable",
                        header: this.state.discipline.competition.name + ", " + this.state.discipline.competition.date,
                        title1: (0, _loader._)("admin.headers.discipline_results"),
                        title3: this.state.discipline.name,
                        body: React.createElement(_discipline_results.DisciplineResultsTable, { table: this.state.table }) });
                case "table":
                    return React.createElement(_discipline_results.DisciplineResultsTable, { table: this.state.table, ref: "main_table" });
                default:
            }
        }
    }, {
        key: "render",
        value: function render() {
            // eslint-disable-line react/sort-comp
            if (!this.state.loaded) {
                return React.createElement(
                    "div",
                    { className: "discipline-results" },
                    React.createElement(_components.Loader, null)
                );
            }
            return React.createElement(
                "div",
                { className: "discipline-results" },
                this.renderBody()
            );
        }
    }, {
        key: "createDocx",
        value: function createDocx() {
            var filename = arguments.length <= 0 || arguments[0] === undefined ? "discipline-results.docx" : arguments[0];

            (0, _docx.Docx)(filename).setHeader(this.state.discipline.competition.name + ", " + this.state.discipline.competition.date).setTitle1((0, _loader._)("admin.headers.discipline_results")).setTitle3(this.state.discipline.name).setBody(this.refs.printable.fetchPrintableData()).addStyle(".tour-name", "background", "#ddd").addStyle(".bordered-table .sportsmen td, .bordered-table .sportsmen th", "border", "none").addStyle(".bordered-table .sportsmen td, .bordered-table .sportsmen th", "padding", "0").addStyle(".sportsmen", "width", "100%").save();
        }
    }]);

    return DisciplineResults;
}(React.Component);

},{"./rosfarr/discipline_results":5,"common/docx":23,"l10n/loader":25,"server/api":28,"server/message_dispatcher":29,"server/storage":30,"ui/components":32,"ui/printable":34}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.HeatsBody = exports.HeatsButtons = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _loader = require("l10n/loader");

var _api = require("server/api");

var _storage = require("server/storage");

var _message_dispatcher = require("server/message_dispatcher");

var _components = require("ui/components");

var _printable = require("ui/printable");

var _docx = require("common/docx");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var HeatsButtons = exports.HeatsButtons = function (_React$Component) {
    _inherits(HeatsButtons, _React$Component);

    function HeatsButtons() {
        _classCallCheck(this, HeatsButtons);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(HeatsButtons).apply(this, arguments));
    }

    _createClass(HeatsButtons, [{
        key: "signal",
        value: function signal(message) {
            var _this2 = this;

            return function () {
                return _this2.props.onSignal(message);
            }.bind(this);
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                null,
                React.createElement(
                    "button",
                    { className: "btn btn-primary", onClick: this.signal("docx") },
                    "DOCX"
                )
            );
        }
    }]);

    return HeatsButtons;
}(React.Component);

var HeatsBody = exports.HeatsBody = function (_React$Component2) {
    _inherits(HeatsBody, _React$Component2);

    function HeatsBody(props) {
        _classCallCheck(this, HeatsBody);

        var _this3 = _possibleConstructorReturn(this, Object.getPrototypeOf(HeatsBody).call(this, props));

        _this3.state = {
            tour: null
        };
        return _this3;
    }

    _createClass(HeatsBody, [{
        key: "componentWillMount",
        value: function componentWillMount() {
            var _this4 = this;

            this.storage = _storage.storage.getDomain("heats_" + this.props.tour_id);
            this.reload_listener = _message_dispatcher.message_dispatcher.addListener("reload_data", this.loadData.bind(this));
            this.db_update_listener = _message_dispatcher.message_dispatcher.addListener("db_update", this.reloadFromStorage.bind(this));
            this.loadData();
            if (this.props.autoDocx) {
                (function () {
                    var interval_id = setInterval(function () {
                        if (_this4.refs.printable) {
                            clearInterval(interval_id);
                            _this4.createDocx(_this4.props.autoDocx.filename);
                            _this4.props.autoDocx.callback(_this4.props.autoDocx.filename);
                        }
                    }, 500);
                })();
            }
        }
    }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
            _message_dispatcher.message_dispatcher.removeListener(this.reload_listener);
            _message_dispatcher.message_dispatcher.removeListener(this.db_update_listener);
            _storage.storage.delDomain("heats_" + this.props.tour_id);
        }
    }, {
        key: "reloadFromStorage",
        value: function reloadFromStorage() {
            var SCHEMA = {
                discipline: {
                    competition: {}
                },
                runs: {
                    participant: {
                        club: {}
                    }
                }
            };
            var serialized = this.storage.get("Tour").by_id(this.props.tour_id).serialize(SCHEMA);
            this.setState({
                tour: serialized
            });
        }
    }, {
        key: "loadData",
        value: function loadData() {
            (0, _api.Api)("tour.get", {
                tour_id: this.props.tour_id,
                children: {
                    discipline: {
                        competition: {}
                    },
                    runs: {
                        participant: {
                            club: {}
                        }
                    }
                }
            }).addToDB("Tour", this.props.tour_id, this.storage).onSuccess(this.reloadFromStorage.bind(this)).send();
        }
    }, {
        key: "onSignal",
        value: function onSignal(message) {
            switch (message) {
                case "docx":
                    this.createDocx();
                    break;
                default:
                    console.log("Unknown message:", message);
            }
        }
    }, {
        key: "renderHeatHeader",
        value: function renderHeatHeader(prev_row, next_row) {
            var need_render = typeof prev_row === "undefined" || prev_row.heat !== next_row.heat;
            if (!need_render) {
                return null;
            }
            return React.createElement(
                "tr",
                { key: "H" + next_row.heat },
                React.createElement(
                    "th",
                    { className: "heat-number", colSpan: "3" },
                    React.createElement(
                        "p",
                        null,
                        (0, _loader._)("global.phrases.heat_n", next_row.heat)
                    )
                )
            );
        }
    }, {
        key: "renderHeatRow",
        value: function renderHeatRow(row) {
            return React.createElement(
                "tr",
                { key: "R" + row.id },
                React.createElement(
                    "td",
                    { className: "w-8" },
                    React.createElement(
                        "p",
                        { className: "text-center" },
                        row.participant.number
                    )
                ),
                React.createElement(
                    "td",
                    null,
                    React.createElement(
                        "p",
                        null,
                        row.participant.name
                    )
                ),
                React.createElement(
                    "td",
                    null,
                    React.createElement(
                        "p",
                        null,
                        row.participant.club.name
                    )
                )
            );
        }
    }, {
        key: "renderHeatRows",
        value: function renderHeatRows() {
            var result = [];
            var runs = this.state.tour.runs;
            for (var i = 0; i < runs.length; ++i) {
                var header = this.renderHeatHeader(runs[i - 1], runs[i]);
                header && result.push(header);
                result.push(this.renderHeatRow(runs[i]));
            }
            return result;
        }
    }, {
        key: "render",
        value: function render() {
            // eslint-disable-line react/sort-comp
            if (this.state.tour === null) {
                return React.createElement(_components.Loader, null);
            }
            var body = React.createElement(
                "div",
                { className: "tour-heats" },
                React.createElement(
                    "table",
                    { className: "bordered-table" },
                    React.createElement(
                        "thead",
                        null,
                        React.createElement(
                            "tr",
                            null,
                            React.createElement(
                                "th",
                                { className: "w-8" },
                                React.createElement(
                                    "p",
                                    null,
                                    (0, _loader._)("judging.labels.number")
                                )
                            ),
                            React.createElement(
                                "th",
                                null,
                                React.createElement(
                                    "p",
                                    null,
                                    (0, _loader._)("judging.labels.participant_name")
                                )
                            ),
                            React.createElement(
                                "th",
                                null,
                                React.createElement(
                                    "p",
                                    null,
                                    (0, _loader._)("judging.labels.club")
                                )
                            )
                        )
                    ),
                    React.createElement(
                        "tbody",
                        null,
                        this.renderHeatRows()
                    )
                )
            );
            return React.createElement(_printable.Printable, {
                header: this.state.tour.discipline.competition.name + ", " + this.state.tour.discipline.competition.date,
                title1: (0, _loader._)("admin.headers.tour_heats"),
                title2: this.state.tour.discipline.name,
                title3: this.state.tour.name,
                body: body,
                ref: "printable" });
        }
    }, {
        key: "createDocx",
        value: function createDocx() {
            var filename = arguments.length <= 0 || arguments[0] === undefined ? "tour-heats.docx" : arguments[0];

            (0, _docx.Docx)(filename).setHeader(this.state.tour.discipline.competition.name + ", " + this.state.tour.discipline.competition.date).setTitle1((0, _loader._)("admin.headers.tour_heats")).setTitle2(this.state.tour.discipline.name).setTitle3(this.state.tour.name).setBody(this.refs.printable.fetchPrintableData()).addStyle(".heat-number", "background", "#ccc").addStyle(".heat-number", "text-align", "left").addStyle("td, th", "font-size", "12pt").save();
        }
    }]);

    return HeatsBody;
}(React.Component);

},{"common/docx":23,"l10n/loader":25,"server/api":28,"server/message_dispatcher":29,"server/storage":30,"ui/components":32,"ui/printable":34}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Judging = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _loader = require("l10n/loader");

var _heats = require("./heats");

var _tour_admin = require("./tour_admin");

var _tour_results = require("./tour_results");

var _discipline_results = require("./discipline_results");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Judging = exports.Judging = function (_React$Component) {
    _inherits(Judging, _React$Component);

    function Judging(props) {
        _classCallCheck(this, Judging);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Judging).call(this, props));

        _this.state = {
            active_tour_id: _this.getTourIdFromHash(),
            page: _this.getPageFromHash()
        };
        return _this;
    }

    _createClass(Judging, [{
        key: "switchActiveTour",
        value: function switchActiveTour(new_tour_id) {
            this.setState({
                active_tour_id: new_tour_id,
                page: this.getActiveTour(new_tour_id).finalized ? "results-1" : "tour-admin"
            });
            window.location.hash = "#judging/" + new_tour_id;
        }
    }, {
        key: "switchPage",
        value: function switchPage(new_page, event) {
            event.preventDefault();
            this.setState({
                page: new_page
            });
            window.location.hash = "#judging/" + this.state.active_tour_id + "/" + new_page;
        }
    }, {
        key: "getTourIdFromHash",
        value: function getTourIdFromHash() {
            var chunks = window.location.hash.substr(1).split("/");
            if (chunks[1] && /^\d+$/.test(chunks[1])) {
                return parseInt(chunks[1]);
            }
            return null;
        }
    }, {
        key: "getPageFromHash",
        value: function getPageFromHash() {
            var chunks = window.location.hash.substr(1).split("/");
            if (chunks[2]) {
                return chunks[2];
            }
            var active_tour = this.getActiveTour(this.getTourIdFromHash());
            return active_tour && active_tour.finalized ? "results-1" : "tour-admin";
        }
    }, {
        key: "getActiveTour",
        value: function getActiveTour() {
            var active_tour_id = arguments.length <= 0 || arguments[0] === undefined ? this.state.active_tour_id : arguments[0];

            if (active_tour_id === null) {
                return null;
            }
            var result = null;
            this.props.disciplines.forEach(function (discipline) {
                discipline.tours.forEach(function (tour) {
                    if (tour.id === active_tour_id) {
                        result = tour;
                    }
                });
            });
            return result;
        }
    }, {
        key: "getActiveDiscipline",
        value: function getActiveDiscipline() {
            var _this2 = this;

            var result = null;
            this.props.disciplines.forEach(function (discipline) {
                discipline.tours.forEach(function (tour) {
                    if (tour.id === _this2.state.active_tour_id) {
                        result = discipline;
                    }
                });
            });
            return result;
        }
    }, {
        key: "passSignal",
        value: function passSignal(message) {
            if (this.refs.active_body) {
                this.refs.active_body.onSignal(message);
            }
        }
    }, {
        key: "renderButtons",
        value: function renderButtons() {
            if (this.state.active_tour_id === null) {
                return null;
            }
            var props = {
                tour: this.getActiveTour(),
                onSignal: this.passSignal.bind(this),
                key: this.state.active_tour_id
            };
            switch (this.state.page) {
                case "tour-admin":
                    return React.createElement(_tour_admin.TourAdminButtons, props);
                case "heats":
                    return React.createElement(_heats.HeatsButtons, props);
                case "results-1":
                case "results-2":
                case "results-3":
                    return React.createElement(_tour_results.TourResultsButtons, props);
                case "discipline-results":
                    return React.createElement(_discipline_results.DisciplineResultsButtons, props);
                default:
                    console.log("Unknown page:", this.state.page);
            }
        }
    }, {
        key: "renderBody",
        value: function renderBody() {
            var _this3 = this;

            if (this.state.active_tour_id === null) {
                return null;
            }
            var props = {
                tour_id: this.state.active_tour_id,
                ref: "active_body",
                switchPage: function switchPage(page) {
                    return _this3.setState({ page: page });
                },
                key: this.state.active_tour_id
            };
            switch (this.state.page) {
                case "tour-admin":
                    return React.createElement(_tour_admin.TourAdminBody, props);
                case "heats":
                    return React.createElement(_heats.HeatsBody, props);
                case "results-1":
                    return React.createElement(_tour_results.TourResultsBody, _extends({ printable: true, verbosity: "1" }, props));
                case "results-2":
                    return React.createElement(_tour_results.TourResultsBody, _extends({ printable: true, verbosity: "2" }, props));
                case "results-3":
                    return React.createElement(_tour_results.TourResultsBody, _extends({ printable: true, verbosity: "3" }, props));
                case "discipline-results":
                    return React.createElement(_discipline_results.DisciplineResults, {
                        discipline_id: this.getActiveDiscipline().id,
                        ref: "active_body",
                        renderer: "page" });
                default:
                    console.log("Unknown page:", this.state.page);
            }
        }
    }, {
        key: "renderHeader",
        value: function renderHeader() {
            var active_tour = this.getActiveTour();
            if (!active_tour) {
                return null;
            }
            return React.createElement(
                "header",
                { className: "app-header with-tabs" },
                React.createElement(
                    "div",
                    { className: "controls" },
                    this.renderButtons()
                ),
                React.createElement(
                    "h1",
                    null,
                    this.getActiveDiscipline().name
                ),
                React.createElement(
                    "h2",
                    null,
                    active_tour.name
                ),
                React.createElement("div", { className: "clearfix" }),
                React.createElement(
                    "ul",
                    { className: "pull-right nav nav-tabs" },
                    React.createElement(
                        "li",
                        { className: this.state.page === "tour-admin" ? "active" : "" },
                        React.createElement(
                            "a",
                            { href: "#", onClick: this.switchPage.bind(this, "tour-admin") },
                            (0, _loader._)("admin.judging-tabs.tour-admin")
                        )
                    ),
                    React.createElement(
                        "li",
                        { className: this.state.page === "heats" ? "active" : "" },
                        React.createElement(
                            "a",
                            { href: "#", onClick: this.switchPage.bind(this, "heats") },
                            (0, _loader._)("admin.judging-tabs.heats")
                        )
                    ),
                    React.createElement(
                        "li",
                        { className: this.state.page === "results-1" ? "active" : "" },
                        React.createElement(
                            "a",
                            { href: "#", onClick: this.switchPage.bind(this, "results-1") },
                            (0, _loader._)("admin.judging-tabs.results-1")
                        )
                    ),
                    React.createElement(
                        "li",
                        { className: this.state.page === "results-2" ? "active" : "" },
                        React.createElement(
                            "a",
                            { href: "#", onClick: this.switchPage.bind(this, "results-2") },
                            (0, _loader._)("admin.judging-tabs.results-2")
                        )
                    ),
                    React.createElement(
                        "li",
                        { className: this.state.page === "results-3" ? "active" : "" },
                        React.createElement(
                            "a",
                            { href: "#", onClick: this.switchPage.bind(this, "results-3") },
                            (0, _loader._)("admin.judging-tabs.results-3")
                        )
                    ),
                    React.createElement(
                        "li",
                        { className: this.state.page === "discipline-results" ? "active" : "" },
                        React.createElement(
                            "a",
                            { href: "#", onClick: this.switchPage.bind(this, "discipline-results") },
                            (0, _loader._)("admin.judging-tabs.discipline-results")
                        )
                    )
                ),
                React.createElement("div", { className: "clearfix" })
            );
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "app" },
                React.createElement(
                    "div",
                    { className: "side-menu" },
                    React.createElement(CompetitionSchema, {
                        updateTour: this.switchActiveTour.bind(this),
                        current_tour_id: this.state.active_tour_id,
                        competition_plan: this.props.competition_plan,
                        disciplines: this.props.disciplines })
                ),
                React.createElement(
                    "div",
                    { className: "app-content" },
                    this.renderHeader(),
                    React.createElement(
                        "div",
                        { className: "app-body" },
                        this.renderBody()
                    )
                )
            );
        }
    }]);

    return Judging;
}(React.Component);

var CompetitionSchema = function (_React$Component2) {
    _inherits(CompetitionSchema, _React$Component2);

    function CompetitionSchema(props) {
        _classCallCheck(this, CompetitionSchema);

        var _this4 = _possibleConstructorReturn(this, Object.getPrototypeOf(CompetitionSchema).call(this, props));

        _this4.state = {
            sort_by_plan: !!parseInt(sessionStorage["sort_by_plan"])
        };
        return _this4;
    }

    _createClass(CompetitionSchema, [{
        key: "activateTour",
        value: function activateTour(tour) {
            this.props.updateTour(tour.id);
        }
    }, {
        key: "switchToPlan",
        value: function switchToPlan() {
            this.setState({
                sort_by_plan: true
            });
            sessionStorage["sort_by_plan"] = "1";
        }
    }, {
        key: "switchToDisciplines",
        value: function switchToDisciplines() {
            this.setState({
                sort_by_plan: false
            });
            sessionStorage["sort_by_plan"] = "0";
        }
    }, {
        key: "renderTour",
        value: function renderTour(tour) {
            var discipline_name = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];

            var className = "level-2" + (tour.finalized ? " grey" : "") + (tour.id === this.props.current_tour_id ? " active" : "");
            return React.createElement(
                "div",
                { className: className, onClick: this.activateTour.bind(this, tour), key: tour.id },
                discipline_name ? React.createElement(
                    "small",
                    null,
                    React.createElement(
                        "strong",
                        null,
                        discipline_name
                    ),
                    React.createElement("br", null)
                ) : null,
                tour.name
            );
        }
    }, {
        key: "renderDiscipline",
        value: function renderDiscipline(ic) {
            var _this5 = this;

            return React.createElement(
                "details",
                { className: "block", key: ic.id, open: !!parseInt(sessionStorage.getItem("D_J_" + ic.id)) },
                React.createElement(
                    "summary",
                    { className: "level-1", onClick: function onClick(e) {
                            return sessionStorage.setItem("D_J_" + ic.id, e.target.parentNode.open ? 0 : 1);
                        } },
                    ic.name
                ),
                ic.tours.map(function (tour) {
                    return _this5.renderTour(tour);
                })
            );
        }
    }, {
        key: "renderByDiscipline",
        value: function renderByDiscipline() {
            var data = this.props.disciplines.map(function (ic) {
                return this.renderDiscipline(ic);
            }.bind(this));
            return React.createElement(
                "div",
                { className: "noselect" },
                data
            );
        }
    }, {
        key: "renderByPlan",
        value: function renderByPlan() {
            var _this6 = this;

            var tours = {};
            this.props.disciplines.forEach(function (discipline) {
                return discipline.tours.forEach(function (tour) {
                    return tours[tour.id] = {
                        tour: tour,
                        discipline_name: discipline.name
                    };
                });
            });
            var result = this.props.competition_plan.filter(function (item) {
                return item.tour_id !== null;
            }).map(function (item) {
                return _this6.renderTour(tours[item.tour_id].tour, tours[item.tour_id].discipline_name);
            });
            return React.createElement(
                "div",
                null,
                result
            );
        }
    }, {
        key: "renderList",
        value: function renderList() {
            return React.createElement(
                "div",
                null,
                this.state.sort_by_plan ? this.renderByPlan() : this.renderByDiscipline()
            );
        }
    }, {
        key: "renderButton",
        value: function renderButton() {
            return this.state.sort_by_plan ? React.createElement(
                "button",
                { className: "btn btn-default btn-sm full-width", onClick: this.switchToDisciplines.bind(this) },
                (0, _loader._)("admin.buttons.switch_to_disciplines")
            ) : React.createElement(
                "button",
                { className: "btn btn-default btn-sm full-width", onClick: this.switchToPlan.bind(this) },
                (0, _loader._)("admin.buttons.switch_to_plan")
            );
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "competition-schema" },
                this.renderList(),
                this.renderButton()
            );
        }
    }]);

    return CompetitionSchema;
}(React.Component);

},{"./discipline_results":2,"./heats":3,"./tour_admin":7,"./tour_results":8,"l10n/loader":25}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.DisciplineResultsScreenOperatorTable = exports.DisciplineResultsPresenterTable = exports.DisciplineResultsTable = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _loader = require("l10n/loader");

var _tablet_components = require("ui/tablet_components");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function __() {
    var args = [];
    for (var idx = 1; idx < arguments.length; ++idx) {
        args.push(arguments[idx]);
    }
    return _loader._.apply(undefined, ["scoring_systems.rosfarr." + arguments[0]].concat(args));
}

var DisciplineResultsTable = exports.DisciplineResultsTable = function (_React$Component) {
    _inherits(DisciplineResultsTable, _React$Component);

    function DisciplineResultsTable() {
        _classCallCheck(this, DisciplineResultsTable);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(DisciplineResultsTable).apply(this, arguments));
    }

    _createClass(DisciplineResultsTable, [{
        key: "renderRowHeader",
        value: function renderRowHeader(prev_row, next_row) {
            var need_render = typeof prev_row === "undefined" || prev_row.run.tour.id !== next_row.run.tour.id;
            if (!need_render) {
                return null;
            }
            return React.createElement(
                "tr",
                { key: "H" + next_row.run.id },
                React.createElement(
                    "th",
                    { className: "tour-name", colSpan: "6" },
                    React.createElement(
                        "p",
                        { className: "text-center" },
                        next_row.run.tour.name
                    )
                )
            );
        }
    }, {
        key: "renderRow",
        value: function renderRow(row) {
            var p = row.run.participant;
            return React.createElement(
                "tr",
                { key: "R" + row.run.id },
                React.createElement(
                    "td",
                    { className: "w-8 place" },
                    React.createElement(
                        "p",
                        { className: "text-center" },
                        row.place === null ? "" : row.place
                    )
                ),
                React.createElement(
                    "td",
                    { className: "w-8 number" },
                    React.createElement(
                        "p",
                        { className: "text-center" },
                        p.number
                    )
                ),
                React.createElement(
                    "td",
                    { className: "w-36", colSpan: "2" },
                    React.createElement(
                        "table",
                        { className: "sportsmen" },
                        React.createElement(
                            "tbody",
                            null,
                            p.formation_name ? React.createElement(
                                "tr",
                                null,
                                React.createElement(
                                    "th",
                                    { colSpan: "2" },
                                    React.createElement(
                                        "p",
                                        { className: "text-left" },
                                        p.formation_name
                                    )
                                )
                            ) : null,
                            p.sportsmen.map(function (s, idx) {
                                return React.createElement(
                                    "tr",
                                    { key: idx },
                                    React.createElement(
                                        "td",
                                        { className: "w-75" },
                                        React.createElement(
                                            "p",
                                            null,
                                            s.last_name + " " + s.first_name,
                                            s.substitute ? React.createElement(
                                                "i",
                                                null,
                                                " (",
                                                (0, _loader._)("admin.labels.sub"),
                                                ".)"
                                            ) : null
                                        )
                                    ),
                                    React.createElement(
                                        "td",
                                        { className: "w-25" },
                                        React.createElement(
                                            "p",
                                            { className: "text-center" },
                                            s.year_of_birth
                                        )
                                    )
                                );
                            })
                        )
                    )
                ),
                React.createElement(
                    "td",
                    { className: "w-24 club" },
                    React.createElement(
                        "p",
                        null,
                        p.club.name
                    )
                ),
                React.createElement(
                    "td",
                    { className: "w-24 coaches" },
                    React.createElement(
                        "p",
                        null,
                        p.coaches.split(",").map(function (c) {
                            return [c.trim(), React.createElement("br", { key: "X" })];
                        })
                    )
                )
            );
        }
    }, {
        key: "renderRows",
        value: function renderRows() {
            var result = [];
            var table = this.props.table;
            for (var i = 0; i < table.length; ++i) {
                var header = this.renderRowHeader(table[i - 1], table[i]);
                header && result.push(header);
                result.push(this.renderRow(table[i]));
            }
            return result;
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "discipline-results" },
                React.createElement(
                    "table",
                    { className: "bordered-table" },
                    React.createElement(
                        "thead",
                        null,
                        React.createElement(
                            "tr",
                            null,
                            React.createElement(
                                "th",
                                { className: "w-8" },
                                React.createElement(
                                    "p",
                                    null,
                                    __("results.labels.place")
                                )
                            ),
                            React.createElement(
                                "th",
                                { className: "w-8" },
                                React.createElement(
                                    "p",
                                    null,
                                    __("results.labels.number")
                                )
                            ),
                            React.createElement(
                                "th",
                                { className: "w-27" },
                                React.createElement(
                                    "p",
                                    null,
                                    __("results.labels.sportsmen")
                                )
                            ),
                            React.createElement(
                                "th",
                                { className: "w-9" },
                                React.createElement(
                                    "p",
                                    null,
                                    __("results.labels.sportsmen_year_of_birth")
                                )
                            ),
                            React.createElement(
                                "th",
                                { className: "w-24" },
                                React.createElement(
                                    "p",
                                    null,
                                    __("results.labels.participant_club")
                                )
                            ),
                            React.createElement(
                                "th",
                                { className: "w-24" },
                                React.createElement(
                                    "p",
                                    null,
                                    __("results.labels.participant_coaches")
                                )
                            )
                        )
                    ),
                    React.createElement(
                        "tbody",
                        null,
                        this.renderRows()
                    )
                )
            );
        }
    }]);

    return DisciplineResultsTable;
}(React.Component);

var DisciplineResultsPresenterTableRow = function (_React$Component2) {
    _inherits(DisciplineResultsPresenterTableRow, _React$Component2);

    function DisciplineResultsPresenterTableRow(props) {
        _classCallCheck(this, DisciplineResultsPresenterTableRow);

        var _this2 = _possibleConstructorReturn(this, Object.getPrototypeOf(DisciplineResultsPresenterTableRow).call(this, props));

        _this2.state = {
            active: false
        };
        return _this2;
    }

    _createClass(DisciplineResultsPresenterTableRow, [{
        key: "toggleActive",
        value: function toggleActive() {
            this.setState({
                active: !this.state.active
            });
        }
    }, {
        key: "render",
        value: function render() {
            var p = this.props.participant;
            return React.createElement(
                "table",
                _extends({ className: "row" + (this.state.active ? " active" : "")
                }, (0, _tablet_components.onTouchEndOrClick)(this.toggleActive.bind(this))),
                React.createElement(
                    "tbody",
                    null,
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "td",
                            { className: "place", rowSpan: "3" },
                            this.props.place === null ? "" : React.createElement(
                                "div",
                                null,
                                this.props.place,
                                React.createElement(
                                    "div",
                                    { className: "place-label" },
                                    (0, _loader._)("presenter.labels.place")
                                )
                            )
                        ),
                        React.createElement(
                            "td",
                            { className: "number" },
                            p.number
                        ),
                        React.createElement(
                            "td",
                            { className: "name" },
                            p.name
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "td",
                            { className: "club", colSpan: "2" },
                            p.club.name
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "td",
                            { className: "coaches", colSpan: "2" },
                            p.coaches
                        )
                    )
                )
            );
        }
    }]);

    return DisciplineResultsPresenterTableRow;
}(React.Component);

var DisciplineResultsPresenterTable = exports.DisciplineResultsPresenterTable = function (_React$Component3) {
    _inherits(DisciplineResultsPresenterTable, _React$Component3);

    function DisciplineResultsPresenterTable() {
        _classCallCheck(this, DisciplineResultsPresenterTable);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(DisciplineResultsPresenterTable).apply(this, arguments));
    }

    _createClass(DisciplineResultsPresenterTable, [{
        key: "renderRowHeader",
        value: function renderRowHeader(prev_row, next_row) {
            var need_render = typeof prev_row === "undefined" || prev_row.run.tour.id !== next_row.run.tour.id;
            if (!need_render) {
                return null;
            }
            return React.createElement(
                "div",
                { className: "tour-name", key: "H" + next_row.run.id },
                next_row.run.tour.name
            );
        }
    }, {
        key: "renderRow",
        value: function renderRow(row) {
            return React.createElement(DisciplineResultsPresenterTableRow, { key: "R" + row.run.id,
                participant: row.run.participant,
                place: row.place });
        }
    }, {
        key: "renderRows",
        value: function renderRows() {
            var result = [];
            var table = this.props.table;
            for (var i = table.length - 1; i >= 0; --i) {
                var header = this.renderRowHeader(table[i + 1], table[i]);
                header && result.push(header);
                result.push(this.renderRow(table[i]));
            }
            return result;
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                null,
                this.renderRows()
            );
        }
    }]);

    return DisciplineResultsPresenterTable;
}(React.Component);

var DisciplineResultsScreenOperatorTableRow = function (_React$Component4) {
    _inherits(DisciplineResultsScreenOperatorTableRow, _React$Component4);

    function DisciplineResultsScreenOperatorTableRow() {
        _classCallCheck(this, DisciplineResultsScreenOperatorTableRow);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(DisciplineResultsScreenOperatorTableRow).apply(this, arguments));
    }

    _createClass(DisciplineResultsScreenOperatorTableRow, [{
        key: "render",
        value: function render() {
            var p = this.props.participant;
            return React.createElement(
                "table",
                _extends({ className: "row" + (this.props.selected ? " selected" : "")
                }, (0, _tablet_components.onTouchEndOrClick)(this.props.onClick)),
                React.createElement(
                    "tbody",
                    null,
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "td",
                            { className: "place", rowSpan: "2" },
                            this.props.place === null ? "" : React.createElement(
                                "div",
                                null,
                                this.props.place,
                                React.createElement(
                                    "div",
                                    { className: "place-label" },
                                    (0, _loader._)("presenter.labels.place")
                                )
                            )
                        ),
                        React.createElement(
                            "td",
                            { className: "number" },
                            p.number
                        ),
                        React.createElement(
                            "td",
                            { className: "name" },
                            p.name
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "td",
                            { className: "club", colSpan: "2" },
                            p.club.name
                        )
                    )
                )
            );
        }
    }]);

    return DisciplineResultsScreenOperatorTableRow;
}(React.Component);

var DisciplineResultsScreenOperatorTable = exports.DisciplineResultsScreenOperatorTable = function (_React$Component5) {
    _inherits(DisciplineResultsScreenOperatorTable, _React$Component5);

    function DisciplineResultsScreenOperatorTable() {
        _classCallCheck(this, DisciplineResultsScreenOperatorTable);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(DisciplineResultsScreenOperatorTable).apply(this, arguments));
    }

    _createClass(DisciplineResultsScreenOperatorTable, [{
        key: "renderRowHeader",
        value: function renderRowHeader(prev_row, next_row) {
            var need_render = typeof prev_row === "undefined" || prev_row.run.tour.id !== next_row.run.tour.id;
            if (!need_render) {
                return null;
            }
            return React.createElement(
                "div",
                { className: "tour-name", key: "H" + next_row.run.id },
                next_row.run.tour.name
            );
        }
    }, {
        key: "renderRow",
        value: function renderRow(row, place) {
            var _this6 = this;

            return React.createElement(DisciplineResultsScreenOperatorTableRow, {
                key: "R" + row.run.id,
                participant: row.run.participant,
                place: row.place,
                onClick: function onClick() {
                    return _this6.props.onPlaceSelect(place);
                },
                selected: this.props.selectedPlace !== null && place >= this.props.selectedPlace });
        }
    }, {
        key: "renderRows",
        value: function renderRows() {
            var result = [];
            var table = this.props.table;
            for (var i = table.length - 1; i >= 0; --i) {
                var header = this.renderRowHeader(table[i + 1], table[i]);
                header && result.push(header);
                result.push(this.renderRow(table[i], i + 1));
            }
            return result;
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                null,
                this.renderRows()
            );
        }
    }]);

    return DisciplineResultsScreenOperatorTable;
}(React.Component);

},{"l10n/loader":25,"ui/tablet_components":35}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.TourAdminScoreCell = undefined;

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _loader = require("l10n/loader");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var BaseScoreInput = function (_React$Component) {
    _inherits(BaseScoreInput, _React$Component);

    function BaseScoreInput() {
        _classCallCheck(this, BaseScoreInput);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(BaseScoreInput).apply(this, arguments));
    }

    _createClass(BaseScoreInput, [{
        key: "componentDidMount",
        value: function componentDidMount() {
            ReactDOM.findDOMNode(this).querySelectorAll("input")[0].select();
            this.onMount.apply(this, arguments);
        }
    }, {
        key: "onMount",
        value: function onMount() {}
    }, {
        key: "onChange",
        value: function onChange(key, event) {
            if ((typeof key === "undefined" ? "undefined" : _typeof(key)) !== "object") {
                key = [key];
            }
            var score = this.serialize();
            var score_inner = score;
            for (var idx = 0; idx < key.length - 1; ++idx) {
                score_inner = score_inner[key[idx]];
            }
            score_inner[key[key.length - 1]] = event.target.type === "checkbox" ? event.target.indeterminate ? null : event.target.checked : event.target.value;
            this.props.updateValue(score);
        }
    }, {
        key: "onKeyUp",
        value: function onKeyUp(event) {
            if (event.keyCode === 27) {
                // Esc
                this.props.stopEditing();
            }
        }
    }, {
        key: "isEmpty",
        value: function isEmpty(value) {
            return value === "" || value === null;
        }
    }, {
        key: "onSubmit",
        value: function onSubmit(e) {
            e.preventDefault();
            this.props.submitValue(this.serialize());
        }
    }, {
        key: "renderButtons",
        value: function renderButtons() {
            if (this.props.readOnly) {
                return React.createElement(
                    "button",
                    { className: "btn btn-primary", type: "button", onClick: this.props.stopEditing },
                    (0, _loader._)("global.buttons.close")
                );
            }
            return React.createElement(
                "div",
                null,
                React.createElement(
                    "button",
                    { className: "btn btn-primary", type: "submit" },
                    (0, _loader._)("global.buttons.submit")
                ),
                " ",
                React.createElement(
                    "button",
                    { className: "btn btn-primary", type: "button", onClick: this.props.stopEditing },
                    (0, _loader._)("global.buttons.discard")
                ),
                React.createElement(ConfirmationButton, {
                    judge_role: this.props.discipline_judge.role,
                    confirmed: this.props.confirmed,
                    toggleConfirmation: this.props.toggleConfirmation,
                    onKeyUp: this.onKeyUp.bind(this) })
            );
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "form",
                { onSubmit: this.onSubmit.bind(this), className: "form-score-input" },
                this.renderTable(),
                this.renderButtons()
            );
        }
    }]);

    return BaseScoreInput;
}(React.Component);

var DanceScoreInput = function (_BaseScoreInput) {
    _inherits(DanceScoreInput, _BaseScoreInput);

    function DanceScoreInput() {
        _classCallCheck(this, DanceScoreInput);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(DanceScoreInput).apply(this, arguments));
    }

    _createClass(DanceScoreInput, [{
        key: "renderTable",
        value: function renderTable() {
            return React.createElement(
                "table",
                null,
                React.createElement(
                    "tbody",
                    null,
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            "FW:"
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement("input", {
                                type: "text",
                                value: this.props.score.fw_woman,
                                readOnly: this.props.readOnly,
                                onChange: this.onChange.bind(this, "fw_woman"),
                                onKeyUp: this.onKeyUp.bind(this) })
                        ),
                        React.createElement(
                            "th",
                            null,
                            "FM:"
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement("input", {
                                type: "text",
                                value: this.props.score.fw_man,
                                readOnly: this.props.readOnly,
                                onChange: this.onChange.bind(this, "fw_man"),
                                onKeyUp: this.onKeyUp.bind(this) })
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            "DF:"
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement("input", {
                                type: "text",
                                value: this.props.score.dance_figs,
                                readOnly: this.props.readOnly,
                                onChange: this.onChange.bind(this, "dance_figs"),
                                onKeyUp: this.onKeyUp.bind(this) })
                        ),
                        React.createElement(
                            "th",
                            null,
                            "C:"
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement("input", {
                                type: "text",
                                value: this.props.score.composition,
                                readOnly: this.props.readOnly,
                                onChange: this.onChange.bind(this, "composition"),
                                onKeyUp: this.onKeyUp.bind(this) })
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            "SM:"
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement("input", {
                                type: "text",
                                value: this.props.score.small_mistakes,
                                readOnly: this.props.readOnly,
                                onChange: this.onChange.bind(this, "small_mistakes"),
                                onKeyUp: this.onKeyUp.bind(this) })
                        ),
                        React.createElement(
                            "th",
                            null,
                            "BM:"
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement("input", {
                                type: "text",
                                value: this.props.score.big_mistakes,
                                readOnly: this.props.readOnly,
                                onChange: this.onChange.bind(this, "big_mistakes"),
                                onKeyUp: this.onKeyUp.bind(this) })
                        )
                    )
                )
            );
        }
    }, {
        key: "serialize",
        value: function serialize() {
            return {
                fw_man: !this.isEmpty(this.props.score.fw_man) ? parseInt(this.props.score.fw_man) || 0 : null,
                fw_woman: !this.isEmpty(this.props.score.fw_woman) ? parseInt(this.props.score.fw_woman) || 0 : null,
                dance_figs: !this.isEmpty(this.props.score.dance_figs) ? parseFloat(this.props.score.dance_figs) || 0 : null,
                composition: !this.isEmpty(this.props.score.composition) ? parseFloat(this.props.score.composition) || 0 : null,
                small_mistakes: !this.isEmpty(this.props.score.small_mistakes) ? parseInt(this.props.score.small_mistakes) || 0 : null,
                big_mistakes: !this.isEmpty(this.props.score.big_mistakes) ? parseInt(this.props.score.big_mistakes) || 0 : null
            };
        }
    }]);

    return DanceScoreInput;
}(BaseScoreInput);

var AcroScoreInput = function (_BaseScoreInput2) {
    _inherits(AcroScoreInput, _BaseScoreInput2);

    function AcroScoreInput() {
        _classCallCheck(this, AcroScoreInput);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(AcroScoreInput).apply(this, arguments));
    }

    _createClass(AcroScoreInput, [{
        key: "renderTable",
        value: function renderTable() {
            var fields = this.props.score.reductions.map(function (value, idx) {
                return [React.createElement(
                    "th",
                    { key: "H" + idx },
                    "A",
                    idx + 1,
                    ":"
                ), React.createElement(
                    "td",
                    { key: "V" + idx },
                    React.createElement("input", {
                        type: "text",
                        value: this.props.score.reductions[idx],
                        readOnly: this.props.readOnly,
                        onChange: this.onChange.bind(this, ["reductions", idx]),
                        onKeyUp: this.onKeyUp.bind(this) })
                )];
            }.bind(this));
            fields.push([React.createElement(
                "th",
                { key: "HFD" },
                "FD:"
            ), React.createElement(
                "td",
                { key: "VFD" },
                React.createElement("input", {
                    type: "text",
                    value: this.props.score.mistakes,
                    readOnly: this.props.readOnly,
                    onChange: this.onChange.bind(this, "mistakes"),
                    onKeyUp: this.onKeyUp.bind(this) })
            )]);
            var rows = [];
            for (var idx = 0; idx < fields.length; idx += 2) {
                rows.push(React.createElement(
                    "tr",
                    { key: "R" + idx },
                    fields.slice(idx, idx + 2)
                ));
            }
            return React.createElement(
                "table",
                null,
                React.createElement(
                    "tbody",
                    null,
                    rows
                )
            );
        }
    }, {
        key: "serialize",
        value: function serialize() {
            return {
                reductions: this.props.score.reductions.map(function (reduction) {
                    return !this.isEmpty(reduction) ? parseInt(reduction) || 0 : null;
                }.bind(this)),
                mistakes: parseInt(this.props.score.mistakes) || 0
            };
        }
    }]);

    return AcroScoreInput;
}(BaseScoreInput);

var FormationScoreInput = function (_BaseScoreInput3) {
    _inherits(FormationScoreInput, _BaseScoreInput3);

    function FormationScoreInput() {
        _classCallCheck(this, FormationScoreInput);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(FormationScoreInput).apply(this, arguments));
    }

    _createClass(FormationScoreInput, [{
        key: "renderTable",
        value: function renderTable() {
            return React.createElement(
                "table",
                null,
                React.createElement(
                    "tbody",
                    null,
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            "DT:"
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement("input", {
                                type: "text",
                                value: this.props.score.dance_tech,
                                readOnly: this.props.readOnly,
                                onChange: this.onChange.bind(this, "dance_tech"),
                                onKeyUp: this.onKeyUp.bind(this) })
                        ),
                        React.createElement(
                            "th",
                            null,
                            "DF:"
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement("input", {
                                type: "text",
                                value: this.props.score.dance_figs,
                                readOnly: this.props.readOnly,
                                onChange: this.onChange.bind(this, "dance_figs"),
                                onKeyUp: this.onKeyUp.bind(this) })
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            "I:"
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement("input", {
                                type: "text",
                                value: this.props.score.impression,
                                readOnly: this.props.readOnly,
                                onChange: this.onChange.bind(this, "impression"),
                                onKeyUp: this.onKeyUp.bind(this) })
                        ),
                        React.createElement(
                            "th",
                            null,
                            "M:"
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement("input", {
                                type: "text",
                                value: this.props.score.small_mistakes,
                                readOnly: this.props.readOnly,
                                onChange: this.onChange.bind(this, "small_mistakes"),
                                onKeyUp: this.onKeyUp.bind(this) })
                        )
                    )
                )
            );
        }
    }, {
        key: "serialize",
        value: function serialize() {
            return {
                dance_tech: !this.isEmpty(this.props.score.dance_tech) ? parseFloat(this.props.score.dance_tech) || 0 : null,
                dance_figs: !this.isEmpty(this.props.score.dance_figs) ? parseFloat(this.props.score.dance_figs) || 0 : null,
                impression: !this.isEmpty(this.props.score.impression) ? parseFloat(this.props.score.impression) || 0 : null,
                mistakes: !this.isEmpty(this.props.score.mistakes) ? parseInt(this.props.score.mistakes) || 0 : null
            };
        }
    }]);

    return FormationScoreInput;
}(BaseScoreInput);

var FormationAcroScoreInput = function (_BaseScoreInput4) {
    _inherits(FormationAcroScoreInput, _BaseScoreInput4);

    function FormationAcroScoreInput() {
        _classCallCheck(this, FormationAcroScoreInput);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(FormationAcroScoreInput).apply(this, arguments));
    }

    _createClass(FormationAcroScoreInput, [{
        key: "renderTable",
        value: function renderTable() {
            return React.createElement(
                "table",
                null,
                React.createElement(
                    "tbody",
                    null,
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            "A:"
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement("input", {
                                type: "text",
                                value: this.props.score.acrobatics,
                                readOnly: this.props.readOnly,
                                onChange: this.onChange.bind(this, "acrobatics"),
                                onKeyUp: this.onKeyUp.bind(this) })
                        ),
                        React.createElement(
                            "th",
                            null,
                            "DT:"
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement("input", {
                                type: "text",
                                value: this.props.score.dance_tech,
                                readOnly: this.props.readOnly,
                                onChange: this.onChange.bind(this, "dance_tech"),
                                onKeyUp: this.onKeyUp.bind(this) })
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            "DF:"
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement("input", {
                                type: "text",
                                value: this.props.score.dance_figs,
                                readOnly: this.props.readOnly,
                                onChange: this.onChange.bind(this, "dance_figs"),
                                onKeyUp: this.onKeyUp.bind(this) })
                        ),
                        React.createElement(
                            "th",
                            null,
                            "I:"
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement("input", {
                                type: "text",
                                value: this.props.score.impression,
                                readOnly: this.props.readOnly,
                                onChange: this.onChange.bind(this, "impression"),
                                onKeyUp: this.onKeyUp.bind(this) })
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            "SM:"
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement("input", {
                                type: "text",
                                value: this.props.score.small_mistakes,
                                readOnly: this.props.readOnly,
                                onChange: this.onChange.bind(this, "small_mistakes"),
                                onKeyUp: this.onKeyUp.bind(this) })
                        ),
                        React.createElement(
                            "th",
                            null,
                            "BM:"
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement("input", {
                                type: "text",
                                value: this.props.score.small_mistakes,
                                readOnly: this.props.readOnly,
                                onChange: this.onChange.bind(this, "small_mistakes"),
                                onKeyUp: this.onKeyUp.bind(this) })
                        )
                    )
                )
            );
        }
    }, {
        key: "serialize",
        value: function serialize() {
            return {
                acrobatics: !this.isEmpty(this.props.score.acrobatics) ? parseFloat(this.props.score.acrobatics) || 0 : null,
                dance_tech: !this.isEmpty(this.props.score.dance_tech) ? parseFloat(this.props.score.dance_tech) || 0 : null,
                dance_figs: !this.isEmpty(this.props.score.dance_figs) ? parseFloat(this.props.score.dance_figs) || 0 : null,
                impression: !this.isEmpty(this.props.score.impression) ? parseFloat(this.props.score.impression) || 0 : null,
                small_mistakes: !this.isEmpty(this.props.score.small_mistakes) ? parseInt(this.props.score.small_mistakes) || 0 : null,
                big_mistakes: !this.isEmpty(this.props.score.big_mistakes) ? parseInt(this.props.score.big_mistakes) || 0 : null
            };
        }
    }]);

    return FormationAcroScoreInput;
}(BaseScoreInput);

var SimplifiedScoreInput = function (_BaseScoreInput5) {
    _inherits(SimplifiedScoreInput, _BaseScoreInput5);

    function SimplifiedScoreInput() {
        _classCallCheck(this, SimplifiedScoreInput);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(SimplifiedScoreInput).apply(this, arguments));
    }

    _createClass(SimplifiedScoreInput, [{
        key: "renderTable",
        value: function renderTable() {
            return React.createElement(
                "table",
                null,
                React.createElement(
                    "tbody",
                    null,
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            "S:"
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement("input", {
                                type: "text",
                                value: this.props.score.points,
                                readOnly: this.props.readOnly,
                                onChange: this.onChange.bind(this, "points"),
                                onKeyUp: this.onKeyUp.bind(this) })
                        )
                    )
                )
            );
        }
    }, {
        key: "serialize",
        value: function serialize() {
            return {
                points: !this.isEmpty(this.props.score.points) ? parseInt(this.props.score.points) || 0 : null
            };
        }
    }]);

    return SimplifiedScoreInput;
}(BaseScoreInput);

var HeadScoreInput = function (_BaseScoreInput6) {
    _inherits(HeadScoreInput, _BaseScoreInput6);

    function HeadScoreInput() {
        _classCallCheck(this, HeadScoreInput);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(HeadScoreInput).apply(this, arguments));
    }

    _createClass(HeadScoreInput, [{
        key: "renderTable",
        value: function renderTable() {
            return React.createElement(
                "table",
                null,
                React.createElement(
                    "tbody",
                    null,
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            "P:"
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement("input", {
                                type: "text",
                                value: this.props.score.penalty,
                                readOnly: this.props.readOnly,
                                onChange: this.onChange.bind(this, "penalty"),
                                onKeyUp: this.onKeyUp.bind(this) })
                        ),
                        React.createElement(
                            "th",
                            null,
                            "NT:"
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement("input", {
                                type: "checkbox",
                                checked: this.props.score.nexttour,
                                readOnly: this.props.readOnly,
                                onChange: this.onChange.bind(this, "nexttour"),
                                onKeyUp: this.onKeyUp.bind(this) })
                        )
                    )
                )
            );
        }
    }, {
        key: "serialize",
        value: function serialize() {
            return {
                penalty: parseInt(this.props.score.penalty) || 0,
                nexttour: this.props.score.nexttour
            };
        }
    }]);

    return HeadScoreInput;
}(BaseScoreInput);

var TechScoreInput = function (_BaseScoreInput7) {
    _inherits(TechScoreInput, _BaseScoreInput7);

    function TechScoreInput() {
        _classCallCheck(this, TechScoreInput);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(TechScoreInput).apply(this, arguments));
    }

    _createClass(TechScoreInput, [{
        key: "renderTable",
        value: function renderTable() {
            var _this9 = this;

            return React.createElement(
                "table",
                null,
                React.createElement(
                    "tbody",
                    null,
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            "JS:"
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement("input", {
                                type: "text",
                                value: this.props.score.jump_steps,
                                readOnly: this.props.readOnly,
                                onChange: this.onChange.bind(this, "jump_steps"),
                                onKeyUp: this.onKeyUp.bind(this) })
                        ),
                        React.createElement(
                            "th",
                            null,
                            "TV:"
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement("input", {
                                type: "checkbox",
                                ref: "cb",
                                checked: !!this.props.score.timing_violation,
                                onChange: function onChange(event) {},
                                onKeyUp: this.onKeyUp.bind(this),
                                onClick: function onClick(event) {
                                    if (_this9.props.readOnly) {
                                        event.preventDefault();
                                        return;
                                    }
                                    var cb = event.target;
                                    if (cb.readOnly) {
                                        cb.checked = cb.readOnly = false;
                                    } else if (!cb.checked) {
                                        cb.readOnly = cb.indeterminate = true;
                                    }
                                    _this9.onChange("timing_violation", event);
                                } })
                        )
                    )
                )
            );
        }
    }, {
        key: "onMount",
        value: function onMount() {
            var node = this.refs.cb;
            node.readOnly = this.props.score.timing_violation === null;
            node.indeterminate = this.props.score.timing_violation === null;
        }
    }, {
        key: "serialize",
        value: function serialize() {
            return {
                jump_steps: parseInt(this.props.score.jump_steps) || 0,
                timing_violation: this.props.score.timing_violation
            };
        }
    }]);

    return TechScoreInput;
}(BaseScoreInput);

var ConfirmationButton = function (_React$Component2) {
    _inherits(ConfirmationButton, _React$Component2);

    function ConfirmationButton() {
        _classCallCheck(this, ConfirmationButton);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(ConfirmationButton).apply(this, arguments));
    }

    _createClass(ConfirmationButton, [{
        key: "render",
        value: function render() {
            if (this.props.judge_role === "head_judge") {
                return null;
            }
            return React.createElement(
                "button",
                {
                    className: "btn btn-sm btn-confirmation" + (this.props.confirmed ? " btn-danger" : " btn-success"),
                    type: "button",
                    onClick: this.props.toggleConfirmation,
                    onKeyUp: this.props.onKeyUp },
                this.props.confirmed ? (0, _loader._)("admin.buttons.unconfirm_score") : (0, _loader._)("admin.buttons.confirm_score")
            );
        }
    }]);

    return ConfirmationButton;
}(React.Component);

var TourAdminScoreInput = function (_React$Component3) {
    _inherits(TourAdminScoreInput, _React$Component3);

    function TourAdminScoreInput() {
        _classCallCheck(this, TourAdminScoreInput);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(TourAdminScoreInput).apply(this, arguments));
    }

    _createClass(TourAdminScoreInput, [{
        key: "render",
        value: function render() {
            switch (this.props.discipline_judge.role) {
                case "acro_judge":
                    if (this.props.scoring_system_name === "rosfarr.am_final_fw") {
                        return React.createElement(DanceScoreInput, this.props);
                    }
                    return React.createElement(AcroScoreInput, this.props);
                case "dance_judge":
                    if (this.props.scoring_system_name === "rosfarr.formation") {
                        return React.createElement(FormationScoreInput, this.props);
                    }
                    if (this.props.scoring_system_name === "rosfarr.formation_acro") {
                        return React.createElement(FormationAcroScoreInput, this.props);
                    }
                    if (this.props.scoring_system_name === "rosfarr.simplified") {
                        return React.createElement(SimplifiedScoreInput, this.props);
                    }
                    return React.createElement(DanceScoreInput, this.props);
                case "head_judge":
                    return React.createElement(HeadScoreInput, this.props);
                case "tech_judge":
                    return React.createElement(TechScoreInput, this.props);
                default:
                    console.log("Unknown judge role", this.props.discipline_judge.role);
                    return null;
            }
        }
    }]);

    return TourAdminScoreInput;
}(React.Component);

var TourAdminScoreCell = exports.TourAdminScoreCell = function (_React$Component4) {
    _inherits(TourAdminScoreCell, _React$Component4);

    function TourAdminScoreCell() {
        _classCallCheck(this, TourAdminScoreCell);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(TourAdminScoreCell).apply(this, arguments));
    }

    _createClass(TourAdminScoreCell, [{
        key: "render",
        value: function render() {
            if (!this.props.editing) {
                if (this.props.discipline_judge.role === "head_judge" && this.props.value.raw_data.nexttour) {
                    return React.createElement(
                        "div",
                        { onClick: this.props.startEditing },
                        "[",
                        this.props.value.total_score.toFixed(2),
                        "]"
                    );
                }
                if (this.props.discipline_judge.role === "tech_judge") {
                    var tv_str = this.props.value.raw_data.timing_violation === null ? " ?" : this.props.value.raw_data.timing_violation ? " ✗" : " ✓";
                    return React.createElement(
                        "div",
                        { onClick: this.props.startEditing },
                        this.props.value.raw_data.jump_steps + tv_str
                    );
                }
                return React.createElement(
                    "div",
                    { onClick: this.props.startEditing },
                    this.props.value.total_score.toFixed(2)
                );
            } else {
                return React.createElement(TourAdminScoreInput, {
                    readOnly: this.props.readOnly,
                    score: this.props.value.raw_data,
                    confirmed: this.props.confirmed,
                    discipline_judge: this.props.discipline_judge,
                    scoring_system_name: this.props.scoring_system_name,
                    stopEditing: this.props.stopEditing,
                    updateValue: this.props.updateValue,
                    submitValue: this.props.submitValue,
                    toggleConfirmation: this.props.toggleConfirmation });
            }
        }
    }]);

    return TourAdminScoreCell;
}(React.Component);

},{"l10n/loader":25}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.TourAdminBody = exports.TourAdminButtons = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _loader = require("l10n/loader");

var _api = require("server/api");

var _storage = require("server/storage");

var _message_dispatcher = require("server/message_dispatcher");

var _components = require("ui/components");

var _dialogs = require("ui/dialogs");

var _tools = require("common/tools");

var _tour_admin = require("./rosfarr/tour_admin");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var current_editing_cell = null;

var TourAdminHeatValue = function (_React$Component) {
    _inherits(TourAdminHeatValue, _React$Component);

    function TourAdminHeatValue(props) {
        _classCallCheck(this, TourAdminHeatValue);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(TourAdminHeatValue).call(this, props));

        _this.state = {
            editing: false,
            current_value: null
        };
        return _this;
    }

    _createClass(TourAdminHeatValue, [{
        key: "componentDidUpdate",
        value: function componentDidUpdate(prevProps, prevState) {
            if (!prevState.editing && this.state.editing) {
                ReactDOM.findDOMNode(this).querySelector("input").select();
            }
        }
    }, {
        key: "onKeyUp",
        value: function onKeyUp(event) {
            if (event.keyCode === 13) {
                // Enter
                this.submitValue();
            } else if (event.keyCode === 27) {
                // Esc
                this.stopEditing();
            }
        }
    }, {
        key: "startEditing",
        value: function startEditing() {
            if (this.props.readOnly) {
                return;
            }
            if (current_editing_cell !== null) {
                current_editing_cell.stopEditing();
            }
            current_editing_cell = this;
            this.setState({
                editing: true,
                current_value: this.props.value
            });
        }
    }, {
        key: "stopEditing",
        value: function stopEditing() {
            current_editing_cell = null;
            this.setState({
                editing: false
            });
        }
    }, {
        key: "submitValue",
        value: function submitValue() {
            (0, _api.Api)("run.set", { run_id: this.props.run_id, data: { heat: this.state.current_value } }).onSuccess(function () {
                this.stopEditing();
            }.bind(this)).send();
        }
    }, {
        key: "onChange",
        value: function onChange(event) {
            var value = parseInt(event.target.value.replace(/\D/g, ''));
            if (isNaN(value)) {
                value = 0;
            }
            this.setState({
                current_value: value
            });
        }
    }, {
        key: "render",
        value: function render() {
            if (this.state.editing) {
                return React.createElement(
                    "td",
                    { className: "heat" },
                    React.createElement("input", {
                        className: "input-heat",
                        type: "text",
                        value: this.state.current_value || "",
                        onChange: this.onChange.bind(this),
                        onKeyDown: this.onKeyUp.bind(this) })
                );
            } else {
                return React.createElement(
                    "td",
                    { className: "heat", onClick: this.startEditing.bind(this) },
                    this.props.value
                );
            }
        }
    }]);

    return TourAdminHeatValue;
}(React.Component);

var TourAdminButtons = exports.TourAdminButtons = function (_React$Component2) {
    _inherits(TourAdminButtons, _React$Component2);

    function TourAdminButtons() {
        _classCallCheck(this, TourAdminButtons);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(TourAdminButtons).apply(this, arguments));
    }

    _createClass(TourAdminButtons, [{
        key: "signal",
        value: function signal(message) {
            var _this3 = this;

            return function () {
                return _this3.props.onSignal(message);
            }.bind(this);
        }
    }, {
        key: "render",
        value: function render() {
            if (this.props.tour.finalized) {
                return React.createElement("div", null);
            }
            var result = [];
            if (!this.props.tour.active) {
                result = result.concat([React.createElement(
                    "button",
                    { className: "btn btn-primary", onClick: this.signal("init_tour"), key: "btn-init-tour" },
                    (0, _loader._)("judging.buttons.init_tour")
                ), React.createElement(
                    "button",
                    { className: "btn btn-primary", onClick: this.signal("finalize_tour"), key: "btn-finalize-tour" },
                    (0, _loader._)("judging.buttons.finalize_tour")
                ), React.createElement(
                    "button",
                    { className: "btn btn-primary", onClick: this.signal("shuffle_heats"), key: "btn-shuffle-heats" },
                    (0, _loader._)("judging.buttons.shuffle_heats")
                )]);
            }
            result.push(React.createElement(TourAdminStartStopTourButton, {
                tour: this.props.tour,
                onStart: this.signal("start_tour"),
                onStop: this.signal("stop_tour"),
                key: "btn-start-stop" }));
            return React.createElement(
                "div",
                null,
                result
            );
        }
    }]);

    return TourAdminButtons;
}(React.Component);

var TourAdminScoreCellWrapper = function (_React$Component3) {
    _inherits(TourAdminScoreCellWrapper, _React$Component3);

    function TourAdminScoreCellWrapper(props) {
        _classCallCheck(this, TourAdminScoreCellWrapper);

        var _this4 = _possibleConstructorReturn(this, Object.getPrototypeOf(TourAdminScoreCellWrapper).call(this, props));

        _this4.state = {
            editing: false,
            current_value: _this4.props.value
        };
        return _this4;
    }

    _createClass(TourAdminScoreCellWrapper, [{
        key: "startEditing",
        value: function startEditing() {
            if (current_editing_cell !== null) {
                current_editing_cell.stopEditing();
            }
            current_editing_cell = this;
            this.setState({
                editing: true,
                current_value: (0, _tools.clone)(this.props.value)
            });
        }
    }, {
        key: "stopEditing",
        value: function stopEditing() {
            this.setState({
                editing: false
            });
            current_editing_cell = null;
        }
    }, {
        key: "updateValue",
        value: function updateValue(new_value) {
            var value = this.state.current_value;
            value.raw_data = new_value;
            this.setState({
                current_value: value
            });
        }
    }, {
        key: "submitValue",
        value: function submitValue(new_value) {
            var request = {
                score_data: new_value,
                force: true
            };
            (0, _api.Api)("score.set", { score_id: this.props.score_id, data: request }).onSuccess(this.stopEditing.bind(this)).send();
        }
    }, {
        key: "toggleConfirmation",
        value: function toggleConfirmation() {
            if (this.props.confirmed) {
                (0, _api.Api)("score.unconfirm", { score_id: this.props.score_id }).send();
            } else {
                (0, _api.Api)("score.confirm", { score_id: this.props.score_id }).send();
            }
        }
    }, {
        key: "render",
        value: function render() {
            if (typeof this.props.value === "undefined") {
                return React.createElement(
                    "td",
                    { className: "no-score" },
                    " "
                );
            }
            var classes = ["judge"].concat(this.state.editing ? ["editing"] : []).concat(this.props.confirmed ? ["confirmed-score"] : []);
            return React.createElement(
                "td",
                { className: classes.join(" ") },
                React.createElement(_tour_admin.TourAdminScoreCell, {
                    readOnly: this.props.readOnly,
                    discipline_judge: this.props.discipline_judge,
                    scoring_system_name: this.props.scoring_system_name,
                    startEditing: this.startEditing.bind(this),
                    stopEditing: this.stopEditing.bind(this),
                    updateValue: this.updateValue.bind(this),
                    submitValue: this.submitValue.bind(this),
                    toggleConfirmation: this.toggleConfirmation.bind(this),
                    editing: this.state.editing,
                    value: this.state.editing ? this.state.current_value : this.props.value,
                    confirmed: this.props.confirmed })
            );
        }
    }]);

    return TourAdminScoreCellWrapper;
}(React.Component);

var TourAdminScoresRow = function (_React$Component4) {
    _inherits(TourAdminScoresRow, _React$Component4);

    function TourAdminScoresRow() {
        _classCallCheck(this, TourAdminScoresRow);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(TourAdminScoresRow).apply(this, arguments));
    }

    _createClass(TourAdminScoresRow, [{
        key: "updateHeat",
        value: function updateHeat(new_value) {
            this.props.updateHeatValue(new_value);
        }
    }, {
        key: "render",
        value: function render() {
            var scores_map = {};
            this.props.run.scores.forEach(function (score_data) {
                scores_map[score_data.discipline_judge_id] = score_data;
            });
            var scores = this.props.discipline_judges.map(function (discipline_judge, idx) {
                var score = scores_map[discipline_judge.id];
                return React.createElement(TourAdminScoreCellWrapper, {
                    readOnly: this.props.readOnly,
                    key: score && score.id || "I" + idx,
                    discipline_judge: discipline_judge,
                    scoring_system_name: this.props.scoring_system_name,
                    score_id: score && score.id,
                    value: score && score.data,
                    confirmed: score && score.confirmed });
            }.bind(this));
            return React.createElement(
                "tr",
                { className: this.props.run.heat % 2 ? "odd-heat" : "" },
                React.createElement(TourAdminHeatValue, {
                    readOnly: this.props.readOnly,
                    run_id: this.props.run.id,
                    value: this.props.run.heat,
                    updateValue: this.updateHeat.bind(this) }),
                React.createElement(
                    "td",
                    { className: "number" },
                    this.props.run.participant.number
                ),
                React.createElement(
                    "td",
                    { className: "name" },
                    this.props.run.participant.name
                ),
                React.createElement(TourAdminAcrobaticsCell, {
                    readOnly: this.props.readOnly,
                    run_id: this.props.run.id,
                    program_name: this.props.run.program_name,
                    acrobatics: this.props.run.acrobatics,
                    programs: this.props.run.participant.programs }),
                React.createElement(TourAdminPerformedCell, {
                    readOnly: this.props.readOnly,
                    run: this.props.run }),
                React.createElement(
                    "td",
                    { className: "total" },
                    this.props.run.total_score
                ),
                scores
            );
        }
    }]);

    return TourAdminScoresRow;
}(React.Component);

var TourAdminStartStopTourButton = function (_React$Component5) {
    _inherits(TourAdminStartStopTourButton, _React$Component5);

    function TourAdminStartStopTourButton() {
        _classCallCheck(this, TourAdminStartStopTourButton);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(TourAdminStartStopTourButton).apply(this, arguments));
    }

    _createClass(TourAdminStartStopTourButton, [{
        key: "render",
        value: function render() {
            if (this.props.tour.active) {
                return React.createElement(
                    "button",
                    { className: "btn btn-danger", onClick: this.props.onStop },
                    (0, _loader._)("judging.buttons.stop_tour")
                );
            } else {
                return React.createElement(
                    "button",
                    { className: "btn btn-success", onClick: this.props.onStart },
                    (0, _loader._)("judging.buttons.start_tour")
                );
            }
        }
    }]);

    return TourAdminStartStopTourButton;
}(React.Component);

var TourAdminAcrobaticEditorRow = function (_React$Component6) {
    _inherits(TourAdminAcrobaticEditorRow, _React$Component6);

    function TourAdminAcrobaticEditorRow() {
        _classCallCheck(this, TourAdminAcrobaticEditorRow);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(TourAdminAcrobaticEditorRow).apply(this, arguments));
    }

    _createClass(TourAdminAcrobaticEditorRow, [{
        key: "onPlus",
        value: function onPlus() {
            var value = Math.round(2 * this.props.acrobatic.score + 1) / 2;
            (0, _api.Api)("acrobatic_override.set", {
                run_id: this.props.run_id,
                acrobatic_idx: this.props.acro_idx,
                score: value
            }).send();
        }
    }, {
        key: "onMinus",
        value: function onMinus() {
            var value = Math.max(0, Math.round(2 * this.props.acrobatic.score - 1) / 2);
            (0, _api.Api)("acrobatic_override.set", {
                run_id: this.props.run_id,
                acrobatic_idx: this.props.acro_idx,
                score: value
            }).send();
        }
    }, {
        key: "onReset",
        value: function onReset() {
            (0, _api.Api)("acrobatic_override.set", {
                run_id: this.props.run_id,
                acrobatic_idx: this.props.acro_idx,
                score: null
            }).send();
        }
    }, {
        key: "renderControls",
        value: function renderControls() {
            if (this.props.readOnly) {
                return null;
            }
            return React.createElement(
                "td",
                { className: "controls" },
                this.props.acrobatic.has_override ? React.createElement(
                    "button",
                    { className: "btn btn-default btn-sm", onClick: this.onReset.bind(this) },
                    (0, _loader._)("judging.buttons.reset_acrobatic_override")
                ) : null,
                React.createElement(
                    "button",
                    { className: "btn btn-default btn-sm", onClick: this.onMinus.bind(this) },
                    "−"
                ),
                React.createElement(
                    "button",
                    { className: "btn btn-default btn-sm", onClick: this.onPlus.bind(this) },
                    "+"
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "tr",
                null,
                React.createElement(
                    "td",
                    { className: "description" },
                    this.props.acrobatic.description
                ),
                React.createElement(
                    "td",
                    { className: "old-score" },
                    this.props.acrobatic.original_score.toFixed(1)
                ),
                React.createElement(
                    "td",
                    { className: "new-score" },
                    this.props.acrobatic.has_override ? this.props.acrobatic.score.toFixed(1) : null
                ),
                this.renderControls()
            );
        }
    }]);

    return TourAdminAcrobaticEditorRow;
}(React.Component);

var TourAdminAcrobaticLoader = function (_React$Component7) {
    _inherits(TourAdminAcrobaticLoader, _React$Component7);

    function TourAdminAcrobaticLoader() {
        _classCallCheck(this, TourAdminAcrobaticLoader);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(TourAdminAcrobaticLoader).apply(this, arguments));
    }

    _createClass(TourAdminAcrobaticLoader, [{
        key: "onSubmit",
        value: function onSubmit(e) {
            var _this9 = this;

            e.preventDefault();
            var value = this.refs.selector.value;
            if (value === "null") {
                value = null;
            }
            (0, _dialogs.showConfirm)((0, _loader._)("judging.confirms.load_program"), function () {
                _this9.props.onLoad(value);
                swal.close();
            });
        }
    }, {
        key: "renderSelector",
        value: function renderSelector() {
            return React.createElement(
                "select",
                { defaultValue: "null", ref: "selector" },
                React.createElement(
                    "option",
                    { value: "null" },
                    "-"
                ),
                this.props.programs.map(function (program) {
                    return React.createElement(
                        "option",
                        { value: program.id, key: program.id },
                        program.name
                    );
                })
            );
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "form",
                { onSubmit: this.onSubmit.bind(this), className: "acro-loader pull-left" },
                this.renderSelector(),
                React.createElement(
                    "button",
                    { className: "btn btn-primary btn-sm" },
                    (0, _loader._)("global.buttons.load")
                )
            );
        }
    }]);

    return TourAdminAcrobaticLoader;
}(React.Component);

var TourAdminAcrobaticEditor = function (_React$Component8) {
    _inherits(TourAdminAcrobaticEditor, _React$Component8);

    function TourAdminAcrobaticEditor() {
        _classCallCheck(this, TourAdminAcrobaticEditor);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(TourAdminAcrobaticEditor).apply(this, arguments));
    }

    _createClass(TourAdminAcrobaticEditor, [{
        key: "loadAcrobatics",
        value: function loadAcrobatics(program_id) {
            (0, _api.Api)("run.load_program", { program_id: program_id, run_id: this.props.run_id }).send();
        }
    }, {
        key: "renderBody",
        value: function renderBody() {
            var _this11 = this;

            return React.createElement(
                "div",
                null,
                React.createElement(
                    "h4",
                    null,
                    this.props.program_name
                ),
                React.createElement(
                    "table",
                    { className: "acrobatics" },
                    React.createElement(
                        "tbody",
                        null,
                        React.createElement(
                            "tr",
                            null,
                            React.createElement(
                                "th",
                                { className: "description" },
                                (0, _loader._)("judging.labels.acro_description")
                            ),
                            React.createElement(
                                "th",
                                { className: "old-score" },
                                (0, _loader._)("judging.labels.old_score")
                            ),
                            React.createElement(
                                "th",
                                { className: "new-score" },
                                (0, _loader._)("judging.labels.new_score")
                            ),
                            this.props.readOnly ? null : React.createElement("th", { className: "controls" })
                        ),
                        this.props.acrobatics.map(function (acro, idx) {
                            return React.createElement(TourAdminAcrobaticEditorRow, {
                                readOnly: _this11.props.readOnly,
                                acrobatic: acro,
                                acro_idx: idx,
                                run_id: _this11.props.run_id,
                                key: idx });
                        })
                    )
                )
            );
        }
    }, {
        key: "renderMock",
        value: function renderMock() {
            return React.createElement(
                "div",
                { className: "no-program text-center" },
                "No program loaded"
            );
        }
    }, {
        key: "renderLoader",
        value: function renderLoader() {
            if (this.props.readOnly) {
                return null;
            }
            return React.createElement(TourAdminAcrobaticLoader, {
                onLoad: this.loadAcrobatics.bind(this),
                programs: this.props.programs });
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "form-acro-input" },
                this.props.program_name === null ? this.renderMock() : this.renderBody(),
                this.renderLoader(),
                React.createElement(
                    "button",
                    { className: "btn btn-primary btn-sm pull-right", onClick: this.props.stopEditing },
                    (0, _loader._)("global.buttons.close")
                ),
                React.createElement("div", { className: "clearfix" })
            );
        }
    }]);

    return TourAdminAcrobaticEditor;
}(React.Component);

var TourAdminAcrobaticsCell = function (_React$Component9) {
    _inherits(TourAdminAcrobaticsCell, _React$Component9);

    function TourAdminAcrobaticsCell(props) {
        _classCallCheck(this, TourAdminAcrobaticsCell);

        var _this12 = _possibleConstructorReturn(this, Object.getPrototypeOf(TourAdminAcrobaticsCell).call(this, props));

        _this12.state = {
            editing: false
        };
        return _this12;
    }

    _createClass(TourAdminAcrobaticsCell, [{
        key: "startEditing",
        value: function startEditing() {
            if (current_editing_cell !== null) {
                current_editing_cell.stopEditing();
            }
            current_editing_cell = this;
            this.setState({
                editing: true
            });
        }
    }, {
        key: "stopEditing",
        value: function stopEditing() {
            this.setState({
                editing: false
            });
            current_editing_cell = null;
        }
    }, {
        key: "render",
        value: function render() {
            if (this.state.editing) {
                return React.createElement(
                    "td",
                    { className: "acrobatics editing" },
                    React.createElement(TourAdminAcrobaticEditor, _extends({
                        readOnly: this.props.readOnly,
                        stopEditing: this.stopEditing.bind(this)
                    }, this.props))
                );
            }
            if (this.props.program_name === null) {
                return React.createElement(
                    "td",
                    { className: "acrobatics", onClick: this.startEditing.bind(this) },
                    "—"
                );
            }
            var has_overrides = false;
            var original_score = 0;
            var score = 0;
            this.props.acrobatics.forEach(function (acro) {
                original_score += acro.original_score;
                score += acro.score;
                has_overrides = has_overrides || acro.score !== acro.original_score;
            });
            return React.createElement(
                "td",
                { className: "acrobatics", onClick: this.startEditing.bind(this) },
                has_overrides ? original_score.toFixed(1) + " → " + score.toFixed(1) : score.toFixed(1)
            );
        }
    }]);

    return TourAdminAcrobaticsCell;
}(React.Component);

var TourAdminPerformedCell = function (_React$Component10) {
    _inherits(TourAdminPerformedCell, _React$Component10);

    function TourAdminPerformedCell() {
        _classCallCheck(this, TourAdminPerformedCell);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(TourAdminPerformedCell).apply(this, arguments));
    }

    _createClass(TourAdminPerformedCell, [{
        key: "toggleState",
        value: function toggleState() {
            if (this.props.readOnly) {
                return;
            }
            var method = this.props.run.performed ? "run.mark_not_performed" : "run.mark_performed";
            (0, _api.Api)(method, { run_id: this.props.run.id }).send();
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "td",
                { className: "performed" },
                React.createElement("input", {
                    type: "checkbox",
                    checked: this.props.run.performed,
                    onChange: this.toggleState.bind(this) })
            );
        }
    }]);

    return TourAdminPerformedCell;
}(React.Component);

var TourAdminBody = exports.TourAdminBody = function (_React$Component11) {
    _inherits(TourAdminBody, _React$Component11);

    // Intiialization

    function TourAdminBody(props) {
        _classCallCheck(this, TourAdminBody);

        var _this14 = _possibleConstructorReturn(this, Object.getPrototypeOf(TourAdminBody).call(this, props));

        _this14.state = {
            tour: null
        };
        return _this14;
    }

    _createClass(TourAdminBody, [{
        key: "componentWillMount",
        value: function componentWillMount() {
            this.storage = _storage.storage.getDomain("judging_" + this.props.tour_id);
            this.reload_listener = _message_dispatcher.message_dispatcher.addListener("reload_data", this.loadData.bind(this));
            this.db_update_listener = _message_dispatcher.message_dispatcher.addListener("db_update", this.reloadFromStorage.bind(this));
            this.loadData();
        }
    }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
            _message_dispatcher.message_dispatcher.removeListener(this.reload_listener);
            _message_dispatcher.message_dispatcher.removeListener(this.db_update_listener);
            _storage.storage.delDomain("judging_" + this.props.tour_id);
        }
    }, {
        key: "reloadFromStorage",
        value: function reloadFromStorage() {
            var SCHEMA = {
                discipline: {
                    competition: {},
                    discipline_judges: {
                        judge: {}
                    }
                },
                runs: {
                    scores: {},
                    participant: {
                        programs: {}
                    }
                }
            };
            var serialized = this.storage.get("Tour").by_id(this.props.tour_id).serialize(SCHEMA);
            this.setState({
                tour: serialized
            });
        }
    }, {
        key: "loadData",
        value: function loadData() {
            (0, _api.Api)("tour.get", {
                tour_id: this.props.tour_id,
                children: {
                    discipline: {
                        competition: {},
                        discipline_judges: {
                            judge: {}
                        }
                    },
                    runs: {
                        acrobatics: {},
                        scores: {},
                        participant: {
                            programs: {}
                        }
                    }
                }
            }).addToDB("Tour", this.props.tour_id, this.storage).onSuccess(this.reloadFromStorage.bind(this)).send();
        }

        // Listeners

    }, {
        key: "onSignal",
        value: function onSignal(message) {
            var _this15 = this;

            switch (message) {
                case "init_tour":
                    (0, _dialogs.showConfirm)((0, _loader._)("judging.confirms.init_tour"), function () {
                        (0, _api.Api)("tour.init", { tour_id: _this15.props.tour_id }).onSuccess(function () {
                            return swal.close();
                        }).send();
                    });
                    break;
                case "finalize_tour":
                    (0, _dialogs.showConfirm)((0, _loader._)("judging.confirms.finalize_tour"), function () {
                        (0, _api.Api)("tour.finalize", { tour_id: _this15.props.tour_id }).onSuccess(function () {
                            swal.close();
                            _this15.props.switchPage("results-1");
                        }).send();
                    });
                    break;
                case "shuffle_heats":
                    (0, _dialogs.showConfirm)((0, _loader._)("judging.confirms.shuffle_heats"), function () {
                        (0, _api.Api)("tour.shuffle_heats", { tour_id: _this15.props.tour_id }).onSuccess(function () {
                            return swal.close();
                        }).send();
                    });
                    break;
                case "start_tour":
                    (0, _api.Api)("tour.start", { tour_id: this.props.tour_id }).send();
                    break;
                case "stop_tour":
                    (0, _api.Api)("tour.stop", { tour_id: this.props.tour_id }).send();
                    break;
                default:
                    console.error("Unknown signal received:", message);
            }
        }

        // Helpers

    }, {
        key: "getAcrobaticOverrides",
        value: function getAcrobaticOverrides() {
            var result = [];
            this.state.tour.runs.forEach(function (run) {
                run.acrobatics.forEach(function (acro, idx) {
                    if (acro.original_score !== acro.score) {
                        result.push({
                            run: run,
                            acro_idx: idx + 1,
                            acro_description: acro.description,
                            score: acro.score,
                            original_score: acro.original_score
                        });
                    }
                });
            });
            return result;
        }

        // Rendering

    }, {
        key: "render",
        value: function render() {
            if (this.state.tour === null) {
                return React.createElement(_components.Loader, null);
            }
            var discipline_judges = this.state.tour.discipline.discipline_judges;
            var rows = this.state.tour.runs.map(function (run) {
                return React.createElement(TourAdminScoresRow, {
                    readOnly: this.state.tour.finalized,
                    key: run.id,
                    run: run,
                    scoring_system_name: this.state.tour.scoring_system_name,
                    discipline_judges: discipline_judges });
            }.bind(this));
            var judges_header = discipline_judges.map(function (discipline_judge) {
                // TODO: move role staff to scoring system logic
                return React.createElement(
                    "th",
                    { className: "judge", key: discipline_judge.id },
                    discipline_judge.judge.number + (discipline_judge.role === "acro_judge" ? "*" : "")
                );
            }.bind(this));
            return React.createElement(
                "div",
                { className: "tour-admin" },
                React.createElement(
                    "table",
                    { className: "bordered-table" },
                    React.createElement(
                        "tbody",
                        null,
                        React.createElement(
                            "tr",
                            null,
                            React.createElement(
                                "th",
                                { className: "heat" },
                                (0, _loader._)("judging.labels.heat")
                            ),
                            React.createElement(
                                "th",
                                { className: "number" },
                                (0, _loader._)("judging.labels.number")
                            ),
                            React.createElement(
                                "th",
                                { className: "name" },
                                (0, _loader._)("judging.labels.participant_name")
                            ),
                            React.createElement(
                                "th",
                                { className: "acrobatics" },
                                (0, _loader._)("judging.labels.acrobatics")
                            ),
                            React.createElement(
                                "th",
                                { className: "performed" },
                                (0, _loader._)("judging.labels.performed")
                            ),
                            React.createElement(
                                "th",
                                { className: "total" },
                                (0, _loader._)("judging.labels.total_score")
                            ),
                            judges_header
                        ),
                        rows
                    )
                )
            );
        }
    }]);

    return TourAdminBody;
}(React.Component);

},{"./rosfarr/tour_admin":6,"common/tools":24,"l10n/loader":25,"server/api":28,"server/message_dispatcher":29,"server/storage":30,"ui/components":32,"ui/dialogs":33}],8:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.TourResultsBody = exports.TourResultsButtons = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _loader = require("l10n/loader");

var _api = require("server/api");

var _storage = require("server/storage");

var _message_dispatcher = require("server/message_dispatcher");

var _components = require("ui/components");

var _printable = require("ui/printable");

var _docx = require("common/docx");

var _loader2 = require("rules_sets/loader");

var _loader3 = _interopRequireDefault(_loader2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TourResultsButtons = exports.TourResultsButtons = function (_React$Component) {
    _inherits(TourResultsButtons, _React$Component);

    function TourResultsButtons() {
        _classCallCheck(this, TourResultsButtons);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(TourResultsButtons).apply(this, arguments));
    }

    _createClass(TourResultsButtons, [{
        key: "signal",
        value: function signal(message) {
            var _this2 = this;

            return function () {
                return _this2.props.onSignal(message);
            }.bind(this);
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                null,
                React.createElement(
                    "button",
                    { className: "btn btn-primary", onClick: this.signal("docx") },
                    "DOCX"
                )
            );
        }
    }]);

    return TourResultsButtons;
}(React.Component);

var TourResultsBody = exports.TourResultsBody = function (_React$Component2) {
    _inherits(TourResultsBody, _React$Component2);

    // Initialization

    function TourResultsBody(props) {
        _classCallCheck(this, TourResultsBody);

        var _this3 = _possibleConstructorReturn(this, Object.getPrototypeOf(TourResultsBody).call(this, props));

        _this3.state = {
            tour: null,
            results: null
        };
        _this3.TOUR_SCHEMA = {
            discipline: {
                competition: {},
                discipline_judges: {
                    judge: {}
                }
            },
            runs: {
                acrobatics: {},
                scores: {},
                participant: {
                    club: {}
                }
            }
        };
        return _this3;
    }

    _createClass(TourResultsBody, [{
        key: "componentWillMount",
        value: function componentWillMount() {
            var _this4 = this;

            this.storage = _storage.storage.getDomain("results_" + this.props.tour_id);
            this.reload_listener = _message_dispatcher.message_dispatcher.addListener("reload_data", this.loadData.bind(this));
            this.db_update_listener = _message_dispatcher.message_dispatcher.addListener("db_update", this.reloadFromStorage.bind(this));
            this.results_change_listener = _message_dispatcher.message_dispatcher.addListener("tour_results_changed reload_data", function (message) {
                if (!message || message.tour_id === this.props.tour_id) {
                    this.loadResults();
                }
            }.bind(this));
            this.loadData();
            this.loadResults();
            if (this.props.autoDocx) {
                (function () {
                    var interval_id = setInterval(function () {
                        if (_this4.refs.content) {
                            clearInterval(interval_id);
                            _this4.createDocx(_this4.props.autoDocx.filename);
                            _this4.props.autoDocx.callback(_this4.props.autoDocx.filename);
                        }
                    }, 500);
                })();
            }
        }
    }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
            _message_dispatcher.message_dispatcher.removeListener(this.reload_listener);
            _message_dispatcher.message_dispatcher.removeListener(this.db_update_listener);
            _message_dispatcher.message_dispatcher.removeListener(this.results_change_listener);
            _storage.storage.delDomain("results_" + this.props.tour_id);
        }
    }, {
        key: "reloadFromStorage",
        value: function reloadFromStorage() {
            var serialized = this.storage.get("Tour").by_id(this.props.tour_id).serialize(this.TOUR_SCHEMA);
            this.setState({
                tour: serialized
            });
        }
    }, {
        key: "loadResults",
        value: function loadResults() {
            (0, _api.Api)("tour.get_results", { tour_id: this.props.tour_id }).onSuccess(function (new_results) {
                this.setState({
                    "results": new_results
                });
                this.reloadFromStorage();
            }.bind(this)).send();
        }
    }, {
        key: "loadData",
        value: function loadData() {
            (0, _api.Api)("tour.get", { tour_id: this.props.tour_id, children: this.TOUR_SCHEMA }).addToDB("Tour", this.props.tour_id, this.storage).onSuccess(this.reloadFromStorage.bind(this)).send();
        }

        // Listeners

    }, {
        key: "onSignal",
        value: function onSignal(message) {
            switch (message) {
                case "docx":
                    this.createDocx();
                    break;
                default:
                    console.log("Unknown message:", message);
            }
        }

        // Rendering

    }, {
        key: "renderNonFinalizedWarning",
        value: function renderNonFinalizedWarning() {
            if (!this.state.tour.finalized) {
                return React.createElement(
                    "div",
                    { className: "alert alert-danger" },
                    (0, _loader._)("results.alerts.not_finalized")
                );
            }
        }
    }, {
        key: "render",
        value: function render() {
            // eslint-disable-line react/sort-comp
            if (this.state.tour === null || this.state.results === null) {
                return React.createElement(_components.Loader, null);
            }
            var table = null;
            if (this.props.verbosity === "3") {
                var ResultsComponent = _loader3.default.tour_results_table_3;
                table = React.createElement(ResultsComponent, this.state);
            } else if (this.props.verbosity === "2") {
                var ResultsComponent = _loader3.default.tour_results_table_2;
                table = React.createElement(ResultsComponent, this.state);
            } else {
                var ResultsComponent = _loader3.default.tour_results_table_1;
                table = React.createElement(ResultsComponent, this.state);
            }
            this.rendered = true;
            if (this.props.tableOnly) {
                return React.createElement(
                    "div",
                    { className: "tour-results", ref: "content" },
                    this.renderNonFinalizedWarning(),
                    table
                );
            }
            var body = React.createElement(
                "div",
                { className: "tour-results p-content", ref: "content" },
                this.renderNonFinalizedWarning(),
                table
            );
            return this.props.printable ? React.createElement(_printable.Printable, {
                ref: "printable",
                header: this.state.tour.discipline.competition.name + ", " + this.state.tour.discipline.competition.date,
                title1: (0, _loader._)("admin.headers.tour_results"),
                title2: this.state.tour.discipline.name,
                title3: this.state.tour.name,
                body: body }) : body;
        }
    }, {
        key: "createDocx",
        value: function createDocx() {
            var filename = arguments.length <= 0 || arguments[0] === undefined ? "tour-results.docx" : arguments[0];

            (0, _docx.Docx)(filename).setMargins([10, 10, 15, 10]).setHeader(this.state.tour.discipline.competition.name + ", " + this.state.tour.discipline.competition.date).setTitle1((0, _loader._)("admin.headers.tour_results")).setTitle2(this.state.tour.discipline.name).setTitle3(this.state.tour.name).setBody(ReactDOM.findDOMNode(this.refs.content).innerHTML).addStyle(".bordered-table", "font-size", this.props.verbosity === "1" ? "12pt" : "9pt").addStyle(".bordered-table .acro-table td", "font-size", "9pt").addStyle(".bordered-table .acro-table td", "padding", "0 3pt").addStyle(".bordered-table .acro-table td", "border", "0.5pt solid black").addStyle(".bordered-table .score-breakdown td, .bordered-table .score-breakdown th", "font-size", "9pt").addStyle(".bordered-table .score-breakdown td, .bordered-table .score-breakdown th", "border", "none").addStyle(".bordered-table .score-breakdown th", "padding", "0 1pt 0 0").addStyle(".bordered-table .score-breakdown td", "padding", "0 0 0 1pt").addStyle(".score-breakdown th", "text-align", "right").addStyle(".score-breakdown td", "text-align", "left").addStyle(".score-breakdown td", "text-align", "left").addStyle(".score-breakdown", "width", "50pt").addStyle(".advances-header", "background-color", "#ddd").addStyle(".total-score", "font-weight", "bold").addStyle(".head_judge", "width", "5%").addStyle(".dance_judge", "width", "8%").addStyle(".acro_judge", "width", "8%").save();
        }
    }]);

    return TourResultsBody;
}(React.Component);

},{"common/docx":23,"l10n/loader":25,"rules_sets/loader":27,"server/api":28,"server/message_dispatcher":29,"server/storage":30,"ui/components":32,"ui/printable":34}],9:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Admin = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _loader = require("l10n/loader");

var _api = require("server/api");

var _storage = require("server/storage");

var _message_dispatcher = require("server/message_dispatcher");

var _main = require("./management/main");

var _main2 = require("./judging/main");

var _main3 = require("./service/main");

var _components = require("ui/components");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Admin = exports.Admin = function (_React$Component) {
    _inherits(Admin, _React$Component);

    // Intialization

    function Admin(props) {
        _classCallCheck(this, Admin);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Admin).call(this, props));

        _this.state = {
            active_app: _this.getActiveAppFromHash(),
            name: null
        };
        _message_dispatcher.message_dispatcher.addListener("db_update", _this.reloadFromStorage.bind(_this));
        _message_dispatcher.message_dispatcher.addListener("reload_data", _this.loadData.bind(_this));
        _this.loadData();
        return _this;
    }

    _createClass(Admin, [{
        key: "reloadFromStorage",
        value: function reloadFromStorage() {
            var SCHEMA = {
                clubs: {},
                judges: {},
                plan: {},
                disciplines: {
                    discipline_judges: {
                        judge: {}
                    },
                    tours: {}
                }
            };
            this.setState(_storage.storage.get("Competition").by_id(this.props.competition_id).serialize(SCHEMA));
        }
    }, {
        key: "loadData",
        value: function loadData() {
            (0, _api.Api)("competition.get", {
                competition_id: this.props.competition_id,
                children: {
                    clubs: {},
                    judges: {},
                    plan: {},
                    disciplines: {
                        discipline_judges: {
                            judge: {}
                        },
                        tours: {}
                    }
                }
            }).addToDB("Competition", this.props.competition_id).onSuccess(this.reloadFromStorage.bind(this)).send();
        }

        // Navigation

    }, {
        key: "setApp",
        value: function setApp(app) {
            this.setState({
                active_app: app
            });
            window.location.hash = "#" + app;
        }
    }, {
        key: "getActiveAppFromHash",
        value: function getActiveAppFromHash(app) {
            var chunks = window.location.hash.substr(1).split("/");
            if (chunks[0] && ["judging", "management", "service"].indexOf(chunks[0]) >= 0) {
                return chunks[0];
            }
            return "management";
        }

        // Rendering

    }, {
        key: "renderActiveApp",
        value: function renderActiveApp() {
            switch (this.state.active_app) {
                case "judging":
                    return React.createElement(_main2.Judging, {
                        competition_plan: this.state.plan,
                        disciplines: this.state.disciplines });
                case "management":
                    return React.createElement(_main.Management, {
                        disciplines: this.state.disciplines,
                        clubs: this.state.clubs,
                        judges: this.state.judges,
                        competition_plan: this.state.plan,
                        competition_name: this.state.name,
                        competition_date: this.state.date,
                        competition_id: this.props.competition_id,
                        rules_set: this.state.rules_set });
                case "service":
                    return React.createElement(_main3.Service, {
                        competition_id: this.props.competition_id,
                        disciplines: this.state.disciplines });
            }
        }
    }, {
        key: "render",
        value: function render() {
            if (this.state.name === null) {
                return React.createElement(_components.Loader, null);
            }
            return React.createElement(
                "div",
                { className: "wrapper" },
                React.createElement(
                    "div",
                    { className: "header" },
                    React.createElement(
                        "div",
                        { className: "caption" },
                        this.state.name,
                        " (",
                        this.state.date,
                        ")"
                    )
                ),
                React.createElement(
                    "div",
                    { className: "body" },
                    React.createElement(
                        "div",
                        { className: "left-col noselect" },
                        React.createElement(
                            "div",
                            { className: "button" + (this.state.active_app === "management" ? " active" : ""), onClick: this.setApp.bind(this, "management") },
                            React.createElement(
                                "div",
                                { className: "icon" },
                                "M"
                            ),
                            React.createElement(
                                "div",
                                { className: "label" },
                                "Management"
                            )
                        ),
                        React.createElement(
                            "div",
                            { className: "button" + (this.state.active_app === "judging" ? " active" : ""), onClick: this.setApp.bind(this, "judging") },
                            React.createElement(
                                "div",
                                { className: "icon" },
                                "J"
                            ),
                            React.createElement(
                                "div",
                                { className: "label" },
                                "Judging"
                            )
                        ),
                        React.createElement(
                            "div",
                            { className: "button" + (this.state.active_app === "service" ? " active" : ""), onClick: this.setApp.bind(this, "service") },
                            React.createElement(
                                "div",
                                { className: "icon" },
                                "S"
                            ),
                            React.createElement(
                                "div",
                                { className: "label" },
                                "Service"
                            )
                        ),
                        React.createElement("div", { className: "spacer" }),
                        React.createElement(
                            "div",
                            { className: "bottom-cell" },
                            React.createElement(
                                "a",
                                { className: "btn-back", href: "/" },
                                (0, _loader._)("admin.buttons.to_start_page")
                            )
                        )
                    ),
                    this.renderActiveApp()
                )
            );
        }
    }]);

    return Admin;
}(React.Component);

},{"./judging/main":4,"./management/main":16,"./service/main":21,"l10n/loader":25,"server/api":28,"server/message_dispatcher":29,"server/storage":30,"ui/components":32}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Clubs = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _loader = require("l10n/loader");

var _api = require("server/api");

var _dialogs = require("ui/dialogs");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Clubs = exports.Clubs = function (_React$Component) {
    _inherits(Clubs, _React$Component);

    function Clubs(props) {
        _classCallCheck(this, Clubs);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Clubs).call(this, props));

        _this.state = {
            creating: false
        };
        return _this;
    }

    _createClass(Clubs, [{
        key: "renderTable",
        value: function renderTable() {
            var rows = this.props.clubs.map(function (club) {
                return React.createElement(ClubRow, {
                    key: club.id,
                    club: club });
            }.bind(this));
            return React.createElement(
                "div",
                { className: "manage-clubs" },
                React.createElement(
                    "table",
                    { className: "table table-striped" },
                    React.createElement(
                        "tbody",
                        null,
                        React.createElement(
                            "tr",
                            null,
                            React.createElement(
                                "th",
                                { className: "name" },
                                (0, _loader._)("models.club.name")
                            ),
                            React.createElement(
                                "th",
                                { className: "city" },
                                (0, _loader._)("models.club.city")
                            ),
                            React.createElement(
                                "th",
                                { className: "external-id" },
                                (0, _loader._)("models.club.external_id")
                            ),
                            React.createElement("th", { className: "delete" })
                        ),
                        rows,
                        React.createElement(ClubCreationRow, { competition_id: this.props.competition_id })
                    )
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "app-content" },
                React.createElement(
                    "header",
                    { className: "app-header" },
                    React.createElement(
                        "h1",
                        null,
                        (0, _loader._)("admin.headers.clubs_management")
                    )
                ),
                React.createElement(
                    "div",
                    { className: "app-body" },
                    this.renderTable()
                )
            );
        }
    }]);

    return Clubs;
}(React.Component);

var ClubEditorRow = function (_React$Component2) {
    _inherits(ClubEditorRow, _React$Component2);

    function ClubEditorRow() {
        _classCallCheck(this, ClubEditorRow);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(ClubEditorRow).apply(this, arguments));
    }

    _createClass(ClubEditorRow, [{
        key: "sertialize",
        value: function sertialize() {
            return {
                name: this._name.value,
                city: this._city.value,
                external_id: this._external_id.value
            };
        }
    }, {
        key: "onSubmit",
        value: function onSubmit(event) {
            event.preventDefault();
            if (!this.props.newClub) {
                (0, _api.Api)("club.set", {
                    club_id: this.props.club.id,
                    data: this.sertialize()
                }).onSuccess(this.props.stopEditing).send();
            } else {
                (0, _api.Api)("club.create", {
                    competition_id: this.props.competition_id,
                    data: this.sertialize()
                }).onSuccess(this.props.stopEditing).send();
            }
        }
    }, {
        key: "render",
        value: function render() {
            var _this3 = this;

            return React.createElement(
                "tr",
                { className: "editor" + (this.props.newClub ? " create" : "") },
                React.createElement(
                    "td",
                    { colSpan: "4" },
                    React.createElement(
                        "form",
                        { onSubmit: this.onSubmit.bind(this) },
                        React.createElement(
                            "div",
                            { className: "rows" },
                            React.createElement(
                                "div",
                                { className: "col-md-5" },
                                React.createElement(
                                    "label",
                                    { className: "full-width" },
                                    (0, _loader._)("models.club.name"),
                                    React.createElement("input", {
                                        ref: function (e) {
                                            if (e) {
                                                e.select();this._name = e;
                                            }
                                        }.bind(this),
                                        className: "full-width",
                                        defaultValue: this.props.club.name })
                                )
                            ),
                            React.createElement(
                                "div",
                                { className: "col-md-2" },
                                React.createElement(
                                    "label",
                                    { className: "full-width" },
                                    (0, _loader._)("models.club.city"),
                                    React.createElement("input", {
                                        ref: function ref(e) {
                                            return e && (_this3._city = e);
                                        },
                                        className: "full-width",
                                        defaultValue: this.props.club.city })
                                )
                            ),
                            React.createElement(
                                "div",
                                { className: "col-md-2" },
                                React.createElement(
                                    "label",
                                    { className: "full-width" },
                                    (0, _loader._)("models.club.external_id"),
                                    React.createElement("br", null),
                                    React.createElement("input", {
                                        ref: function ref(e) {
                                            return e && (_this3._external_id = e);
                                        },
                                        defaultValue: this.props.club.external_id })
                                )
                            ),
                            React.createElement(
                                "div",
                                { className: "col-md-3" },
                                React.createElement(
                                    "div",
                                    { className: "buttons" },
                                    React.createElement(
                                        "button",
                                        {
                                            type: "submit",
                                            className: "btn btn-primary" },
                                        (0, _loader._)("global.buttons.submit")
                                    ),
                                    React.createElement(
                                        "button",
                                        {
                                            type: "button",
                                            className: "btn btn-danger",
                                            onClick: this.props.stopEditing },
                                        (0, _loader._)("global.buttons.discard")
                                    )
                                )
                            )
                        )
                    )
                )
            );
        }
    }]);

    return ClubEditorRow;
}(React.Component);

var ClubRow = function (_React$Component3) {
    _inherits(ClubRow, _React$Component3);

    function ClubRow(props) {
        _classCallCheck(this, ClubRow);

        var _this4 = _possibleConstructorReturn(this, Object.getPrototypeOf(ClubRow).call(this, props));

        _this4.state = {
            editing: false
        };
        return _this4;
    }

    _createClass(ClubRow, [{
        key: "startEditing",
        value: function startEditing() {
            this.setState({
                editing: true
            });
        }
    }, {
        key: "stopEditing",
        value: function stopEditing() {
            this.setState({
                editing: false
            });
        }
    }, {
        key: "onDelete",
        value: function onDelete(event) {
            var _this5 = this;

            event.stopPropagation();
            (0, _dialogs.showConfirm)((0, _loader._)("admin.confirms.delete_club"), function () {
                (0, _api.Api)("club.delete", {
                    club_id: _this5.props.club.id
                }).onSuccess(function () {
                    return swal.close();
                }).send();
            });
        }
    }, {
        key: "renderEditor",
        value: function renderEditor() {
            return React.createElement(ClubEditorRow, _extends({
                newClub: false,
                stopEditing: this.stopEditing.bind(this)
            }, this.props));
        }
    }, {
        key: "renderViewer",
        value: function renderViewer() {
            var c = this.props.club;
            return React.createElement(
                "tr",
                { className: "viewer", onClick: this.startEditing.bind(this) },
                React.createElement(
                    "td",
                    { className: "name" },
                    c.name
                ),
                React.createElement(
                    "td",
                    { className: "city" },
                    c.city
                ),
                React.createElement(
                    "td",
                    { className: "external-id" },
                    c.external_id
                ),
                React.createElement(
                    "td",
                    { className: "delete" },
                    React.createElement(
                        "button",
                        { className: "btn btn-danger", onClick: this.onDelete.bind(this) },
                        "X"
                    )
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            if (this.state.editing) {
                return this.renderEditor();
            } else {
                return this.renderViewer();
            }
        }
    }]);

    return ClubRow;
}(React.Component);

var ClubCreationRow = function (_React$Component4) {
    _inherits(ClubCreationRow, _React$Component4);

    function ClubCreationRow(props) {
        _classCallCheck(this, ClubCreationRow);

        var _this6 = _possibleConstructorReturn(this, Object.getPrototypeOf(ClubCreationRow).call(this, props));

        _this6.state = {
            editing: false
        };
        return _this6;
    }

    _createClass(ClubCreationRow, [{
        key: "startEditing",
        value: function startEditing() {
            this.setState({
                editing: true
            });
        }
    }, {
        key: "stopEditing",
        value: function stopEditing() {
            this.setState({
                editing: false
            });
        }
    }, {
        key: "renderEditor",
        value: function renderEditor() {
            var empty_data = {
                "name": "",
                "city": "",
                "external_id": ""
            };
            return React.createElement(ClubEditorRow, _extends({
                newClub: true,
                stopEditing: this.stopEditing.bind(this),
                club: empty_data
            }, this.props));
        }
    }, {
        key: "renderButton",
        value: function renderButton() {
            return React.createElement(
                "tr",
                null,
                React.createElement(
                    "td",
                    { colSpan: "4" },
                    React.createElement(
                        "button",
                        {
                            type: "button",
                            className: "btn btn-default full-width",
                            onClick: this.startEditing.bind(this) },
                        (0, _loader._)("admin.buttons.add_club")
                    )
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            return this.state.editing ? this.renderEditor() : this.renderButton();
        }
    }]);

    return ClubCreationRow;
}(React.Component);

},{"l10n/loader":25,"server/api":28,"ui/dialogs":33}],11:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CompetitionPlan = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _loader = require("l10n/loader");

var _api = require("server/api");

var _docx = require("common/docx");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var CompetitionPlan = exports.CompetitionPlan = function (_React$Component) {
    _inherits(CompetitionPlan, _React$Component);

    function CompetitionPlan(props) {
        _classCallCheck(this, CompetitionPlan);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(CompetitionPlan).call(this, props));

        _this.state = {
            creating: false
        };
        return _this;
    }

    _createClass(CompetitionPlan, [{
        key: "genTours",
        value: function genTours() {
            var result = [];
            this.props.disciplines.forEach(function (discipline) {
                return discipline.tours.forEach(function (tour) {
                    return result.push({
                        id: tour.id,
                        name: discipline.name + " — " + tour.name,
                        discipline_id: discipline.id,
                        discipline_name: discipline.name,
                        tour_name: tour.name
                    });
                });
            });
            return result;
        }
    }, {
        key: "renderTable",
        value: function renderTable(tours) {
            var tours_count = {};
            var tours_index = {};
            var disciplines_index = {};
            tours.forEach(function (tour) {
                return tours_index[tour.id] = tour;
            });
            this.props.items.forEach(function (item) {
                if (item.tour_id) {
                    tours_count[item.tour_id] = tours_count[item.tour_id] ? tours_count[item.tour_id] + 1 : 1;
                }
            });
            var discipline_cursors = {};
            this.props.disciplines.forEach(function (discipline) {
                return discipline_cursors[discipline.id] = 0;
            });
            this.props.disciplines.forEach(function (discipline) {
                return disciplines_index[discipline.id] = discipline;
            });
            var rows = this.props.items.map(function (item) {
                var error = (tours_count[item.tour_id] || 0) > 2;
                if (item.tour_id) {
                    var discipline_id = tours_index[item.tour_id].discipline_id;
                    var tour_idx = discipline_cursors[discipline_id];
                    if (!disciplines_index[discipline_id].tours[tour_idx] || item.tour_id !== disciplines_index[discipline_id].tours[tour_idx].id) {
                        error = true;
                        disciplines_index[discipline_id].tours.forEach(function (tour, idx) {
                            if (tour.id === item.tour_id) {
                                tour_idx = idx;
                            }
                        });
                    }
                    discipline_cursors[discipline_id] = tour_idx + 1;
                }
                return React.createElement(CompetitionPlanItemRow, {
                    key: item.id,
                    error: error,
                    tours: tours,
                    item: item });
            });
            var unpicked_tours = tours.filter(function (tour) {
                return !tours_count[tour.id];
            });
            var unpicked_tours_html = !unpicked_tours.length ? null : React.createElement(
                "div",
                null,
                React.createElement(
                    "h4",
                    null,
                    (0, _loader._)("admin.headers.unpicked_tours")
                ),
                React.createElement(
                    "ul",
                    { className: "unpicked-tours" },
                    unpicked_tours.map(function (tour) {
                        return React.createElement(
                            "li",
                            { className: "item", key: tour.id },
                            tour.name
                        );
                    })
                )
            );
            return React.createElement(
                "div",
                { className: "manage-competition-plan" },
                React.createElement(
                    "table",
                    { className: "table table-striped" },
                    React.createElement(
                        "tbody",
                        null,
                        React.createElement(
                            "tr",
                            null,
                            React.createElement(
                                "th",
                                { className: "sp" },
                                (0, _loader._)("models.competition_plan_item.sp")
                            ),
                            React.createElement(
                                "th",
                                { className: "discipline" },
                                (0, _loader._)("models.competition_plan_item.discipline")
                            ),
                            React.createElement(
                                "th",
                                { className: "tour" },
                                (0, _loader._)("models.competition_plan_item.tour")
                            ),
                            React.createElement(
                                "th",
                                { className: "estimated_beginning" },
                                (0, _loader._)("models.competition_plan_item.estimated_beginning")
                            ),
                            React.createElement(
                                "th",
                                { className: "estimated_duration" },
                                (0, _loader._)("models.competition_plan_item.estimated_duration")
                            ),
                            React.createElement("th", { className: "delete" })
                        ),
                        rows,
                        React.createElement(CompetitionPlanItemCreationRow, { competition_id: this.props.competition_id, tours: tours })
                    )
                ),
                unpicked_tours_html
            );
        }
    }, {
        key: "render",
        value: function render() {
            var _this2 = this;

            // eslint-disable-line react/sort-comp
            var tours = this.genTours();
            return React.createElement(
                "div",
                { className: "app-content" },
                React.createElement(
                    "header",
                    { className: "app-header" },
                    React.createElement(
                        "div",
                        { className: "controls" },
                        React.createElement(
                            "button",
                            { className: "btn btn-primary", onClick: function onClick() {
                                    return _this2.createDocx();
                                }, key: "btn-init-tour" },
                            "DOCX"
                        )
                    ),
                    React.createElement(
                        "h1",
                        null,
                        (0, _loader._)("admin.headers.competition_plan_management")
                    )
                ),
                React.createElement(
                    "div",
                    { className: "app-body" },
                    this.renderTable(tours),
                    React.createElement(PrintableCompetitionPlan, _extends({ ref: "printable_competition_plan", tours: tours }, this.props))
                )
            );
        }
    }, {
        key: "createDocx",
        value: function createDocx() {
            var filename = arguments.length <= 0 || arguments[0] === undefined ? "program.docx" : arguments[0];

            (0, _docx.Docx)(filename).setMargins([10, 15, 10, 15]).setHeader(this.props.competition_name + ", " + this.props.competition_date).setTitle1((0, _loader._)("admin.headers.competition_plan")).setBody(ReactDOM.findDOMNode(this.refs.printable_competition_plan).innerHTML).save();
        }
    }]);

    return CompetitionPlan;
}(React.Component);

var PrintableCompetitionPlanRow = function (_React$Component2) {
    _inherits(PrintableCompetitionPlanRow, _React$Component2);

    function PrintableCompetitionPlanRow() {
        _classCallCheck(this, PrintableCompetitionPlanRow);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(PrintableCompetitionPlanRow).apply(this, arguments));
    }

    _createClass(PrintableCompetitionPlanRow, [{
        key: "renderName",
        value: function renderName() {
            var _this4 = this;

            if (this.props.item.verbose_name) {
                return React.createElement(
                    "td",
                    { colSpan: "2" },
                    React.createElement(
                        "p",
                        null,
                        React.createElement(
                            "strong",
                            null,
                            this.props.item.verbose_name
                        )
                    )
                );
            }
            if (this.props.item.tour_id) {
                var result = "";
                this.props.tours.forEach(function (tour) {
                    if (tour.id === _this4.props.item.tour_id) {
                        result = tour;
                    }
                });
                return [React.createElement(
                    "td",
                    { key: "D" },
                    React.createElement(
                        "p",
                        null,
                        result.discipline_name
                    )
                ), React.createElement(
                    "td",
                    { key: "T" },
                    React.createElement(
                        "p",
                        { className: "text-center" },
                        result.tour_name
                    )
                )];
            }
            return React.createElement(
                "td",
                { colSpan: "2" },
                React.createElement("p", null)
            );
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "tr",
                null,
                React.createElement(
                    "td",
                    null,
                    React.createElement(
                        "p",
                        { className: "text-center" },
                        this.props.item.estimated_beginning || React.createElement(
                            "span",
                            null,
                            " "
                        )
                    )
                ),
                this.renderName(),
                React.createElement(
                    "td",
                    null,
                    React.createElement(
                        "p",
                        { className: "text-center" },
                        this.props.item.estimated_duration || React.createElement(
                            "span",
                            null,
                            " "
                        )
                    )
                )
            );
        }
    }]);

    return PrintableCompetitionPlanRow;
}(React.Component);

var PrintableCompetitionPlan = function (_React$Component3) {
    _inherits(PrintableCompetitionPlan, _React$Component3);

    function PrintableCompetitionPlan() {
        _classCallCheck(this, PrintableCompetitionPlan);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(PrintableCompetitionPlan).apply(this, arguments));
    }

    _createClass(PrintableCompetitionPlan, [{
        key: "render",
        value: function render() {
            var _this6 = this;

            return React.createElement(
                "div",
                { className: "print-only" },
                React.createElement(
                    "table",
                    { className: "bordered-table" },
                    React.createElement(
                        "thead",
                        null,
                        React.createElement(
                            "tr",
                            null,
                            React.createElement(
                                "th",
                                null,
                                React.createElement(
                                    "p",
                                    null,
                                    (0, _loader._)("models.competition_plan_item.estimated_beginning")
                                )
                            ),
                            React.createElement(
                                "th",
                                null,
                                React.createElement(
                                    "p",
                                    null,
                                    (0, _loader._)("models.competition_plan_item.discipline")
                                )
                            ),
                            React.createElement(
                                "th",
                                null,
                                React.createElement(
                                    "p",
                                    null,
                                    (0, _loader._)("models.competition_plan_item.tour")
                                )
                            ),
                            React.createElement(
                                "th",
                                null,
                                React.createElement(
                                    "p",
                                    null,
                                    (0, _loader._)("models.competition_plan_item.estimated_duration")
                                )
                            )
                        )
                    ),
                    React.createElement(
                        "tbody",
                        null,
                        this.props.items.map(function (item) {
                            return React.createElement(PrintableCompetitionPlanRow, { item: item, tours: _this6.props.tours, key: item.id });
                        })
                    )
                )
            );
        }
    }]);

    return PrintableCompetitionPlan;
}(React.Component);

var CompetitionPlanItemEditorRow = function (_React$Component4) {
    _inherits(CompetitionPlanItemEditorRow, _React$Component4);

    function CompetitionPlanItemEditorRow() {
        _classCallCheck(this, CompetitionPlanItemEditorRow);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(CompetitionPlanItemEditorRow).apply(this, arguments));
    }

    _createClass(CompetitionPlanItemEditorRow, [{
        key: "sertialize",
        value: function sertialize() {
            return {
                sp: parseInt(this._sp.value) || 0,
                tour_id: this._tour_id.value === "" ? null : parseInt(this._tour_id.value),
                verbose_name: this._verbose_name.value,
                estimated_beginning: this._estimated_beginning.value,
                estimated_duration: this._estimated_duration.value
            };
        }
    }, {
        key: "onSubmit",
        value: function onSubmit(event) {
            event.preventDefault();
            if (!this.props.newCompetitionPlanItem) {
                (0, _api.Api)("competition_plan_item.set", {
                    competition_plan_item_id: this.props.item.id,
                    data: this.sertialize()
                }).onSuccess(this.props.stopEditing).send();
            } else {
                (0, _api.Api)("competition_plan_item.create", {
                    competition_id: this.props.competition_id,
                    data: this.sertialize()
                }).onSuccess(this.props.stopEditing).send();
            }
        }
    }, {
        key: "render",
        value: function render() {
            var _this8 = this;

            return React.createElement(
                "tr",
                { className: "editor" + (this.props.newCompetitionPlanItem ? " create" : "") },
                React.createElement(
                    "td",
                    { colSpan: "6" },
                    React.createElement(
                        "form",
                        { onSubmit: this.onSubmit.bind(this) },
                        React.createElement(
                            "div",
                            { className: "rows" },
                            React.createElement(
                                "div",
                                { className: "col-md-2" },
                                React.createElement(
                                    "label",
                                    { className: "full-width" },
                                    (0, _loader._)("models.competition_plan_item.sp"),
                                    React.createElement("input", {
                                        ref: function (e) {
                                            if (e) {
                                                e.select();this._sp = e;
                                            }
                                        }.bind(this),
                                        className: "full-width",
                                        defaultValue: this.props.item.sp })
                                )
                            ),
                            React.createElement(
                                "div",
                                { className: "col-md-5" },
                                React.createElement(
                                    "label",
                                    { className: "full-width" },
                                    (0, _loader._)("models.competition_plan_item.verbose_name"),
                                    React.createElement("input", {
                                        ref: function ref(e) {
                                            return e && (_this8._verbose_name = e);
                                        },
                                        className: "full-width",
                                        defaultValue: this.props.item.verbose_name })
                                ),
                                React.createElement(
                                    "label",
                                    { className: "full-width" },
                                    (0, _loader._)("models.competition_plan_item.tour"),
                                    React.createElement(
                                        "select",
                                        {
                                            ref: function ref(e) {
                                                return e && (_this8._tour_id = e);
                                            },
                                            className: "full-width",
                                            defaultValue: this.props.item.tour_id || "" },
                                        React.createElement(
                                            "option",
                                            { value: "" },
                                            "----------"
                                        ),
                                        this.props.tours.map(function (tour) {
                                            return React.createElement(
                                                "option",
                                                { value: tour.id, key: tour.id },
                                                tour.name
                                            );
                                        })
                                    )
                                )
                            ),
                            React.createElement(
                                "div",
                                { className: "col-md-2" },
                                React.createElement(
                                    "label",
                                    { className: "full-width" },
                                    (0, _loader._)("models.competition_plan_item.estimated_beginning"),
                                    React.createElement("input", {
                                        ref: function ref(e) {
                                            return e && (_this8._estimated_beginning = e);
                                        },
                                        className: "full-width",
                                        defaultValue: this.props.item.estimated_beginning })
                                ),
                                React.createElement(
                                    "label",
                                    { className: "full-width" },
                                    (0, _loader._)("models.competition_plan_item.estimated_duration"),
                                    React.createElement("input", {
                                        ref: function ref(e) {
                                            return e && (_this8._estimated_duration = e);
                                        },
                                        className: "full-width",
                                        defaultValue: this.props.item.estimated_duration })
                                )
                            ),
                            React.createElement(
                                "div",
                                { className: "col-md-3" },
                                React.createElement(
                                    "div",
                                    { className: "buttons" },
                                    React.createElement(
                                        "button",
                                        {
                                            type: "submit",
                                            className: "btn btn-primary" },
                                        (0, _loader._)("global.buttons.submit")
                                    ),
                                    React.createElement(
                                        "button",
                                        {
                                            type: "button",
                                            className: "btn btn-danger",
                                            onClick: this.props.stopEditing },
                                        (0, _loader._)("global.buttons.discard")
                                    )
                                )
                            )
                        )
                    )
                )
            );
        }
    }]);

    return CompetitionPlanItemEditorRow;
}(React.Component);

var CompetitionPlanItemRow = function (_React$Component5) {
    _inherits(CompetitionPlanItemRow, _React$Component5);

    function CompetitionPlanItemRow(props) {
        _classCallCheck(this, CompetitionPlanItemRow);

        var _this9 = _possibleConstructorReturn(this, Object.getPrototypeOf(CompetitionPlanItemRow).call(this, props));

        _this9.state = {
            editing: false
        };
        return _this9;
    }

    _createClass(CompetitionPlanItemRow, [{
        key: "startEditing",
        value: function startEditing() {
            this.setState({
                editing: true
            });
        }
    }, {
        key: "stopEditing",
        value: function stopEditing() {
            this.setState({
                editing: false
            });
        }
    }, {
        key: "onDelete",
        value: function onDelete(event) {
            event.stopPropagation();
            (0, _api.Api)("competition_plan_item.delete", {
                competition_plan_item_id: this.props.item.id
            }).send();
        }
    }, {
        key: "getName",
        value: function getName() {
            var c = this.props.item;
            if (c.verbose_name) {
                return React.createElement(
                    "td",
                    { colSpan: "2" },
                    React.createElement(
                        "b",
                        null,
                        c.verbose_name
                    )
                );
            }
            var result = React.createElement("td", { colSpan: "2" });
            this.props.tours.forEach(function (tour) {
                if (tour.id === c.tour_id) {
                    result = [React.createElement(
                        "td",
                        { key: "D" },
                        tour.discipline_name
                    ), React.createElement(
                        "td",
                        { key: "T" },
                        tour.tour_name
                    )];
                }
            });
            return result;
        }
    }, {
        key: "renderEditor",
        value: function renderEditor() {
            return React.createElement(CompetitionPlanItemEditorRow, _extends({
                newCompetitionPlanItem: false,
                stopEditing: this.stopEditing.bind(this)
            }, this.props));
        }
    }, {
        key: "renderViewer",
        value: function renderViewer() {
            var c = this.props.item;
            return React.createElement(
                "tr",
                { className: "viewer" + (this.props.error ? " error" : ""), onClick: this.startEditing.bind(this) },
                React.createElement(
                    "td",
                    { className: "sp" },
                    c.sp
                ),
                this.getName(),
                React.createElement(
                    "td",
                    { className: "estimated_beginning" },
                    c.estimated_beginning
                ),
                React.createElement(
                    "td",
                    { className: "estimated_duration" },
                    c.estimated_duration
                ),
                React.createElement(
                    "td",
                    { className: "delete" },
                    React.createElement(
                        "button",
                        { className: "btn btn-danger", onClick: this.onDelete.bind(this) },
                        "X"
                    )
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            if (this.state.editing) {
                return this.renderEditor();
            } else {
                return this.renderViewer();
            }
        }
    }]);

    return CompetitionPlanItemRow;
}(React.Component);

var CompetitionPlanItemCreationRow = function (_React$Component6) {
    _inherits(CompetitionPlanItemCreationRow, _React$Component6);

    function CompetitionPlanItemCreationRow(props) {
        _classCallCheck(this, CompetitionPlanItemCreationRow);

        var _this10 = _possibleConstructorReturn(this, Object.getPrototypeOf(CompetitionPlanItemCreationRow).call(this, props));

        _this10.state = {
            editing: false
        };
        return _this10;
    }

    _createClass(CompetitionPlanItemCreationRow, [{
        key: "startEditing",
        value: function startEditing() {
            this.setState({
                editing: true
            });
        }
    }, {
        key: "stopEditing",
        value: function stopEditing() {
            this.setState({
                editing: false
            });
        }
    }, {
        key: "renderEditor",
        value: function renderEditor() {
            var empty_data = {
                "sp": "",
                "verbose_name": "",
                "tour_id": null,
                "estimated_duration": "",
                "estimated_beginning": ""
            };
            return React.createElement(CompetitionPlanItemEditorRow, _extends({
                newCompetitionPlanItem: true,
                stopEditing: this.stopEditing.bind(this),
                item: empty_data
            }, this.props));
        }
    }, {
        key: "renderButton",
        value: function renderButton() {
            return React.createElement(
                "tr",
                null,
                React.createElement(
                    "td",
                    { colSpan: "6" },
                    React.createElement(
                        "button",
                        {
                            type: "button",
                            className: "btn btn-default full-width",
                            onClick: this.startEditing.bind(this) },
                        (0, _loader._)("admin.buttons.add_competition_plan_item")
                    )
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            return this.state.editing ? this.renderEditor() : this.renderButton();
        }
    }]);

    return CompetitionPlanItemCreationRow;
}(React.Component);

},{"common/docx":23,"l10n/loader":25,"server/api":28}],12:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CompetitionReport = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _loader = require("l10n/loader");

var _api = require("server/api");

var _storage = require("server/storage");

var _message_dispatcher = require("server/message_dispatcher");

var _admin_components = require("ui/admin_components");

var _components = require("ui/components");

var _printable = require("ui/printable");

var _docx = require("common/docx");

var _tools = require("common/tools");

var _discipline_results = require("../judging/discipline_results");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var CompetitionReport = exports.CompetitionReport = function (_React$Component) {
    _inherits(CompetitionReport, _React$Component);

    function CompetitionReport(props) {
        _classCallCheck(this, CompetitionReport);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(CompetitionReport).call(this, props));

        _this.onConfigChange = function (new_config) {
            _this.setState({
                config: new_config
            });
        };

        _this.createDocx = function () {
            (0, _docx.Docx)("report.docx").setMargins([10, 15, 10, 25]).setTitle1(_this.getTitle()).setBody(_this.refs.printable.fetchPrintableData()).addStyle(".spacer td", "height", "5pt").addStyle(".tour-name", "background", "#ddd").addStyle(".bordered-table .sportsmen td, .bordered-table .sportsmen th", "border", "none").addStyle(".bordered-table .sportsmen td, .bordered-table .sportsmen th", "padding", "0").addStyle(".sportsmen", "width", "100%").save();
        };

        _this.state = {
            competition: null,
            config: {
                include_extended_info: true,
                include_clubs: true,
                include_judges: true,
                include_discipline_judges: false,
                disciplines: {}
            }
        };
        _message_dispatcher.message_dispatcher.addListener("db_update", _this.reloadFromStorage.bind(_this));
        _message_dispatcher.message_dispatcher.addListener("reload_data", _this.loadData.bind(_this));
        return _this;
    }

    _createClass(CompetitionReport, [{
        key: "componentWillMount",
        value: function componentWillMount() {
            this.storage = _storage.storage.getDomain("start_list_" + this.props.competition_id);
            this.reload_listener = _message_dispatcher.message_dispatcher.addListener("reload_data", this.loadData.bind(this));
            this.db_update_listener = _message_dispatcher.message_dispatcher.addListener("db_update", this.reloadFromStorage.bind(this));
            this.loadData();
        }
    }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
            _message_dispatcher.message_dispatcher.removeListener(this.reload_listener);
            _message_dispatcher.message_dispatcher.removeListener(this.db_update_listener);
            _storage.storage.delDomain("start_list_" + this.props.competition_id);
        }
    }, {
        key: "reloadFromStorage",
        value: function reloadFromStorage() {
            var SCHEMA = {
                disciplines: {
                    discipline_judges: {
                        judge: {}
                    }
                },
                judges: {},
                clubs: {
                    participants: {}
                }
            };
            var competition = this.storage.get("Competition").by_id(this.props.competition_id).serialize(SCHEMA);
            var config = (0, _tools.clone)(this.state.config);
            var new_disciplines = {};
            competition.disciplines.forEach(function (discipline) {
                new_disciplines[discipline.id] = discipline.id in config.disciplines ? config.disciplines[discipline.id] : true;
            });
            config.disciplines = new_disciplines;
            this.setState({
                config: config,
                competition: competition
            });
        }
    }, {
        key: "loadData",
        value: function loadData() {
            (0, _api.Api)("competition.get", {
                competition_id: this.props.competition_id,
                children: {
                    disciplines: {
                        discipline_judges: {
                            judge: {}
                        }
                    },
                    judges: {},
                    clubs: {
                        participants: {}
                    }
                }
            }).addToDB("Competition", this.props.competition_id, this.storage).onSuccess(this.reloadFromStorage.bind(this)).send();
        }
    }, {
        key: "getTitle",
        value: function getTitle() {
            var _this2 = this;

            var n_disciplines = Object.keys(this.state.config.disciplines).filter(function (key) {
                return _this2.state.config.disciplines[key];
            }).length;
            var title = n_disciplines > 0 ? (0, _loader._)("admin.headers.competition_report") : (0, _loader._)("admin.headers.competition_info");
            return title;
        }
    }, {
        key: "render",
        value: function render() {
            // eslint-disable-line react/sort-comp
            if (this.state.competition === null) {
                return React.createElement(_components.Loader, null);
            }
            var title = this.getTitle();
            var body = React.createElement(
                "div",
                null,
                React.createElement(Info, this.state),
                React.createElement(Clubs, this.state),
                React.createElement(Judges, this.state),
                React.createElement(DisciplineJudges, this.state),
                React.createElement(Results, this.state)
            );
            return React.createElement(
                "div",
                { className: "app-content" },
                React.createElement(
                    "header",
                    { className: "app-header" },
                    React.createElement(
                        "div",
                        { className: "controls" },
                        React.createElement(
                            "button",
                            { className: "btn btn-primary", onClick: this.createDocx },
                            "DOCX"
                        )
                    ),
                    React.createElement(
                        "h1",
                        null,
                        title
                    )
                ),
                React.createElement(
                    "div",
                    { className: "app-body competition-report" },
                    React.createElement(_admin_components.DisciplinesControls, {
                        custom_controls: [{ key: "include_extended_info", label: (0, _loader._)("admin.labels.include_extended_info") }, { key: "include_clubs", label: (0, _loader._)("admin.labels.include_clubs") }, { key: "include_judges", label: (0, _loader._)("admin.labels.include_judges") }, { key: "include_discipline_judges", label: (0, _loader._)("admin.labels.include_discipline_judges") }],
                        config: this.state.config,
                        disciplines: this.state.competition.disciplines,
                        onChange: this.onConfigChange }),
                    React.createElement(_printable.Printable, {
                        ref: "printable",
                        title1: title,
                        body: body })
                )
            );
        }
    }]);

    return CompetitionReport;
}(React.Component);

var Info = function (_React$Component2) {
    _inherits(Info, _React$Component2);

    function Info() {
        _classCallCheck(this, Info);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(Info).apply(this, arguments));
    }

    _createClass(Info, [{
        key: "renderExtendedInfo",
        value: function renderExtendedInfo() {
            if (!this.props.config.include_extended_info) {
                return null;
            }
            return this.props.competition.info.map(function (row, idx) {
                return React.createElement(
                    "tr",
                    { key: idx },
                    React.createElement(
                        "th",
                        { className: "w-40" },
                        React.createElement(
                            "p",
                            { className: "text-left" },
                            row[0]
                        )
                    ),
                    React.createElement(
                        "td",
                        { className: "w-60" },
                        React.createElement(
                            "p",
                            null,
                            row[1]
                        )
                    )
                );
            });
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "table",
                { className: "info" },
                React.createElement(
                    "tbody",
                    null,
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            { className: "w-40" },
                            React.createElement(
                                "p",
                                { className: "text-left" },
                                (0, _loader._)("admin.labels.competition_name")
                            )
                        ),
                        React.createElement(
                            "td",
                            { className: "w-60" },
                            React.createElement(
                                "p",
                                null,
                                React.createElement(
                                    "strong",
                                    null,
                                    this.props.competition.name
                                )
                            )
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            { className: "w-40" },
                            React.createElement(
                                "p",
                                { className: "text-left" },
                                (0, _loader._)("admin.labels.competition_date")
                            )
                        ),
                        React.createElement(
                            "td",
                            { className: "w-60" },
                            React.createElement(
                                "p",
                                null,
                                React.createElement(
                                    "strong",
                                    null,
                                    this.props.competition.date
                                )
                            )
                        )
                    ),
                    this.renderExtendedInfo()
                )
            );
        }
    }]);

    return Info;
}(React.Component);

var Clubs = function (_React$Component3) {
    _inherits(Clubs, _React$Component3);

    function Clubs() {
        _classCallCheck(this, Clubs);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(Clubs).apply(this, arguments));
    }

    _createClass(Clubs, [{
        key: "render",
        value: function render() {
            if (!this.props.config.include_clubs) {
                return null;
            }
            var clubs = this.props.competition.clubs.filter(function (club) {
                return club.participants.length > 0;
            });
            var clubs_dict = {};
            var cities = [];
            clubs.forEach(function (club) {
                return clubs_dict[club.city] = [];
            });
            clubs.forEach(function (club) {
                return clubs_dict[club.city].push(club.name);
            });
            clubs.forEach(function (club) {
                return clubs_dict[club.city].sort;
            });
            Object.getOwnPropertyNames(clubs_dict).forEach(function (city) {
                return cities.push(city);
            });
            cities.sort();
            return React.createElement(
                "div",
                null,
                React.createElement(
                    "h4",
                    null,
                    React.createElement(
                        "p",
                        null,
                        (0, _loader._)("admin.headers.clubs")
                    )
                ),
                React.createElement(
                    "table",
                    { className: "clubs" },
                    React.createElement(
                        "tbody",
                        null,
                        cities.map(function (city) {
                            return React.createElement(
                                "tr",
                                { key: city, className: "va-top" },
                                React.createElement(
                                    "th",
                                    { className: "w-20" },
                                    React.createElement(
                                        "p",
                                        { className: "text-left" },
                                        city
                                    )
                                ),
                                React.createElement(
                                    "td",
                                    { className: "w-80" },
                                    React.createElement(
                                        "p",
                                        null,
                                        clubs_dict[city].join(", ")
                                    )
                                )
                            );
                        })
                    )
                )
            );
        }
    }]);

    return Clubs;
}(React.Component);

var Judges = function (_React$Component4) {
    _inherits(Judges, _React$Component4);

    function Judges() {
        _classCallCheck(this, Judges);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(Judges).apply(this, arguments));
    }

    _createClass(Judges, [{
        key: "renderIdx",
        value: function renderIdx(idx, numbers) {
            if (!this.props.config.include_discipline_judges) {
                return null;
            }
            return React.createElement(
                "td",
                { className: "w-10" },
                React.createElement(
                    "p",
                    { className: "text-right" },
                    numbers[idx]
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            var _this6 = this;

            if (!this.props.config.include_judges) {
                return null;
            }
            var numbers = Judges.genJudgesNumbers(this.props.competition);
            return React.createElement(
                "div",
                null,
                React.createElement(
                    "h4",
                    null,
                    React.createElement(
                        "p",
                        null,
                        (0, _loader._)("admin.headers.judges")
                    )
                ),
                React.createElement(
                    "table",
                    { className: "judges" },
                    React.createElement(
                        "tbody",
                        null,
                        this.props.competition.judges.map(function (judge, idx) {
                            return React.createElement(
                                "tr",
                                { key: judge.id },
                                _this6.renderIdx(idx, numbers),
                                React.createElement(
                                    "th",
                                    { className: "w-35" },
                                    React.createElement(
                                        "p",
                                        { className: "text-left" },
                                        judge.role_description || (0, _loader._)("global.phrases.judge_n", judge.number)
                                    )
                                ),
                                React.createElement(
                                    "td",
                                    { className: "w-55" },
                                    React.createElement(
                                        "p",
                                        null,
                                        judge.name,
                                        ", ",
                                        judge.category
                                    )
                                )
                            );
                        })
                    )
                )
            );
        }
    }], [{
        key: "genJudgesNumbers",
        value: function genJudgesNumbers(competition) {
            var result = [];
            var numbers_used = {};
            competition.judges.forEach(function (j, idx) {
                var number = j.number;
                var appendix = "";
                var cnt = 0;
                while (numbers_used[number + appendix]) {
                    appendix = number === "" ? cnt.toString() : "-" + ++cnt;
                }
                numbers_used[number + appendix] = true;
                result.push(number + appendix);
            });
            return result;
        }
    }]);

    return Judges;
}(React.Component);

var DisciplineJudges = function (_React$Component5) {
    _inherits(DisciplineJudges, _React$Component5);

    function DisciplineJudges() {
        _classCallCheck(this, DisciplineJudges);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(DisciplineJudges).apply(this, arguments));
    }

    _createClass(DisciplineJudges, [{
        key: "getJudgesDisciplines",
        value: function getJudgesDisciplines() {
            var _this8 = this;

            var judges_used = {};
            var roles = {};
            this.props.competition.disciplines.forEach(function (discipline) {
                discipline.discipline_judges.forEach(function (discipline_judge) {
                    roles[discipline.id + "_" + discipline_judge.judge.id] = discipline_judge.role;
                    judges_used[discipline_judge.judge.id] = true;
                });
            });
            var judges = [];
            var judges_numbers = Judges.genJudgesNumbers(this.props.competition);
            this.props.competition.judges.forEach(function (j, idx) {
                if (judges_used[j.id]) {
                    judges.push({
                        number: judges_numbers[idx],
                        idx: idx
                    });
                }
            });
            var table = this.props.competition.disciplines.map(function (discipline) {
                return judges.map(function (judge) {
                    return roles[discipline.id + "_" + _this8.props.competition.judges[judge.idx].id] || null;
                });
            });
            return { judges: judges, table: table };
        }
    }, {
        key: "render",
        value: function render() {
            var _this9 = this;

            if (!this.props.config.include_discipline_judges) {
                return null;
            }
            var data = this.getJudgesDisciplines();
            var style = { width: (60 / data.judges.length).toFixed(3) + "%" };
            return React.createElement(
                "div",
                { div: true, className: "discipline-judges" },
                React.createElement(
                    "h4",
                    null,
                    React.createElement(
                        "p",
                        null,
                        (0, _loader._)("admin.headers.discipline_judges")
                    )
                ),
                React.createElement(
                    "table",
                    { className: "bordered-table" },
                    React.createElement(
                        "tbody",
                        null,
                        React.createElement(
                            "tr",
                            null,
                            React.createElement(
                                "th",
                                { className: "w-40" },
                                React.createElement(
                                    "p",
                                    { className: "text-left" },
                                    (0, _loader._)("admin.labels.discipline")
                                )
                            ),
                            data.judges.map(function (judge) {
                                return React.createElement(
                                    "th",
                                    { style: style, key: judge.idx },
                                    React.createElement(
                                        "p",
                                        { className: "text-center" },
                                        judge.number
                                    )
                                );
                            })
                        ),
                        data.table.map(function (row, idx) {
                            var discipline = _this9.props.competition.disciplines[idx];
                            return React.createElement(
                                "tr",
                                { key: discipline.id },
                                React.createElement(
                                    "th",
                                    { className: "w-40" },
                                    React.createElement(
                                        "p",
                                        { className: "text-left" },
                                        discipline.name
                                    )
                                ),
                                row.map(function (cell, idx) {
                                    return React.createElement(
                                        "td",
                                        { style: style, key: idx },
                                        React.createElement(
                                            "p",
                                            { className: "text-center" },
                                            cell ? (0, _loader._)("models.discipline_judge.roles." + cell) : "—"
                                        )
                                    );
                                })
                            );
                        })
                    )
                ),
                (0, _loader._)("models.discipline_judge.roles_legend")
            );
        }
    }]);

    return DisciplineJudges;
}(React.Component);

var Results = function (_React$Component6) {
    _inherits(Results, _React$Component6);

    function Results() {
        var _Object$getPrototypeO;

        var _temp, _this10, _ret;

        _classCallCheck(this, Results);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this10 = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(Results)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this10), _this10.renderDiscipline = function (discipline) {
            if (!_this10.props.config.disciplines[discipline.id]) {
                return null;
            }
            return React.createElement(
                "div",
                { key: discipline.id },
                React.createElement(
                    "h5",
                    null,
                    React.createElement(
                        "p",
                        null,
                        discipline.name
                    )
                ),
                React.createElement(_discipline_results.DisciplineResults, {
                    discipline_id: discipline.id,
                    renderer: "table" })
            );
        }, _temp), _possibleConstructorReturn(_this10, _ret);
    }

    _createClass(Results, [{
        key: "render",
        value: function render() {
            var has_disciplines = false;
            for (var i = 0; i < this.props.competition.disciplines.length; ++i) {
                var discipline_id = this.props.competition.disciplines[i].id;
                if (this.props.config.disciplines[discipline_id]) {
                    has_disciplines = true;
                    break;
                }
            }
            if (!has_disciplines) {
                return null;
            }
            return React.createElement(
                "div",
                null,
                React.createElement(
                    "h4",
                    null,
                    React.createElement(
                        "p",
                        null,
                        (0, _loader._)("admin.headers.competition_results")
                    )
                ),
                this.props.competition.disciplines.map(this.renderDiscipline)
            );
        }
    }]);

    return Results;
}(React.Component);

},{"../judging/discipline_results":2,"common/docx":23,"common/tools":24,"l10n/loader":25,"server/api":28,"server/message_dispatcher":29,"server/storage":30,"ui/admin_components":31,"ui/components":32,"ui/printable":34}],13:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Disciplines = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _loader = require("l10n/loader");

var _api = require("server/api");

var _dialogs = require("ui/dialogs");

var _definitions = require("common/definitions");

var _tools = require("common/tools");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Disciplines = exports.Disciplines = function (_React$Component) {
    _inherits(Disciplines, _React$Component);

    function Disciplines(props) {
        _classCallCheck(this, Disciplines);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Disciplines).call(this, props));

        _this.state = {
            creating: false
        };
        return _this;
    }

    _createClass(Disciplines, [{
        key: "renderTable",
        value: function renderTable() {
            var rows = this.props.disciplines.map(function (discipline) {
                return React.createElement(DisciplineRow, {
                    key: discipline.id,
                    judges: this.props.judges,
                    discipline: discipline,
                    all_disciplines: this.props.disciplines });
            }.bind(this));
            return React.createElement(
                "div",
                { className: "manage-disciplines" },
                React.createElement(
                    "table",
                    { className: "table table-striped" },
                    React.createElement(
                        "tbody",
                        null,
                        React.createElement(
                            "tr",
                            null,
                            React.createElement(
                                "th",
                                { className: "name" },
                                (0, _loader._)("models.discipline.name")
                            ),
                            React.createElement(
                                "th",
                                { className: "sp" },
                                (0, _loader._)("models.discipline.sp")
                            ),
                            React.createElement(
                                "th",
                                { className: "external-id" },
                                (0, _loader._)("models.discipline.external_id")
                            ),
                            React.createElement("th", { className: "delete" })
                        ),
                        rows,
                        React.createElement(DisciplineCreationRow, {
                            judges: this.props.judges,
                            competition_id: this.props.competition_id })
                    )
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "app-content" },
                React.createElement(
                    "header",
                    { className: "app-header" },
                    React.createElement(
                        "h1",
                        null,
                        (0, _loader._)("admin.headers.disciplines_management")
                    )
                ),
                React.createElement(
                    "div",
                    { className: "app-body" },
                    this.renderTable()
                )
            );
        }
    }]);

    return Disciplines;
}(React.Component);

var DisciplineEditorRow = function (_React$Component2) {
    _inherits(DisciplineEditorRow, _React$Component2);

    function DisciplineEditorRow(props) {
        _classCallCheck(this, DisciplineEditorRow);

        var _this2 = _possibleConstructorReturn(this, Object.getPrototypeOf(DisciplineEditorRow).call(this, props));

        _this2.state = {
            discipline_judges: props.discipline.discipline_judges.map(function (dj) {
                return {
                    judge_id: dj.judge.id,
                    role: dj.role
                };
            })
        };
        return _this2;
    }

    _createClass(DisciplineEditorRow, [{
        key: "addDisciplineJudge",
        value: function addDisciplineJudge() {
            var discipline_judges = (0, _tools.clone)(this.state.discipline_judges);
            var new_idx = discipline_judges.length;
            discipline_judges.push({
                judge_id: this.props.judges[0] && this.props.judges[0].id,
                role: _definitions.GL.judge_roles[0]
            });
            this.latest_added = "j" + new_idx;
            this.setState({
                discipline_judges: discipline_judges
            });
        }
    }, {
        key: "removeDisciplineJudge",
        value: function removeDisciplineJudge(idx) {
            var discipline_judges = (0, _tools.clone)(this.state.discipline_judges);
            discipline_judges.splice(idx, 1);
            this.setState({
                discipline_judges: discipline_judges
            });
        }
    }, {
        key: "validate",
        value: function validate() {
            var used_judges = {};
            this.state.discipline_judges.forEach(function (dj) {
                if (used_judges[dj.judge_id]) {
                    var judge = this.props.judges.filter(function (j) {
                        return j.id === dj.judge_id;
                    })[0];
                    throw (0, _loader._)("errors.discipline_judge.repeating_judge", judge.name);
                }
                used_judges[dj.judge_id] = true;
            }.bind(this));
        }
    }, {
        key: "serialize",
        value: function serialize() {
            return {
                name: this._name.value,
                sp: this._sp.value,
                discipline_judges: this.state.discipline_judges.map(function (dj) {
                    return {
                        judge_id: parseInt(dj.judge_id),
                        role: dj.role
                    };
                }),
                external_id: this._external_id.value
            };
        }
    }, {
        key: "onDisciplineJudgeChange",
        value: function onDisciplineJudgeChange(idx, field, event) {
            var discipline_judges = (0, _tools.clone)(this.state.discipline_judges);
            discipline_judges[idx][field] = event.target.value;
            this.setState({
                discipline_judges: discipline_judges
            });
        }
    }, {
        key: "onSubmit",
        value: function onSubmit(event) {
            event.preventDefault();
            try {
                this.validate();
                if (!this.props.newDiscipline) {
                    (0, _api.Api)("discipline.set", {
                        discipline_id: this.props.discipline.id,
                        data: this.serialize()
                    }).onSuccess(this.props.stopEditing).send();
                } else {
                    (0, _api.Api)("discipline.create", {
                        competition_id: this.props.competition_id,
                        data: this.serialize()
                    }).onSuccess(this.props.stopEditing).send();
                }
            } catch (ex) {
                (0, _dialogs.showError)(ex);
            }
        }
    }, {
        key: "render",
        value: function render() {
            var _this3 = this;

            return React.createElement(
                "tr",
                { className: "editor" + (this.props.newDiscipline ? " create" : "") },
                React.createElement(
                    "td",
                    { colSpan: "5" },
                    React.createElement(
                        "form",
                        { onSubmit: this.onSubmit.bind(this) },
                        React.createElement(
                            "div",
                            { className: "row" },
                            React.createElement(
                                "div",
                                { className: "col-lg-4" },
                                React.createElement(
                                    "label",
                                    { className: "full-width" },
                                    (0, _loader._)("models.discipline.name"),
                                    React.createElement("input", {
                                        ref: function (e) {
                                            if (e) {
                                                this._name = e;
                                            }
                                        }.bind(this),
                                        className: "full-width",
                                        defaultValue: this.props.discipline.name })
                                ),
                                React.createElement(
                                    "div",
                                    { className: "row" },
                                    React.createElement(
                                        "div",
                                        { className: "col-lg-6" },
                                        React.createElement(
                                            "label",
                                            { className: "full-width" },
                                            (0, _loader._)("models.discipline.sp"),
                                            React.createElement("input", {
                                                ref: function ref(e) {
                                                    return e && (_this3._sp = e);
                                                },
                                                className: "full-width",
                                                defaultValue: this.props.discipline.sp })
                                        )
                                    ),
                                    React.createElement(
                                        "div",
                                        { className: "col-lg-6" },
                                        React.createElement(
                                            "label",
                                            { className: "full-width" },
                                            (0, _loader._)("models.discipline.external_id"),
                                            React.createElement("br", null),
                                            React.createElement("input", {
                                                ref: function ref(e) {
                                                    return e && (_this3._external_id = e);
                                                },
                                                className: "full-width",
                                                defaultValue: this.props.discipline.external_id })
                                        )
                                    )
                                )
                            ),
                            React.createElement(
                                "div",
                                { className: "col-lg-6" },
                                React.createElement(
                                    "label",
                                    { className: "full-width" },
                                    (0, _loader._)("models.discipline.discipline_judges")
                                ),
                                this.state.discipline_judges.map(function (dj, idx) {
                                    return React.createElement(
                                        "div",
                                        { key: idx },
                                        React.createElement(
                                            "select",
                                            { value: dj.judge_id, className: "judge", onChange: _this3.onDisciplineJudgeChange.bind(_this3, idx, "judge_id") },
                                            _this3.props.judges.map(function (j) {
                                                return React.createElement(
                                                    "option",
                                                    { value: j.id, key: j.id },
                                                    j.name
                                                );
                                            })
                                        ),
                                        React.createElement(
                                            "select",
                                            { value: dj.role, className: "judge-role", onChange: _this3.onDisciplineJudgeChange.bind(_this3, idx, "role") },
                                            _definitions.GL.judge_roles.map(function (jr) {
                                                return React.createElement(
                                                    "option",
                                                    { value: jr, key: jr },
                                                    (0, _loader._)("judge_roles." + jr)
                                                );
                                            })
                                        ),
                                        React.createElement(
                                            "button",
                                            {
                                                type: "button",
                                                className: "del btn btn-danger",
                                                onClick: _this3.removeDisciplineJudge.bind(_this3, idx) },
                                            "X"
                                        )
                                    );
                                }),
                                React.createElement(
                                    "button",
                                    {
                                        type: "button",
                                        className: "full-width btn btn-sm btn-default",
                                        onClick: this.addDisciplineJudge.bind(this) },
                                    (0, _loader._)("global.buttons.add")
                                )
                            ),
                            React.createElement(
                                "div",
                                { className: "col-lg-2" },
                                React.createElement(
                                    "label",
                                    null,
                                    " "
                                ),
                                React.createElement(
                                    "div",
                                    { className: "buttons" },
                                    React.createElement(
                                        "button",
                                        {
                                            type: "submit",
                                            className: "btn btn-primary" },
                                        (0, _loader._)("global.buttons.submit")
                                    ),
                                    React.createElement("br", null),
                                    React.createElement(
                                        "button",
                                        {
                                            type: "button",
                                            className: "btn btn-danger",
                                            onClick: this.props.stopEditing },
                                        (0, _loader._)("global.buttons.discard")
                                    )
                                )
                            )
                        )
                    )
                )
            );
        }
    }]);

    return DisciplineEditorRow;
}(React.Component);

var DisciplineRow = function (_React$Component3) {
    _inherits(DisciplineRow, _React$Component3);

    function DisciplineRow(props) {
        _classCallCheck(this, DisciplineRow);

        var _this4 = _possibleConstructorReturn(this, Object.getPrototypeOf(DisciplineRow).call(this, props));

        _this4.state = {
            editing: false
        };
        return _this4;
    }

    _createClass(DisciplineRow, [{
        key: "startEditing",
        value: function startEditing() {
            this.setState({
                editing: true
            });
        }
    }, {
        key: "stopEditing",
        value: function stopEditing() {
            this.setState({
                editing: false
            });
        }
    }, {
        key: "onDelete",
        value: function onDelete(event) {
            var _this5 = this;

            event.stopPropagation();
            (0, _dialogs.showConfirm)((0, _loader._)("admin.confirms.delete_discipline"), function () {
                (0, _api.Api)("discipline.delete", {
                    discipline_id: _this5.props.discipline.id
                }).onSuccess(function () {
                    return swal.close();
                }).send();
            });
        }
    }, {
        key: "renderEditor",
        value: function renderEditor() {
            return React.createElement(DisciplineEditorRow, _extends({
                newDiscipline: false,
                stopEditing: this.stopEditing.bind(this)
            }, this.props));
        }
    }, {
        key: "renderViewer",
        value: function renderViewer() {
            var c = this.props.discipline;
            return React.createElement(
                "tr",
                { className: "viewer", onClick: this.startEditing.bind(this) },
                React.createElement(
                    "td",
                    { className: "name" },
                    c.name
                ),
                React.createElement(
                    "td",
                    { className: "sp" },
                    c.sp
                ),
                React.createElement(
                    "td",
                    { className: "external-id" },
                    c.external_id
                ),
                React.createElement(
                    "td",
                    { className: "delete" },
                    React.createElement(
                        "button",
                        { className: "btn btn-danger", onClick: this.onDelete.bind(this) },
                        "X"
                    )
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            if (this.state.editing) {
                return this.renderEditor();
            } else {
                return this.renderViewer();
            }
        }
    }]);

    return DisciplineRow;
}(React.Component);

var DisciplineCreationRow = function (_React$Component4) {
    _inherits(DisciplineCreationRow, _React$Component4);

    function DisciplineCreationRow(props) {
        _classCallCheck(this, DisciplineCreationRow);

        var _this6 = _possibleConstructorReturn(this, Object.getPrototypeOf(DisciplineCreationRow).call(this, props));

        _this6.state = {
            editing: false
        };
        return _this6;
    }

    _createClass(DisciplineCreationRow, [{
        key: "startEditing",
        value: function startEditing() {
            this.setState({
                editing: true
            });
        }
    }, {
        key: "stopEditing",
        value: function stopEditing() {
            this.setState({
                editing: false
            });
        }
    }, {
        key: "renderEditor",
        value: function renderEditor() {
            var empty_data = {
                "name": "",
                "discipline_judges": [],
                "sp": "0",
                "external_id": ""
            };
            return React.createElement(DisciplineEditorRow, _extends({
                newDiscipline: true,
                stopEditing: this.stopEditing.bind(this),
                discipline: empty_data
            }, this.props));
        }
    }, {
        key: "renderButton",
        value: function renderButton() {
            return React.createElement(
                "tr",
                null,
                React.createElement(
                    "td",
                    { colSpan: "5" },
                    React.createElement(
                        "button",
                        {
                            type: "button",
                            className: "btn btn-default full-width",
                            onClick: this.startEditing.bind(this) },
                        (0, _loader._)("admin.buttons.add_discipline")
                    )
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            return this.state.editing ? this.renderEditor() : this.renderButton();
        }
    }]);

    return DisciplineCreationRow;
}(React.Component);

},{"common/definitions":22,"common/tools":24,"l10n/loader":25,"server/api":28,"ui/dialogs":33}],14:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ImportExport = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _loader = require("l10n/loader");

var _api = require("server/api");

var _tools = require("common/tools");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ImportExport = exports.ImportExport = function (_React$Component) {
    _inherits(ImportExport, _React$Component);

    function ImportExport(props) {
        _classCallCheck(this, ImportExport);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ImportExport).call(this, props));

        _this.makeSelectorRef = function (e) {
            _this._selector = e;
        };

        _this.state = {
            import_files: [],
            submitting: false
        };
        return _this;
    }

    _createClass(ImportExport, [{
        key: "import",
        value: function _import() {
            var _this2 = this;

            var reader = new FileReader();
            this.setState({
                submitting: true
            });
            reader.onload = function (f) {
                (0, _api.Api)("competition.load", {
                    competition_id: _this2.props.competition_id,
                    data: f.target.result,
                    items: _this2._selector.getValue()
                }).onSuccess(function () {
                    swal({
                        title: (0, _loader._)("global.messages.success"),
                        type: "success",
                        animation: false
                    });
                }).onDone(function () {
                    _this2.setState({
                        submitting: false
                    });
                }).send();
            };
            reader.readAsText(this.state.import_files[0]);
        }
    }, {
        key: "export",
        value: function _export() {
            (0, _api.Api)("competition.export", { competition_id: this.props.competition_id }).onSuccess(function (r) {
                return saveAs(new Blob([JSON.stringify(r)], { type: 'application/json' }), "rockjudge.export.json");
            }).send();
        }
    }, {
        key: "onSubmit",
        value: function onSubmit(event) {
            event.preventDefault();
            var data = this._input.value;
        }
    }, {
        key: "render",
        value: function render() {
            var _this3 = this;

            return React.createElement(
                "div",
                { className: "app-content load-competition-page" },
                React.createElement(
                    "header",
                    { className: "app-head" },
                    React.createElement(
                        "h1",
                        null,
                        (0, _loader._)("admin.headers.import_export")
                    )
                ),
                React.createElement(
                    "div",
                    { className: "import-export" },
                    React.createElement(
                        "h3",
                        null,
                        (0, _loader._)("admin.headers.import_competition")
                    ),
                    React.createElement(
                        "form",
                        { className: "import-form", onSubmit: function onSubmit(e) {
                                e.preventDefault();_this3.import();
                            } },
                        React.createElement(
                            "label",
                            { className: "browse" },
                            React.createElement(
                                "div",
                                null,
                                (0, _loader._)("global.labels.browse")
                            ),
                            this.state.import_files.length === 0 ? (0, _loader._)("admin.labels.no_files_selected") : this.state.import_files[0].name,
                            React.createElement("input", { type: "file",
                                onChange: function onChange(e) {
                                    return _this3.setState({ import_files: e.target.files });
                                } })
                        ),
                        React.createElement("br", null),
                        React.createElement(ImportItemsSelector, {
                            ref: this.makeSelectorRef }),
                        React.createElement("br", null),
                        React.createElement(
                            "button",
                            { type: "submit",
                                className: "btn btn-primary",
                                disabled: this.state.import_files.length !== 1 || this.state.submitting },
                            (0, _loader._)("admin.buttons.import")
                        )
                    ),
                    React.createElement(
                        "h3",
                        null,
                        (0, _loader._)("admin.headers.export_competition")
                    ),
                    React.createElement(
                        "button",
                        { type: "button",
                            className: "btn btn-primary",
                            onClick: this.export.bind(this) },
                        (0, _loader._)("admin.buttons.export")
                    )
                )
            );
        }
    }]);

    return ImportExport;
}(React.Component);

var ImportItemsSelector = function (_React$Component2) {
    _inherits(ImportItemsSelector, _React$Component2);

    function ImportItemsSelector(props) {
        _classCallCheck(this, ImportItemsSelector);

        var _this4 = _possibleConstructorReturn(this, Object.getPrototypeOf(ImportItemsSelector).call(this, props));

        _this4.onChange = function (type, value) {
            var new_items = (0, _tools.clone)(_this4.state.items);
            new_items[type] = value;
            if (type === "disciplines" && !value) {
                new_items.tours = false;
                new_items.participants = false;
                new_items.discipline_judges = false;
            }
            if (type === "clubs" && !value) {
                new_items.participants = false;
            }
            if (type === "judges" && !value) {
                new_items.discipline_judges = false;
            }
            _this4.setState({
                items: new_items
            });
        };

        _this4.state = {
            items: {
                disciplines: true,
                tours: true,
                participants: true,
                discipline_judges: true,
                plan: true,
                judges: true,
                clubs: true
            }
        };
        return _this4;
    }

    _createClass(ImportItemsSelector, [{
        key: "getValue",
        value: function getValue() {
            return this.state.items;
        }
    }, {
        key: "renderCheckbox",
        value: function renderCheckbox(type) {
            var disabled = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];

            return React.createElement(ImportItemsCheckbox, {
                type: type,
                label: (0, _loader._)("admin.labels." + type),
                value: this.state.items[type],
                disabled: disabled,
                onChange: this.onChange });
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "import-items-selector" },
                this.renderCheckbox("disciplines"),
                this.renderCheckbox("clubs"),
                this.renderCheckbox("judges"),
                this.renderCheckbox("tours", !this.state.items.disciplines),
                this.renderCheckbox("participants", !this.state.items.disciplines || !this.state.items.clubs),
                this.renderCheckbox("discipline_judges", !this.state.items.disciplines || !this.state.items.judges),
                this.renderCheckbox("plan")
            );
        }
    }]);

    return ImportItemsSelector;
}(React.Component);

var ImportItemsCheckbox = function (_React$Component3) {
    _inherits(ImportItemsCheckbox, _React$Component3);

    function ImportItemsCheckbox(props) {
        _classCallCheck(this, ImportItemsCheckbox);

        var _this5 = _possibleConstructorReturn(this, Object.getPrototypeOf(ImportItemsCheckbox).call(this, props));

        _this5.onChange = function (e) {
            _this5.props.onChange(_this5.props.type, e.target.checked);
        };

        return _this5;
    }

    _createClass(ImportItemsCheckbox, [{
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "switch" },
                React.createElement(
                    "label",
                    null,
                    React.createElement("input", {
                        type: "checkbox",
                        checked: this.props.value,
                        disabled: this.props.disabled,
                        onChange: this.onChange }),
                    this.props.label
                )
            );
        }
    }]);

    return ImportItemsCheckbox;
}(React.Component);

},{"common/tools":24,"l10n/loader":25,"server/api":28}],15:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Judges = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _loader = require("l10n/loader");

var _api = require("server/api");

var _dialogs = require("ui/dialogs");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Judges = exports.Judges = function (_React$Component) {
    _inherits(Judges, _React$Component);

    function Judges(props) {
        _classCallCheck(this, Judges);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Judges).call(this, props));

        _this.state = {
            creating: false
        };
        return _this;
    }

    _createClass(Judges, [{
        key: "renderTable",
        value: function renderTable() {
            var rows = this.props.judges.map(function (judge) {
                return React.createElement(JudgeRow, {
                    key: judge.id,
                    judge: judge });
            }.bind(this));
            return React.createElement(
                "div",
                { className: "manage-judges" },
                React.createElement(
                    "table",
                    { className: "table table-striped" },
                    React.createElement(
                        "tbody",
                        null,
                        React.createElement(
                            "tr",
                            null,
                            React.createElement(
                                "th",
                                { className: "role_description" },
                                (0, _loader._)("models.judge.role_description")
                            ),
                            React.createElement(
                                "th",
                                { className: "name" },
                                (0, _loader._)("models.judge.name")
                            ),
                            React.createElement(
                                "th",
                                { className: "category" },
                                (0, _loader._)("models.judge.category")
                            ),
                            React.createElement("th", { className: "delete" })
                        ),
                        rows,
                        React.createElement(JudgeCreationRow, { competition_id: this.props.competition_id })
                    )
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "app-content" },
                React.createElement(
                    "header",
                    { className: "app-header" },
                    React.createElement(
                        "h1",
                        null,
                        (0, _loader._)("admin.headers.judges_management")
                    )
                ),
                React.createElement(
                    "div",
                    { className: "app-body" },
                    this.renderTable()
                )
            );
        }
    }]);

    return Judges;
}(React.Component);

var JudgeEditorRow = function (_React$Component2) {
    _inherits(JudgeEditorRow, _React$Component2);

    function JudgeEditorRow() {
        _classCallCheck(this, JudgeEditorRow);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(JudgeEditorRow).apply(this, arguments));
    }

    _createClass(JudgeEditorRow, [{
        key: "sertialize",
        value: function sertialize() {
            return {
                name: this._name.value,
                number: this._number.value,
                category: this._category.value,
                role_description: this._role_description.value,
                sp: this._sp.value,
                external_id: this._external_id.value
            };
        }
    }, {
        key: "onSubmit",
        value: function onSubmit(event) {
            event.preventDefault();
            if (!this.props.newJudge) {
                (0, _api.Api)("judge.set", {
                    judge_id: this.props.judge.id,
                    data: this.sertialize()
                }).onSuccess(this.props.stopEditing).send();
            } else {
                (0, _api.Api)("judge.create", {
                    competition_id: this.props.competition_id,
                    data: this.sertialize()
                }).onSuccess(this.props.stopEditing).send();
            }
        }
    }, {
        key: "render",
        value: function render() {
            var _this3 = this;

            return React.createElement(
                "tr",
                { className: "editor" + (this.props.newJudge ? " create" : "") },
                React.createElement(
                    "td",
                    { colSpan: "5" },
                    React.createElement(
                        "form",
                        { onSubmit: this.onSubmit.bind(this) },
                        React.createElement(
                            "div",
                            { className: "row" },
                            React.createElement(
                                "div",
                                { className: "col-lg-1" },
                                React.createElement(
                                    "label",
                                    { className: "full-width" },
                                    (0, _loader._)("models.judge.number"),
                                    React.createElement("input", {
                                        ref: function ref(e) {
                                            if (e) {
                                                if (!_this3._number) {
                                                    e.select();_this3._number = e;
                                                }
                                            }
                                        },
                                        className: "full-width",
                                        defaultValue: this.props.judge.number })
                                )
                            ),
                            React.createElement(
                                "div",
                                { className: "col-lg-1" },
                                React.createElement(
                                    "label",
                                    { className: "full-width" },
                                    (0, _loader._)("models.judge.category"),
                                    React.createElement("input", {
                                        ref: function ref(e) {
                                            return e && (_this3._category = e);
                                        },
                                        className: "full-width",
                                        defaultValue: this.props.judge.category })
                                )
                            ),
                            React.createElement(
                                "div",
                                { className: "col-lg-3" },
                                React.createElement(
                                    "label",
                                    { className: "full-width" },
                                    (0, _loader._)("models.judge.name"),
                                    React.createElement("input", {
                                        ref: function ref(e) {
                                            return e && (_this3._name = e);
                                        },
                                        className: "full-width",
                                        defaultValue: this.props.judge.name })
                                )
                            ),
                            React.createElement(
                                "div",
                                { className: "col-lg-3" },
                                React.createElement(
                                    "label",
                                    { className: "full-width" },
                                    (0, _loader._)("models.judge.role_description"),
                                    React.createElement("input", {
                                        ref: function ref(e) {
                                            return e && (_this3._role_description = e);
                                        },
                                        className: "full-width",
                                        defaultValue: this.props.judge.role_description })
                                )
                            ),
                            React.createElement(
                                "div",
                                { className: "col-lg-1" },
                                React.createElement(
                                    "label",
                                    { className: "full-width" },
                                    (0, _loader._)("models.judge.external_id"),
                                    React.createElement("input", {
                                        ref: function ref(e) {
                                            return e && (_this3._external_id = e);
                                        },
                                        className: "full-width",
                                        defaultValue: this.props.judge.external_id })
                                )
                            ),
                            React.createElement(
                                "div",
                                { className: "col-lg-1" },
                                React.createElement(
                                    "label",
                                    { className: "full-width" },
                                    (0, _loader._)("models.judge.sp"),
                                    React.createElement("input", {
                                        ref: function ref(e) {
                                            return e && (_this3._sp = e);
                                        },
                                        className: "full-width",
                                        defaultValue: this.props.judge.sp })
                                )
                            ),
                            React.createElement(
                                "div",
                                { className: "col-lg-2" },
                                React.createElement(
                                    "div",
                                    { className: "buttons" },
                                    React.createElement(
                                        "button",
                                        {
                                            type: "submit",
                                            className: "btn btn-sm btn-primary" },
                                        (0, _loader._)("global.buttons.submit")
                                    ),
                                    React.createElement(
                                        "button",
                                        {
                                            type: "button",
                                            className: "btn btn-sm btn-danger",
                                            onClick: this.props.stopEditing },
                                        (0, _loader._)("global.buttons.discard")
                                    )
                                )
                            )
                        )
                    )
                )
            );
        }
    }]);

    return JudgeEditorRow;
}(React.Component);

var JudgeRow = function (_React$Component3) {
    _inherits(JudgeRow, _React$Component3);

    function JudgeRow(props) {
        _classCallCheck(this, JudgeRow);

        var _this4 = _possibleConstructorReturn(this, Object.getPrototypeOf(JudgeRow).call(this, props));

        _this4.state = {
            editing: false
        };
        return _this4;
    }

    _createClass(JudgeRow, [{
        key: "startEditing",
        value: function startEditing() {
            this.setState({
                editing: true
            });
        }
    }, {
        key: "stopEditing",
        value: function stopEditing() {
            this.setState({
                editing: false
            });
        }
    }, {
        key: "onDelete",
        value: function onDelete(event) {
            var _this5 = this;

            event.stopPropagation();
            (0, _dialogs.showConfirm)((0, _loader._)("admin.confirms.delete_judge"), function () {
                (0, _api.Api)("judge.delete", {
                    judge_id: _this5.props.judge.id
                }).onSuccess(function () {
                    return swal.close();
                }).send();
            });
        }
    }, {
        key: "renderEditor",
        value: function renderEditor() {
            return React.createElement(JudgeEditorRow, _extends({
                newJudge: false,
                stopEditing: this.stopEditing.bind(this)
            }, this.props));
        }
    }, {
        key: "renderViewer",
        value: function renderViewer() {
            var j = this.props.judge;
            return React.createElement(
                "tr",
                { className: "viewer", onClick: this.startEditing.bind(this) },
                React.createElement(
                    "td",
                    { className: "role-description" },
                    j.role_description || (0, _loader._)("global.phrases.judge_n", j.number)
                ),
                React.createElement(
                    "td",
                    { className: "name" },
                    j.name
                ),
                React.createElement(
                    "td",
                    { className: "category" },
                    j.category
                ),
                React.createElement(
                    "td",
                    { className: "delete" },
                    React.createElement(
                        "button",
                        { className: "btn btn-danger", onClick: this.onDelete.bind(this) },
                        "X"
                    )
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            if (this.state.editing) {
                return this.renderEditor();
            } else {
                return this.renderViewer();
            }
        }
    }]);

    return JudgeRow;
}(React.Component);

var JudgeCreationRow = function (_React$Component4) {
    _inherits(JudgeCreationRow, _React$Component4);

    function JudgeCreationRow(props) {
        _classCallCheck(this, JudgeCreationRow);

        var _this6 = _possibleConstructorReturn(this, Object.getPrototypeOf(JudgeCreationRow).call(this, props));

        _this6.state = {
            editing: false
        };
        return _this6;
    }

    _createClass(JudgeCreationRow, [{
        key: "startEditing",
        value: function startEditing() {
            this.setState({
                editing: true
            });
        }
    }, {
        key: "stopEditing",
        value: function stopEditing() {
            this.setState({
                editing: false
            });
        }
    }, {
        key: "renderEditor",
        value: function renderEditor() {
            var empty_data = {
                "name": "",
                "number": "",
                "role_description": "",
                "category": ""
            };
            return React.createElement(JudgeEditorRow, _extends({
                newJudge: true,
                stopEditing: this.stopEditing.bind(this),
                judge: empty_data
            }, this.props));
        }
    }, {
        key: "renderButton",
        value: function renderButton() {
            return React.createElement(
                "tr",
                null,
                React.createElement(
                    "td",
                    { colSpan: "5" },
                    React.createElement(
                        "button",
                        {
                            type: "button",
                            className: "btn btn-default full-width",
                            onClick: this.startEditing.bind(this) },
                        (0, _loader._)("admin.buttons.add_judge")
                    )
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            return this.state.editing ? this.renderEditor() : this.renderButton();
        }
    }]);

    return JudgeCreationRow;
}(React.Component);

},{"l10n/loader":25,"server/api":28,"ui/dialogs":33}],16:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Management = undefined;

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _loader = require("l10n/loader");

var _clubs = require("./clubs");

var _competition_plan = require("./competition_plan");

var _competition_report = require("./competition_report");

var _disciplines = require("./disciplines");

var _import_export = require("./import_export");

var _judges = require("./judges");

var _participants = require("./participants");

var _start_list = require("./start_list");

var _tours = require("./tours");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Management = exports.Management = function (_React$Component) {
    _inherits(Management, _React$Component);

    function Management(props) {
        _classCallCheck(this, Management);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Management).call(this, props));

        _this.state = {
            "page": _this.getPageFromHash(),
            "page_props": _this.getPagePropsFromHash()
        };
        return _this;
    }

    _createClass(Management, [{
        key: "switchPage",
        value: function switchPage(page, props) {
            this.setState({
                page: page,
                page_props: props
            });
            var props_pairs = [];
            Object.getOwnPropertyNames(props).forEach(function (key) {
                props_pairs.push([key, props[key]]);
            });
            window.location.hash = "#management/" + page + "/" + props_pairs.map(function (p) {
                return p.join("=");
            }).join("$");
        }
    }, {
        key: "getPageFromHash",
        value: function getPageFromHash() {
            var chunks = window.location.hash.substr(1).split("/");
            if (chunks[1] && ["import_export", "manage_competition_plan", "manage_tours", "manage_participants", "manage_judges", "manage_clubs", "manage_disciplines", "start_list", "competition_report"].indexOf(chunks[1]) >= 0) {
                return chunks[1];
            }
            return null;
        }
    }, {
        key: "getPagePropsFromHash",
        value: function getPagePropsFromHash() {
            var chunks = window.location.hash.substr(1).split("/");
            if (chunks[2]) {
                var _ret = function () {
                    var result = {};
                    chunks[2].split("$").forEach(function (pair_str) {
                        var pair = pair_str.split("=");
                        result[pair[0]] = pair[1];
                    });
                    return {
                        v: result
                    };
                }();

                if ((typeof _ret === "undefined" ? "undefined" : _typeof(_ret)) === "object") return _ret.v;
            }
            return {};
        }
    }, {
        key: "renderDiscipline",
        value: function renderDiscipline(ic, page) {
            return React.createElement(
                "div",
                {
                    className: "level-2" + (this.state.page === page && this.state.page_props.discipline_id === ic.id ? " active" : ""),
                    key: ic.id,
                    onClick: this.switchPage.bind(this, page, { discipline_id: ic.id }) },
                ic.name
            );
        }
    }, {
        key: "renderContent",
        value: function renderContent() {
            switch (this.state.page) {
                case "import_export":
                    return React.createElement(_import_export.ImportExport, { competition_id: this.props.competition_id });
                case "manage_tours":
                    // Seeking for discipline with given ID
                    var ic = null;
                    this.props.disciplines.forEach(function (el) {
                        if (el.id === this.state.page_props.discipline_id) {
                            ic = el;
                        }
                    }.bind(this));
                    return React.createElement(_tours.Tours, {
                        key: this.state.page_props.discipline_id,
                        rules_set: this.props.rules_set,
                        discipline: ic });
                case "manage_participants":
                    return React.createElement(_participants.Participants, {
                        key: this.state.page_props.discipline_id,
                        discipline_id: this.state.page_props.discipline_id });
                case "manage_judges":
                    return React.createElement(_judges.Judges, {
                        judges: this.props.judges,
                        competition_id: this.props.competition_id });
                case "manage_clubs":
                    return React.createElement(_clubs.Clubs, {
                        clubs: this.props.clubs,
                        competition_id: this.props.competition_id });
                case "manage_competition_plan":
                    return React.createElement(_competition_plan.CompetitionPlan, {
                        items: this.props.competition_plan,
                        disciplines: this.props.disciplines,
                        competition_name: this.props.competition_name,
                        competition_date: this.props.competition_date,
                        competition_id: this.props.competition_id });
                case "manage_disciplines":
                    return React.createElement(_disciplines.Disciplines, {
                        disciplines: this.props.disciplines,
                        judges: this.props.judges,
                        competition_id: this.props.competition_id });
                case "start_list":
                    return React.createElement(_start_list.StartList, {
                        competition_id: this.props.competition_id });
                case "competition_report":
                    return React.createElement(_competition_report.CompetitionReport, {
                        competition_id: this.props.competition_id });
            }
        }
    }, {
        key: "renderSideMenu",
        value: function renderSideMenu() {
            var ics_tours = this.props.disciplines.map(function (ic) {
                return this.renderDiscipline(ic, "manage_tours");
            }.bind(this));
            var ics_participants = this.props.disciplines.map(function (ic) {
                return this.renderDiscipline(ic, "manage_participants");
            }.bind(this));
            return React.createElement(
                "div",
                { className: "side-menu" },
                React.createElement(
                    "div",
                    { className: "block" },
                    React.createElement(
                        "div",
                        {
                            className: "level-1" + (this.state.page === "import_export" ? " active" : ""),
                            onClick: this.switchPage.bind(this, "import_export", {}) },
                        (0, _loader._)("admin.menu.import_export")
                    )
                ),
                React.createElement(
                    "div",
                    { className: "block" },
                    React.createElement(
                        "div",
                        {
                            className: "level-1" + (this.state.page === "manage_judges" ? " active" : ""),
                            onClick: this.switchPage.bind(this, "manage_judges", {}) },
                        (0, _loader._)("admin.menu.manage_judges")
                    )
                ),
                React.createElement(
                    "div",
                    { className: "block" },
                    React.createElement(
                        "div",
                        {
                            className: "level-1" + (this.state.page === "manage_disciplines" ? " active" : ""),
                            onClick: this.switchPage.bind(this, "manage_disciplines", {}) },
                        (0, _loader._)("admin.menu.manage_disciplines")
                    )
                ),
                React.createElement(
                    "div",
                    { className: "block" },
                    React.createElement(
                        "div",
                        {
                            className: "level-1" + (this.state.page === "manage_clubs" ? " active" : ""),
                            onClick: this.switchPage.bind(this, "manage_clubs", {}) },
                        (0, _loader._)("admin.menu.manage_clubs")
                    )
                ),
                React.createElement(
                    "details",
                    { className: "block", open: !!parseInt(sessionStorage.getItem("D_SPORTSMEN")) },
                    React.createElement(
                        "summary",
                        { className: "level-1", onClick: function onClick(e) {
                                return sessionStorage.setItem("D_SPORTSMEN", e.target.parentNode.open ? 0 : 1);
                            } },
                        (0, _loader._)("admin.menu.manage_sportsmen")
                    ),
                    ics_participants
                ),
                React.createElement(
                    "details",
                    { className: "block", open: !!parseInt(sessionStorage.getItem("D_TOURS")) },
                    React.createElement(
                        "summary",
                        { className: "level-1", onClick: function onClick(e) {
                                return sessionStorage.setItem("D_TOURS", e.target.parentNode.open ? 0 : 1);
                            } },
                        (0, _loader._)("admin.menu.manage_tours")
                    ),
                    ics_tours
                ),
                React.createElement(
                    "div",
                    { className: "block" },
                    React.createElement(
                        "div",
                        {
                            className: "level-1" + (this.state.page === "manage_competition_plan" ? " active" : ""),
                            onClick: this.switchPage.bind(this, "manage_competition_plan", {}) },
                        (0, _loader._)("admin.menu.manage_competition_plan")
                    )
                ),
                React.createElement(
                    "div",
                    { className: "block" },
                    React.createElement(
                        "div",
                        {
                            className: "level-1" + (this.state.page === "start_list" ? " active" : ""),
                            onClick: this.switchPage.bind(this, "start_list", {}) },
                        (0, _loader._)("admin.menu.start_list")
                    )
                ),
                React.createElement(
                    "div",
                    { className: "block" },
                    React.createElement(
                        "div",
                        {
                            className: "level-1" + (this.state.page === "competition_report" ? " active" : ""),
                            onClick: this.switchPage.bind(this, "competition_report", {}) },
                        (0, _loader._)("admin.menu.competition_report")
                    )
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "app" },
                this.renderSideMenu(),
                this.renderContent()
            );
        }
    }]);

    return Management;
}(React.Component);

},{"./clubs":10,"./competition_plan":11,"./competition_report":12,"./disciplines":13,"./import_export":14,"./judges":15,"./participants":17,"./start_list":18,"./tours":19,"l10n/loader":25}],17:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Participants = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _loader = require("l10n/loader");

var _api = require("server/api");

var _storage = require("server/storage");

var _message_dispatcher = require("server/message_dispatcher");

var _components = require("ui/components");

var _dialogs = require("ui/dialogs");

var _tools = require("common/tools");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Participants = exports.Participants = function (_React$Component) {
    _inherits(Participants, _React$Component);

    function Participants(props) {
        _classCallCheck(this, Participants);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Participants).call(this, props));

        _this.state = {
            name: null
        };
        return _this;
    }

    _createClass(Participants, [{
        key: "componentWillMount",
        value: function componentWillMount() {
            this.storage = _storage.storage.getDomain("participants_" + this.props.discipline_id);
            this.reload_listener = _message_dispatcher.message_dispatcher.addListener("reload_data", this.loadData.bind(this));
            this.db_update_listener = _message_dispatcher.message_dispatcher.addListener("db_update", this.reloadFromStorage.bind(this));
            this.loadData();
        }
    }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
            _message_dispatcher.message_dispatcher.removeListener(this.reload_listener);
            _message_dispatcher.message_dispatcher.removeListener(this.db_update_listener);
            _storage.storage.delDomain("participants_" + this.props.discipline_id);
        }
    }, {
        key: "reloadFromStorage",
        value: function reloadFromStorage() {
            var SCHEMA = {
                competition: {
                    clubs: {}
                },
                participants: {
                    club: {},
                    programs: {}
                }
            };
            var serialized = this.storage.get("Discipline").by_id(this.props.discipline_id).serialize(SCHEMA);
            this.setState(serialized);
        }
    }, {
        key: "loadData",
        value: function loadData() {
            (0, _api.Api)("discipline.get", {
                discipline_id: this.props.discipline_id,
                children: {
                    competition: {
                        clubs: {}
                    },
                    participants: {
                        club: {},
                        programs: {}
                    }
                }
            }).addToDB("Discipline", this.props.discipline_id, this.storage).onSuccess(this.reloadFromStorage.bind(this)).send();
        }
    }, {
        key: "renderTable",
        value: function renderTable() {
            var _this2 = this;

            var rows = this.state.participants.map(function (participant) {
                return React.createElement(ParticipantRow, {
                    key: participant.id,
                    participant: participant,
                    clubs: _this2.state.competition.clubs });
            });
            return React.createElement(
                "div",
                { className: "manage-participants" },
                React.createElement(
                    "table",
                    { className: "table table-striped" },
                    React.createElement(
                        "tbody",
                        null,
                        React.createElement(
                            "tr",
                            null,
                            React.createElement(
                                "th",
                                { className: "number" },
                                (0, _loader._)("models.participant.number")
                            ),
                            React.createElement(
                                "th",
                                { className: "name" },
                                (0, _loader._)("models.participant.name")
                            ),
                            React.createElement(
                                "th",
                                { className: "club-name" },
                                (0, _loader._)("models.participant.club_name")
                            ),
                            React.createElement(
                                "th",
                                { className: "club-city" },
                                (0, _loader._)("models.participant.club_city")
                            ),
                            React.createElement("th", { className: "delete" })
                        ),
                        rows,
                        React.createElement(ParticipantCreationRow, {
                            clubs: this.state.competition.clubs,
                            discipline_id: this.props.discipline_id })
                    )
                ),
                React.createElement(
                    "div",
                    { className: "total-participants" },
                    (0, _loader._)("admin.phrases.total_n_participants", this.state.participants.length)
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            if (this.state.name === null) {
                return React.createElement(_components.Loader, null);
            }
            return React.createElement(
                "div",
                { className: "app-content" },
                React.createElement(
                    "header",
                    { className: "app-header" },
                    React.createElement(
                        "h1",
                        null,
                        this.state.name
                    ),
                    React.createElement(
                        "h2",
                        null,
                        (0, _loader._)("admin.headers.participants_management")
                    )
                ),
                React.createElement(
                    "div",
                    { className: "app-body" },
                    this.renderTable()
                )
            );
        }
    }]);

    return Participants;
}(React.Component);

var ClubsSelector = function (_React$Component2) {
    _inherits(ClubsSelector, _React$Component2);

    function ClubsSelector() {
        _classCallCheck(this, ClubsSelector);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(ClubsSelector).apply(this, arguments));
    }

    _createClass(ClubsSelector, [{
        key: "renderList",
        value: function renderList() {
            return this.props.clubs.map(function (club) {
                return React.createElement(
                    "option",
                    { value: club.id, key: club.id },
                    club.name
                );
            });
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "select",
                {
                    className: "full-width",
                    value: this.props.club_id,
                    onChange: this.props.onChange },
                this.renderList()
            );
        }
    }]);

    return ClubsSelector;
}(React.Component);

var ParticipantEditorRowGeneralInfo = function (_React$Component3) {
    _inherits(ParticipantEditorRowGeneralInfo, _React$Component3);

    function ParticipantEditorRowGeneralInfo() {
        _classCallCheck(this, ParticipantEditorRowGeneralInfo);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(ParticipantEditorRowGeneralInfo).apply(this, arguments));
    }

    _createClass(ParticipantEditorRowGeneralInfo, [{
        key: "genOnChange",
        value: function genOnChange(field) {
            var _this5 = this;

            return function (event) {
                return _this5.props.onChange(field, event.target.value);
            };
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                null,
                React.createElement(
                    "h4",
                    null,
                    (0, _loader._)("models.participant.general_info")
                ),
                React.createElement("input", {
                    placeholder: (0, _loader._)("models.participant.number"),
                    className: "full-width",
                    value: this.props.participant.number,
                    onChange: this.genOnChange("number") }),
                React.createElement(ClubsSelector, {
                    className: "full-width",
                    participant: this.props.participant,
                    club_id: this.props.participant.club_id,
                    clubs: this.props.clubs,
                    onChange: this.genOnChange("club_id") }),
                React.createElement("input", {
                    placeholder: (0, _loader._)("models.participant.coaches"),
                    className: "full-width",
                    value: this.props.participant.coaches,
                    onChange: this.genOnChange("coaches") }),
                React.createElement("input", {
                    placeholder: (0, _loader._)("models.participant.formation_name"),
                    className: "full-width",
                    value: this.props.participant.formation_name,
                    onChange: this.genOnChange("formation_name") })
            );
        }
    }]);

    return ParticipantEditorRowGeneralInfo;
}(React.Component);

var ParticipantEditorRowSportsman = function (_React$Component4) {
    _inherits(ParticipantEditorRowSportsman, _React$Component4);

    function ParticipantEditorRowSportsman() {
        _classCallCheck(this, ParticipantEditorRowSportsman);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(ParticipantEditorRowSportsman).apply(this, arguments));
    }

    _createClass(ParticipantEditorRowSportsman, [{
        key: "genOnChange",
        value: function genOnChange(field) {
            var _this7 = this;

            return function (event) {
                return _this7.props.onChange(field, event.target.value);
            };
        }
    }, {
        key: "genOnSubstituteChange",
        value: function genOnSubstituteChange() {
            var _this8 = this;

            return function (event) {
                return _this8.props.onChange("substitute", event.target.value === "Y");
            };
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "sportsman" },
                React.createElement("input", {
                    type: "text",
                    className: "last-name",
                    placeholder: (0, _loader._)("models.participant.last_name"),
                    value: this.props.sportsman.last_name,
                    onChange: this.genOnChange("last_name") }),
                React.createElement("input", {
                    type: "text",
                    className: "first-name",
                    placeholder: (0, _loader._)("models.participant.first_name"),
                    value: this.props.sportsman.first_name,
                    onChange: this.genOnChange("first_name") }),
                React.createElement("input", {
                    type: "text",
                    className: "yob",
                    placeholder: (0, _loader._)("models.participant.yob"),
                    value: this.props.sportsman.year_of_birth,
                    onChange: this.genOnChange("year_of_birth") }),
                React.createElement(
                    "select",
                    {
                        className: "gender",
                        value: this.props.sportsman.gender,
                        onChange: this.genOnChange("gender") },
                    React.createElement(
                        "option",
                        { value: "F" },
                        (0, _loader._)("models.participant.gender_f")
                    ),
                    React.createElement(
                        "option",
                        { value: "M" },
                        (0, _loader._)("models.participant.gender_m")
                    )
                ),
                React.createElement(
                    "select",
                    {
                        className: "substitute",
                        value: this.props.sportsman.substitute ? "Y" : "N",
                        onChange: this.genOnSubstituteChange() },
                    React.createElement(
                        "option",
                        { value: "N" },
                        (0, _loader._)("models.participant.substitute_n")
                    ),
                    React.createElement(
                        "option",
                        { value: "Y" },
                        (0, _loader._)("models.participant.substitute_y")
                    )
                ),
                React.createElement(
                    "button",
                    {
                        type: "button",
                        className: "del btn btn-danger",
                        onClick: this.props.onSportsmanRemove },
                    "X"
                )
            );
        }
    }]);

    return ParticipantEditorRowSportsman;
}(React.Component);

var ParticipantEditorRowSportsmenList = function (_React$Component5) {
    _inherits(ParticipantEditorRowSportsmenList, _React$Component5);

    function ParticipantEditorRowSportsmenList() {
        _classCallCheck(this, ParticipantEditorRowSportsmenList);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(ParticipantEditorRowSportsmenList).apply(this, arguments));
    }

    _createClass(ParticipantEditorRowSportsmenList, [{
        key: "genOnChange",
        value: function genOnChange(idx) {
            var _this10 = this;

            return function (field, value) {
                var list = (0, _tools.clone)(_this10.props.sportsmen);
                list[idx][field] = value;
                _this10.props.onChange("sportsmen", list);
            };
        }
    }, {
        key: "addSportsman",
        value: function addSportsman() {
            var list = (0, _tools.clone)(this.props.sportsmen);
            list.push({
                "last_name": "",
                "first_name": "",
                "year_of_birth": "0",
                "gender": "F",
                "substitute": false
            });
            this.props.onChange("sportsmen", list);
        }
    }, {
        key: "removeSportsman",
        value: function removeSportsman(idx) {
            var list = (0, _tools.clone)(this.props.sportsmen);
            list.splice(idx, 1);
            this.props.onChange("sportsmen", list);
        }
    }, {
        key: "render",
        value: function render() {
            var _this11 = this;

            return React.createElement(
                "div",
                null,
                React.createElement(
                    "h4",
                    null,
                    (0, _loader._)("models.participant.sportsmen")
                ),
                this.props.sportsmen.map(function (sp, idx) {
                    return React.createElement(ParticipantEditorRowSportsman, {
                        key: idx,
                        sportsman: sp,
                        onSportsmanRemove: _this11.removeSportsman.bind(_this11, idx),
                        onChange: _this11.genOnChange(idx) });
                }),
                React.createElement(
                    "button",
                    {
                        type: "button",
                        className: "full-width btn btn-sm btn-default",
                        onClick: this.addSportsman.bind(this) },
                    (0, _loader._)("global.buttons.add")
                )
            );
        }
    }]);

    return ParticipantEditorRowSportsmenList;
}(React.Component);

var ParticipantEditorRowProgramEditorElement = function (_React$Component6) {
    _inherits(ParticipantEditorRowProgramEditorElement, _React$Component6);

    function ParticipantEditorRowProgramEditorElement() {
        _classCallCheck(this, ParticipantEditorRowProgramEditorElement);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(ParticipantEditorRowProgramEditorElement).apply(this, arguments));
    }

    _createClass(ParticipantEditorRowProgramEditorElement, [{
        key: "genOnChange",
        value: function genOnChange(field) {
            var _this13 = this;

            return function (event) {
                return _this13.props.onChange(field, event.target.value);
            };
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "acrobatic" },
                React.createElement("input", {
                    type: "text",
                    className: "description",
                    placeholder: (0, _loader._)("models.participant.acro_description"),
                    value: this.props.element.description,
                    onChange: this.genOnChange("description") }),
                React.createElement("input", {
                    type: "text",
                    className: "score",
                    placeholder: (0, _loader._)("models.participant.acro_score"),
                    value: this.props.element.score,
                    onChange: this.genOnChange("score") }),
                React.createElement(
                    "button",
                    {
                        type: "button",
                        className: "del btn btn-danger",
                        onClick: this.props.onElementRemove },
                    "X"
                )
            );
        }
    }]);

    return ParticipantEditorRowProgramEditorElement;
}(React.Component);

var ParticipantEditorRowProgramEditorElements = function (_React$Component7) {
    _inherits(ParticipantEditorRowProgramEditorElements, _React$Component7);

    function ParticipantEditorRowProgramEditorElements(props) {
        _classCallCheck(this, ParticipantEditorRowProgramEditorElements);

        var _this14 = _possibleConstructorReturn(this, Object.getPrototypeOf(ParticipantEditorRowProgramEditorElements).call(this, props));

        _this14.state = {
            elements: (0, _tools.clone)(_this14.props.elements)
        };
        return _this14;
    }

    _createClass(ParticipantEditorRowProgramEditorElements, [{
        key: "changeElements",
        value: function changeElements(func) {
            var elements = (0, _tools.clone)(this.state.elements);
            elements = func(elements);
            this.setState({ elements: elements });
        }
    }, {
        key: "onChange",
        value: function onChange(idx, field, value) {
            this.changeElements(function (elements) {
                elements[idx][field] = value;
                return elements;
            });
        }
    }, {
        key: "addElement",
        value: function addElement() {
            this.changeElements(function (elements) {
                elements.push({
                    description: "",
                    score: 0
                });
                return elements;
            });
        }
    }, {
        key: "removeElement",
        value: function removeElement(idx) {
            this.changeElements(function (elements) {
                elements.splice(idx, 1);
                return elements;
            });
        }
    }, {
        key: "load",
        value: function load(data) {
            this.setState({
                elements: data.map(function (e) {
                    return {
                        description: e[0],
                        score: e[1]
                    };
                })
            });
        }
    }, {
        key: "serialize",
        value: function serialize() {
            return this.state.elements.map(function (element) {
                return {
                    description: element.description,
                    score: parseFloat(element.score) || 0
                };
            });
        }
    }, {
        key: "render",
        value: function render() {
            var _this15 = this;

            return React.createElement(
                "div",
                { className: "elements" },
                this.state.elements.map(function (element, idx) {
                    return React.createElement(ParticipantEditorRowProgramEditorElement, {
                        key: idx,
                        element: element,
                        onChange: _this15.onChange.bind(_this15, idx),
                        onElementRemove: _this15.removeElement.bind(_this15, idx) });
                }),
                React.createElement(
                    "button",
                    { type: "button", className: "btn btn-sm btn-default full-width", onClick: this.addElement.bind(this) },
                    (0, _loader._)("global.buttons.add")
                )
            );
        }
    }]);

    return ParticipantEditorRowProgramEditorElements;
}(React.Component);

var ParticipantEditorRowProgramEditor = function (_React$Component8) {
    _inherits(ParticipantEditorRowProgramEditor, _React$Component8);

    function ParticipantEditorRowProgramEditor() {
        _classCallCheck(this, ParticipantEditorRowProgramEditor);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(ParticipantEditorRowProgramEditor).apply(this, arguments));
    }

    _createClass(ParticipantEditorRowProgramEditor, [{
        key: "loadAcrobatics",
        value: function loadAcrobatics() {
            var _this17 = this;

            swal({
                title: (0, _loader._)("admin.headers.load_acrobatics"),
                text: (0, _loader._)("admin.labels.paste_acro"),
                showCancelButton: true,
                closeOnConfirm: false,
                type: "input",
                animation: false
            }, function (value) {
                try {
                    var data = JSON.parse(value);
                    _this17.refs.elements_editor.load(data);
                    swal.close();
                } catch (SyntaxError) {
                    (0, _dialogs.showError)((0, _loader._)("errors.admin.load_syntax_error"));
                }
            });
        }
    }, {
        key: "serialize",
        value: function serialize() {
            return {
                name: this.refs.name.value,
                default_for: this.refs.default_for.value,
                acrobatics: this.refs.elements_editor.serialize()
            };
        }
    }, {
        key: "render",
        value: function render() {
            var _this18 = this;

            var classes = ["program-editor"];
            if (this.props.creating) {
                classes.push("create");
            }
            return React.createElement(
                "form",
                { className: classes.join(" "), onSubmit: function onSubmit(e) {
                        e.preventDefault();_this18.props.onSubmit(_this18.serialize());
                    } },
                React.createElement("input", {
                    ref: "name",
                    className: "name",
                    defaultValue: this.props.program.name || "",
                    placeholder: (0, _loader._)("models.program.name") }),
                React.createElement("input", {
                    ref: "default_for",
                    className: "default-for",
                    defaultValue: this.props.program.default_for || "",
                    placeholder: (0, _loader._)("models.program.default_for") }),
                React.createElement(ParticipantEditorRowProgramEditorElements, {
                    ref: "elements_editor",
                    elements: this.props.program.acrobatics || [] }),
                React.createElement(
                    "div",
                    { className: "pull-right" },
                    React.createElement(
                        "button",
                        { type: "button", className: "btn btn-sm btn-default", onClick: this.loadAcrobatics.bind(this) },
                        (0, _loader._)("admin.buttons.load_acro")
                    )
                ),
                React.createElement(
                    "button",
                    { className: "btn btn-sm btn-primary" },
                    (0, _loader._)("global.buttons.submit")
                ),
                React.createElement(
                    "button",
                    { type: "button", className: "btn btn-sm btn-danger", onClick: this.props.onStopEditing },
                    (0, _loader._)("global.buttons.discard")
                )
            );
        }
    }]);

    return ParticipantEditorRowProgramEditor;
}(React.Component);

var ParticipantEditorRowProgramCreator = function (_React$Component9) {
    _inherits(ParticipantEditorRowProgramCreator, _React$Component9);

    function ParticipantEditorRowProgramCreator(props) {
        _classCallCheck(this, ParticipantEditorRowProgramCreator);

        var _this19 = _possibleConstructorReturn(this, Object.getPrototypeOf(ParticipantEditorRowProgramCreator).call(this, props));

        _this19.state = {
            editing: false
        };
        return _this19;
    }

    _createClass(ParticipantEditorRowProgramCreator, [{
        key: "stopEditing",
        value: function stopEditing() {
            this.setState({
                editing: false
            });
        }
    }, {
        key: "startEditing",
        value: function startEditing() {
            this.setState({
                editing: true
            });
        }
    }, {
        key: "onSubmit",
        value: function onSubmit(data) {
            (0, _api.Api)("program.create", { participant_id: this.props.participant_id, data: data }).onSuccess(this.stopEditing.bind(this)).send();
        }
    }, {
        key: "renderBody",
        value: function renderBody() {
            if (this.state.editing) {
                return React.createElement(ParticipantEditorRowProgramEditor, {
                    creating: true,
                    onSubmit: this.onSubmit.bind(this),
                    onStopEditing: this.stopEditing.bind(this),
                    program: {} });
            }
            return React.createElement(
                "button",
                { type: "button", className: "btn btn-sm btn-default full-width", onClick: this.startEditing.bind(this) },
                (0, _loader._)("global.buttons.add")
            );
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "program-creator" },
                this.renderBody()
            );
        }
    }]);

    return ParticipantEditorRowProgramCreator;
}(React.Component);

var ParticipantEditorRowProgram = function (_React$Component10) {
    _inherits(ParticipantEditorRowProgram, _React$Component10);

    function ParticipantEditorRowProgram(props) {
        _classCallCheck(this, ParticipantEditorRowProgram);

        var _this20 = _possibleConstructorReturn(this, Object.getPrototypeOf(ParticipantEditorRowProgram).call(this, props));

        _this20.state = {
            editing: false
        };
        return _this20;
    }

    _createClass(ParticipantEditorRowProgram, [{
        key: "stopEditing",
        value: function stopEditing() {
            this.setState({
                editing: false
            });
        }
    }, {
        key: "startEditing",
        value: function startEditing() {
            this.setState({
                editing: true
            });
        }
    }, {
        key: "onDelClick",
        value: function onDelClick(event) {
            var _this21 = this;

            event.preventDefault();
            (0, _dialogs.showConfirm)((0, _loader._)("admin.confirms.delete_program"), function () {
                (0, _api.Api)("program.delete", { program_id: _this21.props.program.id }).onSuccess(function () {
                    return swal.close();
                }).send();
            });
        }
    }, {
        key: "onSubmit",
        value: function onSubmit(data) {
            (0, _api.Api)("program.set", { program_id: this.props.program.id, data: data }).onSuccess(this.stopEditing.bind(this)).send();
        }
    }, {
        key: "render",
        value: function render() {
            var _this22 = this;

            if (this.state.editing) {
                return React.createElement(ParticipantEditorRowProgramEditor, _extends({
                    onSubmit: this.onSubmit.bind(this),
                    onStopEditing: this.stopEditing.bind(this)
                }, this.props));
            }
            return React.createElement(
                "div",
                null,
                React.createElement(
                    "h5",
                    null,
                    this.props.program.name,
                    this.props.program.default_for ? React.createElement(
                        "em",
                        null,
                        " (",
                        this.props.program.default_for,
                        ")"
                    ) : null,
                    " / ",
                    React.createElement(
                        "a",
                        { href: "#", onClick: function onClick(e) {
                                e.preventDefault();_this22.startEditing();
                            } },
                        "Редактировать"
                    ),
                    " / ",
                    React.createElement(
                        "a",
                        { href: "#", onClick: this.onDelClick.bind(this) },
                        "Удалить"
                    )
                ),
                React.createElement(
                    "table",
                    { className: "full-width program" },
                    React.createElement(
                        "tbody",
                        null,
                        this.props.program.acrobatics.map(function (element, idx) {
                            return React.createElement(
                                "tr",
                                { key: idx },
                                React.createElement(
                                    "td",
                                    null,
                                    element.description
                                ),
                                React.createElement(
                                    "td",
                                    { className: "text-right" },
                                    element.score.toFixed(1)
                                )
                            );
                        })
                    )
                )
            );
        }
    }]);

    return ParticipantEditorRowProgram;
}(React.Component);

var ParticipantEditorRowPrograms = function (_React$Component11) {
    _inherits(ParticipantEditorRowPrograms, _React$Component11);

    function ParticipantEditorRowPrograms() {
        _classCallCheck(this, ParticipantEditorRowPrograms);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(ParticipantEditorRowPrograms).apply(this, arguments));
    }

    _createClass(ParticipantEditorRowPrograms, [{
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                null,
                React.createElement(
                    "h4",
                    null,
                    (0, _loader._)("models.participant.programs")
                ),
                this.props.programs.map(function (p) {
                    return React.createElement(ParticipantEditorRowProgram, {
                        key: p.id,
                        program: p });
                }),
                this.props.newParticipant ? React.createElement(
                    "div",
                    { className: "alert alert-info" },
                    (0, _loader._)("admin.alerts.add_programs_after_creation")
                ) : React.createElement(ParticipantEditorRowProgramCreator, {
                    participant_id: this.props.participant_id })
            );
        }
    }]);

    return ParticipantEditorRowPrograms;
}(React.Component);

var ParticipantEditorRow = function (_React$Component12) {
    _inherits(ParticipantEditorRow, _React$Component12);

    function ParticipantEditorRow(props) {
        _classCallCheck(this, ParticipantEditorRow);

        var _this24 = _possibleConstructorReturn(this, Object.getPrototypeOf(ParticipantEditorRow).call(this, props));

        var p = _this24.props.participant;
        _this24.state = {
            participant: {
                number: p.number,
                club_id: p.club.id,
                coaches: p.coaches,
                formation_name: p.formation_name,
                sportsmen: (0, _tools.clone)(p.sportsmen)
            }
        };
        return _this24;
    }

    _createClass(ParticipantEditorRow, [{
        key: "onChange",
        value: function onChange(field, value) {
            var participant = (0, _tools.clone)(this.state.participant);
            participant[field] = value;
            this.setState({
                participant: participant
            });
        }
    }, {
        key: "sertialize",
        value: function sertialize() {
            return this.state.participant;
        }
    }, {
        key: "onSubmit",
        value: function onSubmit(event) {
            event.preventDefault();
            if (!this.props.newParticipant) {
                (0, _api.Api)("participant.set", {
                    participant_id: this.props.participant.id,
                    data: this.sertialize()
                }).onSuccess(this.props.stopEditing).send();
            } else {
                (0, _api.Api)("participant.create", {
                    discipline_id: this.props.discipline_id,
                    data: this.sertialize()
                }).onSuccess(this.props.stopEditing).send();
            }
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "tr",
                { className: "editor" + (this.props.newParticipant ? " create" : "") },
                React.createElement(
                    "td",
                    { colSpan: "6" },
                    React.createElement(
                        "div",
                        { className: "row" },
                        React.createElement(
                            "div",
                            { className: "col-md-7" },
                            React.createElement(
                                "form",
                                { onSubmit: this.onSubmit.bind(this), className: "row" },
                                React.createElement(
                                    "div",
                                    { className: "col-md-5 general-info" },
                                    React.createElement(ParticipantEditorRowGeneralInfo, {
                                        participant: this.state.participant,
                                        clubs: this.props.clubs,
                                        onChange: this.onChange.bind(this) }),
                                    React.createElement(
                                        "div",
                                        { className: "buttons" },
                                        React.createElement(
                                            "button",
                                            {
                                                type: "submit",
                                                className: "btn btn-primary" },
                                            (0, _loader._)("global.buttons.submit")
                                        ),
                                        React.createElement(
                                            "button",
                                            {
                                                type: "button",
                                                className: "btn btn-danger",
                                                onClick: this.props.stopEditing },
                                            (0, _loader._)("global.buttons.discard")
                                        )
                                    )
                                ),
                                React.createElement(
                                    "div",
                                    { className: "col-md-7" },
                                    React.createElement(ParticipantEditorRowSportsmenList, {
                                        sportsmen: this.state.participant.sportsmen,
                                        onChange: this.onChange.bind(this) })
                                )
                            )
                        ),
                        React.createElement(
                            "div",
                            { className: "col-md-5" },
                            React.createElement(ParticipantEditorRowPrograms, {
                                newParticipant: this.props.newParticipant,
                                participant_id: this.props.participant.id,
                                programs: this.props.participant.programs,
                                onChange: this.onChange.bind(this) })
                        )
                    )
                )
            );
        }
    }]);

    return ParticipantEditorRow;
}(React.Component);

var ParticipantRow = function (_React$Component13) {
    _inherits(ParticipantRow, _React$Component13);

    function ParticipantRow(props) {
        _classCallCheck(this, ParticipantRow);

        var _this25 = _possibleConstructorReturn(this, Object.getPrototypeOf(ParticipantRow).call(this, props));

        _this25.state = {
            editing: false
        };
        return _this25;
    }

    _createClass(ParticipantRow, [{
        key: "startEditing",
        value: function startEditing() {
            this.setState({
                editing: true
            });
        }
    }, {
        key: "stopEditing",
        value: function stopEditing() {
            this.setState({
                editing: false
            });
        }
    }, {
        key: "onDelete",
        value: function onDelete(event) {
            var _this26 = this;

            event.stopPropagation();
            (0, _dialogs.showConfirm)((0, _loader._)("admin.confirms.delete_participant"), function () {
                (0, _api.Api)("participant.delete", {
                    participant_id: _this26.props.participant.id
                }).onSuccess(function () {
                    return swal.close();
                }).send();
            });
        }
    }, {
        key: "renderEditor",
        value: function renderEditor() {
            return React.createElement(ParticipantEditorRow, _extends({
                newParticipant: false,
                stopEditing: this.stopEditing.bind(this)
            }, this.props));
        }
    }, {
        key: "renderViewer",
        value: function renderViewer() {
            var p = this.props.participant;
            return React.createElement(
                "tr",
                { className: "viewer", onClick: this.startEditing.bind(this) },
                React.createElement(
                    "td",
                    { className: "number" },
                    p.number
                ),
                React.createElement(
                    "td",
                    { className: "name" },
                    p.name
                ),
                React.createElement(
                    "td",
                    { className: "club-name" },
                    p.club.name
                ),
                React.createElement(
                    "td",
                    { className: "club-city" },
                    p.club.city
                ),
                React.createElement(
                    "td",
                    { className: "delete" },
                    React.createElement(
                        "button",
                        { className: "btn btn-danger", onClick: this.onDelete.bind(this) },
                        "X"
                    )
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            if (this.state.editing) {
                return this.renderEditor();
            } else {
                return this.renderViewer();
            }
        }
    }]);

    return ParticipantRow;
}(React.Component);

var ParticipantCreationRow = function (_React$Component14) {
    _inherits(ParticipantCreationRow, _React$Component14);

    function ParticipantCreationRow(props) {
        _classCallCheck(this, ParticipantCreationRow);

        var _this27 = _possibleConstructorReturn(this, Object.getPrototypeOf(ParticipantCreationRow).call(this, props));

        _this27.state = {
            editing: false
        };
        return _this27;
    }

    _createClass(ParticipantCreationRow, [{
        key: "startEditing",
        value: function startEditing() {
            this.setState({
                editing: true
            });
        }
    }, {
        key: "stopEditing",
        value: function stopEditing() {
            this.setState({
                editing: false
            });
        }
    }, {
        key: "renderEditor",
        value: function renderEditor() {
            var empty_data = {
                "formation_name": "",
                "coaches": "",
                "number": "",
                "club": { "id": this.props.clubs[0] ? this.props.clubs[0].id : null },
                "sportsmen": [],
                "acrobatics": [],
                "programs": []
            };
            return React.createElement(ParticipantEditorRow, _extends({
                newParticipant: true,
                stopEditing: this.stopEditing.bind(this),
                participant: empty_data
            }, this.props));
        }
    }, {
        key: "renderButton",
        value: function renderButton() {
            return React.createElement(
                "tr",
                null,
                React.createElement(
                    "td",
                    { colSpan: "6" },
                    React.createElement(
                        "button",
                        {
                            type: "button",
                            className: "btn btn-default full-width",
                            onClick: this.startEditing.bind(this) },
                        (0, _loader._)("admin.buttons.add_participant")
                    )
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            return this.state.editing ? this.renderEditor() : this.renderButton();
        }
    }]);

    return ParticipantCreationRow;
}(React.Component);

},{"common/tools":24,"l10n/loader":25,"server/api":28,"server/message_dispatcher":29,"server/storage":30,"ui/components":32,"ui/dialogs":33}],18:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.StartList = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _loader = require("l10n/loader");

var _api = require("server/api");

var _storage = require("server/storage");

var _message_dispatcher = require("server/message_dispatcher");

var _admin_components = require("ui/admin_components");

var _components = require("ui/components");

var _printable = require("ui/printable");

var _docx = require("common/docx");

var _tools = require("common/tools");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ParticipantNumbersNumber = function (_React$Component) {
    _inherits(ParticipantNumbersNumber, _React$Component);

    function ParticipantNumbersNumber() {
        _classCallCheck(this, ParticipantNumbersNumber);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(ParticipantNumbersNumber).apply(this, arguments));
    }

    _createClass(ParticipantNumbersNumber, [{
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "participant" },
                React.createElement(
                    "p",
                    { className: "spacer-top" },
                    " "
                ),
                React.createElement(
                    "div",
                    { className: "competition" },
                    React.createElement(
                        "p",
                        null,
                        this.props.competition_name,
                        " "
                    )
                ),
                React.createElement(
                    "p",
                    { className: "spacer-top2" },
                    " "
                ),
                React.createElement(
                    "p",
                    { className: "number" },
                    this.props.participant.number
                ),
                React.createElement(
                    "p",
                    { className: "name" },
                    this.props.participant.name,
                    " "
                ),
                React.createElement(
                    "p",
                    { className: "discipline" },
                    this.props.participant.discipline_name,
                    " "
                ),
                React.createElement(
                    "p",
                    { className: "club" },
                    this.props.participant.club.name,
                    " — ",
                    this.props.participant.club.city
                ),
                React.createElement(
                    "p",
                    { className: "spacer-bottom" },
                    " "
                )
            );
        }
    }]);

    return ParticipantNumbersNumber;
}(React.Component);

var ParticipantNumbers = function (_React$Component2) {
    _inherits(ParticipantNumbers, _React$Component2);

    function ParticipantNumbers() {
        _classCallCheck(this, ParticipantNumbers);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(ParticipantNumbers).apply(this, arguments));
    }

    _createClass(ParticipantNumbers, [{
        key: "makeParticipantsList",
        value: function makeParticipantsList() {
            var res = [];
            this.props.participants.forEach(function (group) {
                res = res.concat(group.participants.map(function (participant) {
                    return {
                        id: participant.id,
                        number: participant.number,
                        name: participant.name,
                        club: participant.club ? participant.club : group.club,
                        discipline_name: participant.discipline ? participant.discipline.name : group.name
                    };
                }));
            });
            return res;
        }
    }, {
        key: "render",
        value: function render() {
            var _this3 = this;

            // eslint-disable-line react/sort-comp
            return React.createElement(
                "div",
                { ref: "content", className: "print-only" },
                this.makeParticipantsList().map(function (participant) {
                    return React.createElement(ParticipantNumbersNumber, {
                        participant: participant,
                        competition_name: _this3.props.competition_name,
                        key: participant.id });
                })
            );
        }
    }, {
        key: "createDocx",
        value: function createDocx() {
            var filename = arguments.length <= 0 || arguments[0] === undefined ? "numbers.docx" : arguments[0];

            (0, _docx.Docx)(filename).setMargins([0, 10, 0, 10]).setBody(this.refs.content.innerHTML).addStyle("div", "margin", "0").addStyle("div", "padding", "0").addStyle("p", "mso-line-height-rule", "exactly").addStyle("div", "mso-line-height-rule", "exactly").addStyle(".participant", "text-align", "center").addStyle(".spacer-top", "line-height", "20pt").addStyle(".competition", "line-height", "15pt").addStyle(".spacer-top2", "line-height", "30pt").addStyle(".number", "line-height", "300pt").addStyle(".name", "line-height", "10pt").addStyle(".club", "line-height", "10pt").addStyle(".discipline", "line-height", "10pt").addStyle(".spacer-bottom", "line-height", "16pt").addStyle(".number", "font-size", "350pt").addStyle(".number", "letter-spacing:", "-20.0pt").addStyle(".competition", "font-size", "12pt").addStyle(".competition", "font-weight", "bold").addStyle(".competition", "border-bottom", "1pt solid black").addStyle(".name", "font-size", "12pt").addStyle(".name", "font-weight", "bold").addStyle(".club", "font-size", "12pt").addStyle(".discipline", "font-size", "12pt").save();
        }
    }]);

    return ParticipantNumbers;
}(React.Component);

var StartList = exports.StartList = function (_React$Component3) {
    _inherits(StartList, _React$Component3);

    function StartList(props) {
        _classCallCheck(this, StartList);

        var _this4 = _possibleConstructorReturn(this, Object.getPrototypeOf(StartList).call(this, props));

        _this4.onConfigChange = function (new_config) {
            _this4.setState({
                config: new_config
            });
        };

        _this4.state = {
            competition: null,
            config: {
                include_formation_sportsmen: false,
                include_acrobatics: false,
                group_by_clubs: false,
                show_sportsmen_only: false,
                show_summary: false,
                disciplines: {},
                clubs: {}
            }
        };
        _message_dispatcher.message_dispatcher.addListener("db_update", _this4.reloadFromStorage.bind(_this4));
        _message_dispatcher.message_dispatcher.addListener("reload_data", _this4.loadData.bind(_this4));
        return _this4;
    }

    _createClass(StartList, [{
        key: "componentWillMount",
        value: function componentWillMount() {
            this.storage = _storage.storage.getDomain("start_list_" + this.props.competition_id);
            this.reload_listener = _message_dispatcher.message_dispatcher.addListener("reload_data", this.loadData.bind(this));
            this.db_update_listener = _message_dispatcher.message_dispatcher.addListener("db_update", this.reloadFromStorage.bind(this));
            this.loadData();
        }
    }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
            _message_dispatcher.message_dispatcher.removeListener(this.reload_listener);
            _message_dispatcher.message_dispatcher.removeListener(this.db_update_listener);
            _storage.storage.delDomain("start_list_" + this.props.competition_id);
        }
    }, {
        key: "reloadFromStorage",
        value: function reloadFromStorage() {
            var SCHEMA = {
                disciplines: {
                    participants: {
                        club: {},
                        programs: {}
                    }
                },
                clubs: {}
            };
            var competition = this.storage.get("Competition").by_id(this.props.competition_id).serialize(SCHEMA);
            var config = (0, _tools.clone)(this.state.config);
            var new_disciplines = {};
            var new_clubs = {};
            competition.disciplines.forEach(function (discipline) {
                new_disciplines[discipline.id] = discipline.id in config.disciplines ? config.disciplines[discipline.id] : true;
            });
            competition.clubs.forEach(function (club) {
                new_clubs[club.id] = club.id in config.clubs ? config.clubs[club.id] : true;
            });
            config.disciplines = new_disciplines;
            config.clubs = new_clubs;
            this.setState({
                config: config,
                competition: competition
            });
        }
    }, {
        key: "loadData",
        value: function loadData() {
            (0, _api.Api)("competition.get", {
                competition_id: this.props.competition_id,
                children: {
                    disciplines: {
                        participants: {
                            club: {},
                            programs: {}
                        }
                    },
                    clubs: {}
                }
            }).addToDB("Competition", this.props.competition_id, this.storage).onSuccess(this.reloadFromStorage.bind(this)).send();
        }
    }, {
        key: "renderBody",
        value: function renderBody() {
            var props = {
                competition: this.state.competition,
                config: this.state.config
            };
            if (this.state.config.show_summary) {
                if (this.state.config.group_by_clubs) {
                    return React.createElement(ClubsSummaryTable, props);
                }
                return React.createElement(DisciplinesSummaryTable, props);
            }
            if (this.state.config.group_by_clubs) {
                return React.createElement(Clubs, props);
            }
            return React.createElement(Disciplines, props);
        }
    }, {
        key: "renderParticipantNumbers",
        value: function renderParticipantNumbers() {
            var participants = groupParticipants(this.state.competition, this.state.config);
            return React.createElement(ParticipantNumbers, {
                competition_name: this.state.competition.name,
                participants: participants,
                ref: "numbers" });
        }
    }, {
        key: "getTitle",
        value: function getTitle() {
            if (this.state.config.show_summary) {
                if (this.state.config.group_by_clubs) {
                    return (0, _loader._)("admin.headers.clubs_summary");
                }
                return (0, _loader._)("admin.headers.disciplines_summary");
            }
            if (this.state.config.show_sportsmen_only) {
                return (0, _loader._)("admin.headers.sportsmen_list");
            }
            return (0, _loader._)("admin.headers.start_list");
        }
    }, {
        key: "render",
        value: function render() {
            var _this5 = this;

            // eslint-disable-line react/sort-comp
            if (this.state.competition === null) {
                return React.createElement(_components.Loader, null);
            }
            return React.createElement(
                "div",
                { className: "app-content" },
                React.createElement(
                    "header",
                    { className: "app-header" },
                    React.createElement(
                        "div",
                        { className: "controls" },
                        React.createElement(
                            "button",
                            { className: "btn btn-primary", onClick: function onClick() {
                                    return _this5.createDocx();
                                } },
                            "DOCX"
                        ),
                        React.createElement(
                            "button",
                            { className: "btn btn-primary", onClick: function onClick() {
                                    return _this5.refs.numbers.createDocx();
                                } },
                            (0, _loader._)("admin.buttons.docx_numbers")
                        )
                    ),
                    React.createElement(
                        "h1",
                        null,
                        (0, _loader._)("admin.headers.start_list")
                    )
                ),
                React.createElement(
                    "div",
                    { className: "app-body start-list" },
                    React.createElement(_admin_components.DisciplinesControls, {
                        custom_controls: [{ key: "include_acrobatics", label: (0, _loader._)("admin.labels.include_acrobatics") }, { key: "include_formation_sportsmen", label: (0, _loader._)("admin.labels.include_formation_sportsmen") }, { key: "group_by_clubs", label: (0, _loader._)("admin.labels.group_by_clubs") }, { key: "show_sportsmen_only", label: (0, _loader._)("admin.labels.show_sportsmen_only") }, { key: "show_summary", label: (0, _loader._)("admin.labels.show_summary") }],
                        config: this.state.config,
                        disciplines: this.state.competition.disciplines,
                        clubs: this.state.competition.clubs,
                        onChange: this.onConfigChange }),
                    React.createElement(_printable.Printable, {
                        ref: "printable",
                        header: this.state.competition.name + ", " + this.state.competition.date,
                        title1: this.getTitle(),
                        body: this.renderBody() }),
                    this.renderParticipantNumbers()
                )
            );
        }
    }, {
        key: "createDocx",
        value: function createDocx() {
            var filename = arguments.length <= 0 || arguments[0] === undefined ? "start-list.docx" : arguments[0];

            (0, _docx.Docx)(filename).setMargins([10, 15, 10, 25]).setHeader(this.state.competition.name + ", " + this.state.competition.date).setTitle1(this.getTitle()).setBody(this.refs.printable.fetchPrintableData()).addStyle(".bordered-table .inner td, .bordered-table .inner th", "border", "none").addStyle(".bordered-table .inner td, .bordered-table .inner th", "padding", "0").addStyle(".inner", "width", "100%").addStyle(".acro", "border-top", "none !important").addStyle(".has-acro td", "border-bottom", "1px solid #555 !important").addStyle(".has-acro td td", "border-bottom", "none !important").addStyle("tr.tr-acro", "page-break-inside", "auto").save();
        }
    }]);

    return StartList;
}(React.Component);

function groupParticipants(competition, config) {
    if (config.group_by_clubs) {
        var _ret = function () {
            var clubs = (0, _tools.clone)(competition.clubs);
            var disciplines = (0, _tools.clone)(competition.disciplines);
            var grouped = {};
            disciplines.forEach(function (discipline) {
                if (!config.disciplines[discipline.id]) {
                    return;
                }
                discipline.participants.forEach(function (participant) {
                    if (!config.clubs[participant.club.id]) {
                        return;
                    }
                    var club_id = participant.club.id;
                    if (!(club_id in grouped)) {
                        grouped[club_id] = [];
                    }
                    participant.discipline = discipline;
                    grouped[club_id].push(participant);
                });
            });
            clubs.forEach(function (club) {
                club.participants = grouped[club.id];
            });
            return {
                v: clubs.filter(function (club) {
                    return club.participants;
                })
            };
        }();

        if ((typeof _ret === "undefined" ? "undefined" : _typeof(_ret)) === "object") return _ret.v;
    } else {
        var disciplines = (0, _tools.clone)(competition.disciplines);
        disciplines = disciplines.filter(function (discipline) {
            return config.disciplines[discipline.id];
        });
        disciplines.forEach(function (discipline) {
            discipline.participants = discipline.participants.filter(function (participant) {
                return config.clubs[participant.club.id];
            });
        });
        return disciplines.filter(function (discipline) {
            return discipline.participants.length > 0;
        });
    }
}

var DisciplinesSummaryTable = function (_React$Component4) {
    _inherits(DisciplinesSummaryTable, _React$Component4);

    function DisciplinesSummaryTable() {
        _classCallCheck(this, DisciplinesSummaryTable);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(DisciplinesSummaryTable).apply(this, arguments));
    }

    _createClass(DisciplinesSummaryTable, [{
        key: "render",
        value: function render() {
            var disciplines = groupParticipants(this.props.competition, this.props.config);
            var all_participants = [].concat.apply([], disciplines.map(function (d) {
                return d.participants;
            }));
            return React.createElement(
                "div",
                { className: "summary" },
                React.createElement(ClubsShown, this.props),
                React.createElement(
                    "table",
                    { className: "bordered-table" },
                    React.createElement(
                        "tbody",
                        null,
                        disciplines.map(function (discipline) {
                            return React.createElement(ParticipantsStats, {
                                table_row: true,
                                key: discipline.id,
                                label: discipline.name,
                                participants: discipline.participants });
                        })
                    )
                ),
                React.createElement(
                    "p",
                    null,
                    " "
                ),
                React.createElement(ParticipantsStats, {
                    participants: all_participants })
            );
        }
    }]);

    return DisciplinesSummaryTable;
}(React.Component);

var ClubsSummaryTable = function (_React$Component5) {
    _inherits(ClubsSummaryTable, _React$Component5);

    function ClubsSummaryTable() {
        _classCallCheck(this, ClubsSummaryTable);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(ClubsSummaryTable).apply(this, arguments));
    }

    _createClass(ClubsSummaryTable, [{
        key: "render",
        value: function render() {
            var clubs = groupParticipants(this.props.competition, this.props.config);
            var all_participants = [].concat.apply([], clubs.map(function (c) {
                return c.participants;
            }));
            return React.createElement(
                "div",
                { className: "summary" },
                React.createElement(DisciplinesShown, this.props),
                React.createElement(
                    "table",
                    { className: "bordered-table" },
                    React.createElement(
                        "tbody",
                        null,
                        clubs.map(function (club) {
                            return React.createElement(ParticipantsStats, {
                                table_row: true,
                                key: club.id,
                                label: club.name + ", " + club.city,
                                participants: club.participants });
                        })
                    )
                ),
                React.createElement(
                    "p",
                    null,
                    " "
                ),
                React.createElement(ParticipantsStats, {
                    participants: all_participants })
            );
        }
    }]);

    return ClubsSummaryTable;
}(React.Component);

var DisciplinesShown = function (_React$Component6) {
    _inherits(DisciplinesShown, _React$Component6);

    function DisciplinesShown() {
        _classCallCheck(this, DisciplinesShown);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(DisciplinesShown).apply(this, arguments));
    }

    _createClass(DisciplinesShown, [{
        key: "hasDisabledDisciplines",
        value: function hasDisabledDisciplines() {
            var _this9 = this;

            return this.props.competition.disciplines.filter(function (d) {
                return !_this9.props.config.disciplines[d.id];
            }).length > 0;
        }
    }, {
        key: "getEnabledDisciplines",
        value: function getEnabledDisciplines() {
            var _this10 = this;

            return this.props.competition.disciplines.filter(function (d) {
                return _this10.props.config.disciplines[d.id];
            });
        }
    }, {
        key: "render",
        value: function render() {
            if (!this.hasDisabledDisciplines()) {
                return null;
            }
            var disciplines = this.getEnabledDisciplines();
            if (disciplines.length === 0) {
                return null;
            }
            return React.createElement(
                "div",
                { className: "disciplines-shown" },
                React.createElement(
                    "p",
                    null,
                    React.createElement(
                        "strong",
                        null,
                        (0, _loader._)("admin.headers.disciplines_shown")
                    )
                ),
                React.createElement(
                    "ul",
                    null,
                    disciplines.map(function (d) {
                        return React.createElement(
                            "li",
                            { key: d.id },
                            d.name
                        );
                    })
                )
            );
        }
    }]);

    return DisciplinesShown;
}(React.Component);

var ClubsShown = function (_React$Component7) {
    _inherits(ClubsShown, _React$Component7);

    function ClubsShown() {
        _classCallCheck(this, ClubsShown);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(ClubsShown).apply(this, arguments));
    }

    _createClass(ClubsShown, [{
        key: "hasDisabledClubs",
        value: function hasDisabledClubs() {
            var _this12 = this;

            return this.props.competition.clubs.filter(function (d) {
                return !_this12.props.config.clubs[d.id];
            }).length > 0;
        }
    }, {
        key: "getEnabledClubs",
        value: function getEnabledClubs() {
            var _this13 = this;

            return this.props.competition.clubs.filter(function (d) {
                return _this13.props.config.clubs[d.id];
            });
        }
    }, {
        key: "render",
        value: function render() {
            if (!this.hasDisabledClubs()) {
                return null;
            }
            var clubs = this.getEnabledClubs();
            if (clubs.length === 0) {
                return null;
            }
            return React.createElement(
                "div",
                { className: "clubs-shown" },
                React.createElement(
                    "p",
                    null,
                    React.createElement(
                        "strong",
                        null,
                        (0, _loader._)("admin.headers.clubs_shown")
                    )
                ),
                React.createElement(
                    "ul",
                    null,
                    clubs.map(function (d) {
                        return React.createElement(
                            "li",
                            { key: d.id },
                            d.name
                        );
                    })
                )
            );
        }
    }]);

    return ClubsShown;
}(React.Component);

var Disciplines = function (_React$Component8) {
    _inherits(Disciplines, _React$Component8);

    function Disciplines() {
        _classCallCheck(this, Disciplines);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(Disciplines).apply(this, arguments));
    }

    _createClass(Disciplines, [{
        key: "render",
        value: function render() {
            var _this15 = this;

            var disciplines = groupParticipants(this.props.competition, this.props.config);
            return React.createElement(
                "div",
                null,
                React.createElement(ClubsShown, this.props),
                disciplines.map(function (discipline) {
                    return React.createElement(DisciplineSection, _extends({
                        key: discipline.id,
                        discipline: discipline
                    }, _this15.props));
                })
            );
        }
    }]);

    return Disciplines;
}(React.Component);

var DisciplineSection = function (_React$Component9) {
    _inherits(DisciplineSection, _React$Component9);

    function DisciplineSection() {
        _classCallCheck(this, DisciplineSection);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(DisciplineSection).apply(this, arguments));
    }

    _createClass(DisciplineSection, [{
        key: "renderRows",
        value: function renderRows() {
            var _this17 = this;

            var result = [];
            this.props.discipline.participants.forEach(function (p) {
                var include_acrobatics = _this17.props.config.include_acrobatics && p.programs.length !== 0;
                result.push(React.createElement(DisciplineSectionRow, {
                    key: "P" + p.id,
                    config: _this17.props.config,
                    acro_included: include_acrobatics,
                    participant: p }));
                if (include_acrobatics) {
                    result.push(React.createElement(Acrobatics, {
                        key: "A" + p.id,
                        config: _this17.props.config,
                        participant: p }));
                }
            });
            return result;
        }
    }, {
        key: "renderBody",
        value: function renderBody() {
            if (this.props.config.show_sportsmen_only) {
                return React.createElement(SportsmenList, {
                    config: this.props.config,
                    participants: this.props.discipline.participants });
            }
            return React.createElement(
                "table",
                { className: "bordered-table" },
                React.createElement(
                    "thead",
                    null,
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            { className: "w-8 number" },
                            React.createElement(
                                "p",
                                null,
                                (0, _loader._)("models.participant.number")
                            )
                        ),
                        React.createElement(
                            "th",
                            { className: "w-27 name" },
                            React.createElement(
                                "p",
                                null,
                                (0, _loader._)("models.participant.sportsmen")
                            )
                        ),
                        React.createElement(
                            "th",
                            { className: "w-9 year-of-birth" },
                            React.createElement(
                                "p",
                                null,
                                (0, _loader._)("models.participant.sportsmen_year_of_birth")
                            )
                        ),
                        React.createElement(
                            "th",
                            { className: "w-28 club" },
                            React.createElement(
                                "p",
                                null,
                                (0, _loader._)("models.participant.club_name")
                            )
                        ),
                        React.createElement(
                            "th",
                            { className: "w-28 coaches" },
                            React.createElement(
                                "p",
                                null,
                                (0, _loader._)("models.participant.coaches")
                            )
                        )
                    )
                ),
                React.createElement(
                    "tbody",
                    null,
                    this.renderRows()
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            if (!this.props.config.disciplines[this.props.discipline.id]) {
                return null;
            }
            return React.createElement(
                "div",
                null,
                React.createElement(
                    "h5",
                    null,
                    React.createElement(
                        "p",
                        null,
                        this.props.discipline.name
                    )
                ),
                React.createElement(
                    "div",
                    { className: "discipline" },
                    this.renderBody(),
                    React.createElement(ParticipantsStats, {
                        participants: this.props.discipline.participants })
                )
            );
        }
    }]);

    return DisciplineSection;
}(React.Component);

var DisciplineSectionRow = function (_React$Component10) {
    _inherits(DisciplineSectionRow, _React$Component10);

    function DisciplineSectionRow() {
        _classCallCheck(this, DisciplineSectionRow);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(DisciplineSectionRow).apply(this, arguments));
    }

    _createClass(DisciplineSectionRow, [{
        key: "render",
        value: function render() {
            var class_name = this.props.acro_included ? "has-acro" : "";
            var p = this.props.participant;
            return React.createElement(
                "tr",
                { className: class_name },
                React.createElement(
                    "td",
                    { className: "w-8 number" },
                    React.createElement(
                        "p",
                        { className: "text-center" },
                        p.number
                    )
                ),
                React.createElement(
                    "td",
                    { className: "w-36 name", colSpan: "2" },
                    React.createElement(SportsmenTable, {
                        config: this.props.config,
                        participant: p })
                ),
                React.createElement(
                    "td",
                    { className: "w-28 club" },
                    React.createElement(
                        "p",
                        null,
                        p.club.name
                    )
                ),
                React.createElement(
                    "td",
                    { className: "w-28 coaches" },
                    React.createElement(
                        "p",
                        null,
                        p.coaches.split(",").map(function (c) {
                            return [c.trim(), React.createElement("br", { key: "X" })];
                        })
                    )
                )
            );
        }
    }]);

    return DisciplineSectionRow;
}(React.Component);

var Clubs = function (_React$Component11) {
    _inherits(Clubs, _React$Component11);

    function Clubs() {
        _classCallCheck(this, Clubs);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(Clubs).apply(this, arguments));
    }

    _createClass(Clubs, [{
        key: "render",
        value: function render() {
            var _this20 = this;

            var clubs = groupParticipants(this.props.competition, this.props.config);
            return React.createElement(
                "div",
                null,
                React.createElement(DisciplinesShown, this.props),
                clubs.map(function (club) {
                    return React.createElement(ClubSection, _extends({
                        key: club.id,
                        club: club
                    }, _this20.props));
                })
            );
        }
    }]);

    return Clubs;
}(React.Component);

var ClubSection = function (_React$Component12) {
    _inherits(ClubSection, _React$Component12);

    function ClubSection() {
        _classCallCheck(this, ClubSection);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(ClubSection).apply(this, arguments));
    }

    _createClass(ClubSection, [{
        key: "renderRows",
        value: function renderRows() {
            var _this22 = this;

            var result = [];
            this.props.club.participants.forEach(function (p) {
                var include_acrobatics = _this22.props.config.include_acrobatics && p.programs.length !== 0;
                result.push(React.createElement(ClubSectionRow, {
                    key: "P" + p.id,
                    config: _this22.props.config,
                    acro_included: include_acrobatics,
                    participant: p }));
                if (include_acrobatics) {
                    result.push(React.createElement(Acrobatics, {
                        key: "A" + p.id,
                        config: _this22.props.config,
                        participant: p }));
                }
            });
            return result;
        }
    }, {
        key: "renderBody",
        value: function renderBody() {
            if (this.props.config.show_sportsmen_only) {
                return React.createElement(SportsmenList, {
                    config: this.props.config,
                    participants: this.props.club.participants });
            }
            return React.createElement(
                "table",
                { className: "bordered-table" },
                React.createElement(
                    "thead",
                    null,
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            { className: "w-8 number" },
                            React.createElement(
                                "p",
                                null,
                                (0, _loader._)("models.participant.number")
                            )
                        ),
                        React.createElement(
                            "th",
                            { className: "w-27 name" },
                            React.createElement(
                                "p",
                                null,
                                (0, _loader._)("models.participant.sportsmen")
                            )
                        ),
                        React.createElement(
                            "th",
                            { className: "w-9 year-of-birth" },
                            React.createElement(
                                "p",
                                null,
                                (0, _loader._)("models.participant.sportsmen_year_of_birth")
                            )
                        ),
                        React.createElement(
                            "th",
                            { className: "w-28 discipline" },
                            React.createElement(
                                "p",
                                null,
                                (0, _loader._)("models.participant.discipline_name")
                            )
                        ),
                        React.createElement(
                            "th",
                            { className: "w-28 coaches" },
                            React.createElement(
                                "p",
                                null,
                                (0, _loader._)("models.participant.coaches")
                            )
                        )
                    )
                ),
                React.createElement(
                    "tbody",
                    null,
                    this.renderRows()
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                null,
                React.createElement(
                    "h5",
                    null,
                    React.createElement(
                        "p",
                        null,
                        this.props.club.name,
                        ", ",
                        this.props.club.city
                    )
                ),
                React.createElement(
                    "div",
                    { className: "club" },
                    this.renderBody(),
                    React.createElement(ParticipantsStats, {
                        participants: this.props.club.participants })
                )
            );
        }
    }]);

    return ClubSection;
}(React.Component);

var ClubSectionRow = function (_React$Component13) {
    _inherits(ClubSectionRow, _React$Component13);

    function ClubSectionRow() {
        _classCallCheck(this, ClubSectionRow);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(ClubSectionRow).apply(this, arguments));
    }

    _createClass(ClubSectionRow, [{
        key: "render",
        value: function render() {
            var class_name = this.props.acro_included ? "has-acro" : "";
            var p = this.props.participant;
            return React.createElement(
                "tr",
                { className: class_name },
                React.createElement(
                    "td",
                    { className: "w-8 number" },
                    React.createElement(
                        "p",
                        { className: "text-center" },
                        p.number
                    )
                ),
                React.createElement(
                    "td",
                    { className: "w-36 name", colSpan: "2" },
                    React.createElement(SportsmenTable, {
                        config: this.props.config,
                        participant: p })
                ),
                React.createElement(
                    "td",
                    { className: "w-28 discipline" },
                    React.createElement(
                        "p",
                        null,
                        p.discipline.name
                    )
                ),
                React.createElement(
                    "td",
                    { className: "w-28 coaches" },
                    React.createElement(
                        "p",
                        null,
                        p.coaches.split(",").map(function (c) {
                            return [c.trim(), React.createElement("br", { key: "X" })];
                        })
                    )
                )
            );
        }
    }]);

    return ClubSectionRow;
}(React.Component);

var SportsmenTable = function (_React$Component14) {
    _inherits(SportsmenTable, _React$Component14);

    function SportsmenTable() {
        _classCallCheck(this, SportsmenTable);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(SportsmenTable).apply(this, arguments));
    }

    _createClass(SportsmenTable, [{
        key: "renderFormationName",
        value: function renderFormationName() {
            var formation_name = this.props.participant.formation_name;
            if (formation_name !== "") {
                return React.createElement(
                    "tr",
                    { key: "FN" },
                    React.createElement(
                        "th",
                        { colSpan: "2" },
                        React.createElement(
                            "p",
                            { className: "text-left" },
                            formation_name
                        )
                    )
                );
            }
            return null;
        }
    }, {
        key: "renderSportsmen",
        value: function renderSportsmen() {
            if (this.props.config.include_formation_sportsmen || this.props.participant.formation_name === "") {
                return this.props.participant.sportsmen.map(function (s, idx) {
                    return React.createElement(
                        "tr",
                        { key: idx },
                        React.createElement(
                            "td",
                            { className: "w-75" },
                            React.createElement(
                                "p",
                                null,
                                s.last_name + " " + s.first_name,
                                s.substitute ? React.createElement(
                                    "i",
                                    null,
                                    " (",
                                    (0, _loader._)("admin.labels.sub"),
                                    ".)"
                                ) : null
                            )
                        ),
                        React.createElement(
                            "td",
                            { className: "w-25" },
                            React.createElement(
                                "p",
                                { className: "text-center" },
                                s.year_of_birth
                            )
                        )
                    );
                });
            }
        }
    }, {
        key: "render",
        value: function render() {
            var p = this.props.participant;
            return React.createElement(
                "table",
                { className: "inner" },
                React.createElement(
                    "tbody",
                    null,
                    this.renderFormationName(),
                    this.renderSportsmen()
                )
            );
        }
    }]);

    return SportsmenTable;
}(React.Component);

var SportsmenList = function (_React$Component15) {
    _inherits(SportsmenList, _React$Component15);

    function SportsmenList() {
        _classCallCheck(this, SportsmenList);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(SportsmenList).apply(this, arguments));
    }

    _createClass(SportsmenList, [{
        key: "render",
        value: function render() {
            var sportsmen = ParticipantsStats.getUniqueSportsmen(this.props.participants);
            sportsmen.sort(function (a, b) {
                return (0, _tools.CmpChain)().cmp(a.last_name, b.last_name).cmp(a.first_name, b.first_name).cmp(a.gender, b.gender).cmp(a.year_of_birth, b.year_of_birth).end();
            });
            return React.createElement(
                "table",
                { className: "bordered-table" },
                React.createElement(
                    "tbody",
                    null,
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            { className: "w-5" },
                            React.createElement(
                                "p",
                                null,
                                " "
                            )
                        ),
                        React.createElement(
                            "th",
                            { className: "w-35" },
                            React.createElement(
                                "p",
                                { className: "text-left" },
                                (0, _loader._)("models.participant.sportsman")
                            )
                        ),
                        React.createElement(
                            "th",
                            { className: "w-15" },
                            React.createElement(
                                "p",
                                { className: "text-center" },
                                (0, _loader._)("models.participant.yob")
                            )
                        ),
                        React.createElement(
                            "th",
                            { className: "w-15" },
                            React.createElement(
                                "p",
                                { className: "text-center" },
                                (0, _loader._)("models.participant.gender")
                            )
                        ),
                        React.createElement(
                            "th",
                            { className: "w-15" },
                            React.createElement(
                                "p",
                                { className: "text-center" },
                                (0, _loader._)("models.participant.substitute_n")
                            )
                        ),
                        React.createElement(
                            "th",
                            { className: "w-15" },
                            React.createElement(
                                "p",
                                { className: "text-center" },
                                (0, _loader._)("models.participant.substitute_y")
                            )
                        )
                    ),
                    sportsmen.map(function (s, idx) {
                        return React.createElement(
                            "tr",
                            { key: idx },
                            React.createElement(
                                "td",
                                { className: "w-5" },
                                React.createElement(
                                    "p",
                                    { className: "text-right" },
                                    idx + 1
                                )
                            ),
                            React.createElement(
                                "td",
                                { className: "w-35" },
                                React.createElement(
                                    "p",
                                    { className: "text-left" },
                                    s.last_name + " " + s.first_name
                                )
                            ),
                            React.createElement(
                                "td",
                                { className: "w-15" },
                                React.createElement(
                                    "p",
                                    { className: "text-center" },
                                    s.year_of_birth
                                )
                            ),
                            React.createElement(
                                "td",
                                { className: "w-15" },
                                React.createElement(
                                    "p",
                                    { className: "text-center" },
                                    s.gender === "F" ? (0, _loader._)("models.participant.gender_f") : (0, _loader._)("models.participant.gender_m")
                                )
                            ),
                            React.createElement(
                                "td",
                                { className: "w-15" },
                                React.createElement(
                                    "p",
                                    { className: "text-center" },
                                    s.p_count
                                )
                            ),
                            React.createElement(
                                "td",
                                { className: "w-15" },
                                React.createElement(
                                    "p",
                                    { className: "text-center" },
                                    s.s_count
                                )
                            )
                        );
                    })
                )
            );
        }
    }]);

    return SportsmenList;
}(React.Component);

var ParticipantsStats = function (_React$Component16) {
    _inherits(ParticipantsStats, _React$Component16);

    function ParticipantsStats() {
        _classCallCheck(this, ParticipantsStats);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(ParticipantsStats).apply(this, arguments));
    }

    _createClass(ParticipantsStats, [{
        key: "render",
        value: function render() {
            var sp_count = ParticipantsStats.countSportsmen(this.props.participants);
            var p_count = sp_count.total - sp_count.substitute_only;
            var s_count = sp_count.substitute_only;
            if (this.props.table_row) {
                return React.createElement(
                    "tr",
                    null,
                    React.createElement(
                        "th",
                        { className: "w-60" },
                        React.createElement(
                            "p",
                            { className: "text-left" },
                            this.props.label
                        )
                    ),
                    React.createElement(
                        "td",
                        { className: "w-16" },
                        React.createElement(
                            "p",
                            { className: "text-left" },
                            (0, _loader._)("admin.phrases.n_participants", this.props.participants.length)
                        )
                    ),
                    React.createElement(
                        "td",
                        { className: "w-24" },
                        React.createElement(
                            "p",
                            { className: "text-left" },
                            (0, _loader._)("admin.phrases.n_sportsmen_short", p_count, s_count)
                        )
                    )
                );
            }
            return React.createElement(
                "p",
                { className: "text-right" },
                React.createElement(
                    "strong",
                    null,
                    (0, _loader._)("admin.phrases.total_n_participants", this.props.participants.length),
                    ", ",
                    (0, _loader._)("admin.phrases.n_sportsmen", p_count, s_count)
                )
            );
        }
    }], [{
        key: "hashSportsman",
        value: function hashSportsman(s) {
            return s.last_name + "\n" + s.first_name + "\n" + s.year_of_birth + "\n" + s.gender;
        }
    }, {
        key: "getUniqueSportsmen",
        value: function getUniqueSportsmen(participants) {
            var found = {};
            participants.forEach(function (p) {
                p.sportsmen.forEach(function (s) {
                    var hash = ParticipantsStats.hashSportsman(s);
                    if (!found[hash]) {
                        found[hash] = (0, _tools.clone)(s);
                        found[hash].s_count = 0;
                        found[hash].p_count = 0;
                    }
                    if (s.substitute) {
                        ++found[hash].s_count;
                    } else {
                        ++found[hash].p_count;
                    }
                });
            });
            return Object.keys(found).map(function (key) {
                return found[key];
            });
        }
    }, {
        key: "countSportsmen",
        value: function countSportsmen(participants) {
            var sportsmen = ParticipantsStats.getUniqueSportsmen(participants);
            return {
                total: sportsmen.length,
                substitute_only: sportsmen.filter(function (s) {
                    return s.p_count === 0;
                }).length
            };
        }
    }]);

    return ParticipantsStats;
}(React.Component);

var Acrobatics = function (_React$Component17) {
    _inherits(Acrobatics, _React$Component17);

    function Acrobatics() {
        _classCallCheck(this, Acrobatics);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(Acrobatics).apply(this, arguments));
    }

    _createClass(Acrobatics, [{
        key: "render",
        value: function render() {
            var p = this.props.participant;
            return React.createElement(
                "tr",
                { className: "tr-acro" },
                React.createElement(
                    "td",
                    { className: "acro", colSpan: "5" },
                    React.createElement(
                        "table",
                        { className: "inner" },
                        React.createElement(
                            "tbody",
                            null,
                            p.programs.map(function (pr, pr_idx) {
                                return [React.createElement(
                                    "tr",
                                    { key: "H" + pr_idx },
                                    React.createElement(
                                        "th",
                                        { colSpan: "3" },
                                        React.createElement(
                                            "p",
                                            { className: "text-left" },
                                            pr.name
                                        )
                                    )
                                )].concat(pr.acrobatics.map(function (a, a_idx) {
                                    return React.createElement(
                                        "tr",
                                        { key: "A_" + pr_idx + "_" + a_idx },
                                        React.createElement(
                                            "td",
                                            { className: "w-3" },
                                            React.createElement(
                                                "p",
                                                { className: "text-left" },
                                                a_idx + 1
                                            )
                                        ),
                                        React.createElement(
                                            "td",
                                            { className: "w-90" },
                                            React.createElement(
                                                "p",
                                                { className: "text-left" },
                                                a.description
                                            )
                                        ),
                                        React.createElement(
                                            "td",
                                            { className: "w-7" },
                                            React.createElement(
                                                "p",
                                                { className: "text-right" },
                                                a.score.toFixed(1)
                                            )
                                        )
                                    );
                                }));
                            })
                        )
                    )
                )
            );
        }
    }]);

    return Acrobatics;
}(React.Component);

},{"common/docx":23,"common/tools":24,"l10n/loader":25,"server/api":28,"server/message_dispatcher":29,"server/storage":30,"ui/admin_components":31,"ui/components":32,"ui/printable":34}],19:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Tours = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _loader = require("l10n/loader");

var _api = require("server/api");

var _definitions = require("common/definitions");

var _dialogs = require("ui/dialogs");

var _tools = require("common/tools");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Tours = exports.Tours = function (_React$Component) {
    _inherits(Tours, _React$Component);

    function Tours(props) {
        _classCallCheck(this, Tours);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Tours).call(this, props));

        _this.state = {
            new_tour_after_id: -1
        };
        return _this;
    }

    _createClass(Tours, [{
        key: "addTourAfter",
        value: function addTourAfter(tour_id) {
            this.setState({
                new_tour_after_id: tour_id
            });
        }
    }, {
        key: "renderTourCreation",
        value: function renderTourCreation(after_id, next_tour) {
            if (next_tour && next_tour.finalized) {
                return null;
            }
            if (after_id === this.state.new_tour_after_id) {
                return React.createElement(TourCreatingUI, {
                    discipline_id: this.props.discipline.id,
                    add_after: after_id,
                    stopEditing: this.addTourAfter.bind(this, -1),
                    rules_set: this.props.rules_set
                });
            } else {
                return React.createElement(
                    "button",
                    { className: "btn btn-default full-width", onClick: this.addTourAfter.bind(this, after_id) },
                    (0, _loader._)("admin.buttons.add_tour")
                );
            }
        }
    }, {
        key: "renderTours",
        value: function renderTours() {
            return this.props.discipline.tours.map(function (tour, idx, arr) {
                return [React.createElement(TourEditingUI, { tour: tour, rules_set: this.props.rules_set, key: tour.id }), this.renderTourCreation(tour.id, arr[idx + 1])];
            }.bind(this));
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "app-content" },
                React.createElement(
                    "header",
                    { className: "app-header" },
                    React.createElement(
                        "h1",
                        null,
                        this.props.discipline.name
                    )
                ),
                React.createElement(
                    "div",
                    { className: "app-body ic-management-ui" },
                    this.renderTourCreation(null, this.props.discipline.tours[0]),
                    this.renderTours()
                ),
                React.createElement(
                    "datalist",
                    { id: "dl_tours" },
                    _loader.tour_names.map(function (n, idx) {
                        return React.createElement("option", { key: idx, value: n });
                    })
                ),
                React.createElement(
                    "datalist",
                    { id: "dl_programs" },
                    _definitions.GL.suggested_programs.map(function (n, idx) {
                        return React.createElement("option", { key: idx, value: n });
                    })
                )
            );
        }
    }]);

    return Tours;
}(React.Component);

var TourInputForm = function (_React$Component2) {
    _inherits(TourInputForm, _React$Component2);

    function TourInputForm() {
        _classCallCheck(this, TourInputForm);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(TourInputForm).apply(this, arguments));
    }

    _createClass(TourInputForm, [{
        key: "submitTour",
        value: function submitTour(event) {
            event.preventDefault();
            this.props.submitTour(this.serialize());
        }
    }, {
        key: "serialize",
        value: function serialize() {
            var result = {
                name: this.refs.name.value,
                participants_per_heat: this.refs.participants_per_heat.value,
                default_program: this.refs.default_program.value
            };
            if (!this.props.tour || !this.props.tour.finalized) {
                result["num_advances"] = this.refs.num_advances.value;
                result["scoring_system_name"] = this.refs.scoring_system_name.value;
                result["hope_tour"] = this.refs.hope_tour.checked;
            }
            return result;
        }
    }, {
        key: "render",
        value: function render() {
            var classes = ["tour", ""].concat(this.props.classes || []).join(" ");
            var tour = this.props.tour || { id: "new" };
            return React.createElement(
                "form",
                { className: classes, key: tour.id, onSubmit: this.submitTour.bind(this) },
                React.createElement(
                    "div",
                    { className: "row" },
                    React.createElement(
                        "div",
                        { className: "col-md-6" },
                        React.createElement(
                            "div",
                            { className: "form-group form-group-sm" },
                            React.createElement(
                                "label",
                                { className: "control-label" },
                                (0, _loader._)("models.tour.name")
                            ),
                            React.createElement("input", {
                                list: "dl_tours",
                                type: "text",
                                className: "form-control",
                                ref: "name",
                                defaultValue: tour.name })
                        ),
                        React.createElement(
                            "div",
                            { className: "form-group form-group-sm row" },
                            React.createElement(
                                "div",
                                { className: "col-lg-4" },
                                React.createElement(
                                    "label",
                                    { className: "control-label" },
                                    (0, _loader._)("models.tour.num_advances")
                                ),
                                React.createElement("input", {
                                    type: "text",
                                    className: "form-control",
                                    ref: "num_advances",
                                    disabled: tour.finalized,
                                    defaultValue: tour.num_advances })
                            ),
                            React.createElement(
                                "div",
                                { className: "col-lg-4" },
                                React.createElement(
                                    "label",
                                    { className: "control-label" },
                                    (0, _loader._)("models.tour.participants_per_heat")
                                ),
                                React.createElement("input", {
                                    type: "text",
                                    className: "form-control",
                                    ref: "participants_per_heat",
                                    defaultValue: tour.participants_per_heat || 2 })
                            ),
                            React.createElement(
                                "div",
                                { div: true, className: "col-lg-4" },
                                React.createElement(
                                    "label",
                                    { className: "control-label" },
                                    (0, _loader._)("models.tour.is_hope_tour")
                                ),
                                React.createElement(
                                    "div",
                                    { className: "checkbox" },
                                    React.createElement(
                                        "label",
                                        null,
                                        React.createElement("input", {
                                            type: "checkbox",
                                            ref: "hope_tour",
                                            disabled: tour.finalized,
                                            defaultChecked: tour.hope_tour })
                                    )
                                )
                            )
                        )
                    ),
                    React.createElement(
                        "div",
                        { className: "col-md-6" },
                        React.createElement(
                            "div",
                            { className: "form-group form-group-sm" },
                            React.createElement(
                                "label",
                                { className: "control-label" },
                                (0, _loader._)("models.tour.scoring_system_name")
                            ),
                            React.createElement(
                                "select",
                                {
                                    className: "form-control",
                                    ref: "scoring_system_name",
                                    disabled: tour.finalized,
                                    defaultValue: tour.scoring_system_name || _definitions.GL.scoring_systems[this.props.rules_set][0] },
                                _definitions.GL.scoring_systems[this.props.rules_set].map(function (sn) {
                                    return React.createElement(
                                        "option",
                                        { key: sn, value: sn },
                                        (0, _loader._)("scoring_systems_names." + sn)
                                    );
                                })
                            )
                        ),
                        React.createElement(
                            "div",
                            { className: "form-group form-group-sm row" },
                            React.createElement(
                                "div",
                                { className: "col-lg-6" },
                                React.createElement(
                                    "label",
                                    { className: "control-label" },
                                    (0, _loader._)("models.tour.default_program")
                                ),
                                React.createElement("input", {
                                    type: "text",
                                    list: "dl_programs",
                                    className: "form-control",
                                    ref: "default_program",
                                    defaultValue: tour.default_program || "" })
                            ),
                            React.createElement(
                                "div",
                                { className: "col-lg-6" },
                                React.createElement(
                                    "label",
                                    { className: "control-label" },
                                    " "
                                ),
                                React.createElement(
                                    "div",
                                    { className: "text-right" },
                                    React.createElement(
                                        "button",
                                        { className: "btn btn-primary btn-sm", type: "submit" },
                                        (0, _loader._)("global.buttons.submit")
                                    ),
                                    " ",
                                    React.createElement(
                                        "button",
                                        { className: "btn btn-primary btn-sm", type: "button", onClick: this.props.stopEditing },
                                        (0, _loader._)("global.buttons.discard")
                                    )
                                )
                            )
                        )
                    )
                )
            );
        }
    }]);

    return TourInputForm;
}(React.Component);

var TourEditingUI = function (_React$Component3) {
    _inherits(TourEditingUI, _React$Component3);

    function TourEditingUI(props) {
        _classCallCheck(this, TourEditingUI);

        var _this3 = _possibleConstructorReturn(this, Object.getPrototypeOf(TourEditingUI).call(this, props));

        _this3.state = {
            editing: false
        };
        return _this3;
    }

    _createClass(TourEditingUI, [{
        key: "startEditing",
        value: function startEditing() {
            this.setState({
                editing: true
            });
        }
    }, {
        key: "stopEditing",
        value: function stopEditing() {
            this.setState({
                editing: false
            });
        }
    }, {
        key: "renderEditor",
        value: function renderEditor() {
            return React.createElement(TourInputForm, {
                tour: this.props.tour,
                rules_set: this.props.rules_set,
                submitTour: this.submitTour.bind(this),
                stopEditing: this.stopEditing.bind(this) });
        }
    }, {
        key: "renderViewer",
        value: function renderViewer() {
            return React.createElement(
                "div",
                { className: "tour", key: this.props.tour.id },
                React.createElement(
                    "h3",
                    null,
                    this.props.tour.name
                ),
                React.createElement(
                    "div",
                    { className: "row" },
                    React.createElement(
                        "div",
                        { className: "col-md-5" },
                        React.createElement(
                            "p",
                            null,
                            React.createElement(
                                "strong",
                                null,
                                (0, _loader._)("models.tour.num_advances"),
                                ":"
                            ),
                            " ",
                            this.props.tour.num_advances,
                            " "
                        ),
                        React.createElement(
                            "p",
                            null,
                            React.createElement(
                                "strong",
                                null,
                                (0, _loader._)("models.tour.participants_per_heat"),
                                ":"
                            ),
                            " ",
                            this.props.tour.participants_per_heat,
                            " "
                        ),
                        React.createElement(
                            "p",
                            null,
                            React.createElement(
                                "strong",
                                null,
                                (0, _loader._)("models.tour.is_hope_tour"),
                                ":"
                            ),
                            " ",
                            this.props.tour.hope_tour ? (0, _loader._)("global.labels.yes") : (0, _loader._)("global.labels.no"),
                            " "
                        )
                    ),
                    React.createElement(
                        "div",
                        { className: "col-md-5" },
                        React.createElement(
                            "p",
                            null,
                            React.createElement(
                                "strong",
                                null,
                                (0, _loader._)("models.tour.scoring_system_name"),
                                ":"
                            ),
                            " ",
                            (0, _loader._)("scoring_systems_names." + this.props.tour.scoring_system_name),
                            " "
                        ),
                        React.createElement(
                            "p",
                            null,
                            React.createElement(
                                "strong",
                                null,
                                (0, _loader._)("models.tour.default_program"),
                                ":"
                            ),
                            " ",
                            this.props.tour.default_program,
                            " "
                        )
                    ),
                    React.createElement(
                        "div",
                        { className: "col-md-2" },
                        React.createElement(
                            "button",
                            { className: "full-width btn btn-primary btn-sm", onClick: this.startEditing.bind(this) },
                            (0, _loader._)("global.buttons.edit")
                        ),
                        React.createElement("br", null),
                        React.createElement(
                            "button",
                            { className: "full-width btn btn-danger btn-sm", onClick: this.deleteTour.bind(this) },
                            (0, _loader._)("global.buttons.delete")
                        )
                    )
                )
            );
        }
    }, {
        key: "submitTour",
        value: function submitTour(data) {
            (0, _api.Api)("tour.set", {
                tour_id: this.props.tour.id,
                data: data
            }).onSuccess(function (response) {
                this.stopEditing();
            }.bind(this)).send();
        }
    }, {
        key: "deleteTour",
        value: function deleteTour() {
            var _this4 = this;

            (0, _dialogs.showConfirm)((0, _loader._)("admin.confirms.delete_tour"), function () {
                (0, _api.Api)("tour.delete", { tour_id: _this4.props.tour.id }).onSuccess(function () {
                    return swal.close();
                }).send();
            });
        }
    }, {
        key: "render",
        value: function render() {
            return this.state.editing ? this.renderEditor() : this.renderViewer();
        }
    }]);

    return TourEditingUI;
}(React.Component);

var TourCreatingUI = function (_React$Component4) {
    _inherits(TourCreatingUI, _React$Component4);

    function TourCreatingUI() {
        _classCallCheck(this, TourCreatingUI);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(TourCreatingUI).apply(this, arguments));
    }

    _createClass(TourCreatingUI, [{
        key: "submitTour",
        value: function submitTour(data) {
            (0, _api.Api)("tour.create", {
                discipline_id: this.props.discipline_id,
                add_after: this.props.add_after,
                data: data
            }).onSuccess(function (response) {
                this.props.stopEditing();
            }.bind(this)).send();
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(TourInputForm, {
                classes: ["tour-create"],
                submitTour: this.submitTour.bind(this),
                stopEditing: this.props.stopEditing,
                rules_set: this.props.rules_set
            });
        }
    }]);

    return TourCreatingUI;
}(React.Component);

},{"common/definitions":22,"common/tools":24,"l10n/loader":25,"server/api":28,"ui/dialogs":33}],20:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.AutoPrinterStatus = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _loader = require("l10n/loader");

var _components = require("ui/components");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var AutoPrinterStatus = exports.AutoPrinterStatus = function (_React$Component) {
    _inherits(AutoPrinterStatus, _React$Component);

    function AutoPrinterStatus(props) {
        _classCallCheck(this, AutoPrinterStatus);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(AutoPrinterStatus).call(this, props));

        _this.state = {
            available: null
        };
        return _this;
    }

    _createClass(AutoPrinterStatus, [{
        key: "componentDidMount",
        value: function componentDidMount() {
            var _this2 = this;

            var xhr = new XMLHttpRequest();
            xhr.open("GET", "http://127.0.0.1:5949", true);
            xhr.onload = function () {
                return _this2.setState({ available: true });
            }; //eslint-disable-line react/no-did-mount-set-state
            xhr.onerror = function () {
                return _this2.setState({ available: false });
            }; //eslint-disable-line react/no-did-mount-set-state
            xhr.send();
        }
    }, {
        key: "render",
        value: function render() {
            var _this3 = this;

            if (this.state.available === null) {
                return React.createElement(_components.Loader, null);
            }
            if (!this.state.available) {
                return React.createElement(
                    "div",
                    { className: "alert alert-danger" },
                    React.createElement(
                        "p",
                        null,
                        (0, _loader._)("admin.alerts.auto_printer_not_available")
                    )
                );
            }
            return React.createElement(
                "div",
                { className: "alert alert-success" },
                React.createElement(
                    "p",
                    null,
                    (0, _loader._)("admin.alerts.auto_printer_available")
                ),
                React.createElement("br", null),
                React.createElement(
                    "button",
                    { className: "btn btn-default",
                        type: "button",
                        onClick: function onClick() {
                            return window.printer_window ? window.printer_window.focus() : window.printer_window = window.open("/printer/" + _this3.props.competition_id, "printer", "resizable=yes,location=no");
                        } },
                    (0, _loader._)("admin.buttons.launch_auto_printer")
                )
            );
        }
    }]);

    return AutoPrinterStatus;
}(React.Component);

},{"l10n/loader":25,"ui/components":32}],21:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Service = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _loader = require("l10n/loader");

var _api = require("server/api");

var _dialogs = require("ui/dialogs");

var _auto_printer_status = require("./auto_printer_status");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Service = exports.Service = function (_React$Component) {
    _inherits(Service, _React$Component);

    function Service(props) {
        _classCallCheck(this, Service);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(Service).call(this, props));
    }

    _createClass(Service, [{
        key: "reloadClients",
        value: function reloadClients() {
            (0, _dialogs.showConfirm)((0, _loader._)("admin.confirms.reload_clients"), function () {
                (0, _api.Api)("service.reload_clients", {}).onSuccess(function () {
                    return swal.close();
                }).send();
            });
        }
    }, {
        key: "refreshClients",
        value: function refreshClients() {
            (0, _dialogs.showConfirm)((0, _loader._)("admin.confirms.refresh_clients"), function () {
                (0, _api.Api)("service.refresh_clients", {}).onSuccess(function () {
                    return swal.close();
                }).send();
            });
        }
    }, {
        key: "unfinalizeTour",
        value: function unfinalizeTour(event) {
            var _this2 = this;

            event.preventDefault();
            var passcode = swal({
                title: (0, _loader._)("admin.headers.unfinalize_tour"),
                text: (0, _loader._)("admin.confirms.unfinalize_tour"),
                showCancelButton: true,
                closeOnConfirm: false,
                type: "input",
                animation: false
            }, function (value) {
                if (value !== "unfinalize") {
                    swal.showInputError((0, _loader._)("admin.messages.invalid_passcode"));
                    return false;
                }
                (0, _api.Api)("tour.unfinalize", {
                    tour_id: _this2._select_unfinalize.value
                }).onSuccess(function (event) {
                    swal({
                        title: (0, _loader._)("global.messages.success"),
                        animation: false,
                        type: "success"
                    });
                }).send();
            });
        }
    }, {
        key: "renderUnfinalize",
        value: function renderUnfinalize() {
            var _this3 = this;

            var eligible_tours = [];
            this.props.disciplines.forEach(function (ic) {
                for (var idx = ic.tours.length - 1; idx >= 0; --idx) {
                    var tour = ic.tours[idx];
                    if (tour.finalized) {
                        eligible_tours.push(React.createElement(
                            "option",
                            { value: tour.id, key: tour.id },
                            ic.name,
                            " — ",
                            tour.name
                        ));
                        break;
                    }
                }
            });
            if (eligible_tours.length === 0) {
                return React.createElement(
                    "div",
                    { className: "alert alert-danger" },
                    (0, _loader._)("admin.alerts.no_finalized")
                );
            }
            return React.createElement(
                "div",
                null,
                React.createElement(
                    "div",
                    { className: "alert alert-danger" },
                    (0, _loader._)("admin.alerts.unfinalize_warning")
                ),
                React.createElement(
                    "form",
                    { className: "unfinalization", onSubmit: this.unfinalizeTour.bind(this) },
                    React.createElement(
                        "select",
                        { className: "form-control", ref: function ref(c) {
                                return _this3._select_unfinalize = c;
                            } },
                        eligible_tours
                    ),
                    React.createElement(
                        "button",
                        { className: "btn btn-primary", type: "submit" },
                        (0, _loader._)("admin.buttons.unfinalize")
                    )
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "app" },
                React.createElement(
                    "div",
                    { className: "app-content" },
                    React.createElement(
                        "header",
                        { className: "app-header" },
                        React.createElement(
                            "h1",
                            null,
                            (0, _loader._)("admin.headers.service_menu")
                        )
                    ),
                    React.createElement(
                        "div",
                        { className: "service-menu app-body" },
                        React.createElement(
                            "h3",
                            null,
                            (0, _loader._)("admin.headers.clients_management")
                        ),
                        React.createElement(
                            "button",
                            { className: "btn btn-primary control-btn", onClick: this.reloadClients.bind(this) },
                            (0, _loader._)("admin.buttons.reload_clients")
                        ),
                        React.createElement(
                            "button",
                            { className: "btn btn-primary control-btn", onClick: this.refreshClients.bind(this) },
                            (0, _loader._)("admin.buttons.refresh_clients")
                        ),
                        React.createElement(
                            "h3",
                            null,
                            (0, _loader._)("admin.headers.unfinalize_tour")
                        ),
                        this.renderUnfinalize(),
                        React.createElement(
                            "h3",
                            null,
                            (0, _loader._)("admin.headers.auto_printer")
                        ),
                        React.createElement(_auto_printer_status.AutoPrinterStatus, { competition_id: this.props.competition_id }),
                        React.createElement(
                            "h3",
                            null,
                            (0, _loader._)("admin.headers.about")
                        ),
                        (0, _loader._)("admin.alerts.about", "v1.1 prerelease", "")
                    )
                )
            );
        }
    }]);

    return Service;
}(React.Component);

},{"./auto_printer_status":20,"l10n/loader":25,"server/api":28,"ui/dialogs":33}],22:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
var GL = exports.GL = {
    "judge_roles": ["dance_judge", "acro_judge", "head_judge", "tech_judge"],
    "scoring_systems": {
        "rosfarr": ["rosfarr.no_acro", "rosfarr.acro", "rosfarr.formation", "rosfarr.formation_acro", "rosfarr.simplified", "rosfarr.am_final_fw", "rosfarr.am_final_acro"]
    },
    "suggested_programs": ["default", "qualification", "quarterfinal", "final"]
};

},{}],23:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var DocxImpl = function () {
    function DocxImpl(filename) {
        _classCallCheck(this, DocxImpl);

        this.filename = filename;
        this.header = null;
        this.title1 = null;
        this.title2 = null;
        this.title3 = null;
        this.margins = null;
        this.body = "";
        this.orientation = "portrait";
        this.styles = {
            "body": {
                "font-size": "10pt",
                "font-family": "Calibri, Tahoma, Arial, sans-serif"
            },
            "table": {
                "border-collapse": "collapse",
                "width": "100%"
            },
            "tr": {
                "page-break-inside": "avoid"
            },
            "td, th": {
                "padding": "1pt 3pt"
            },
            "h1, h2, h3, h4, h5, h6": {
                "page-break-after": "avoid",
                "margin-bottom": 0
            },
            "h1": {
                "font-size": "20pt",
                "font-weight": "bold",
                "text-align": "center",
                "margin-top": "10pt"
            },
            "h2": {
                "font-size": "16pt",
                "font-weight": "bold",
                "text-align": "center",
                "margin-top": "6pt"
            },
            "h3": {
                "font-size": "16pt",
                "font-weight": "bold",
                "text-align": "center",
                "margin-top": "4pt"
            },
            "h4 p": {
                "font-size": "14pt",
                "font-weight": "bold",
                "margin": "10pt 0 6pt"
            },
            "h5 p": {
                "font-size": "12pt",
                "font-weight": "bold",
                "margin": "6pt 0"
            },
            ".header": {
                "border-bottom": "1px solid black",
                "font-size": "10pt",
                "font-weight": "bold",
                "margin": 0,
                "padding-bottom": "2pt",
                "margin-bottom": "20pt",
                "text-align": "center"
            },
            "p": {
                "margin": 0,
                "padding": 0
            },
            "li": { "margin-top": 0, "padding-top": 0 },
            ".spacer": {
                "font-size": "14pt"
            },
            ".va-top": {
                "vertical-align": "top"
            },
            ".text-left": { "text-align": "left" },
            ".text-right": { "text-align": "right" },
            ".text-center": { "text-align": "center" },
            ".bordered-table td, .bordered-table th": {
                "border": "1pt solid black"
            }
        };
        this.addWidthCss();
    }

    _createClass(DocxImpl, [{
        key: "addWidthCss",
        value: function addWidthCss() {
            for (var i = 1; i <= 100; ++i) {
                this.addStyle(".w-" + i, "width", i + "%");
            }
        }
    }, {
        key: "addStyle",
        value: function addStyle(selector, key, value) {
            if (!this.styles[selector]) {
                this.styles[selector] = {};
            }
            this.styles[selector][key] = value;
            return this;
        }
    }, {
        key: "setHeader",
        value: function setHeader(header) {
            this.header = header;
            return this;
        }
    }, {
        key: "setTitle1",
        value: function setTitle1(title1) {
            this.title1 = title1;
            return this;
        }
    }, {
        key: "setTitle2",
        value: function setTitle2(title2) {
            this.title2 = title2;
            return this;
        }
    }, {
        key: "setTitle3",
        value: function setTitle3(title3) {
            this.title3 = title3;
            return this;
        }
    }, {
        key: "setMargins",
        value: function setMargins(margins) {
            this.margins = margins;
            return this;
        }
    }, {
        key: "setBody",
        value: function setBody(body) {
            this.body = body;
            return this;
        }
    }, {
        key: "setOrientation",
        value: function setOrientation(orientation) {
            this.orientation = orientation;
            return this;
        }
    }, {
        key: "renderStyleBlock",
        value: function renderStyleBlock(selector, data) {
            var css_pairs = Object.getOwnPropertyNames(data).map(function (key) {
                return key + ': ' + data[key] + '; ';
            });
            return selector + " { " + css_pairs.join(" ") + " }";
        }
    }, {
        key: "renderStyles",
        value: function renderStyles() {
            var _this = this;

            var css_blocks = Object.getOwnPropertyNames(this.styles).map(function (selector) {
                return _this.renderStyleBlock(selector, _this.styles[selector]);
            }.bind(this));
            return css_blocks.join("\n");
        }
    }, {
        key: "renderHTML",
        value: function renderHTML() {
            var css = this.renderStyles();
            var header = this.header ? '<p class="header">' + this.header + '</p>' : "";
            var title1 = this.title1 ? '<h1>' + this.title1 + '</h1>' : "";
            var title2 = this.title2 ? '<h2>' + this.title2 + '</h2>' : "";
            var title3 = this.title3 ? '<h3>' + this.title3 + '</h3>' : "";
            var spacer = header || title1 || title2 || title3 ? '<p class="spacer">&nbsp;</p>' : "";
            return "<!DOCTYPE html>\n" + "<html><head>" + "<meta charset=\"utf-8\">" + "<style>\n" + css + "\n</style>\n" + "</head><body>\n" + header + title1 + title2 + title3 + spacer + this.body + "</body></html>";
        }
    }, {
        key: "save",
        value: function save() {
            var html = this.renderHTML();
            var margins = this.margins || (this.orientation === "portrait" ? [10, 15, 10, 15] : [7, 10, 7, 10]);
            var converted = htmlDocx.asBlob(html, {
                orientation: this.orientation,
                margins: {
                    top: Math.floor(margins[0] * 56.659).toString(),
                    right: Math.floor(margins[1] * 56.659).toString(),
                    bottom: Math.floor(margins[2] * 56.659).toString(),
                    left: Math.floor(margins[3] * 56.659).toString()
                }
            });
            saveAs(converted, this.filename);
        }
    }]);

    return DocxImpl;
}();

var Docx = exports.Docx = function Docx(fn) {
    return new DocxImpl(fn);
};

},{}],24:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

exports.clone = clone;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function clone(obj) {
    if ((typeof obj === "undefined" ? "undefined" : _typeof(obj)) !== "object") {
        return obj;
    }
    return JSON.parse(JSON.stringify(obj));
}

var CmpChainImpl = function () {
    function CmpChainImpl() {
        _classCallCheck(this, CmpChainImpl);

        this.result = 0;
    }

    _createClass(CmpChainImpl, [{
        key: "cmp",
        value: function cmp(a, b) {
            if (this.result === 0) {
                if (a < b) {
                    this.result = -1;
                } else if (a > b) {
                    this.result = 1;
                }
            }
            return this;
        }
    }, {
        key: "end",
        value: function end() {
            return this.result;
        }
    }]);

    return CmpChainImpl;
}();

var CmpChain = exports.CmpChain = function CmpChain() {
    return new CmpChainImpl();
};

},{}],25:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.tour_names = exports._ = undefined;

var _ru = require("./ru");

var _ = exports._ = _ru.translate;
var tour_names = exports.tour_names = (0, _ru.getPossibleTourNames)();

},{"./ru":26}],26:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.translate = translate;
function translate(src, arg) {
    function chooseEnding(n, e1, e2, e5) {
        var x = n % 100;
        if (Math.floor(x / 10) === 1) {
            return e5;
        }
        if (x % 10 === 1) {
            return e1;
        }
        if (x % 10 >= 5 || x % 10 === 0) {
            return e5;
        }
        return e2;
    }

    var PHRASES = {
        "admin": {
            "alerts": {
                "about": function about(version, date) {
                    return React.createElement(
                        "div",
                        { className: "about" },
                        React.createElement(
                            "p",
                            null,
                            React.createElement(
                                "b",
                                null,
                                "RockJudge ",
                                version
                            ),
                            " (закрытая версия для ограниченного использования) — система для подсчета результатов соревнований по акробатическому рок-н-роллу."
                        ),
                        React.createElement(
                            "p",
                            null,
                            "Авторские права на систему RockJudge полностью принадлежат разработчику Артему Казакову. Соавтор системы Антон Амелин."
                        ),
                        React.createElement(
                            "p",
                            null,
                            "Система распространяется по лицензии Linum d.o.o (info@linum.hr). Для использования системы судейства RockJudge необходимо и достаточно иметь право использования системы Linum LPS."
                        ),
                        React.createElement(
                            "p",
                            null,
                            "Официальный сайт: ",
                            React.createElement(
                                "a",
                                { href: "https://rockjudge.com/", target: "_blank" },
                                "https://rockjudge.com/"
                            )
                        )
                    );
                },
                "add_programs_after_creation": "Программы можно будет добавить только после сохранения участника",
                "auto_printer_available": "Автоматическая печать корректно настроена и может быть использована.",
                "auto_printer_not_available": "Автоматическая печать недоступна на этом компьтере.",
                "no_finalized": "Отсутствуют финализированные туры",
                "unfinalize_warning": React.createElement(
                    "div",
                    null,
                    React.createElement(
                        "p",
                        null,
                        React.createElement(
                            "strong",
                            null,
                            "Финализация должна отменяться только в исключительных случаях!"
                        )
                    ),
                    React.createElement(
                        "p",
                        null,
                        "Если же это действительно необходимо, обратите внимание, что после повторной финализации список участников следующего тура будет автоматически пересоздан. Результаты участников, прошедших в следующий тур после первой финализации и не прошедших после повторной будут безвозвратно утеряны!"
                    ),
                    React.createElement(
                        "p",
                        null,
                        "И не забудьте заново напечатать все тблицы."
                    )
                )
            },
            "auto_printer": {
                "discipline": "Дисциплина",
                "discipline_results": "Результаты дисциплины",
                "heats": "Заходы сл. тура",
                "print_test_page": "Напечатать тестовую страницу",
                "queue": "Очередь печати",
                "queue_empty": "Очередь пуста",
                "results_1": "Краткая таблица",
                "results_2": "Средняя таблица",
                "results_3": "Подробная таблица",
                "rules": "Задания",
                "test": "",
                "test_page": "Тестовая страница",
                "test_text": "Это тестовая страница RockJudge"
            },
            "buttons": {
                "add_club": "Добавить клуб",
                "add_competition": "Создать соревнование",
                "add_competition_plan_item": "Добавить элемент",
                "add_discipline": "Добавить дисциплину",
                "add_judge": "Добавить судью",
                "add_participant": "Добавить участника",
                "add_tour": "Добавить тур",
                "confirm_score": "Зафиксировать",
                "docx_heats": "Заходы в DOCX",
                "docx_numbers": "Номера в DOCX",
                "docx_results": "Результаты в DOCX",
                "export": "Экспортировать",
                "import": "Импортировать",
                "launch_auto_printer": "Запуск автоматической печати",
                "load_acro": "Загрузить акробатику",
                "refresh_clients": "Перезагрузить все устройства",
                "reload_clients": "Обновить данные на всех устройствах",
                "switch_to_plan": "Сортировка по программе",
                "switch_to_disciplines": "Сортировка по дисциплинам",
                "to_start_page": "На главную",
                "unconfirm_score": "Отмена фиксации",
                "unfinalize": "Отменить финализацию"
            },
            "confirms": {
                "delete_club": "Вы действительно хотите удалить этот клуб?",
                "delete_competition": "Вы действительно хотите удалить это соревнование?",
                "delete_discipline": "Вы действительно хотите удалить эту дисциплину?",
                "delete_judge": "Вы действительно хотите удалить этого судью?",
                "delete_participant": "Вы действительно хотите удалить этого участника?",
                "delete_program": "Вы действительно хотите удалить эту программу?",
                "delete_tour": "Вы действительно хотите удалить этот тур?",
                "refresh_clients": "Вы действительно хотите перезагрузить страницу на всех клиентах?",
                "reload_clients": "Вы действительно хотите обновить данные на всех клиентах?",
                "unfinalize_tour": "Вы действительно хотите отменить финализацию тура? Введите «unfinalize», чтобы продолжить"
            },
            "headers": {
                "about": "О программе",
                "auto_printer": "Автоматическая печать",
                "clients_management": "Управление подключенными устройствами",
                "clubs": "Клубы-участники",
                "clubs_management": "Управление клубами",
                "clubs_shown": "Информация только по следующим клубам:",
                "clubs_summary": "Сводка по клубам",
                "competition_info": "Информация о турнире",
                "competition_plan": "Программа соревнований",
                "competition_plan_management": "Программа соревнований",
                "competition_report": "Протокол соревнований",
                "competition_results": "Результаты соревнований",
                "competitions_management": "Управление соревнованиями",
                "discipline_judges": "Распределение судей по дисциплинам",
                "discipline_results": "Результаты дисциплины",
                "disciplines_management": "Управление дисциплинами",
                "disciplines_shown": "Информация только по следующим дисциплинам:",
                "disciplines_summary": "Сводка по дисциплинам",
                "export_competition": "Экспорт данных турнира и результатов",
                "import_competition": "Импорт данных турнира",
                "import_export": "Импорт / экспорт",
                "judges": "Судейская бригада",
                "judges_management": "Управление судьями",
                "load_acrobatics": "Загрузка акробатики",
                "participants_management": "Управление участниками",
                "service_menu": "Сервисное меню",
                "sportsmen_list": "Список спортсменов",
                "start_list": "Стартовый лист",
                "tour_heats": "Заходы участников",
                "tour_results": "Результаты тура",
                "unfinalize_tour": "Отмена финализации тура",
                "unpicked_tours": "Не включены в программу"
            },
            "labels": {
                "clubs": "Клубы",
                "competition_date": "Дата проведения",
                "competition_name": "Наименование соревнования",
                "discipline": "Дисциплина",
                "discipline_judges": "Распределение судей по дисциплинам",
                "disciplines": "Дисциплины",
                "group_by_clubs": "Группировать по клубам",
                "include_acrobatics": "Включить акробатику",
                "include_clubs": "Включить данные о клубах",
                "include_discipline_judges": "Включить распределение судей по дисциплинам",
                "include_extended_info": "Включить расширенную информацию",
                "include_formation_sportsmen": "Включить состав формейшнов",
                "include_judges": "Включить данные о судьях",
                "judges": "Судьи",
                "no_files_selected": "Выберите файл...",
                "participants": "Участники",
                "paste_acro": "Вставьте данные из калькулятора акробатики",
                "plan": "Программа турнира",
                "show_sportsmen_only": "Показывать только спортсменов",
                "show_summary": "Показывать только количество",
                "sub": "зап", // substitute
                "tours": "Туры"
            },
            "messages": {
                "invalid_passcode": "Введён неверный код потверждения"
            },
            "menu": {
                "competition_report": "Протокол соревнований",
                "discipline_results": "Результаты дисциплины",
                "import_export": "Импорт / экспорт",
                "manage_clubs": "Управление клубами",
                "manage_competition_plan": "Программа соревнований",
                "manage_disciplines": "Управление дисциплинами",
                "manage_judges": "Управление судьями",
                "manage_sportsmen": "Управление спортсменами",
                "manage_tours": "Управление турами",
                "start_list": "Стартовый лист"
            },
            "phrases": {
                "n_participants": function n_participants(n) {
                    return n.toString() + " участник" + chooseEnding(n, "", "а", "ов");
                },
                "n_sportsmen": function n_sportsmen(n, s) {
                    return n.toString() + " спортсмен" + chooseEnding(n, "", "а", "ов") + (s > 0 ? " (+" + s + " запасн" + chooseEnding(s, "ой", "ых", "ых") + ")" : "");
                },
                "n_sportsmen_short": function n_sportsmen_short(n, s) {
                    return n.toString() + " спортсмен" + chooseEnding(n, "", "а", "ов") + (s > 0 ? " (+" + s + " зап.)" : "");
                },
                "total_n_participants": function total_n_participants(n) {
                    return "Итого " + n + " участник" + chooseEnding(n, "", "а", "ов");
                }
            },
            "judging-tabs": {
                "tour-admin": "Управление",
                "heats": "Заходы",
                "results-1": "Краткая таблица",
                "results-2": "Средняя таблица",
                "results-3": "Подробная таблица",
                "discipline-results": "Результаты дисциплины"
            }
        },
        "errors": {
            "admin": {
                "load_syntax_error": "Некорректный формат данных"
            },
            "api": {
                "duplicated_external_id": "В данных имеются записи с повторяющимимся external_id",
                "unable_to_get": function unable_to_get(wanted) {
                    return "Невозможно получить " + wanted + " из запроса";
                }
            },
            "club": {
                "delete_with_participants": "Невозможно удалить клуб, к которому привязаны участники"
            },
            "competition": {
                "delete_non_empty": "Невозможно удалить соревнование, содержащее дисциплины, клубы или судей"
            },
            "competition_plan": {
                "too_many_tours": function too_many_tours(d) {
                    return ["Ошибка в программе соревнований", "В дисциплине " + d + " содержится больше туров, чем создано в системе"];
                },
                "invalid_discipline_found": "Программа соревнований содержит туры, отсутствующие в системе"
            },
            "discipline": {
                "change_judges_with_finalized_tour": "Невозможно изменить состав судей для дисциплины, содержащей финализированные туры",
                "delete_with_participants": "Невозможно удалить дисциплину, содержащую участников",
                "delete_with_tours": "Невозможно удалить дисциплину, содержащую туры"
            },
            "discipline_judge": {
                "delete_with_finalized": "Невозможно удалить судью, у корого есть финализированне туры",
                "delete_with_scores": "Невозможно удалить судью принявшего участие в судействе хотя бы одного тура",
                "repeating_judge": function repeating_judge(name) {
                    return name + " встречается в списке судей более одного раза";
                }
            },
            "global": {
                "internal_server_error": ["Ошибка на сервере", "проверьте логи для информации"]
            },
            "judge": {
                "delete_with_disciplines": "Невозможно удалить судью, входящего в судейскую бригаду хотя бы одной дисциплины"
            },
            "participant": {
                "delete_with_finalized_tours": "Невозможно удалить участника, принявшего участие хотя бы в одном финализированном туре"
            },
            "run": {
                "set_performed_flag_on_finalized": "Невозможно изменить статус захода финализинованного тура"
            },
            "score": {
                "score_not_exist": "Попытка получить значение несуществующей оценки судьи",
                "update_on_finalized_tour": "Невозможно изменить оценку в финализированном туре"
            },
            "tour": {
                "add_before_finalized": "Невозможно добавить новый тур перед финализированным",
                "delete_finalized": "Невозможно удалить финализированный тур",
                "delete_in_competition_plan": "Невозможно удалить тур, присутствующий в программе соревнований",
                "init_finailzed": "Невозможно пересоздать финализированный тур",
                "invalid_add_after_id": "Попытка добаить тур в несуществующее место",
                "invalid_scoring_system": "Выбрана недопустимая система судейства",
                "load_to_non_empty": function load_to_non_empty(d) {
                    return ["Невозможно загрузить туры для дисциплины", "Дисциплина " + d + " уже содержит туры"];
                },
                "next_is_finailzed": "Следующий тур не должен быть финализирован",
                "no_next_tour": "Данный тур последний в программе соревнований",
                "not_in_competition_plan": "Данный тур не содержится в программе соревнований",
                "prev_not_finailzed": "Предыдущий тур должен быть финализирован",
                "start_finalized": "Невозможно запустить финализированный тур",
                "update_finalized": "Для финализированного тура не допускается изменение квоты вывода, типа тура или системы судейства"
            }
        },
        "global": {
            "buttons": {
                "add": "Добавить",
                "close": "Закрыть",
                "deselect_all": "Снять все",
                "edit": "Редактировать",
                "delete": "Удалить",
                "discard": "Отменить",
                "load": "Загрузить",
                "save": "Сохранить",
                "select_all": "Выбрать все",
                "submit": "Сохранить"
            },
            "labels": {
                "browse": "Обзор...",
                "connecting": "Подключение к сети",
                "connection_problem": "Проблемы с сетью",
                "yes": "Да",
                "no": "Нет"
            },
            "messages": {
                "connection_error": "Похоже, имеются проблемы с сетью",
                "error_header": "Ошибка",
                "success": "Операция успешно завершена"
            },
            "phrases": {
                "heat_n": function heat_n(n) {
                    return "Заход №" + n.toString();
                },
                "judge_n": function judge_n(n) {
                    return "Линейный судья №" + n.toString();
                },
                "participant_n": function participant_n(n, name, n_sp) {
                    return n_sp > 2 ? "Формейшн №" + n.toString() + (name ? ": " + name : "") : (n_sp === 2 ? "Пара №" : "Участник №") + n.toString();
                }
            }
        },
        "judging": {
            "buttons": {
                "confirm_score": "Зафиксировать",
                "init_tour": "Пересоздать тур",
                "finalize_tour": "Финализировать",
                "reset_acrobatic_override": "Сброс",
                "shuffle_heats": "Перемешать заходы",
                "start_tour": "Начать тур",
                "stop_tour": "Остановить тур"
            },
            "confirms": {
                "finalize_tour": "Вы действительно хотите финализировать этот тур?",
                "init_tour": "Вы действительно хотите пересоздать этот тур?",
                "load_program": "Вы действительно хотите перезагрузить программу для этого участника?",
                "shuffle_heats": "Вы действительно хотите перемешать заходы?",
                "stop_tour": "Вы действительно хотите остановить этот тур?"
            },
            "headers": {
                "acrobatic_overrides": "Корректировки базовых оценок акробатики"
            },
            "labels": {
                "acro_description": "Описание трюка",
                "acro_idx": "№ трюка",
                "acrobatics": "Акробатика",
                "club": "Клуб",
                "confirmed": "Зафиксировано",
                "heat": "Заход",
                "new_score": "Корр.",
                "number": "№",
                "old_score": "База",
                "participant_name": "Участник",
                "performed": "В",
                "total_score": "Сумма баллов"
            }
        },
        "models": {
            "club": {
                "name": "Название клуба",
                "city": "Город",
                "external_id": "Внешний ID"
            },
            "competition": {
                "active": "Активно",
                "date": "Дата",
                "info": "Дополнительная информация для протокола",
                "info_item_title": "Заголовок",
                "info_item_value": "Значение",
                "name": "Название",
                "rules_set": "Система судейства"
            },
            "competition_plan_item": {
                "discipline": "Дисциплина",
                "estimated_beginning": "Начало",
                "estimated_duration": "Длительность",
                "name": "Название",
                "sp": "Приоритет",
                "tour": "Тур",
                "verbose_name": "Название"
            },
            "discipline": {
                "discipline_judges": "Судьи",
                "external_id": "Внешний ID",
                "name": "Название дисциплины",
                "sp": "Приоритет"
            },
            "discipline_judge": {
                "roles": {
                    "acro_judge": "А",
                    "dance_judge": "T",
                    "head_judge": "Гл",
                    "tech_judge": "Тех"
                },
                "roles_legend": React.createElement(
                    "table",
                    { className: "w-100" },
                    React.createElement(
                        "tbody",
                        null,
                        React.createElement(
                            "tr",
                            null,
                            React.createElement(
                                "td",
                                { className: "w-25" },
                                "Гл — главный судья"
                            ),
                            React.createElement(
                                "td",
                                { className: "w-25" },
                                "Т — судья танца"
                            ),
                            React.createElement(
                                "td",
                                { className: "w-25" },
                                "А — судья акробатики"
                            ),
                            React.createElement(
                                "td",
                                { className: "w-25" },
                                "Тex — технический судья"
                            )
                        )
                    )
                )
            },
            "judge": {
                "category": "Категория",
                "external_id": "Вн. ID",
                "name": "Ф. И. О.",
                "number": "Номер",
                "role": "Роль в судействе",
                "role_description": "Должность",
                "sp": "Приоритет"
            },
            "participant": {
                "acro_description": "Описание трюка",
                "acro_descriptions": "Описание трюков",
                "acro_score": "Оценка",
                "acrobatics": "Акробатика",
                "club_name": "Клуб",
                "club_city": "Город",
                "coaches": "Тренеры",
                "discipline_name": "Дисциплина",
                "first_name": "Имя",
                "gender": "Пол",
                "gender_f": "Ж",
                "gender_m": "М",
                "general_info": "Основная информация",
                "formation_name": "Название команды формейшн",
                "last_name": "Фамилия",
                "name": "Участник",
                "number": "Номер",
                "programs": "Программы",
                "sportsman": "Спортсмен",
                "sportsmen": "Спортсмены",
                "sportsmen_year_of_birth": "Г.р.",
                "substitute_n": "Осн.",
                "substitute_y": "Зап.",
                "year_of_birth": "Год рождения",
                "yob": "Г.р."
            },
            "program": {
                "default_for": "По умолчанию",
                "name": "Название программы"
            },
            "tour": {
                "default_program": "Акробатика по умолчанию",
                "is_hope_tour": "Тур «Надежды»",
                "name": "Название тура",
                "num_advances": "Квота вывода",
                "participants_per_heat": "Участников в заходе",
                "scoring_system_name": "Система судейства"
            }
        },
        "screen_operator": {
            "buttons": {
                "reset_heat": "Сброс номера захода",
                "reset_place": "Сброс места"
            },
            "headers": {
                "discipline": "Дисциплина",
                "heat": "Заход",
                "places": "Места для вывода",
                "tour": "Тур"
            },
            "labels": {
                "place": "место",
                "heat": "заход"
            }
        },
        "presenter": {
            "headers": {
                "clubs": "Клубы-участники",
                "heats": "Заходы",
                "info": "Информация",
                "judges": "Судьи",
                "plan": "Программа",
                "results": "Результаты"
            },
            "labels": {
                "discipline": "Дисциплина",
                "estimated_beginning": "Начало",
                "estimated_duration": "Длит.",
                "no_active_tour": "Нет активного тура",
                "place": "место",
                "tour": "Тур"
            }
        },
        "results": {
            "alerts": {
                "not_finalized": "Данные результаты не являются окончательными."
            },
            "buttons": {
                "print": "Печать",
                "simple_view": "Упрощенная таблица",
                "verbose_view": "Подробная таблица"
            }
        },
        "start_page": {
            "headers": {
                "select_competition": "Выберите соревнование для продолжения",
                "select_role": "Выберите свою роль"
            },
            "messages": {
                "no_competitions": "Нет активных соревнований",
                "competitions_management_link": function competitions_management_link(link) {
                    return React.createElement(
                        "span",
                        null,
                        "Управление соревнованиями находится по адресу ",
                        React.createElement(
                            "a",
                            { href: link },
                            link
                        )
                    );
                }
            },
            "roles": {
                "administrator": "Администратор",
                "presenter": "Ведущий",
                "screen": "Экран",
                "screen_operator": "Оператор экрана"
            }
        },
        "tablet": {
            "alerts": {
                "has_unconfirmed_scores": "Имеются незафиксированные оценки судей в последнем заходе."
            },
            "buttons": {
                "finalize_tour": "Финализировать тур",
                "finalize_tour_and_start_next": "Финализировать тур и перейти к следующему",
                "next_heat": "След. заход",
                "not_performed": "Невыход на площадку",
                "performed": "Отмена невыхода на площадку",
                "prev_heat": "Пред. заход",
                "reset_stopwatch": "Сброс",
                "start_stopwatch": "Старт",
                "stop_stopwatch": "Стоп",
                "stop_tour": "Завершить тур",
                "stop_tour_and_start_next": "Завершить тур и перейти к следующему туру",
                "to_start_page": "На главную"
            },
            "confirms": {
                "finalize_tour": "Вы действительно хотите финализировать этот тур?",
                "finalize_tour_and_start_next": "Вы действительно хотите финализировать этот тур и перейти к следующему туру?",
                "stop_tour": "Вы действительно хотите остановить этот тур?",
                "stop_tour_and_start_next": "Вы действительно хотите перейти к следующему туру?"
            },
            "headers": {
                "acro_n": function acro_n(n) {
                    return "Акробатика №" + (n + 1);
                },
                "heat": "Заход",
                "presenter": "Ведущий",
                "select_page": "Страница"
            },
            "messages": {
                "not_judging_discipline": "Вы не участвуете в судействе данной дисциплины",
                "not_judging_participant": "Вы не оцениваете этого участника",
                "not_judging_tour": "Вы не оцениваете этот тур",
                "not_performing": "Не выступает"
            },
            "pages": {
                "acrobatics": "Акробатика",
                "actions": "Действия",
                "dance": "Танец",
                "heats": "Заходы",
                "results": "Результаты"
            }
        },

        "scoring_systems": {
            "rosfarr": {
                "tablet": {
                    "acro_judge": {
                        "fall_down": "Падения (-30)"
                    },
                    "dance_judge": {
                        "acrobatics": "Акробатика",
                        "big_mistakes": "Большие ошибки (-30)",
                        "composition": "Композиция",
                        "dance_figs": "Танцевальные фигуры",
                        "dance_tech": "Техника танцевания",
                        "form_fall_down": "Падения (-3)",
                        "form_mistakes": "Ошибки (-2)",
                        "form_small_mistakes": "Маленькие ошибки (-2)",
                        "form_big_mistakes": "Большие ошибки (-3)",
                        "fw_man": "Основной ход, партнёр (сбавка в %)",
                        "fw_woman": "Основной ход, партнёрша (сбавка в %)",
                        "impression": "Общее впечатление",
                        "points": "Оценка",
                        "small_mistakes": "Маленькие ошибки (-5)"
                    },
                    "global": {
                        "total_score": "Сумма баллов"
                    },
                    "head_judge": {
                        "acrobatic_overrides": "Корректировки акробатики",
                        "black_card": "-100",
                        "dance_judge_scores": "Оценки линейных судей",
                        "ok": "OK",
                        "penalty_type": "Штрафные санкции",
                        "previous_penalties": "Предыдущие штрафы",
                        "red_card": "-30",
                        "yellow_card": "-3",
                        "form_yellow_card": "-5",
                        "form_red_card": "-15"
                    },
                    "tech_judge": {
                        "jump_steps": "Основные ходы",
                        "reset_to_n": function reset_to_n(n) {
                            return "Сброс на " + n.toString();
                        },
                        "timing": "Длительность"
                    }
                },
                "results": {
                    "breakdown": {
                        "a": "A",
                        "acro_n": function acro_n(n) {
                            return "A" + n.toString();
                        },
                        "bm": "БО",
                        "c": "К",
                        "df": "ТФ",
                        "dt": "ТT",
                        "fd": "П",
                        "fm": "ОХм",
                        "fw": "ОХж",
                        "i": "ОВ",
                        "m": "Ош",
                        "p": "М",
                        "sm": "МО",
                        "t": "Σ"
                    },
                    "headers": {
                        "participants_advanced": "Прошли в следующий тур",
                        "participants_not_advanced": "Не прошли в следующий тур",
                        "participants_not_performed": "Не выступали"
                    },
                    "labels": {
                        "acro_score": "Результат акро",
                        "acrobatics": "Акробатика",
                        "acrobatics_verbose": "Акробатика (заявка/факт)",
                        "card": "Штраф",
                        "fw_score": "Результат ТН",
                        "fw_score_short": "ТН",
                        "info": "Участник, результат",
                        "next_tour": "Следующий тур",
                        "not_performed": "Не принимал участие",
                        "number": "№",
                        "participant_club": "Клуб",
                        "participant_coaches": "Тренеры",
                        "participant_name": "Участник",
                        "penalty": "Штраф главного судьи",
                        "place": "Место",
                        "sportsmen": "Спортсмены",
                        "sportsmen_year_of_birth": "Г.р.",
                        "total_score": "Итог"
                    }
                }
            }
        },

        "scoring_systems_names": {
            "rosfarr": {
                "base_name": "РосФАРР",
                "acro": "РосФАРР, акробатические программы",
                "am_final_acro": "РосФАРР, A и M классы, финал, акробатика",
                "am_final_fw": "РосФАРР, A и M классы, финал, техника ног",
                "formation": "РосФАРР, формейшн без акробатики",
                "formation_acro": "РосФАРР, формейшн с акробатикой",
                "no_acro": "РосФАРР, танцевальные программы",
                "simplified": "РосФАРР, упрощенная система (1–40)"
            }
        },
        "judge_roles": {
            "": "-",
            "acro_judge": "Судья акробатики",
            "dance_judge": "Судья танца",
            "head_judge": "Главный судья",
            "tech_judge": "Технический судья"
        }
    };
    var path = src.split(".");
    var phrase_ptr = PHRASES;
    path.forEach(function (chunk) {
        return phrase_ptr = phrase_ptr[chunk];
    });
    if (typeof phrase_ptr === "undefined") {
        console.error("Unable to find translation for " + src);
        return;
    }
    if (typeof phrase_ptr === "function") {
        var args = [];
        for (var idx = 1; idx < arguments.length; ++idx) {
            args.push(arguments[idx]);
        }
        return phrase_ptr.apply(undefined, args);
    }
    return phrase_ptr;
}

var getPossibleTourNames = exports.getPossibleTourNames = function getPossibleTourNames() {
    return ["Финал", "Тур «Надежды»", "Отборочный тур", "1/2 финала", "1/4 финала", "1/8 финала", "1/16 финала", "Финал, техника ног", "Финал, акробатика"];
};

},{}],27:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var RulesSetLoader = function () {
    function RulesSetLoader() {
        _classCallCheck(this, RulesSetLoader);

        this._loaded = false;
    }

    _createClass(RulesSetLoader, [{
        key: "load",
        value: function load(module_name, data) {
            var KEYS = ["tour_results_table_1", "tour_results_table_2", "tour_results_table_2", "judge_tablet", "admin_score_input"];
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = KEYS[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var key = _step.value;

                    if (!(key in data)) {
                        throw new Error("Module " + module_name + " doesn't export " + key + " class.");
                    }
                    this["_" + key] = data[key];
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }

            this._loaded = true;
            console.log("Added scoring system: " + module_name);
        }
    }, {
        key: "_checkIfLoaded",
        value: function _checkIfLoaded() {
            if (!this._loaded) {
                throw new Error("No scoring system was loaded");
            }
        }
    }, {
        key: "tour_results_table_1",
        get: function get() {
            this._checkIfLoaded();
            return this._tour_results_table_1;
        }
    }, {
        key: "tour_results_table_2",
        get: function get() {
            this._checkIfLoaded();
            return this._tour_results_table_2;
        }
    }, {
        key: "tour_results_table_3",
        get: function get() {
            this._checkIfLoaded();
            return this._tour_results_table_3;
        }
    }, {
        key: "judge_tablet",
        get: function get() {
            this._checkIfLoaded();
            return this._judge_tablet;
        }
    }, {
        key: "admin_score_input",
        get: function get() {
            this._checkIfLoaded();
            return this._admin_score_input;
        }
    }]);

    return RulesSetLoader;
}();

var loader = new RulesSetLoader();

window.registerRulesSet = function () {
    loader.load.apply(loader, arguments);
};

exports.default = loader;

},{}],28:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Api = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _loader = require("l10n/loader");

var _storage = require("server/storage");

var _dialogs = require("ui/dialogs");

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var ApiImpl = function () {
    function ApiImpl(method, data) {
        _classCallCheck(this, ApiImpl);

        this.method = method;
        this.data = data;
        this.cb_success = function () {};
        this.cb_error = function (msg, code, args) {
            return (0, _dialogs.showError)(code ? _loader._.apply(undefined, [code].concat(_toConsumableArray(args))) : msg);
        };
        this.cb_fail = function () {
            var _console;

            for (var _len = arguments.length, data = Array(_len), _key = 0; _key < _len; _key++) {
                data[_key] = arguments[_key];
            }

            return (_console = console).error.apply(_console, ["API fail"].concat(data));
        };
        this.cb_done = function () {};
        this.update_db = function () {};
    }

    _createClass(ApiImpl, [{
        key: "onDone",
        value: function onDone(callback) {
            this.cb_done = callback;
            return this;
        }
    }, {
        key: "onSuccess",
        value: function onSuccess(callback) {
            this.cb_success = callback;
            return this;
        }
    }, {
        key: "onError",
        value: function onError(callback) {
            this.cb_error = callback;
            return this;
        }
    }, {
        key: "onFail",
        value: function onFail(callback) {
            this.cb_fail = callback;
            return this;
        }
    }, {
        key: "addToDB",
        value: function addToDB(model_type, model_id) {
            var st = arguments.length <= 2 || arguments[2] === undefined ? _storage.storage : arguments[2];

            this.update_db = function (response) {
                st.get(model_type).add(model_id, response);
            };
            return this;
        }
    }, {
        key: "send",
        value: function send() {
            var _this = this;

            var xhr = new XMLHttpRequest();
            xhr.open("POST", "/api", true);
            xhr.onload = function () {
                _this.cb_done();
                if (xhr.status !== 200) {
                    _this.cb_fail();
                    return;
                }
                var response = JSON.parse(xhr.responseText);
                if (response === null) {
                    _this.cb_fail();
                } else if (response.success) {
                    _this.update_db(response.response);
                    _this.cb_success(response.response);
                } else {
                    _this.cb_error(response.message, response.code, response.args);
                }
            };
            xhr.onerror = function () {
                _this.cb_done();
                _this.cb_fail();
            };
            var data = new FormData();
            data.append("client_id", window.client_id);
            data.append("data", JSON.stringify(this.data));
            data.append("method", this.method);
            xhr.send(data);
        }
    }]);

    return ApiImpl;
}();

var Api = exports.Api = function Api() {
    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
    }

    return new (Function.prototype.bind.apply(ApiImpl, [null].concat(args)))();
};
exports.default = Api;

},{"l10n/loader":25,"server/storage":30,"ui/dialogs":33}],29:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.message_dispatcher = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _storage = require("server/storage");

var _components = require("ui/components");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var MessageDispatcher = function () {
    function MessageDispatcher() {
        _classCallCheck(this, MessageDispatcher);

        this.closed = false;
        this.listeners = {};
        this.listeners_cnt = 0;
        this.connect();
    }

    _createClass(MessageDispatcher, [{
        key: "connect",
        value: function connect() {
            console.log("Connecting to websocket...");
            this.ws = new SockJS("http://" + window.location.host + "/ws");
            this.ws.onopen = function () {
                _components.connection_status.setOk();
                console.log("Connected.");
                if (this.closed) {
                    this.onMessage({
                        data: JSON.stringify({
                            messages: [["reload_data", null]],
                            model_updates: []
                        })
                    });
                }
            }.bind(this);
            this.ws.onclose = function () {
                _components.connection_status.setFail();
                console.log("Connection closed.");
                this.closed = true;
                setTimeout(this.connect.bind(this), 500);
            }.bind(this);
            this.ws.onmessage = this.onMessage.bind(this);
        }
    }, {
        key: "onMessage",
        value: function onMessage(message) {
            var _this = this;

            var data = JSON.parse(message.data);
            if (data["client_id"]) {
                window.client_id = data["client_id"];
                return;
            }
            data.messages.forEach(function (data) {
                var msg_type = data[0];
                var msg_data = data[1];
                var listeners = this.listeners[msg_type] || {};
                if (msg_type === "force_refresh") {
                    window.location.reload(true);
                }
                Object.keys(this.listeners[msg_type] || {}).forEach(function (key) {
                    return listeners[key](msg_data);
                });
            }.bind(this));
            var data_changed = false;
            data.model_updates.forEach(function (model_info) {
                data_changed = _storage.storage.updateModel(model_info.model, model_info.id, model_info.data) || data_changed;
            });
            if (data_changed) {
                (function () {
                    var listeners = _this.listeners["db_update"] || {};
                    Object.keys(listeners).forEach(function (key) {
                        if (listeners[key]) {
                            listeners[key]();
                        }
                    });
                })();
            }
        }
    }, {
        key: "getListenerId",
        value: function getListenerId() {
            return this.listeners_cnt++;
        }
    }, {
        key: "addListener",
        value: function addListener(msg_types, callback) {
            var id = this.getListenerId();
            msg_types.split(" ").forEach(function (msg_type) {
                if (!this.listeners[msg_type]) {
                    this.listeners[msg_type] = {};
                }
                this.listeners[msg_type][id] = callback;
            }.bind(this));
            return id;
        }
    }, {
        key: "removeListener",
        value: function removeListener(listener_id) {
            Object.keys(this.listeners).forEach(function (key) {
                delete this.listeners[key][listener_id];
            }.bind(this));
        }
    }]);

    return MessageDispatcher;
}();

if (!window.message_dispatcher) {
    window.message_dispatcher = new MessageDispatcher();
}
var message_dispatcher = exports.message_dispatcher = window.message_dispatcher;

},{"server/storage":30,"ui/components":32}],30:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Ref = function () {
    function Ref(storage, model_name, id) {
        _classCallCheck(this, Ref);

        this.model_name = model_name;
        this.id = id;
        this.storage = storage;
    }

    _createClass(Ref, [{
        key: "get",
        value: function get() {
            return this.storage.get(this.model_name).by_id(this.id);
        }
    }]);

    return Ref;
}();

var Model = function () {
    function Model(storage, id, model_storage) {
        _classCallCheck(this, Model);

        this.id = id;
        this.__storage = storage;
        this.__key_types = {};
        this.__model_storage = model_storage;
    }

    _createClass(Model, [{
        key: "addBackRef",
        value: function addBackRef(key, ref) {
            this[key] = ref;
            this.__key_types[key] = "^";
        }
    }, {
        key: "update",
        value: function update(data) {
            var _this = this;

            var create = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];

            for (var idx in data) {
                if (data.hasOwnProperty(idx)) {
                    if (idx.charAt(0) === "*" || idx.charAt(0) === "^") {
                        if (!create && typeof this[idx.slice(1)] === "undefined") {
                            continue;
                        }
                    }
                    if (idx.charAt(0) === "*") {
                        (function () {
                            var key = idx.slice(1);
                            _this[key] = [];
                            var back_ref = new Ref(_this.__storage, _this.__model_storage.model_name, _this.id);
                            var back_ref_key = data[idx].back_ref;
                            data[idx].children.forEach(function (nested_data) {
                                if (_typeof(nested_data.data) === "object") {
                                    this.__storage.get(nested_data.model).add(nested_data.id, nested_data.data);
                                }
                                var ref = new Ref(this.__storage, nested_data.model, nested_data.id);
                                ref.get().addBackRef(back_ref_key, back_ref);
                                this[key].push(ref);
                            }.bind(_this));
                            _this.__key_types[key] = "*";
                        })();
                    } else if (idx.charAt(0) === "^") {
                        var key = idx.slice(1);
                        var nested_data = data[idx];
                        if ((typeof nested_data === "undefined" ? "undefined" : _typeof(nested_data)) === "object") {
                            this.__storage.get(nested_data.model).add(nested_data.id, nested_data.data);
                        }
                        this[key] = new Ref(this.__storage, nested_data.model, nested_data.id);
                        this.__key_types[key] = "^";
                    } else {
                        this[idx] = data[idx];
                        this.__key_types[idx] = "";
                    }
                }
            }
        }
    }, {
        key: "serialize",
        value: function serialize(schema) {
            var _this2 = this;

            var result = {};

            var _loop = function _loop(key) {
                if (_this2.__key_types.hasOwnProperty(key)) {
                    switch (_this2.__key_types[key]) {
                        case "*":
                            if (key in schema) {
                                result[key] = _this2[key].map(function (ref) {
                                    return ref.get().serialize(schema[key]);
                                });
                            }
                            break;
                        case "^":
                            if (key in schema) {
                                result[key] = _this2[key].get().serialize(schema[key]);
                            }
                            break;
                        default:
                            result[key] = _this2[key];
                    }
                }
            };

            for (var key in this.__key_types) {
                _loop(key);
            }result.id = this.id;
            return result;
        }
    }]);

    return Model;
}();

var ModelsStorage = function () {
    function ModelsStorage(storage, model_name) {
        _classCallCheck(this, ModelsStorage);

        this.model_name = model_name;
        this.models = {};
        this.storage = storage;
    }

    _createClass(ModelsStorage, [{
        key: "add",
        value: function add(id, data) {
            if (typeof this.models[id] === "undefined") {
                this.models[id] = new Model(this.storage, id, this);
            }
            this.models[id].update(data);
        }
    }, {
        key: "update",
        value: function update(id, data) {
            if (this.models[id]) {
                this.models[id].update(data, false);
                return true;
            }
            return false;
        }
    }, {
        key: "by_id",
        value: function by_id(id) {
            return this.models[id];
        }
    }, {
        key: "all",
        value: function all() {
            var keys = Object.getOwnPropertyNames(this.models);
            return keys.map(function (key) {
                return this.models[key];
            }.bind(this));
        }
    }]);

    return ModelsStorage;
}();

var Storage = function () {
    function Storage() {
        _classCallCheck(this, Storage);

        this.model_storages = {};
        this.domains = {};
    }

    _createClass(Storage, [{
        key: "getDomain",
        value: function getDomain(domain) {
            if (typeof this.domains[domain] === "undefined") {
                this.domains[domain] = new Storage();
            }
            return this.domains[domain];
        }
    }, {
        key: "delDomain",
        value: function delDomain(domain) {
            delete this.domains[domain];
        }
    }, {
        key: "get",
        value: function get(model_name) {
            if (typeof this.model_storages[model_name] === "undefined") {
                this.model_storages[model_name] = new ModelsStorage(this, model_name);
            }
            return this.model_storages[model_name];
        }
    }, {
        key: "del",
        value: function del(model_name) {
            delete this.model_storages[model_name];
        }
    }, {
        key: "updateModel",
        value: function updateModel(model_type, model_id, data) {
            var _this3 = this,
                _arguments = arguments;

            var data_changed = false;
            if (this.model_storages[model_type]) {
                data_changed = this.get(model_type).add(model_id, data) || data_changed;
            }
            Object.keys(this.domains).forEach(function (key) {
                var _domains$key;

                return data_changed = (_domains$key = _this3.domains[key]).updateModel.apply(_domains$key, _arguments) || data_changed;
            });
            // return data_changed;
            return true;
        }
    }]);

    return Storage;
}();

var storage = exports.storage = new Storage();

},{}],31:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.DisciplinesControls = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _loader = require("l10n/loader");

var _tools = require("common/tools");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DisciplinesControls = exports.DisciplinesControls = function (_React$Component) {
    _inherits(DisciplinesControls, _React$Component);

    function DisciplinesControls() {
        var _Object$getPrototypeO;

        var _temp, _this, _ret;

        _classCallCheck(this, DisciplinesControls);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(DisciplinesControls)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.onChange = function (property_name, value) {
            var config = (0, _tools.clone)(_this.props.config);
            config[property_name] = value;
            _this.props.onChange(config);
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(DisciplinesControls, [{
        key: "renderClubs",
        value: function renderClubs() {
            if (!this.props.clubs) {
                return null;
            }
            return React.createElement(
                "div",
                null,
                React.createElement(CheckboxesSet, {
                    mkey: "clubs",
                    items: this.props.clubs,
                    values: this.props.config.clubs,
                    onChange: this.onChange }),
                React.createElement("div", { className: "spacer" })
            );
        }
    }, {
        key: "render",
        value: function render() {
            var _this2 = this;

            return React.createElement(
                "div",
                { className: "controls" },
                React.createElement(
                    "div",
                    { className: "row" },
                    React.createElement(
                        "div",
                        { className: "col-md-6" },
                        React.createElement(CheckboxesSet, {
                            mkey: "disciplines",
                            items: this.props.disciplines,
                            values: this.props.config.disciplines,
                            onChange: this.onChange })
                    ),
                    React.createElement(
                        "div",
                        { className: "col-md-6" },
                        this.renderClubs(),
                        this.props.custom_controls.map(function (info) {
                            return React.createElement(ControlsCheckbox, {
                                key: info.key,
                                mkey: info.key,
                                label: info.label,
                                value: _this2.props.config[info.key],
                                onChange: _this2.onChange });
                        })
                    )
                )
            );
        }
    }]);

    return DisciplinesControls;
}(React.Component);

var CheckboxesSet = function (_React$Component2) {
    _inherits(CheckboxesSet, _React$Component2);

    function CheckboxesSet() {
        var _Object$getPrototypeO2;

        var _temp2, _this3, _ret2;

        _classCallCheck(this, CheckboxesSet);

        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
            args[_key2] = arguments[_key2];
        }

        return _ret2 = (_temp2 = (_this3 = _possibleConstructorReturn(this, (_Object$getPrototypeO2 = Object.getPrototypeOf(CheckboxesSet)).call.apply(_Object$getPrototypeO2, [this].concat(args))), _this3), _this3.onCbChange = function (id, value) {
            var new_values = (0, _tools.clone)(_this3.props.values);
            new_values[id] = value;
            _this3.props.onChange(_this3.props.mkey, new_values);
        }, _this3.onSelectAll = function (e) {
            e.preventDefault();
            _this3.setAll(true);
        }, _this3.onDeselectAll = function (e) {
            e.preventDefault();
            _this3.setAll(false);
        }, _temp2), _possibleConstructorReturn(_this3, _ret2);
    }

    _createClass(CheckboxesSet, [{
        key: "setAll",
        value: function setAll(value) {
            var new_values = (0, _tools.clone)(this.props.values);
            Object.keys(new_values).forEach(function (key) {
                new_values[key] = value;
            });
            this.props.onChange(this.props.mkey, new_values);
        }
    }, {
        key: "render",
        value: function render() {
            var _this4 = this;

            return React.createElement(
                "div",
                null,
                this.props.items.map(function (x) {
                    return React.createElement(ControlsCheckbox, {
                        key: x.id,
                        mkey: x.id,
                        label: x.name,
                        value: _this4.props.values[x.id],
                        onChange: _this4.onCbChange });
                }),
                React.createElement(
                    "a",
                    { href: "#", onClick: this.onSelectAll },
                    (0, _loader._)("global.buttons.select_all")
                ),
                "    ",
                React.createElement(
                    "a",
                    { href: "#", onClick: this.onDeselectAll },
                    (0, _loader._)("global.buttons.deselect_all")
                )
            );
        }
    }]);

    return CheckboxesSet;
}(React.Component);

var ControlsCheckbox = function (_React$Component3) {
    _inherits(ControlsCheckbox, _React$Component3);

    function ControlsCheckbox() {
        var _Object$getPrototypeO3;

        var _temp3, _this5, _ret3;

        _classCallCheck(this, ControlsCheckbox);

        for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
            args[_key3] = arguments[_key3];
        }

        return _ret3 = (_temp3 = (_this5 = _possibleConstructorReturn(this, (_Object$getPrototypeO3 = Object.getPrototypeOf(ControlsCheckbox)).call.apply(_Object$getPrototypeO3, [this].concat(args))), _this5), _this5.onChange = function (e) {
            _this5.props.onChange(_this5.props.mkey, e.target.checked);
        }, _temp3), _possibleConstructorReturn(_this5, _ret3);
    }

    _createClass(ControlsCheckbox, [{
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "switch" },
                React.createElement(
                    "label",
                    null,
                    React.createElement("input", {
                        type: "checkbox",
                        checked: this.props.value,
                        onChange: this.onChange }),
                    this.props.label
                )
            );
        }
    }]);

    return ControlsCheckbox;
}(React.Component);

},{"common/tools":24,"l10n/loader":25}],32:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.connection_status = exports.Loader = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _loader = require("l10n/loader");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Loader = exports.Loader = function (_React$Component) {
    _inherits(Loader, _React$Component);

    function Loader() {
        _classCallCheck(this, Loader);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(Loader).apply(this, arguments));
    }

    _createClass(Loader, [{
        key: "render",
        value: function render() {
            return React.createElement(
                "table",
                { style: { "height": "100%", "width": "100%" } },
                React.createElement(
                    "tbody",
                    null,
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "td",
                            { style: { "textAlign": "center" } },
                            React.createElement("img", { src: "/static/img/ajax-loader.gif" })
                        )
                    )
                )
            );
        }
    }]);

    return Loader;
}(React.Component);

var ConnectionStatusMock = function () {
    function ConnectionStatusMock() {
        _classCallCheck(this, ConnectionStatusMock);
    }

    _createClass(ConnectionStatusMock, [{
        key: "setOk",
        value: function setOk() {}
    }, {
        key: "setFail",
        value: function setFail() {}
    }]);

    return ConnectionStatusMock;
}();

var ConnectionStatus = function (_React$Component2) {
    _inherits(ConnectionStatus, _React$Component2);

    function ConnectionStatus(props) {
        _classCallCheck(this, ConnectionStatus);

        var _this2 = _possibleConstructorReturn(this, Object.getPrototypeOf(ConnectionStatus).call(this, props));

        _this2.state = {
            "connected": null
        };
        return _this2;
    }

    _createClass(ConnectionStatus, [{
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
            this.stopInterval();
        }
    }, {
        key: "startInterval",
        value: function startInterval() {
            var _this3 = this;

            if (this.interval) {
                return;
            }
            this.interval = setInterval(function () {
                _this3.setState({
                    tick: !_this3.state.tick
                });
            }, 750);
        }
    }, {
        key: "stopInterval",
        value: function stopInterval() {
            if (!this.interval) {
                return;
            }
            clearInterval(this.interval);
            this.interval = null;
        }
    }, {
        key: "setOk",
        value: function setOk() {
            this.stopInterval();
            this.setState({ connected: true, tick: false });
        }
    }, {
        key: "setFail",
        value: function setFail() {
            this.startInterval();
            this.setState({ connected: false });
        }
    }, {
        key: "render",
        value: function render() {
            if (this.state.connected) {
                return React.createElement("div", { className: "connection-status ok" });
            }
            if (this.state.connected === null) {
                return React.createElement(
                    "div",
                    { className: "connection-status alert-warning" },
                    (0, _loader._)("global.labels.connecting")
                );
            }
            return React.createElement(
                "div",
                { className: "connection-status alert-danger" + (this.state.tick ? " tick" : "") },
                (0, _loader._)("global.labels.connection_problem")
            );
        }
    }], [{
        key: "init",
        value: function init() {
            var element = window.document.getElementById("connection_status");
            if (element && !element.hasChildNodes()) {
                return ReactDOM.render(React.createElement(ConnectionStatus, null), element);
            }
            return new ConnectionStatusMock();
        }
    }]);

    return ConnectionStatus;
}(React.Component);

var connection_status = exports.connection_status = ConnectionStatus.init();

},{"l10n/loader":25}],33:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

exports.showError = showError;
exports.showConfirm = showConfirm;

var _loader = require("l10n/loader");

function showError(msg) {
    var title = (typeof msg === "undefined" ? "undefined" : _typeof(msg)) === "object" ? msg[0] : (0, _loader._)("global.messages.error_header");
    var text = (typeof msg === "undefined" ? "undefined" : _typeof(msg)) === "object" ? msg[1] : msg;
    swal({
        title: title,
        text: text,
        type: "error",
        animation: false
    });
}

function showConfirm(message, action) {
    var close_on_confirm = arguments.length <= 2 || arguments[2] === undefined ? false : arguments[2];

    return swal({
        title: message,
        animation: false,
        showCancelButton: true,
        confirmButtonText: (0, _loader._)("global.labels.yes"),
        cancelButtonText: (0, _loader._)("global.labels.no"),
        closeOnConfirm: close_on_confirm
    }, action);
}

},{"l10n/loader":25}],34:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Printable = exports.Printable = function (_React$Component) {
    _inherits(Printable, _React$Component);

    function Printable() {
        _classCallCheck(this, Printable);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(Printable).apply(this, arguments));
    }

    _createClass(Printable, [{
        key: "fetchPrintableData",
        value: function fetchPrintableData() {
            return this._body.innerHTML;
        }
    }, {
        key: "renderHeader",
        value: function renderHeader() {
            return this.props.header ? React.createElement(
                "div",
                { className: "p-header" },
                this.props.header
            ) : null;
        }
    }, {
        key: "renderTitle1",
        value: function renderTitle1() {
            return this.props.title1 ? React.createElement(
                "h1",
                null,
                this.props.title1
            ) : null;
        }
    }, {
        key: "renderTitle2",
        value: function renderTitle2() {
            return this.props.title2 ? React.createElement(
                "h2",
                null,
                this.props.title2
            ) : null;
        }
    }, {
        key: "renderTitle3",
        value: function renderTitle3() {
            return this.props.title3 ? React.createElement(
                "h3",
                null,
                this.props.title3
            ) : null;
        }
    }, {
        key: "renderBody",
        value: function renderBody() {
            var _this2 = this;

            return React.createElement(
                "div",
                {
                    className: "p-content",
                    ref: function ref(e) {
                        return _this2._body = e;
                    }
                },
                this.props.body
            );
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "printable" },
                this.renderHeader(),
                this.renderTitle1(),
                this.renderTitle2(),
                this.renderTitle3(),
                this.renderBody()
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            return {
                header: React.PropTypes.string,
                title1: React.PropTypes.string,
                title2: React.PropTypes.string,
                title3: React.PropTypes.string,
                body: React.PropTypes.node.isRequired,
                sendDeltas: React.PropTypes.bool
            };
        }
    }]);

    return Printable;
}(React.Component);

},{}],35:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.StopWatch = exports.TabletAcroOverrideInput = exports.TabletIntegerInput = exports.TabletPoint5SelectInput = exports.TabletIntegerSelectInput = exports.TabletSelectorInput = exports.Slider = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.onTouchOrClick = onTouchOrClick;
exports.onTouchEndOrClick = onTouchEndOrClick;

var _loader = require("l10n/loader");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function onTouchOrClick(handler) {
    var f = function f(event) {
        event.preventDefault();
        return handler(event);
    };
    return {
        onTouchStart: f,
        onClick: f
    };
}

function onTouchEndOrClick(handler, prevent_default) {
    var _handler = function _handler() {};
    var distance = 0;
    var latest_pos = [0, 0];
    var fire = function fire(event) {
        event.preventDefault();
        return _handler();
    };
    var discard = function discard() {
        _handler = function _handler() {};
    };
    var move = function move(event) {
        var current_pos = [event.touches[0].pageX, event.touches[0].pageY];
        var sqr = function sqr(x) {
            return x * x;
        };
        distance += Math.sqrt(sqr(current_pos[0] - latest_pos[0]) + sqr(current_pos[1] - latest_pos[1]));
        latest_pos = current_pos;
        if (distance > 20) {
            discard();
        }
    };
    var start = function start(event) {
        _handler = handler;
        distance = 0;
        latest_pos = [event.touches[0].pageX, event.touches[0].pageY];
    };
    return {
        onTouchStart: start,
        onTouchEnd: fire,
        onTouchMove: move,
        onTouchCancel: discard,
        onClick: handler
    };
}

var Slider = exports.Slider = function (_React$Component) {
    _inherits(Slider, _React$Component);

    _createClass(Slider, null, [{
        key: "propTypes",
        get: function get() {
            return {
                done: React.PropTypes.bool,
                doneText: React.PropTypes.string,
                slideText: React.PropTypes.string,
                onActivate: React.PropTypes.func
            };
        }
    }]);

    function Slider(props) {
        _classCallCheck(this, Slider);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Slider).call(this, props));

        _this.onClick = function (event) {
            if (_this.state.finished || _this.props.done) {
                return;
            }
            _this.setState({
                posision: 200,
                touch: false,
                finished: true
            });
            _this.props.onActivate();
        };

        _this.onTouchStart = function (event) {
            event.preventDefault();
            if (_this.state.finished || _this.props.done) {
                return;
            }
            _this.pin = _this.getRelativeTouch(event);
            _this.setState({
                position: _this.getSliderPos(event),
                touch: true
            });
        };

        _this.onTouchMove = function (event) {
            event.preventDefault();
            if (_this.state.finished || _this.props.done) {
                return;
            }
            _this.setState({
                position: _this.getSliderPos(event)
            });
        };

        _this.onTouchEnd = function (event) {
            event.preventDefault();
            if (_this.state.finished || _this.props.done) {
                return;
            }
            if (_this.state.position === 200) {
                _this.setState({
                    position: 0,
                    finished: true,
                    touch: false
                });
                _this.props.onActivate();
            } else {
                _this.setState({
                    position: 0,
                    touch: false
                });
            }
        };

        _this.state = {
            position: 0,
            touch: false,
            finished: false
        };
        _this.pin = null;
        return _this;
    }

    _createClass(Slider, [{
        key: "componentWillUpdate",
        value: function componentWillUpdate(nextProps) {
            if (!this.props.done && nextProps.done) {
                this.setState({
                    finished: false
                });
            }
        }
    }, {
        key: "isFree",
        value: function isFree() {
            return !this.state.touch && !this.props.done && !this.state.finished;
        }
    }, {
        key: "getOuterTextOpacity",
        value: function getOuterTextOpacity() {
            if (this.state.finished) {
                return 0;
            }
            var value = Math.min(Math.max(100 - this.state.position, 0), 100);
            return (value / 100).toFixed(3);
        }
    }, {
        key: "getElementOffset",
        value: function getElementOffset(element) {
            var res = 0;
            while (element) {
                res += element.offsetLeft || 0;
                element = element.parentNode;
            }
            return res;
        }
    }, {
        key: "getTouch",
        value: function getTouch(event) {
            var touch = event.touches[0];
            var parent = event.target.parentNode;
            return touch.pageX - this.getElementOffset(parent);
        }
    }, {
        key: "getRelativeTouch",
        value: function getRelativeTouch(event) {
            var touch = event.touches[0];
            var parent = event.target;
            return touch.pageX - this.getElementOffset(parent);
        }
    }, {
        key: "getSliderPos",
        value: function getSliderPos(event) {
            var pos = this.getTouch(event) - this.pin;
            return Math.min(Math.max(pos, 0), 200);
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "slider noselect" },
                React.createElement(
                    "div",
                    { className: "inner" + (this.isFree() ? " free" : ""),
                        style: { left: this.props.done || this.state.finished ? "200px" : this.state.position + "px" },
                        onTouchStart: this.onTouchStart,
                        onTouchMove: this.onTouchMove,
                        onTouchEnd: this.onTouchEnd,
                        onClick: this.onClick
                    },
                    "→"
                ),
                this.props.done ? React.createElement(
                    "span",
                    {
                        style: { color: "rgb(100,100,100)" },
                        className: "done-text"
                    },
                    this.props.doneText
                ) : React.createElement(
                    "span",
                    {
                        style: { color: "rgba(100,100,100," + this.getOuterTextOpacity() + ")" },
                        className: "slide-text" + (this.isFree() ? " free" : "")
                    },
                    this.props.slideText
                )
            );
        }
    }]);

    return Slider;
}(React.Component);

var TabletSelectorInput = exports.TabletSelectorInput = function (_React$Component2) {
    _inherits(TabletSelectorInput, _React$Component2);

    function TabletSelectorInput() {
        _classCallCheck(this, TabletSelectorInput);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(TabletSelectorInput).apply(this, arguments));
    }

    _createClass(TabletSelectorInput, [{
        key: "getButtonsCount",
        value: function getButtonsCount() {
            if (this.props.style === "grid") {
                return this.props.rowSize;
            }
            return this.props.choices.length;
        }
    }, {
        key: "onClick",
        value: function onClick(n) {
            this.props.onValueUpdate(n);
        }
    }, {
        key: "render",
        value: function render() {
            var _this3 = this;

            var result = [];
            this.props.choices.forEach(function (el, idx) {
                var key = el[0];
                var text = el[1];
                var active_class_name = _this3.props.value === key ? " active" : "";
                result.push(React.createElement(
                    "button",
                    _extends({
                        key: key
                    }, onTouchOrClick(_this3.onClick.bind(_this3, key)), {
                        className: "tbtn score-btn" + active_class_name
                    }),
                    text
                ));
                if (_this3.props.style === "grid" && (idx + 1) % _this3.props.rowSize === 0) {
                    result.push(React.createElement("br", { key: "br" + idx }));
                }
            });
            var layout_class = this.props.style !== "two-lines" ? "selector-layout" : "selector-layout-2rows";
            var selected_class = this.props.value === null ? "" : " selected";
            return React.createElement(
                "div",
                { className: "scoring-layout " + layout_class + selected_class + " n-" + this.getButtonsCount().toString() },
                result
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            return {
                style: React.PropTypes.string,
                choices: React.PropTypes.array.isRequired,
                rowSize: React.PropTypes.number,
                active: React.PropTypes.number,
                onValueUpdate: React.PropTypes.func.isRequired
            };
        }
    }]);

    return TabletSelectorInput;
}(React.Component);

var TabletIntegerSelectInput = exports.TabletIntegerSelectInput = function (_React$Component3) {
    _inherits(TabletIntegerSelectInput, _React$Component3);

    function TabletIntegerSelectInput() {
        _classCallCheck(this, TabletIntegerSelectInput);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(TabletIntegerSelectInput).apply(this, arguments));
    }

    _createClass(TabletIntegerSelectInput, [{
        key: "createArray",
        value: function createArray(min, max) {
            var result = [];
            for (var idx = min; idx <= max; ++idx) {
                result.push([idx, idx.toString()]);
            }
            return result;
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(TabletSelectorInput, _extends({
                choices: this.createArray(this.props.min, this.props.max)
            }, this.props));
        }
    }], [{
        key: "propTypes",
        get: function get() {
            return {
                min: React.PropTypes.number.isRequired,
                max: React.PropTypes.number.isRequired
            };
        }
    }]);

    return TabletIntegerSelectInput;
}(React.Component);

var TabletPoint5SelectInput = exports.TabletPoint5SelectInput = function (_React$Component4) {
    _inherits(TabletPoint5SelectInput, _React$Component4);

    function TabletPoint5SelectInput() {
        _classCallCheck(this, TabletPoint5SelectInput);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(TabletPoint5SelectInput).apply(this, arguments));
    }

    _createClass(TabletPoint5SelectInput, [{
        key: "createArray",
        value: function createArray(min, max) {
            var result = [];
            for (var idx = Math.round(2 * min); idx <= Math.round(2 * max); ++idx) {
                result.push([idx / 2, idx % 2 ? (idx / 2).toFixed(1) : Math.floor(idx / 2).toString()]);
            }
            return result;
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(TabletSelectorInput, _extends({
                choices: this.createArray(this.props.min, this.props.max)
            }, this.props));
        }
    }], [{
        key: "propTypes",
        get: function get() {
            return {
                min: React.PropTypes.number.isRequired,
                max: React.PropTypes.number.isRequired
            };
        }
    }]);

    return TabletPoint5SelectInput;
}(React.Component);

var TabletIntegerInput = exports.TabletIntegerInput = function (_React$Component5) {
    _inherits(TabletIntegerInput, _React$Component5);

    function TabletIntegerInput() {
        _classCallCheck(this, TabletIntegerInput);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(TabletIntegerInput).apply(this, arguments));
    }

    _createClass(TabletIntegerInput, [{
        key: "onMinus",
        value: function onMinus() {
            if (this.props.sendDeltas) {
                this.props.onValueUpdate({ "delta": -1 });
            } else {
                this.props.onValueUpdate(this.props.value - 1);
            }
        }
    }, {
        key: "onPlus",
        value: function onPlus() {
            if (this.props.sendDeltas) {
                this.props.onValueUpdate({ "delta": 1 });
            } else {
                this.props.onValueUpdate(this.props.value + 1);
            }
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "tablet-integer-input" },
                React.createElement(
                    "button",
                    _extends({
                        className: "tbtn btn-minus"
                    }, onTouchOrClick(this.onMinus.bind(this))),
                    "−"
                ),
                React.createElement(
                    "div",
                    { className: "value" },
                    this.props.value
                ),
                React.createElement(
                    "button",
                    _extends({
                        className: "tbtn btn-plus"
                    }, onTouchOrClick(this.onPlus.bind(this))),
                    "+"
                )
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            return {
                value: React.PropTypes.number.isRequired,
                onValueUpdate: React.PropTypes.func.isRequired,
                sendDeltas: React.PropTypes.bool
            };
        }
    }, {
        key: "defaultProps",
        get: function get() {
            return {
                sendDeltas: false
            };
        }
    }]);

    return TabletIntegerInput;
}(React.Component);

var TabletAcroOverrideInput = exports.TabletAcroOverrideInput = function (_React$Component6) {
    _inherits(TabletAcroOverrideInput, _React$Component6);

    function TabletAcroOverrideInput() {
        var _Object$getPrototypeO;

        var _temp, _this7, _ret;

        _classCallCheck(this, TabletAcroOverrideInput);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this7 = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(TabletAcroOverrideInput)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this7), _this7.onMinus = function () {
            if (_this7.props.send_deltas) {
                _this7.props.onValueUpdate({ "delta": -0.5 });
            } else {
                _this7.props.onValueUpdate(Math.max(_this7.props.value - 0.5, 0));
            }
        }, _this7.onPlus = function () {
            if (_this7.props.send_deltas) {
                _this7.props.onValueUpdate({ "delta": 0.5 });
            } else {
                _this7.props.onValueUpdate(Math.min(_this7.props.value + 0.5, _this7.props.original_value));
            }
        }, _this7.onZero = function () {
            _this7.props.onValueUpdate(0);
        }, _this7.onRestore = function () {
            _this7.props.onValueUpdate(_this7.props.original_value);
        }, _temp), _possibleConstructorReturn(_this7, _ret);
    }

    _createClass(TabletAcroOverrideInput, [{
        key: "render",
        value: function render() {
            var value_changed = Math.abs(this.props.value - this.props.original_value);
            return React.createElement(
                "div",
                { className: "tablet-acro-override-input" },
                React.createElement(
                    "div",
                    { className: "buttons" },
                    React.createElement(
                        "button",
                        _extends({
                            className: "tbtn btn-zero",
                            disabled: this.props.value < 0.05
                        }, onTouchOrClick(this.onZero)),
                        "↓0"
                    ),
                    React.createElement(
                        "button",
                        _extends({
                            className: "tbtn btn-restore",
                            disabled: value_changed < 0.05
                        }, onTouchOrClick(this.onRestore)),
                        "↑"
                    ),
                    React.createElement(
                        "button",
                        _extends({
                            className: "tbtn btn-minus",
                            disabled: this.props.value < 0.05
                        }, onTouchOrClick(this.onMinus)),
                        "−"
                    ),
                    React.createElement(
                        "button",
                        _extends({
                            className: "tbtn btn-plus",
                            disabled: this.props.original_value < this.props.value + 0.05
                        }, onTouchOrClick(this.onPlus)),
                        "+"
                    )
                ),
                React.createElement(
                    "div",
                    { className: "value" },
                    value_changed ? this.props.original_value.toFixed(1) + " → " + this.props.value.toFixed(1) : this.props.value.toFixed(1)
                )
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            return {
                value: React.PropTypes.number.isRequired,
                original_value: React.PropTypes.number.isRequired,
                send_deltas: React.PropTypes.bool,
                onValueUpdate: React.PropTypes.func.isRequired
            };
        }
    }, {
        key: "defaultProps",
        get: function get() {
            return {
                send_deltas: false
            };
        }
    }]);

    return TabletAcroOverrideInput;
}(React.Component);

var stopwatches = {};

var StopWatch = exports.StopWatch = function (_React$Component7) {
    _inherits(StopWatch, _React$Component7);

    _createClass(StopWatch, null, [{
        key: "propTypes",
        get: function get() {
            return {
                score_id: React.PropTypes.number
            };
        }
    }]);

    function StopWatch(props) {
        _classCallCheck(this, StopWatch);

        var _this8 = _possibleConstructorReturn(this, Object.getPrototypeOf(StopWatch).call(this, props));

        _this8.state = stopwatches[_this8.props.score_id] || {
            active: false,
            value: 0,
            str_value: "0:00",
            interval: null
        };
        if (_this8.state.active) {
            _this8.state.interval = setInterval(_this8.tick.bind(_this8), 10); // eslint-disable-line react/no-direct-mutation-state
        }
        return _this8;
    }

    _createClass(StopWatch, [{
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
            clearInterval(this.state.interval);
            stopwatches[this.props.score_id] = this.state;
        }
    }, {
        key: "now",
        value: function now() {
            return new Date().getTime();
        }
    }, {
        key: "toggle",
        value: function toggle() {
            this.state.active ? this.stop() : this.start();
        }
    }, {
        key: "start",
        value: function start() {
            this.setState({
                active: true,
                start_at: this.now() - this.state.value,
                interval: setInterval(this.tick.bind(this), 10)
            });
        }
    }, {
        key: "stop",
        value: function stop() {
            clearInterval(this.state.interval);
            this.setState({
                active: false,
                value: this.value()
            });
        }
    }, {
        key: "reset",
        value: function reset() {
            clearInterval(this.state.interval);
            this.setState({
                active: false,
                value: 0
            });
        }
    }, {
        key: "value",
        value: function value() {
            return this.state.active ? this.now() - this.state.start_at : this.state.value;
        }
    }, {
        key: "tick",
        value: function tick() {
            var new_value = this.value();
            if (new_value !== this.state.value) {
                this.setState({
                    value: this.value()
                });
            }
        }
    }, {
        key: "pad",
        value: function pad(num, size) {
            var s = "0000" + num.toString();
            return s.substr(s.length - size);
        }
    }, {
        key: "getStrValue",
        value: function getStrValue() {
            var val = this.value();
            var m = 0,
                s = 0;
            var result = '';
            m = Math.floor(val / (60 * 1000));
            val %= 60 * 1000;
            s = Math.floor(val / 1000);
            return m.toString() + ':' + this.pad(s, 2);
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "stopwatch" },
                React.createElement(
                    "button",
                    _extends({
                        className: "tbtn btn-reset ignore-readonly"
                    }, onTouchOrClick(this.reset.bind(this))),
                    (0, _loader._)("tablet.buttons.reset_stopwatch")
                ),
                React.createElement(
                    "button",
                    _extends({
                        className: "tbtn btn-toggle ignore-readonly" + (this.state.active ? " active" : "")
                    }, onTouchOrClick(this.toggle.bind(this))),
                    this.state.active ? (0, _loader._)("tablet.buttons.stop_stopwatch") : (0, _loader._)("tablet.buttons.start_stopwatch")
                ),
                React.createElement(
                    "div",
                    { className: "time" },
                    this.getStrValue()
                )
            );
        }
    }]);

    return StopWatch;
}(React.Component);

},{"l10n/loader":25}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXGpzeFxcYWRtaW4uanN4Iiwic3JjXFxqc3hcXGFkbWluXFxqdWRnaW5nXFxkaXNjaXBsaW5lX3Jlc3VsdHMuanN4Iiwic3JjXFxqc3hcXGFkbWluXFxqdWRnaW5nXFxoZWF0cy5qc3giLCJzcmNcXGpzeFxcYWRtaW5cXGp1ZGdpbmdcXG1haW4uanN4Iiwic3JjXFxqc3hcXGFkbWluXFxqdWRnaW5nXFxyb3NmYXJyXFxkaXNjaXBsaW5lX3Jlc3VsdHMuanN4Iiwic3JjXFxqc3hcXGFkbWluXFxqdWRnaW5nXFxyb3NmYXJyXFx0b3VyX2FkbWluLmpzeCIsInNyY1xcanN4XFxhZG1pblxcanVkZ2luZ1xcdG91cl9hZG1pbi5qc3giLCJzcmNcXGpzeFxcYWRtaW5cXGp1ZGdpbmdcXHRvdXJfcmVzdWx0cy5qc3giLCJzcmNcXGpzeFxcYWRtaW5cXG1haW4uanN4Iiwic3JjXFxqc3hcXGFkbWluXFxtYW5hZ2VtZW50XFxjbHVicy5qc3giLCJzcmNcXGpzeFxcYWRtaW5cXG1hbmFnZW1lbnRcXGNvbXBldGl0aW9uX3BsYW4uanN4Iiwic3JjXFxqc3hcXGFkbWluXFxtYW5hZ2VtZW50XFxjb21wZXRpdGlvbl9yZXBvcnQuanN4Iiwic3JjXFxqc3hcXGFkbWluXFxtYW5hZ2VtZW50XFxkaXNjaXBsaW5lcy5qc3giLCJzcmNcXGpzeFxcYWRtaW5cXG1hbmFnZW1lbnRcXGltcG9ydF9leHBvcnQuanN4Iiwic3JjXFxqc3hcXGFkbWluXFxtYW5hZ2VtZW50XFxqdWRnZXMuanN4Iiwic3JjXFxqc3hcXGFkbWluXFxtYW5hZ2VtZW50XFxtYWluLmpzeCIsInNyY1xcanN4XFxhZG1pblxcbWFuYWdlbWVudFxccGFydGljaXBhbnRzLmpzeCIsInNyY1xcanN4XFxhZG1pblxcbWFuYWdlbWVudFxcc3RhcnRfbGlzdC5qc3giLCJzcmNcXGpzeFxcYWRtaW5cXG1hbmFnZW1lbnRcXHRvdXJzLmpzeCIsInNyY1xcanN4XFxhZG1pblxcc2VydmljZVxcYXV0b19wcmludGVyX3N0YXR1cy5qc3giLCJzcmNcXGpzeFxcYWRtaW5cXHNlcnZpY2VcXG1haW4uanN4Iiwic3JjXFxqc3hcXGNvbW1vblxcZGVmaW5pdGlvbnMuanN4Iiwic3JjXFxqc3hcXGNvbW1vblxcZG9jeC5qc3giLCJzcmNcXGpzeFxcY29tbW9uXFx0b29scy5qc3giLCJzcmNcXGpzeFxcbDEwblxcbG9hZGVyLmpzeCIsInNyY1xcanN4XFxsMTBuXFxydS5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xcbG9hZGVyLmpzeCIsInNyY1xcanN4XFxzZXJ2ZXJcXGFwaS5qc3giLCJzcmNcXGpzeFxcc2VydmVyXFxtZXNzYWdlX2Rpc3BhdGNoZXIuanN4Iiwic3JjXFxqc3hcXHNlcnZlclxcc3RvcmFnZS5qc3giLCJzcmNcXGpzeFxcdWlcXGFkbWluX2NvbXBvbmVudHMuanN4Iiwic3JjXFxqc3hcXHVpXFxjb21wb25lbnRzLmpzeCIsInNyY1xcanN4XFx1aVxcZGlhbG9ncy5qc3giLCJzcmNcXGpzeFxcdWlcXHByaW50YWJsZS5qc3giLCJzcmNcXGpzeFxcdWlcXHRhYmxldF9jb21wb25lbnRzLmpzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7QUNHQSxTQUFTLE1BQVQsQ0FDSSxpQ0FBWSxPQUFPLFVBQVAsQ0FEaEIsRUFFSSxTQUFTLGNBQVQsQ0FBd0IsU0FBeEIsQ0FGSjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQ1dhOzs7Ozs7Ozs7OzsrQkFDRixTQUFTOzs7QUFDWixtQkFBTzt1QkFBTyxPQUFLLEtBQUwsQ0FBVyxRQUFYLENBQW9CLE9BQXBCO2FBQU4sQ0FBb0MsSUFBckMsQ0FBMEMsSUFBMUMsQ0FBUCxDQURZOzs7O2lDQUdQO0FBQ0wsbUJBQU87OztnQkFDSDs7c0JBQVEsV0FBVSxpQkFBVixFQUE0QixTQUFVLEtBQUssTUFBTCxDQUFZLE1BQVosQ0FBVixFQUFwQzs7aUJBREc7YUFBUCxDQURL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SyxLQUFMLEVBQU4sQ0FETTtBQUVWLGdCQUFJLElBQUksQ0FBSjtnQkFBTyxJQUFJLENBQUosQ0FGRDtBQUdWLGdCQUFJLFNBQVMsRUFBVCxDQUhNO0FBSVYsZ0JBQUksS0FBSyxLQUFMLENBQVcsT0FBTyxLQUFLLElBQUwsQ0FBUCxDQUFmLENBSlU7QUFLVixtQkFBTyxLQUFLLElBQUwsQ0FMRztBQU1WLGdCQUFJLEtBQUssS0FBTCxDQUFXLE1BQU0sSUFBTixDQUFmLENBTlU7QUFPVixtQkFBTyxFQUFFLFFBQUYsS0FBZSxHQUFmLEdBQXFCLEtBQUssR0FBTCxDQUFTLENBQVQsRUFBWSxDQUFaLENBQXJCLENBUEc7Ozs7aUNBU0w7QUFDTCxtQkFDSTs7a0JBQUssV0FBVSxXQUFWLEVBQUw7Z0JBQ0k7OztBQUNJLG1DQUFVLGdDQUFWO3VCQUNJLGVBQWUsS0FBSyxLQUFMLENBQVcsSUFBWCxDQUFnQixJQUFoQixDQUFmLEVBRlI7b0JBSU0sZUFBRSxnQ0FBRixDQUpOO2lCQURKO2dCQU9JOzs7QUFDSSxtQ0FBWSxxQ0FBcUMsS0FBSyxLQUFMLENBQVcsTUFBWCxHQUFvQixTQUFwQixHQUFnQyxFQUFoQyxDQUFyQzt1QkFDUixlQUFlLEtBQUssTUFBTCxDQUFZLElBQVosQ0FBaUIsSUFBakIsQ0FBZixFQUZSO29CQUlNLEtBQUssS0FBTCxDQUFXLE1BQVgsR0FBb0IsZUFBRSwrQkFBRixDQUFwQixHQUF5RCxlQUFFLGdDQUFGLENBQXpEO2lCQVhWO2dCQWFJOztzQkFBSyxXQUFVLE1BQVYsRUFBTDtvQkFDTSxLQUFLLFdBQUwsRUFETjtpQkFiSjthQURKLENBREs7Ozs7V0EzRUE7RUFBa0IsTUFBTSxTQUFOIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCB7IEFkbWluIH0gZnJvbSBcImFkbWluL21haW5cIjtcblxuXG5SZWFjdERPTS5yZW5kZXIoXG4gICAgPEFkbWluIHsgLi4ud2luZG93LnBhZ2VfcHJvcHMgfSAvPixcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIilcbik7XG4iLCJpbXBvcnQgeyBfIH0gZnJvbSBcImwxMG4vbG9hZGVyXCI7XHJcbmltcG9ydCB7IEFwaSB9IGZyb20gXCJzZXJ2ZXIvYXBpXCI7XHJcbmltcG9ydCB7IHN0b3JhZ2UgfSBmcm9tIFwic2VydmVyL3N0b3JhZ2VcIjtcclxuaW1wb3J0IHsgbWVzc2FnZV9kaXNwYXRjaGVyIH0gZnJvbSBcInNlcnZlci9tZXNzYWdlX2Rpc3BhdGNoZXJcIjtcclxuaW1wb3J0IHsgTG9hZGVyIH0gZnJvbSBcInVpL2NvbXBvbmVudHNcIjtcclxuaW1wb3J0IHsgUHJpbnRhYmxlIH0gZnJvbSBcInVpL3ByaW50YWJsZVwiO1xyXG5pbXBvcnQgeyBEb2N4IH0gZnJvbSBcImNvbW1vbi9kb2N4XCI7XHJcblxyXG5pbXBvcnQge1xyXG4gICAgRGlzY2lwbGluZVJlc3VsdHNUYWJsZSxcclxuICAgIERpc2NpcGxpbmVSZXN1bHRzUHJlc2VudGVyVGFibGUsXHJcbiAgICBEaXNjaXBsaW5lUmVzdWx0c1NjcmVlbk9wZXJhdG9yVGFibGUsXHJcbn0gZnJvbSBcIi4vcm9zZmFyci9kaXNjaXBsaW5lX3Jlc3VsdHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBEaXNjaXBsaW5lUmVzdWx0c0J1dHRvbnMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgc2lnbmFsKG1lc3NhZ2UpIHtcclxuICAgICAgICByZXR1cm4gKCgpID0+IHRoaXMucHJvcHMub25TaWduYWwobWVzc2FnZSkpLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIDxkaXY+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCIgb25DbGljaz17IHRoaXMuc2lnbmFsKFwiZG9jeFwiKSB9PlxyXG4gICAgICAgICAgICAgICAgRE9DWFxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIERpc2NpcGxpbmVSZXN1bHRzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuXHJcbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRQcm9wcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZW5kZXJlcjogXCJwYWdlXCIsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEluaXRpYWxpemF0aW9uXHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgbG9hZGVkOiBmYWxzZSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucnVuc19sb2FkZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcclxuICAgICAgICB0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlLmdldERvbWFpbihcImRpc2NpcGxpbmVfcmVzdWx0c19cIiArIHRoaXMucHJvcHMuZGlzY2lwbGluZV9pZCk7XHJcbiAgICAgICAgdGhpcy5yZWxvYWRfbGlzdGVuZXIgPSBtZXNzYWdlX2Rpc3BhdGNoZXIuYWRkTGlzdGVuZXIoXCJyZWxvYWRfZGF0YVwiLCB0aGlzLmxvYWREYXRhLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRoaXMuZGJfdXBkYXRlX2xpc3RlbmVyID0gbWVzc2FnZV9kaXNwYXRjaGVyLmFkZExpc3RlbmVyKFwiZGJfdXBkYXRlXCIsIHRoaXMucmVsb2FkU3RhdGUuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy5yZXN1bHRzX2NoYW5nZV9saXN0ZW5lciA9IG1lc3NhZ2VfZGlzcGF0Y2hlci5hZGRMaXN0ZW5lcihcInRvdXJfcmVzdWx0c19jaGFuZ2VkIHJlbG9hZF9kYXRhXCIsIGZ1bmN0aW9uKG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgaWYgKCFtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRSZXN1bHRzKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHRvdXJfc3RvcmFnZSA9IHRoaXMuc3RvcmFnZS5nZXQoXCJUb3VyXCIpLmJ5X2lkKG1lc3NhZ2VbXCJ0b3VyX2lkXCJdKTtcclxuICAgICAgICAgICAgaWYgKCF0b3VyX3N0b3JhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodG91cl9zdG9yYWdlLmRpc2NpcGxpbmUuaWQgPT09IHRoaXMucHJvcHMuZGlzY2lwbGluZV9pZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkUmVzdWx0cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLmxvYWREYXRhKCk7XHJcbiAgICAgICAgdGhpcy5sb2FkUmVzdWx0cygpO1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmF1dG9Eb2N4KSB7XHJcbiAgICAgICAgICAgIGxldCBpbnRlcnZhbF9pZCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlZnMucHJpbnRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbF9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVEb2N4KHRoaXMucHJvcHMuYXV0b0RvY3guZmlsZW5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuYXV0b0RvY3guY2FsbGJhY2sodGhpcy5wcm9wcy5hdXRvRG9jeC5maWxlbmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDUwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICAgICAgbWVzc2FnZV9kaXNwYXRjaGVyLnJlbW92ZUxpc3RlbmVyKHRoaXMucmVsb2FkX2xpc3RlbmVyKTtcclxuICAgICAgICBtZXNzYWdlX2Rpc3BhdGNoZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5kYl91cGRhdGVfbGlzdGVuZXIpO1xyXG4gICAgICAgIG1lc3NhZ2VfZGlzcGF0Y2hlci5yZW1vdmVMaXN0ZW5lcih0aGlzLnJlc3VsdHNfY2hhbmdlX2xpc3RlbmVyKTtcclxuICAgICAgICBzdG9yYWdlLmRlbERvbWFpbihcImRpc2NpcGxpbmVfcmVzdWx0c19cIiArIHRoaXMucHJvcHMuZGlzY2lwbGluZV9pZCk7XHJcbiAgICB9XHJcbiAgICByZWxvYWRTdGF0ZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuc3RhdGUuZGlzY2lwbGluZV9yZXN1bHRzKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLnJ1bnNfbG9hZGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHN0b3JhZ2VfcnVucyA9IHRoaXMuc3RvcmFnZS5nZXQoXCJSdW5cIilcclxuICAgICAgICBsZXQgcmVzdWx0cyA9IHRoaXMuc3RhdGUuZGlzY2lwbGluZV9yZXN1bHRzO1xyXG4gICAgICAgIGxldCBuZXdfc3RhdGUgPSBbXVxyXG4gICAgICAgIHZhciBTQ0hFTUEgPSB7XHJcbiAgICAgICAgICAgIHRvdXI6IHt9LFxyXG4gICAgICAgICAgICBwYXJ0aWNpcGFudDoge1xyXG4gICAgICAgICAgICAgICAgc3BvcnRzbWVuOiB7fSxcclxuICAgICAgICAgICAgICAgIGNsdWI6IHt9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdHMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgbmV3X3N0YXRlLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgcGxhY2U6IHJlc3VsdHNbaV0ucGxhY2UsXHJcbiAgICAgICAgICAgICAgICBydW46IHN0b3JhZ2VfcnVucy5ieV9pZChyZXN1bHRzW2ldLnJ1bl9pZCkuc2VyaWFsaXplKFNDSEVNQSksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgbG9hZGVkOiB0cnVlLFxyXG4gICAgICAgICAgICB0YWJsZTogbmV3X3N0YXRlLFxyXG4gICAgICAgICAgICBkaXNjaXBsaW5lOiB0aGlzLnN0b3JhZ2UuZ2V0KFwiRGlzY2lwbGluZVwiKS5ieV9pZCh0aGlzLnByb3BzLmRpc2NpcGxpbmVfaWQpLnNlcmlhbGl6ZSh7XHJcbiAgICAgICAgICAgICAgICBjb21wZXRpdGlvbjoge30sXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgbG9hZFJlc3VsdHMoKSB7XHJcbiAgICAgICAgQXBpKFwiZGlzY2lwbGluZS5nZXRfcmVzdWx0c1wiLCB7XHJcbiAgICAgICAgICAgIGRpc2NpcGxpbmVfaWQ6IHRoaXMucHJvcHMuZGlzY2lwbGluZV9pZCxcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vblN1Y2Nlc3MocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIGRpc2NpcGxpbmVfcmVzdWx0czogcmVzcG9uc2UsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnJlbG9hZFN0YXRlKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc2VuZCgpO1xyXG4gICAgfVxyXG4gICAgbG9hZERhdGEoKSB7XHJcbiAgICAgICAgQXBpKFwiZGlzY2lwbGluZS5nZXRcIiwge1xyXG4gICAgICAgICAgICBkaXNjaXBsaW5lX2lkOiB0aGlzLnByb3BzLmRpc2NpcGxpbmVfaWQsXHJcbiAgICAgICAgICAgIGNoaWxkcmVuOiB7XHJcbiAgICAgICAgICAgICAgICBjb21wZXRpdGlvbjoge30sXHJcbiAgICAgICAgICAgICAgICB0b3Vyczoge1xyXG4gICAgICAgICAgICAgICAgICAgIHJ1bnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFydGljaXBhbnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsdWI6IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmFkZFRvREIoXCJEaXNjaXBsaW5lXCIsIHRoaXMucHJvcHMuZGlzY2lwbGluZV9pZCwgdGhpcy5zdG9yYWdlKVxyXG4gICAgICAgIC5vblN1Y2Nlc3MoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJ1bnNfbG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5yZWxvYWRTdGF0ZSh0aGlzKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnNlbmQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBMaXN0ZW5lcnNcclxuXHJcbiAgICBvblNpZ25hbChtZXNzYWdlKSB7XHJcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlKSB7XHJcbiAgICAgICAgY2FzZSBcImRvY3hcIjpcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVEb2N4KCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVW5rbm93biBtZXNzYWdlOlwiLCBtZXNzYWdlKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZW5kZXJpbmdcclxuXHJcbiAgICByZW5kZXJCb2R5KCkge1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5wcm9wcy5yZW5kZXJlcikge1xyXG4gICAgICAgIGNhc2UgXCJwcmVzZW50ZXJcIjpcclxuICAgICAgICAgICAgcmV0dXJuIDxEaXNjaXBsaW5lUmVzdWx0c1ByZXNlbnRlclRhYmxlIHRhYmxlPXsgdGhpcy5zdGF0ZS50YWJsZSB9IHJlZj1cIm1haW5fdGFibGVcIiAvPlxyXG4gICAgICAgIGNhc2UgXCJzY3JlZW5fb3BlcmF0b3JcIjpcclxuICAgICAgICAgICAgcmV0dXJuIDxEaXNjaXBsaW5lUmVzdWx0c1NjcmVlbk9wZXJhdG9yVGFibGVcclxuICAgICAgICAgICAgICAgIHRhYmxlPXsgdGhpcy5zdGF0ZS50YWJsZSB9XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFBsYWNlPXsgdGhpcy5wcm9wcy5zZWxlY3RlZFBsYWNlIH1cclxuICAgICAgICAgICAgICAgIG9uUGxhY2VTZWxlY3Q9eyB0aGlzLnByb3BzLm9uUGxhY2VTZWxlY3QgfVxyXG4gICAgICAgICAgICAgICAgcmVmPVwibWFpbl90YWJsZVwiIC8+XHJcbiAgICAgICAgY2FzZSBcInBhZ2VcIjpcclxuICAgICAgICAgICAgcmV0dXJuIDxQcmludGFibGVcclxuICAgICAgICAgICAgICAgIHJlZj1cInByaW50YWJsZVwiXHJcbiAgICAgICAgICAgICAgICBoZWFkZXI9eyB0aGlzLnN0YXRlLmRpc2NpcGxpbmUuY29tcGV0aXRpb24ubmFtZSArIFwiLCBcIiArIHRoaXMuc3RhdGUuZGlzY2lwbGluZS5jb21wZXRpdGlvbi5kYXRlIH1cclxuICAgICAgICAgICAgICAgIHRpdGxlMT17IF8oXCJhZG1pbi5oZWFkZXJzLmRpc2NpcGxpbmVfcmVzdWx0c1wiKSB9XHJcbiAgICAgICAgICAgICAgICB0aXRsZTM9eyB0aGlzLnN0YXRlLmRpc2NpcGxpbmUubmFtZSB9XHJcbiAgICAgICAgICAgICAgICBib2R5PXsgPERpc2NpcGxpbmVSZXN1bHRzVGFibGUgdGFibGU9eyB0aGlzLnN0YXRlLnRhYmxlIH0gLz4gfSAvPlxyXG4gICAgICAgIGNhc2UgXCJ0YWJsZVwiOlxyXG4gICAgICAgICAgICByZXR1cm4gPERpc2NpcGxpbmVSZXN1bHRzVGFibGUgdGFibGU9eyB0aGlzLnN0YXRlLnRhYmxlIH0gcmVmPVwibWFpbl90YWJsZVwiIC8+XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkgeyAgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC9zb3J0LWNvbXBcclxuICAgICAgICBpZiAoIXRoaXMuc3RhdGUubG9hZGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImRpc2NpcGxpbmUtcmVzdWx0c1wiPjxMb2FkZXIgLz48L2Rpdj5cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiZGlzY2lwbGluZS1yZXN1bHRzXCI+XHJcbiAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJCb2R5KCkgfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgfVxyXG4gICAgY3JlYXRlRG9jeChmaWxlbmFtZT1cImRpc2NpcGxpbmUtcmVzdWx0cy5kb2N4XCIpIHtcclxuICAgICAgICBEb2N4KGZpbGVuYW1lKVxyXG4gICAgICAgICAgICAuc2V0SGVhZGVyKHRoaXMuc3RhdGUuZGlzY2lwbGluZS5jb21wZXRpdGlvbi5uYW1lICsgXCIsIFwiICsgdGhpcy5zdGF0ZS5kaXNjaXBsaW5lLmNvbXBldGl0aW9uLmRhdGUpXHJcbiAgICAgICAgICAgIC5zZXRUaXRsZTEoXyhcImFkbWluLmhlYWRlcnMuZGlzY2lwbGluZV9yZXN1bHRzXCIpKVxyXG4gICAgICAgICAgICAuc2V0VGl0bGUzKHRoaXMuc3RhdGUuZGlzY2lwbGluZS5uYW1lKVxyXG4gICAgICAgICAgICAuc2V0Qm9keSh0aGlzLnJlZnMucHJpbnRhYmxlLmZldGNoUHJpbnRhYmxlRGF0YSgpKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIudG91ci1uYW1lXCIsIFwiYmFja2dyb3VuZFwiLCBcIiNkZGRcIilcclxuICAgICAgICAgICAgLmFkZFN0eWxlKFwiLmJvcmRlcmVkLXRhYmxlIC5zcG9ydHNtZW4gdGQsIC5ib3JkZXJlZC10YWJsZSAuc3BvcnRzbWVuIHRoXCIsIFwiYm9yZGVyXCIsIFwibm9uZVwiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIuYm9yZGVyZWQtdGFibGUgLnNwb3J0c21lbiB0ZCwgLmJvcmRlcmVkLXRhYmxlIC5zcG9ydHNtZW4gdGhcIiwgXCJwYWRkaW5nXCIsIFwiMFwiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIuc3BvcnRzbWVuXCIsIFwid2lkdGhcIiwgXCIxMDAlXCIpXHJcbiAgICAgICAgICAgIC5zYXZlKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgXyB9IGZyb20gXCJsMTBuL2xvYWRlclwiO1xyXG5pbXBvcnQgeyBBcGkgfSBmcm9tIFwic2VydmVyL2FwaVwiO1xyXG5pbXBvcnQgeyBzdG9yYWdlIH0gZnJvbSBcInNlcnZlci9zdG9yYWdlXCI7XHJcbmltcG9ydCB7IG1lc3NhZ2VfZGlzcGF0Y2hlciB9IGZyb20gXCJzZXJ2ZXIvbWVzc2FnZV9kaXNwYXRjaGVyXCI7XHJcbmltcG9ydCB7IExvYWRlciB9IGZyb20gXCJ1aS9jb21wb25lbnRzXCI7XHJcbmltcG9ydCB7IFByaW50YWJsZSB9IGZyb20gXCJ1aS9wcmludGFibGVcIjtcclxuaW1wb3J0IHsgRG9jeCB9IGZyb20gXCJjb21tb24vZG9jeFwiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBIZWF0c0J1dHRvbnMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgc2lnbmFsKG1lc3NhZ2UpIHtcclxuICAgICAgICByZXR1cm4gKCgpID0+IHRoaXMucHJvcHMub25TaWduYWwobWVzc2FnZSkpLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIDxkaXY+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCIgb25DbGljaz17IHRoaXMuc2lnbmFsKFwiZG9jeFwiKSB9PlxyXG4gICAgICAgICAgICAgICAgRE9DWFxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEhlYXRzQm9keSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICB0b3VyOiBudWxsLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBjb21wb25lbnRXaWxsTW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy5zdG9yYWdlID0gc3RvcmFnZS5nZXREb21haW4oXCJoZWF0c19cIiArIHRoaXMucHJvcHMudG91cl9pZCk7XHJcbiAgICAgICAgdGhpcy5yZWxvYWRfbGlzdGVuZXIgPSBtZXNzYWdlX2Rpc3BhdGNoZXIuYWRkTGlzdGVuZXIoXCJyZWxvYWRfZGF0YVwiLCB0aGlzLmxvYWREYXRhLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRoaXMuZGJfdXBkYXRlX2xpc3RlbmVyID0gbWVzc2FnZV9kaXNwYXRjaGVyLmFkZExpc3RlbmVyKFwiZGJfdXBkYXRlXCIsIHRoaXMucmVsb2FkRnJvbVN0b3JhZ2UuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy5sb2FkRGF0YSgpO1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmF1dG9Eb2N4KSB7XHJcbiAgICAgICAgICAgIGxldCBpbnRlcnZhbF9pZCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlZnMucHJpbnRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbF9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVEb2N4KHRoaXMucHJvcHMuYXV0b0RvY3guZmlsZW5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuYXV0b0RvY3guY2FsbGJhY2sodGhpcy5wcm9wcy5hdXRvRG9jeC5maWxlbmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDUwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICAgICAgbWVzc2FnZV9kaXNwYXRjaGVyLnJlbW92ZUxpc3RlbmVyKHRoaXMucmVsb2FkX2xpc3RlbmVyKTtcclxuICAgICAgICBtZXNzYWdlX2Rpc3BhdGNoZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5kYl91cGRhdGVfbGlzdGVuZXIpO1xyXG4gICAgICAgIHN0b3JhZ2UuZGVsRG9tYWluKFwiaGVhdHNfXCIgKyB0aGlzLnByb3BzLnRvdXJfaWQpO1xyXG4gICAgfVxyXG4gICAgcmVsb2FkRnJvbVN0b3JhZ2UoKSB7XHJcbiAgICAgICAgbGV0IFNDSEVNQSA9IHtcclxuICAgICAgICAgICAgZGlzY2lwbGluZToge1xyXG4gICAgICAgICAgICAgICAgY29tcGV0aXRpb246IHt9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBydW5zOiB7XHJcbiAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsdWI6IHt9LFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgc2VyaWFsaXplZCA9IHRoaXMuc3RvcmFnZS5nZXQoXCJUb3VyXCIpXHJcbiAgICAgICAgICAgIC5ieV9pZCh0aGlzLnByb3BzLnRvdXJfaWQpXHJcbiAgICAgICAgICAgIC5zZXJpYWxpemUoU0NIRU1BKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgdG91cjogc2VyaWFsaXplZCxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGxvYWREYXRhKCkge1xyXG4gICAgICAgIEFwaShcInRvdXIuZ2V0XCIsIHtcclxuICAgICAgICAgICAgdG91cl9pZDogdGhpcy5wcm9wcy50b3VyX2lkLFxyXG4gICAgICAgICAgICBjaGlsZHJlbjoge1xyXG4gICAgICAgICAgICAgICAgZGlzY2lwbGluZToge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBldGl0aW9uOiB7fSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBydW5zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFydGljaXBhbnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2x1Yjoge30sXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmFkZFRvREIoXCJUb3VyXCIsIHRoaXMucHJvcHMudG91cl9pZCwgdGhpcy5zdG9yYWdlKVxyXG4gICAgICAgIC5vblN1Y2Nlc3ModGhpcy5yZWxvYWRGcm9tU3RvcmFnZS5iaW5kKHRoaXMpKVxyXG4gICAgICAgIC5zZW5kKCk7XHJcbiAgICB9XHJcbiAgICBvblNpZ25hbChtZXNzYWdlKSB7XHJcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlKSB7XHJcbiAgICAgICAgY2FzZSBcImRvY3hcIjpcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVEb2N4KCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVW5rbm93biBtZXNzYWdlOlwiLCBtZXNzYWdlKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlbmRlckhlYXRIZWFkZXIocHJldl9yb3csIG5leHRfcm93KSB7XHJcbiAgICAgICAgbGV0IG5lZWRfcmVuZGVyID0gKHR5cGVvZiBwcmV2X3JvdyA9PT0gXCJ1bmRlZmluZWRcIikgfHwgKHByZXZfcm93LmhlYXQgIT09IG5leHRfcm93LmhlYXQpXHJcbiAgICAgICAgaWYgKCFuZWVkX3JlbmRlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDx0ciBrZXk9eyBcIkhcIiArIG5leHRfcm93LmhlYXQgfT48dGggY2xhc3NOYW1lPVwiaGVhdC1udW1iZXJcIiBjb2xTcGFuPVwiM1wiPlxyXG4gICAgICAgICAgICA8cD57IF8oXCJnbG9iYWwucGhyYXNlcy5oZWF0X25cIiwgbmV4dF9yb3cuaGVhdCkgfTwvcD5cclxuICAgICAgICA8L3RoPjwvdHI+O1xyXG5cclxuICAgIH1cclxuICAgIHJlbmRlckhlYXRSb3cocm93KSB7XHJcbiAgICAgICAgcmV0dXJuIDx0ciBrZXk9eyBcIlJcIiArIHJvdy5pZCB9PlxyXG4gICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidy04XCI+PHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj57IHJvdy5wYXJ0aWNpcGFudC5udW1iZXIgfTwvcD48L3RkPlxyXG4gICAgICAgICAgICA8dGQ+PHA+eyByb3cucGFydGljaXBhbnQubmFtZSB9PC9wPjwvdGQ+XHJcbiAgICAgICAgICAgIDx0ZD48cD57IHJvdy5wYXJ0aWNpcGFudC5jbHViLm5hbWUgfTwvcD48L3RkPlxyXG4gICAgICAgIDwvdHI+O1xyXG4gICAgfVxyXG4gICAgcmVuZGVySGVhdFJvd3MoKSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xyXG4gICAgICAgIGxldCBydW5zID0gdGhpcy5zdGF0ZS50b3VyLnJ1bnM7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBydW5zLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGxldCBoZWFkZXIgPSB0aGlzLnJlbmRlckhlYXRIZWFkZXIocnVuc1tpIC0gMV0sIHJ1bnNbaV0pO1xyXG4gICAgICAgICAgICBoZWFkZXIgJiYgcmVzdWx0LnB1c2goaGVhZGVyKTtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5yZW5kZXJIZWF0Um93KHJ1bnNbaV0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVhY3Qvc29ydC1jb21wXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUudG91ciA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gPExvYWRlciAvPlxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgYm9keSA9IDxkaXYgY2xhc3NOYW1lPVwidG91ci1oZWF0c1wiPlxyXG4gICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwiYm9yZGVyZWQtdGFibGVcIj48dGhlYWQ+XHJcbiAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInctOFwiPjxwPnsgXyhcImp1ZGdpbmcubGFiZWxzLm51bWJlclwiKSB9PC9wPjwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRoPjxwPnsgXyhcImp1ZGdpbmcubGFiZWxzLnBhcnRpY2lwYW50X25hbWVcIikgfTwvcD48L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aD48cD57IF8oXCJqdWRnaW5nLmxhYmVscy5jbHViXCIpIH08L3A+PC90aD5cclxuICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgIDwvdGhlYWQ+PHRib2R5PlxyXG4gICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlckhlYXRSb3dzKCkgfVxyXG4gICAgICAgICAgICA8L3Rib2R5PjwvdGFibGU+XHJcbiAgICAgICAgPC9kaXY+O1xyXG4gICAgICAgIHJldHVybiA8UHJpbnRhYmxlXHJcbiAgICAgICAgICAgIGhlYWRlcj17IHRoaXMuc3RhdGUudG91ci5kaXNjaXBsaW5lLmNvbXBldGl0aW9uLm5hbWUgKyBcIiwgXCIgKyB0aGlzLnN0YXRlLnRvdXIuZGlzY2lwbGluZS5jb21wZXRpdGlvbi5kYXRlIH1cclxuICAgICAgICAgICAgdGl0bGUxPXsgXyhcImFkbWluLmhlYWRlcnMudG91cl9oZWF0c1wiKSB9XHJcbiAgICAgICAgICAgIHRpdGxlMj17IHRoaXMuc3RhdGUudG91ci5kaXNjaXBsaW5lLm5hbWUgfVxyXG4gICAgICAgICAgICB0aXRsZTM9eyB0aGlzLnN0YXRlLnRvdXIubmFtZSB9XHJcbiAgICAgICAgICAgIGJvZHk9eyBib2R5IH1cclxuICAgICAgICAgICAgcmVmPVwicHJpbnRhYmxlXCIgLz5cclxuICAgIH1cclxuICAgIGNyZWF0ZURvY3goZmlsZW5hbWU9XCJ0b3VyLWhlYXRzLmRvY3hcIikge1xyXG4gICAgICAgIERvY3goZmlsZW5hbWUpXHJcbiAgICAgICAgICAgIC5zZXRIZWFkZXIodGhpcy5zdGF0ZS50b3VyLmRpc2NpcGxpbmUuY29tcGV0aXRpb24ubmFtZSArIFwiLCBcIiArIHRoaXMuc3RhdGUudG91ci5kaXNjaXBsaW5lLmNvbXBldGl0aW9uLmRhdGUpXHJcbiAgICAgICAgICAgIC5zZXRUaXRsZTEoXyhcImFkbWluLmhlYWRlcnMudG91cl9oZWF0c1wiKSlcclxuICAgICAgICAgICAgLnNldFRpdGxlMih0aGlzLnN0YXRlLnRvdXIuZGlzY2lwbGluZS5uYW1lKVxyXG4gICAgICAgICAgICAuc2V0VGl0bGUzKHRoaXMuc3RhdGUudG91ci5uYW1lKVxyXG4gICAgICAgICAgICAuc2V0Qm9keSh0aGlzLnJlZnMucHJpbnRhYmxlLmZldGNoUHJpbnRhYmxlRGF0YSgpKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIuaGVhdC1udW1iZXJcIiwgXCJiYWNrZ3JvdW5kXCIsIFwiI2NjY1wiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIuaGVhdC1udW1iZXJcIiwgXCJ0ZXh0LWFsaWduXCIsIFwibGVmdFwiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCJ0ZCwgdGhcIiwgXCJmb250LXNpemVcIiwgXCIxMnB0XCIpXHJcbiAgICAgICAgICAgIC5zYXZlKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgXyB9IGZyb20gXCJsMTBuL2xvYWRlclwiO1xyXG5pbXBvcnQgeyBIZWF0c0JvZHksIEhlYXRzQnV0dG9ucyB9IGZyb20gXCIuL2hlYXRzXCI7XHJcbmltcG9ydCB7IFRvdXJBZG1pbkJvZHksIFRvdXJBZG1pbkJ1dHRvbnMgfSBmcm9tIFwiLi90b3VyX2FkbWluXCI7XHJcbmltcG9ydCB7IFRvdXJSZXN1bHRzQm9keSwgVG91clJlc3VsdHNCdXR0b25zIH0gZnJvbSBcIi4vdG91cl9yZXN1bHRzXCI7XHJcbmltcG9ydCB7IERpc2NpcGxpbmVSZXN1bHRzLCBEaXNjaXBsaW5lUmVzdWx0c0J1dHRvbnMgfSBmcm9tIFwiLi9kaXNjaXBsaW5lX3Jlc3VsdHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBKdWRnaW5nIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGFjdGl2ZV90b3VyX2lkOiB0aGlzLmdldFRvdXJJZEZyb21IYXNoKCksXHJcbiAgICAgICAgICAgIHBhZ2U6IHRoaXMuZ2V0UGFnZUZyb21IYXNoKCksXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHN3aXRjaEFjdGl2ZVRvdXIobmV3X3RvdXJfaWQpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgYWN0aXZlX3RvdXJfaWQ6IG5ld190b3VyX2lkLFxyXG4gICAgICAgICAgICBwYWdlOiB0aGlzLmdldEFjdGl2ZVRvdXIobmV3X3RvdXJfaWQpLmZpbmFsaXplZCA/IFwicmVzdWx0cy0xXCIgOiBcInRvdXItYWRtaW5cIixcclxuICAgICAgICB9KTtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IFwiI2p1ZGdpbmcvXCIgKyBuZXdfdG91cl9pZDtcclxuICAgIH1cclxuICAgIHN3aXRjaFBhZ2UobmV3X3BhZ2UsIGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgcGFnZTogbmV3X3BhZ2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBcIiNqdWRnaW5nL1wiICsgdGhpcy5zdGF0ZS5hY3RpdmVfdG91cl9pZCArIFwiL1wiICsgbmV3X3BhZ2U7XHJcbiAgICB9XHJcbiAgICBnZXRUb3VySWRGcm9tSGFzaCgpIHtcclxuICAgICAgICBsZXQgY2h1bmtzID0gd2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyKDEpLnNwbGl0KFwiL1wiKTtcclxuICAgICAgICBpZiAoY2h1bmtzWzFdICYmIC9eXFxkKyQvLnRlc3QoY2h1bmtzWzFdKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoY2h1bmtzWzFdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBnZXRQYWdlRnJvbUhhc2goKSB7XHJcbiAgICAgICAgbGV0IGNodW5rcyA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cigxKS5zcGxpdChcIi9cIik7XHJcbiAgICAgICAgaWYgKGNodW5rc1syXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2h1bmtzWzJdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgYWN0aXZlX3RvdXIgPSB0aGlzLmdldEFjdGl2ZVRvdXIodGhpcy5nZXRUb3VySWRGcm9tSGFzaCgpKTtcclxuICAgICAgICByZXR1cm4gKGFjdGl2ZV90b3VyICYmIGFjdGl2ZV90b3VyLmZpbmFsaXplZCkgPyBcInJlc3VsdHMtMVwiIDogXCJ0b3VyLWFkbWluXCI7XHJcbiAgICB9XHJcbiAgICBnZXRBY3RpdmVUb3VyKGFjdGl2ZV90b3VyX2lkPXRoaXMuc3RhdGUuYWN0aXZlX3RvdXJfaWQpIHtcclxuICAgICAgICBpZiAoYWN0aXZlX3RvdXJfaWQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCByZXN1bHQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucHJvcHMuZGlzY2lwbGluZXMuZm9yRWFjaCgoZGlzY2lwbGluZSkgPT4ge1xyXG4gICAgICAgICAgICBkaXNjaXBsaW5lLnRvdXJzLmZvckVhY2goKHRvdXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0b3VyLmlkID09PSBhY3RpdmVfdG91cl9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRvdXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIGdldEFjdGl2ZURpc2NpcGxpbmUoKSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNjaXBsaW5lcy5mb3JFYWNoKChkaXNjaXBsaW5lKSA9PiB7XHJcbiAgICAgICAgICAgIGRpc2NpcGxpbmUudG91cnMuZm9yRWFjaCgodG91cikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRvdXIuaWQgPT09IHRoaXMuc3RhdGUuYWN0aXZlX3RvdXJfaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBkaXNjaXBsaW5lO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICBwYXNzU2lnbmFsKG1lc3NhZ2UpIHtcclxuICAgICAgICBpZiAodGhpcy5yZWZzLmFjdGl2ZV9ib2R5KSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcy5hY3RpdmVfYm9keS5vblNpZ25hbChtZXNzYWdlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZW5kZXJCdXR0b25zKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmFjdGl2ZV90b3VyX2lkID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcHJvcHMgPSB7XHJcbiAgICAgICAgICAgIHRvdXI6IHRoaXMuZ2V0QWN0aXZlVG91cigpLFxyXG4gICAgICAgICAgICBvblNpZ25hbDogdGhpcy5wYXNzU2lnbmFsLmJpbmQodGhpcyksXHJcbiAgICAgICAgICAgIGtleTogdGhpcy5zdGF0ZS5hY3RpdmVfdG91cl9pZCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZS5wYWdlKSB7XHJcbiAgICAgICAgY2FzZSBcInRvdXItYWRtaW5cIjpcclxuICAgICAgICAgICAgcmV0dXJuIDxUb3VyQWRtaW5CdXR0b25zIHsuLi5wcm9wc30gLz5cclxuICAgICAgICBjYXNlIFwiaGVhdHNcIjpcclxuICAgICAgICAgICAgcmV0dXJuIDxIZWF0c0J1dHRvbnMgey4uLnByb3BzfSAvPlxyXG4gICAgICAgIGNhc2UgXCJyZXN1bHRzLTFcIjpcclxuICAgICAgICBjYXNlIFwicmVzdWx0cy0yXCI6XHJcbiAgICAgICAgY2FzZSBcInJlc3VsdHMtM1wiOlxyXG4gICAgICAgICAgICByZXR1cm4gPFRvdXJSZXN1bHRzQnV0dG9ucyB7Li4ucHJvcHN9IC8+XHJcbiAgICAgICAgY2FzZSBcImRpc2NpcGxpbmUtcmVzdWx0c1wiOlxyXG4gICAgICAgICAgICByZXR1cm4gPERpc2NpcGxpbmVSZXN1bHRzQnV0dG9ucyB7Li4ucHJvcHN9IC8+XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJVbmtub3duIHBhZ2U6XCIsIHRoaXMuc3RhdGUucGFnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVuZGVyQm9keSgpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5hY3RpdmVfdG91cl9pZCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHByb3BzID0ge1xyXG4gICAgICAgICAgICB0b3VyX2lkOiB0aGlzLnN0YXRlLmFjdGl2ZV90b3VyX2lkLFxyXG4gICAgICAgICAgICByZWY6IFwiYWN0aXZlX2JvZHlcIixcclxuICAgICAgICAgICAgc3dpdGNoUGFnZTogcGFnZSA9PiB0aGlzLnNldFN0YXRlKHsgcGFnZSB9KSxcclxuICAgICAgICAgICAga2V5OiB0aGlzLnN0YXRlLmFjdGl2ZV90b3VyX2lkLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlLnBhZ2UpIHtcclxuICAgICAgICBjYXNlIFwidG91ci1hZG1pblwiOlxyXG4gICAgICAgICAgICByZXR1cm4gPFRvdXJBZG1pbkJvZHkgey4uLnByb3BzfSAvPlxyXG4gICAgICAgIGNhc2UgXCJoZWF0c1wiOlxyXG4gICAgICAgICAgICByZXR1cm4gPEhlYXRzQm9keSB7Li4ucHJvcHN9IC8+XHJcbiAgICAgICAgY2FzZSBcInJlc3VsdHMtMVwiOlxyXG4gICAgICAgICAgICByZXR1cm4gPFRvdXJSZXN1bHRzQm9keSBwcmludGFibGUgdmVyYm9zaXR5PVwiMVwiIHsuLi5wcm9wc30gLz5cclxuICAgICAgICBjYXNlIFwicmVzdWx0cy0yXCI6XHJcbiAgICAgICAgICAgIHJldHVybiA8VG91clJlc3VsdHNCb2R5IHByaW50YWJsZSB2ZXJib3NpdHk9XCIyXCIgey4uLnByb3BzfSAvPlxyXG4gICAgICAgIGNhc2UgXCJyZXN1bHRzLTNcIjpcclxuICAgICAgICAgICAgcmV0dXJuIDxUb3VyUmVzdWx0c0JvZHkgcHJpbnRhYmxlIHZlcmJvc2l0eT1cIjNcIiB7Li4ucHJvcHN9IC8+XHJcbiAgICAgICAgY2FzZSBcImRpc2NpcGxpbmUtcmVzdWx0c1wiOlxyXG4gICAgICAgICAgICByZXR1cm4gPERpc2NpcGxpbmVSZXN1bHRzXHJcbiAgICAgICAgICAgICAgICBkaXNjaXBsaW5lX2lkPXsgdGhpcy5nZXRBY3RpdmVEaXNjaXBsaW5lKCkuaWQgfVxyXG4gICAgICAgICAgICAgICAgcmVmPVwiYWN0aXZlX2JvZHlcIlxyXG4gICAgICAgICAgICAgICAgcmVuZGVyZXI9XCJwYWdlXCIgLz5cclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlVua25vd24gcGFnZTpcIiwgdGhpcy5zdGF0ZS5wYWdlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZW5kZXJIZWFkZXIoKSB7XHJcbiAgICAgICAgbGV0IGFjdGl2ZV90b3VyID0gdGhpcy5nZXRBY3RpdmVUb3VyKCk7XHJcbiAgICAgICAgaWYgKCFhY3RpdmVfdG91cikge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDxoZWFkZXIgY2xhc3NOYW1lPVwiYXBwLWhlYWRlciB3aXRoLXRhYnNcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9sc1wiPlxyXG4gICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlckJ1dHRvbnMoKSB9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8aDE+eyB0aGlzLmdldEFjdGl2ZURpc2NpcGxpbmUoKS5uYW1lIH08L2gxPlxyXG4gICAgICAgICAgICA8aDI+eyBhY3RpdmVfdG91ci5uYW1lIH08L2gyPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyZml4XCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJwdWxsLXJpZ2h0IG5hdiBuYXYtdGFic1wiPlxyXG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT17IHRoaXMuc3RhdGUucGFnZSA9PT0gXCJ0b3VyLWFkbWluXCIgPyBcImFjdGl2ZVwiIDogXCJcIn0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBvbkNsaWNrPXsgdGhpcy5zd2l0Y2hQYWdlLmJpbmQodGhpcywgXCJ0b3VyLWFkbWluXCIpIH0+eyBfKFwiYWRtaW4uanVkZ2luZy10YWJzLnRvdXItYWRtaW5cIikgfTwvYT5cclxuICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPXsgdGhpcy5zdGF0ZS5wYWdlID09PSBcImhlYXRzXCIgPyBcImFjdGl2ZVwiIDogXCJcIn0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBvbkNsaWNrPXsgdGhpcy5zd2l0Y2hQYWdlLmJpbmQodGhpcywgXCJoZWF0c1wiKSB9PnsgXyhcImFkbWluLmp1ZGdpbmctdGFicy5oZWF0c1wiKSB9PC9hPlxyXG4gICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9eyB0aGlzLnN0YXRlLnBhZ2UgPT09IFwicmVzdWx0cy0xXCIgPyBcImFjdGl2ZVwiIDogXCJcIn0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBvbkNsaWNrPXsgdGhpcy5zd2l0Y2hQYWdlLmJpbmQodGhpcywgXCJyZXN1bHRzLTFcIikgfT57IF8oXCJhZG1pbi5qdWRnaW5nLXRhYnMucmVzdWx0cy0xXCIpIH08L2E+XHJcbiAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT17IHRoaXMuc3RhdGUucGFnZSA9PT0gXCJyZXN1bHRzLTJcIiA/IFwiYWN0aXZlXCIgOiBcIlwifT5cclxuICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIG9uQ2xpY2s9eyB0aGlzLnN3aXRjaFBhZ2UuYmluZCh0aGlzLCBcInJlc3VsdHMtMlwiKSB9PnsgXyhcImFkbWluLmp1ZGdpbmctdGFicy5yZXN1bHRzLTJcIikgfTwvYT5cclxuICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPXsgdGhpcy5zdGF0ZS5wYWdlID09PSBcInJlc3VsdHMtM1wiID8gXCJhY3RpdmVcIiA6IFwiXCJ9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgb25DbGljaz17IHRoaXMuc3dpdGNoUGFnZS5iaW5kKHRoaXMsIFwicmVzdWx0cy0zXCIpIH0+eyBfKFwiYWRtaW4uanVkZ2luZy10YWJzLnJlc3VsdHMtM1wiKSB9PC9hPlxyXG4gICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9eyB0aGlzLnN0YXRlLnBhZ2UgPT09IFwiZGlzY2lwbGluZS1yZXN1bHRzXCIgPyBcImFjdGl2ZVwiIDogXCJcIn0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBvbkNsaWNrPXsgdGhpcy5zd2l0Y2hQYWdlLmJpbmQodGhpcywgXCJkaXNjaXBsaW5lLXJlc3VsdHNcIikgfT57IF8oXCJhZG1pbi5qdWRnaW5nLXRhYnMuZGlzY2lwbGluZS1yZXN1bHRzXCIpIH08L2E+XHJcbiAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyZml4XCI+PC9kaXY+XHJcbiAgICAgICAgPC9oZWFkZXI+XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiYXBwXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2lkZS1tZW51XCI+XHJcbiAgICAgICAgICAgICAgICA8Q29tcGV0aXRpb25TY2hlbWFcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVUb3VyPXsgdGhpcy5zd2l0Y2hBY3RpdmVUb3VyLmJpbmQodGhpcykgfVxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfdG91cl9pZD17IHRoaXMuc3RhdGUuYWN0aXZlX3RvdXJfaWQgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBldGl0aW9uX3BsYW49eyB0aGlzLnByb3BzLmNvbXBldGl0aW9uX3BsYW4gfVxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2NpcGxpbmVzPXsgdGhpcy5wcm9wcy5kaXNjaXBsaW5lcyB9IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFwcC1jb250ZW50XCI+XHJcbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVySGVhZGVyKCkgfVxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhcHAtYm9keVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJCb2R5KCkgfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBDb21wZXRpdGlvblNjaGVtYSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBzb3J0X2J5X3BsYW46ICEhcGFyc2VJbnQoc2Vzc2lvblN0b3JhZ2VbXCJzb3J0X2J5X3BsYW5cIl0pLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBhY3RpdmF0ZVRvdXIodG91cikge1xyXG4gICAgICAgIHRoaXMucHJvcHMudXBkYXRlVG91cih0b3VyLmlkKTtcclxuICAgIH1cclxuICAgIHN3aXRjaFRvUGxhbigpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgc29ydF9ieV9wbGFuOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlW1wic29ydF9ieV9wbGFuXCJdID0gXCIxXCI7XHJcbiAgICB9XHJcbiAgICBzd2l0Y2hUb0Rpc2NpcGxpbmVzKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBzb3J0X2J5X3BsYW46IGZhbHNlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlW1wic29ydF9ieV9wbGFuXCJdID0gXCIwXCI7XHJcbiAgICB9XHJcbiAgICByZW5kZXJUb3VyKHRvdXIsIGRpc2NpcGxpbmVfbmFtZT1udWxsKSB7XHJcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9IFwibGV2ZWwtMlwiICtcclxuICAgICAgICAgICAgKHRvdXIuZmluYWxpemVkID8gXCIgZ3JleVwiIDogXCJcIikgK1xyXG4gICAgICAgICAgICAodG91ci5pZCA9PT0gdGhpcy5wcm9wcy5jdXJyZW50X3RvdXJfaWQgPyBcIiBhY3RpdmVcIiA6IFwiXCIpO1xyXG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17IGNsYXNzTmFtZSB9IG9uQ2xpY2s9eyB0aGlzLmFjdGl2YXRlVG91ci5iaW5kKHRoaXMsIHRvdXIpIH0ga2V5PXsgdG91ci5pZCB9ID5cclxuICAgICAgICAgICAgeyBkaXNjaXBsaW5lX25hbWUgPyA8c21hbGw+PHN0cm9uZz57IGRpc2NpcGxpbmVfbmFtZSB9PC9zdHJvbmc+PGJyIC8+PC9zbWFsbD4gOiBudWxsfVxyXG4gICAgICAgICAgICB7IHRvdXIubmFtZSB9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICB9XHJcbiAgICByZW5kZXJEaXNjaXBsaW5lKGljKSB7XHJcbiAgICAgICAgcmV0dXJuIDxkZXRhaWxzIGNsYXNzTmFtZT1cImJsb2NrXCIga2V5PXsgaWMuaWQgfSBvcGVuPXsgISFwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiRF9KX1wiICsgaWMuaWQpKSB9PlxyXG4gICAgICAgICAgICA8c3VtbWFyeSBjbGFzc05hbWU9XCJsZXZlbC0xXCIgb25DbGljaz17IChlKSA9PiBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwiRF9KX1wiICsgaWMuaWQsIGUudGFyZ2V0LnBhcmVudE5vZGUub3BlbiA/IDAgOiAxKSB9PlxyXG4gICAgICAgICAgICAgICAgeyBpYy5uYW1lIH1cclxuICAgICAgICAgICAgPC9zdW1tYXJ5PlxyXG4gICAgICAgICAgICB7IGljLnRvdXJzLm1hcCgodG91cikgPT4gdGhpcy5yZW5kZXJUb3VyKHRvdXIpKSB9XHJcbiAgICAgICAgPC9kZXRhaWxzPlxyXG4gICAgfVxyXG4gICAgcmVuZGVyQnlEaXNjaXBsaW5lKCkge1xyXG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5wcm9wcy5kaXNjaXBsaW5lcy5tYXAoZnVuY3Rpb24oaWMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyRGlzY2lwbGluZShpYyk7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJub3NlbGVjdFwiPnsgZGF0YSB9PC9kaXY+O1xyXG4gICAgfVxyXG4gICAgcmVuZGVyQnlQbGFuKCkge1xyXG4gICAgICAgIGxldCB0b3VycyA9IHt9O1xyXG4gICAgICAgIHRoaXMucHJvcHMuZGlzY2lwbGluZXMuZm9yRWFjaCgoZGlzY2lwbGluZSkgPT5cclxuICAgICAgICAgICAgZGlzY2lwbGluZS50b3Vycy5mb3JFYWNoKCh0b3VyKSA9PiB0b3Vyc1t0b3VyLmlkXSA9IHtcclxuICAgICAgICAgICAgICAgIHRvdXI6IHRvdXIsXHJcbiAgICAgICAgICAgICAgICBkaXNjaXBsaW5lX25hbWU6IGRpc2NpcGxpbmUubmFtZSxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApXHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMucHJvcHMuY29tcGV0aXRpb25fcGxhbi5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0udG91cl9pZCAhPT0gbnVsbCkubWFwKChpdGVtKSA9PlxyXG4gICAgICAgICAgICB0aGlzLnJlbmRlclRvdXIodG91cnNbaXRlbS50b3VyX2lkXS50b3VyLCB0b3Vyc1tpdGVtLnRvdXJfaWRdLmRpc2NpcGxpbmVfbmFtZSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiA8ZGl2PnsgcmVzdWx0IH08L2Rpdj47XHJcbiAgICB9XHJcbiAgICByZW5kZXJMaXN0KCkge1xyXG4gICAgICAgIHJldHVybiA8ZGl2PlxyXG4gICAgICAgICAgICB7IHRoaXMuc3RhdGUuc29ydF9ieV9wbGFuID8gdGhpcy5yZW5kZXJCeVBsYW4oKSA6IHRoaXMucmVuZGVyQnlEaXNjaXBsaW5lKCkgfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgfVxyXG4gICAgcmVuZGVyQnV0dG9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLnNvcnRfYnlfcGxhblxyXG4gICAgICAgICAgICA/IDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBmdWxsLXdpZHRoXCIgb25DbGljaz17IHRoaXMuc3dpdGNoVG9EaXNjaXBsaW5lcy5iaW5kKHRoaXMpIH0+XHJcbiAgICAgICAgICAgICAgICB7IF8oXCJhZG1pbi5idXR0b25zLnN3aXRjaF90b19kaXNjaXBsaW5lc1wiKSB9XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA6IDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBmdWxsLXdpZHRoXCIgb25DbGljaz17IHRoaXMuc3dpdGNoVG9QbGFuLmJpbmQodGhpcykgfT5cclxuICAgICAgICAgICAgICAgIHsgXyhcImFkbWluLmJ1dHRvbnMuc3dpdGNoX3RvX3BsYW5cIikgfVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJjb21wZXRpdGlvbi1zY2hlbWFcIj5cclxuICAgICAgICAgICAgeyB0aGlzLnJlbmRlckxpc3QoKSB9XHJcbiAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJCdXR0b24oKSB9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgXyB9IGZyb20gXCJsMTBuL2xvYWRlclwiO1xyXG5pbXBvcnQgeyBvblRvdWNoRW5kT3JDbGljayB9IGZyb20gXCJ1aS90YWJsZXRfY29tcG9uZW50c1wiO1xyXG5cclxuXHJcbmZ1bmN0aW9uIF9fKCkge1xyXG4gICAgbGV0IGFyZ3MgPSBbXTtcclxuICAgIGZvciAobGV0IGlkeCA9IDE7IGlkeCA8IGFyZ3VtZW50cy5sZW5ndGg7ICsraWR4KSB7XHJcbiAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1tpZHhdKTtcclxuICAgIH1cclxuICAgIHJldHVybiBfKFwic2NvcmluZ19zeXN0ZW1zLnJvc2ZhcnIuXCIgKyBhcmd1bWVudHNbMF0sIC4uLmFyZ3MpO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRGlzY2lwbGluZVJlc3VsdHNUYWJsZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICByZW5kZXJSb3dIZWFkZXIocHJldl9yb3csIG5leHRfcm93KSB7XHJcbiAgICAgICAgbGV0IG5lZWRfcmVuZGVyID0gKHR5cGVvZiBwcmV2X3JvdyA9PT0gXCJ1bmRlZmluZWRcIikgfHwgKHByZXZfcm93LnJ1bi50b3VyLmlkICE9PSBuZXh0X3Jvdy5ydW4udG91ci5pZClcclxuICAgICAgICBpZiAoIW5lZWRfcmVuZGVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gPHRyIGtleT17IFwiSFwiICsgbmV4dF9yb3cucnVuLmlkIH0+PHRoIGNsYXNzTmFtZT1cInRvdXItbmFtZVwiIGNvbFNwYW49XCI2XCI+XHJcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+eyBuZXh0X3Jvdy5ydW4udG91ci5uYW1lIH08L3A+XHJcbiAgICAgICAgPC90aD48L3RyPjtcclxuICAgIH1cclxuICAgIHJlbmRlclJvdyhyb3cpIHtcclxuICAgICAgICBsZXQgcCA9IHJvdy5ydW4ucGFydGljaXBhbnQ7XHJcbiAgICAgICAgcmV0dXJuIDx0ciBrZXk9eyBcIlJcIiArIHJvdy5ydW4uaWQgfT5cclxuICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInctOCBwbGFjZVwiPjxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+eyByb3cucGxhY2UgPT09IG51bGwgPyBcIlwiIDogcm93LnBsYWNlIH08L3A+PC90ZD5cclxuICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInctOCBudW1iZXJcIj48cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPnsgcC5udW1iZXIgfTwvcD48L3RkPlxyXG4gICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidy0zNlwiIGNvbFNwYW49XCIyXCI+XHJcbiAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwic3BvcnRzbWVuXCI+PHRib2R5PlxyXG4gICAgICAgICAgICAgICAgICAgIHsgcC5mb3JtYXRpb25fbmFtZSA/IDx0cj48dGggY29sU3Bhbj1cIjJcIj48cCBjbGFzc05hbWU9XCJ0ZXh0LWxlZnRcIj57IHAuZm9ybWF0aW9uX25hbWUgfTwvcD48L3RoPjwvdHI+IDogbnVsbCB9XHJcbiAgICAgICAgICAgICAgICAgICAgeyBwLnNwb3J0c21lbi5tYXAoKHMsIGlkeCkgPT4gPHRyIGtleT17IGlkeCB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidy03NVwiPjxwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzLmxhc3RfbmFtZSArIFwiIFwiICsgcy5maXJzdF9uYW1lIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgcy5zdWJzdGl0dXRlID8gPGk+ICh7IF8oXCJhZG1pbi5sYWJlbHMuc3ViXCIpIH0uKTwvaT4gOiBudWxsIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPjwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ3LTI1XCI+PHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj57IHMueWVhcl9vZl9iaXJ0aCB9PC9wPjwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90cj4gKSB9XHJcbiAgICAgICAgICAgICAgICA8L3Rib2R5PjwvdGFibGU+XHJcbiAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ3LTI0IGNsdWJcIj48cD57IHAuY2x1Yi5uYW1lIH08L3A+PC90ZD5cclxuICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInctMjQgY29hY2hlc1wiPjxwPnsgcC5jb2FjaGVzLnNwbGl0KFwiLFwiKS5tYXAoKGMpID0+IFtjLnRyaW0oKSwgPGJyIGtleT1cIlhcIiAvPl0pIH08L3A+PC90ZD5cclxuICAgICAgICA8L3RyPjtcclxuICAgIH1cclxuICAgIHJlbmRlclJvd3MoKSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xyXG4gICAgICAgIGxldCB0YWJsZSA9IHRoaXMucHJvcHMudGFibGU7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YWJsZS5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBsZXQgaGVhZGVyID0gdGhpcy5yZW5kZXJSb3dIZWFkZXIodGFibGVbaSAtIDFdLCB0YWJsZVtpXSk7XHJcbiAgICAgICAgICAgIGhlYWRlciAmJiByZXN1bHQucHVzaChoZWFkZXIpO1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLnJlbmRlclJvdyh0YWJsZVtpXSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImRpc2NpcGxpbmUtcmVzdWx0c1wiPlxyXG4gICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwiYm9yZGVyZWQtdGFibGVcIj5cclxuICAgICAgICAgICAgICAgIDx0aGVhZD5cclxuICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJ3LThcIj48cD57IF9fKFwicmVzdWx0cy5sYWJlbHMucGxhY2VcIikgfTwvcD48L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwidy04XCI+PHA+eyBfXyhcInJlc3VsdHMubGFiZWxzLm51bWJlclwiKSB9PC9wPjwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJ3LTI3XCI+PHA+eyBfXyhcInJlc3VsdHMubGFiZWxzLnNwb3J0c21lblwiKSB9PC9wPjwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJ3LTlcIj48cD57IF9fKFwicmVzdWx0cy5sYWJlbHMuc3BvcnRzbWVuX3llYXJfb2ZfYmlydGhcIikgfTwvcD48L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwidy0yNFwiPjxwPnsgX18oXCJyZXN1bHRzLmxhYmVscy5wYXJ0aWNpcGFudF9jbHViXCIpIH08L3A+PC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInctMjRcIj48cD57IF9fKFwicmVzdWx0cy5sYWJlbHMucGFydGljaXBhbnRfY29hY2hlc1wiKSB9PC9wPjwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICAgICAgICA8dGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlclJvd3MoKSB9XHJcbiAgICAgICAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgIDwvZGl2PjtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgRGlzY2lwbGluZVJlc3VsdHNQcmVzZW50ZXJUYWJsZVJvdyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBhY3RpdmU6IGZhbHNlLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHRvZ2dsZUFjdGl2ZSgpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgYWN0aXZlOiAhdGhpcy5zdGF0ZS5hY3RpdmUsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgbGV0IHAgPSB0aGlzLnByb3BzLnBhcnRpY2lwYW50O1xyXG4gICAgICAgIHJldHVybiA8dGFibGUgY2xhc3NOYW1lPXsgXCJyb3dcIiArICggdGhpcy5zdGF0ZS5hY3RpdmUgPyBcIiBhY3RpdmVcIiA6IFwiXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICAgIHsuLi5vblRvdWNoRW5kT3JDbGljayh0aGlzLnRvZ2dsZUFjdGl2ZS5iaW5kKHRoaXMpKX0+PHRib2R5PlxyXG4gICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicGxhY2VcIiByb3dTcGFuPVwiM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5wbGFjZSA9PT0gbnVsbCA/IFwiXCIgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PnsgdGhpcy5wcm9wcy5wbGFjZSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBsYWNlLWxhYmVsXCI+eyBfKFwicHJlc2VudGVyLmxhYmVscy5wbGFjZVwiKSB9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiB9XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm51bWJlclwiPnsgcC5udW1iZXIgfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibmFtZVwiPnsgcC5uYW1lIH08L3RkPlxyXG4gICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwiY2x1YlwiIGNvbFNwYW49XCIyXCI+eyBwLmNsdWIubmFtZSB9PC90ZD5cclxuICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cImNvYWNoZXNcIiBjb2xTcGFuPVwiMlwiPnsgcC5jb2FjaGVzIH08L3RkPlxyXG4gICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgIDwvdGJvZHk+PC90YWJsZT5cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIERpc2NpcGxpbmVSZXN1bHRzUHJlc2VudGVyVGFibGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgcmVuZGVyUm93SGVhZGVyKHByZXZfcm93LCBuZXh0X3Jvdykge1xyXG4gICAgICAgIGxldCBuZWVkX3JlbmRlciA9ICh0eXBlb2YgcHJldl9yb3cgPT09IFwidW5kZWZpbmVkXCIpIHx8IChwcmV2X3Jvdy5ydW4udG91ci5pZCAhPT0gbmV4dF9yb3cucnVuLnRvdXIuaWQpXHJcbiAgICAgICAgaWYgKCFuZWVkX3JlbmRlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwidG91ci1uYW1lXCIga2V5PXsgXCJIXCIgKyBuZXh0X3Jvdy5ydW4uaWQgfT5cclxuICAgICAgICAgICAgeyBuZXh0X3Jvdy5ydW4udG91ci5uYW1lIH1cclxuICAgICAgICA8L2Rpdj5cclxuICAgIH1cclxuICAgIHJlbmRlclJvdyhyb3cpIHtcclxuICAgICAgICByZXR1cm4gPERpc2NpcGxpbmVSZXN1bHRzUHJlc2VudGVyVGFibGVSb3cga2V5PXsgXCJSXCIgKyByb3cucnVuLmlkIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydGljaXBhbnQ9eyByb3cucnVuLnBhcnRpY2lwYW50IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2U9eyByb3cucGxhY2UgfSAvPlxyXG4gICAgfVxyXG4gICAgcmVuZGVyUm93cygpIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gW107XHJcbiAgICAgICAgbGV0IHRhYmxlID0gdGhpcy5wcm9wcy50YWJsZTtcclxuICAgICAgICBmb3IgKGxldCBpID0gdGFibGUubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcclxuICAgICAgICAgICAgbGV0IGhlYWRlciA9IHRoaXMucmVuZGVyUm93SGVhZGVyKHRhYmxlW2kgKyAxXSwgdGFibGVbaV0pO1xyXG4gICAgICAgICAgICBoZWFkZXIgJiYgcmVzdWx0LnB1c2goaGVhZGVyKTtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5yZW5kZXJSb3codGFibGVbaV0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gPGRpdj5cclxuICAgICAgICAgICAgeyB0aGlzLnJlbmRlclJvd3MoKSB9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIERpc2NpcGxpbmVSZXN1bHRzU2NyZWVuT3BlcmF0b3JUYWJsZVJvdyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgbGV0IHAgPSB0aGlzLnByb3BzLnBhcnRpY2lwYW50O1xyXG4gICAgICAgIHJldHVybiA8dGFibGUgY2xhc3NOYW1lPXsgXCJyb3dcIiArICggdGhpcy5wcm9wcy5zZWxlY3RlZCA/IFwiIHNlbGVjdGVkXCIgOiBcIlwiKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB7Li4ub25Ub3VjaEVuZE9yQ2xpY2sodGhpcy5wcm9wcy5vbkNsaWNrKX0+PHRib2R5PlxyXG4gICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicGxhY2VcIiByb3dTcGFuPVwiMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5wbGFjZSA9PT0gbnVsbCA/IFwiXCIgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PnsgdGhpcy5wcm9wcy5wbGFjZSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBsYWNlLWxhYmVsXCI+eyBfKFwicHJlc2VudGVyLmxhYmVscy5wbGFjZVwiKSB9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiB9XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm51bWJlclwiPnsgcC5udW1iZXIgfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibmFtZVwiPnsgcC5uYW1lIH08L3RkPlxyXG4gICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwiY2x1YlwiIGNvbFNwYW49XCIyXCI+eyBwLmNsdWIubmFtZSB9PC90ZD5cclxuICAgICAgICAgICAgPC90cj5cclxuICAgICAgICA8L3Rib2R5PjwvdGFibGU+XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBEaXNjaXBsaW5lUmVzdWx0c1NjcmVlbk9wZXJhdG9yVGFibGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgcmVuZGVyUm93SGVhZGVyKHByZXZfcm93LCBuZXh0X3Jvdykge1xyXG4gICAgICAgIGxldCBuZWVkX3JlbmRlciA9ICh0eXBlb2YgcHJldl9yb3cgPT09IFwidW5kZWZpbmVkXCIpIHx8IChwcmV2X3Jvdy5ydW4udG91ci5pZCAhPT0gbmV4dF9yb3cucnVuLnRvdXIuaWQpXHJcbiAgICAgICAgaWYgKCFuZWVkX3JlbmRlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwidG91ci1uYW1lXCIga2V5PXsgXCJIXCIgKyBuZXh0X3Jvdy5ydW4uaWQgfT5cclxuICAgICAgICAgICAgeyBuZXh0X3Jvdy5ydW4udG91ci5uYW1lIH1cclxuICAgICAgICA8L2Rpdj5cclxuICAgIH1cclxuICAgIHJlbmRlclJvdyhyb3csIHBsYWNlKSB7XHJcbiAgICAgICAgcmV0dXJuIDxEaXNjaXBsaW5lUmVzdWx0c1NjcmVlbk9wZXJhdG9yVGFibGVSb3dcclxuICAgICAgICAgICAga2V5PXsgXCJSXCIgKyByb3cucnVuLmlkIH1cclxuICAgICAgICAgICAgcGFydGljaXBhbnQ9eyByb3cucnVuLnBhcnRpY2lwYW50IH1cclxuICAgICAgICAgICAgcGxhY2U9eyByb3cucGxhY2UgfVxyXG4gICAgICAgICAgICBvbkNsaWNrPXsgKCkgPT4gdGhpcy5wcm9wcy5vblBsYWNlU2VsZWN0KHBsYWNlKSB9XHJcbiAgICAgICAgICAgIHNlbGVjdGVkPXsgdGhpcy5wcm9wcy5zZWxlY3RlZFBsYWNlICE9PSBudWxsICYmIHBsYWNlID49IHRoaXMucHJvcHMuc2VsZWN0ZWRQbGFjZSB9IC8+XHJcbiAgICB9XHJcbiAgICByZW5kZXJSb3dzKCkge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcclxuICAgICAgICBsZXQgdGFibGUgPSB0aGlzLnByb3BzLnRhYmxlO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSB0YWJsZS5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xyXG4gICAgICAgICAgICBsZXQgaGVhZGVyID0gdGhpcy5yZW5kZXJSb3dIZWFkZXIodGFibGVbaSArIDFdLCB0YWJsZVtpXSk7XHJcbiAgICAgICAgICAgIGhlYWRlciAmJiByZXN1bHQucHVzaChoZWFkZXIpO1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLnJlbmRlclJvdyh0YWJsZVtpXSwgaSArIDEpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gPGRpdj5cclxuICAgICAgICAgICAgeyB0aGlzLnJlbmRlclJvd3MoKSB9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgXyB9IGZyb20gXCJsMTBuL2xvYWRlclwiO1xyXG5cclxuXHJcbmNsYXNzIEJhc2VTY29yZUlucHV0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFwiKVswXS5zZWxlY3QoKTtcclxuICAgICAgICB0aGlzLm9uTW91bnQoLi4uYXJndW1lbnRzKTtcclxuICAgIH1cclxuICAgIG9uTW91bnQoKSB7fVxyXG4gICAgb25DaGFuZ2Uoa2V5LCBldmVudCkge1xyXG4gICAgICAgIGlmICh0eXBlb2Yoa2V5KSAhPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICBrZXkgPSBba2V5XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHNjb3JlID0gdGhpcy5zZXJpYWxpemUoKTtcclxuICAgICAgICBsZXQgc2NvcmVfaW5uZXIgPSBzY29yZTtcclxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBrZXkubGVuZ3RoIC0gMTsgKytpZHgpIHtcclxuICAgICAgICAgICAgc2NvcmVfaW5uZXIgPSBzY29yZV9pbm5lcltrZXlbaWR4XV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNjb3JlX2lubmVyW2tleVtrZXkubGVuZ3RoIC0gMV1dID0gZXZlbnQudGFyZ2V0LnR5cGUgPT09IFwiY2hlY2tib3hcIlxyXG4gICAgICAgICAgICA/IChldmVudC50YXJnZXQuaW5kZXRlcm1pbmF0ZSA/IG51bGwgOiBldmVudC50YXJnZXQuY2hlY2tlZClcclxuICAgICAgICAgICAgOiBldmVudC50YXJnZXQudmFsdWU7XHJcbiAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVWYWx1ZShzY29yZSk7XHJcbiAgICB9XHJcbiAgICBvbktleVVwKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDI3KSB7IC8vIEVzY1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLnN0b3BFZGl0aW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaXNFbXB0eSh2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gXCJcIiB8fCB2YWx1ZSA9PT0gbnVsbDtcclxuICAgIH1cclxuICAgIG9uU3VibWl0KGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5zdWJtaXRWYWx1ZSh0aGlzLnNlcmlhbGl6ZSgpKTtcclxuICAgIH1cclxuICAgIHJlbmRlckJ1dHRvbnMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucmVhZE9ubHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCIgdHlwZT1cImJ1dHRvblwiIG9uQ2xpY2s9eyB0aGlzLnByb3BzLnN0b3BFZGl0aW5nIH0+XHJcbiAgICAgICAgICAgICAgICB7IF8oXCJnbG9iYWwuYnV0dG9ucy5jbG9zZVwiKSB9XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gPGRpdj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIiB0eXBlPVwic3VibWl0XCI+eyBfKFwiZ2xvYmFsLmJ1dHRvbnMuc3VibWl0XCIpIH08L2J1dHRvbj4mbmJzcDtcclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIiB0eXBlPVwiYnV0dG9uXCIgb25DbGljaz17IHRoaXMucHJvcHMuc3RvcEVkaXRpbmcgfT57IF8oXCJnbG9iYWwuYnV0dG9ucy5kaXNjYXJkXCIpIH08L2J1dHRvbj5cclxuICAgICAgICAgICAgPENvbmZpcm1hdGlvbkJ1dHRvblxyXG4gICAgICAgICAgICAgICAganVkZ2Vfcm9sZT17IHRoaXMucHJvcHMuZGlzY2lwbGluZV9qdWRnZS5yb2xlIH1cclxuICAgICAgICAgICAgICAgIGNvbmZpcm1lZD17IHRoaXMucHJvcHMuY29uZmlybWVkIH1cclxuICAgICAgICAgICAgICAgIHRvZ2dsZUNvbmZpcm1hdGlvbj17IHRoaXMucHJvcHMudG9nZ2xlQ29uZmlybWF0aW9uIH1cclxuICAgICAgICAgICAgICAgIG9uS2V5VXA9eyB0aGlzLm9uS2V5VXAuYmluZCh0aGlzKSB9IC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIDxmb3JtIG9uU3VibWl0PXsgdGhpcy5vblN1Ym1pdC5iaW5kKHRoaXMpIH0gY2xhc3NOYW1lPVwiZm9ybS1zY29yZS1pbnB1dFwiPlxyXG4gICAgICAgICAgICB7IHRoaXMucmVuZGVyVGFibGUoKSB9XHJcbiAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJCdXR0b25zKCkgfVxyXG4gICAgICAgIDwvZm9ybT5cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgRGFuY2VTY29yZUlucHV0IGV4dGVuZHMgQmFzZVNjb3JlSW5wdXQge1xyXG4gICAgcmVuZGVyVGFibGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIDx0YWJsZT48dGJvZHk+XHJcbiAgICAgICAgICAgIDx0cj48dGg+Rlc6PC90aD48dGQ+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9eyB0aGlzLnByb3BzLnNjb3JlLmZ3X3dvbWFuIH1cclxuICAgICAgICAgICAgICAgICAgICByZWFkT25seT17IHRoaXMucHJvcHMucmVhZE9ubHkgfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsgdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMsIFwiZndfd29tYW5cIikgfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uS2V5VXA9eyB0aGlzLm9uS2V5VXAuYmluZCh0aGlzKSB9IC8+XHJcbiAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgIDx0aD5GTTo8L3RoPjx0ZD5cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17IHRoaXMucHJvcHMuc2NvcmUuZndfbWFuIH1cclxuICAgICAgICAgICAgICAgICAgICByZWFkT25seT17IHRoaXMucHJvcHMucmVhZE9ubHkgfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsgdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMsIFwiZndfbWFuXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICBvbktleVVwPXsgdGhpcy5vbktleVVwLmJpbmQodGhpcykgfSAvPlxyXG4gICAgICAgICAgICA8L3RkPjwvdHI+XHJcbiAgICAgICAgICAgIDx0cj48dGg+REY6PC90aD48dGQ+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9eyB0aGlzLnByb3BzLnNjb3JlLmRhbmNlX2ZpZ3MgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5PXsgdGhpcy5wcm9wcy5yZWFkT25seSB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcywgXCJkYW5jZV9maWdzXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICBvbktleVVwPXsgdGhpcy5vbktleVVwLmJpbmQodGhpcykgfSAvPlxyXG4gICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICA8dGg+Qzo8L3RoPjx0ZD5cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17IHRoaXMucHJvcHMuc2NvcmUuY29tcG9zaXRpb24gfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5PXsgdGhpcy5wcm9wcy5yZWFkT25seSB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcywgXCJjb21wb3NpdGlvblwiKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25LZXlVcD17IHRoaXMub25LZXlVcC5iaW5kKHRoaXMpIH0gLz5cclxuICAgICAgICAgICAgPC90ZD48L3RyPlxyXG4gICAgICAgICAgICA8dHI+PHRoPlNNOjwvdGg+PHRkPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXsgdGhpcy5wcm9wcy5zY29yZS5zbWFsbF9taXN0YWtlcyB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk9eyB0aGlzLnByb3BzLnJlYWRPbmx5IH1cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzLCBcInNtYWxsX21pc3Rha2VzXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICBvbktleVVwPXsgdGhpcy5vbktleVVwLmJpbmQodGhpcykgfSAvPlxyXG4gICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICA8dGg+Qk06PC90aD48dGQ+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9eyB0aGlzLnByb3BzLnNjb3JlLmJpZ19taXN0YWtlcyB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk9eyB0aGlzLnByb3BzLnJlYWRPbmx5IH1cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzLCBcImJpZ19taXN0YWtlc1wiKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25LZXlVcD17IHRoaXMub25LZXlVcC5iaW5kKHRoaXMpIH0gLz5cclxuICAgICAgICAgICAgPC90ZD48L3RyPlxyXG4gICAgICAgIDwvdGJvZHk+PC90YWJsZT5cclxuICAgIH1cclxuICAgIHNlcmlhbGl6ZSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBmd19tYW46ICF0aGlzLmlzRW1wdHkodGhpcy5wcm9wcy5zY29yZS5md19tYW4pID8gcGFyc2VJbnQodGhpcy5wcm9wcy5zY29yZS5md19tYW4pIHx8IDAgOiBudWxsLFxyXG4gICAgICAgICAgICBmd193b21hbjogIXRoaXMuaXNFbXB0eSh0aGlzLnByb3BzLnNjb3JlLmZ3X3dvbWFuKSA/IHBhcnNlSW50KHRoaXMucHJvcHMuc2NvcmUuZndfd29tYW4pIHx8IDAgOiBudWxsLFxyXG4gICAgICAgICAgICBkYW5jZV9maWdzOiAhdGhpcy5pc0VtcHR5KHRoaXMucHJvcHMuc2NvcmUuZGFuY2VfZmlncykgPyBwYXJzZUZsb2F0KHRoaXMucHJvcHMuc2NvcmUuZGFuY2VfZmlncykgfHwgMCA6IG51bGwsXHJcbiAgICAgICAgICAgIGNvbXBvc2l0aW9uOiAhdGhpcy5pc0VtcHR5KHRoaXMucHJvcHMuc2NvcmUuY29tcG9zaXRpb24pID8gcGFyc2VGbG9hdCh0aGlzLnByb3BzLnNjb3JlLmNvbXBvc2l0aW9uKSB8fCAwIDogbnVsbCxcclxuICAgICAgICAgICAgc21hbGxfbWlzdGFrZXM6ICF0aGlzLmlzRW1wdHkodGhpcy5wcm9wcy5zY29yZS5zbWFsbF9taXN0YWtlcykgPyBwYXJzZUludCh0aGlzLnByb3BzLnNjb3JlLnNtYWxsX21pc3Rha2VzKSB8fCAwIDogbnVsbCxcclxuICAgICAgICAgICAgYmlnX21pc3Rha2VzOiAhdGhpcy5pc0VtcHR5KHRoaXMucHJvcHMuc2NvcmUuYmlnX21pc3Rha2VzKSA/IHBhcnNlSW50KHRoaXMucHJvcHMuc2NvcmUuYmlnX21pc3Rha2VzKSB8fCAwIDogbnVsbCxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBBY3JvU2NvcmVJbnB1dCBleHRlbmRzIEJhc2VTY29yZUlucHV0IHtcclxuICAgIHJlbmRlclRhYmxlKCkge1xyXG4gICAgICAgIHZhciBmaWVsZHMgPSB0aGlzLnByb3BzLnNjb3JlLnJlZHVjdGlvbnMubWFwKGZ1bmN0aW9uKHZhbHVlLCBpZHgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFs8dGgga2V5PXsgXCJIXCIgKyBpZHggfT5Be2lkeCArIDF9OjwvdGg+LCA8dGQga2V5PXsgXCJWXCIgKyBpZHggfT5cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17IHRoaXMucHJvcHMuc2NvcmUucmVkdWN0aW9uc1tpZHhdIH1cclxuICAgICAgICAgICAgICAgICAgICByZWFkT25seT17IHRoaXMucHJvcHMucmVhZE9ubHkgfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsgdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMsIFtcInJlZHVjdGlvbnNcIiwgaWR4XSkgfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uS2V5VXA9eyB0aGlzLm9uS2V5VXAuYmluZCh0aGlzKSB9IC8+XHJcbiAgICAgICAgICAgIDwvdGQ+XVxyXG4gICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgZmllbGRzLnB1c2goWzx0aCBrZXk9XCJIRkRcIj5GRDo8L3RoPiwgPHRkIGtleT1cIlZGRFwiPlxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgIHZhbHVlPXsgdGhpcy5wcm9wcy5zY29yZS5taXN0YWtlcyB9XHJcbiAgICAgICAgICAgICAgICByZWFkT25seT17IHRoaXMucHJvcHMucmVhZE9ubHkgfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcywgXCJtaXN0YWtlc1wiKSB9XHJcbiAgICAgICAgICAgICAgICBvbktleVVwPXsgdGhpcy5vbktleVVwLmJpbmQodGhpcykgfSAvPlxyXG4gICAgICAgIDwvdGQ+XSlcclxuICAgICAgICB2YXIgcm93cyA9IFtdXHJcbiAgICAgICAgZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwgZmllbGRzLmxlbmd0aDsgaWR4ICs9IDIpIHtcclxuICAgICAgICAgICAgcm93cy5wdXNoKDx0ciBrZXk9eyBcIlJcIiArIGlkeCB9PnsgZmllbGRzLnNsaWNlKGlkeCwgaWR4ICsgMikgfTwvdHI+KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDx0YWJsZT48dGJvZHk+XHJcbiAgICAgICAgICAgIHsgcm93cyB9XHJcbiAgICAgICAgPC90Ym9keT48L3RhYmxlPlxyXG4gICAgfVxyXG4gICAgc2VyaWFsaXplKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlZHVjdGlvbnM6IHRoaXMucHJvcHMuc2NvcmUucmVkdWN0aW9ucy5tYXAoZnVuY3Rpb24ocmVkdWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gIXRoaXMuaXNFbXB0eShyZWR1Y3Rpb24pID8gcGFyc2VJbnQocmVkdWN0aW9uKSB8fCAwIDogbnVsbDtcclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKSxcclxuICAgICAgICAgICAgbWlzdGFrZXM6IHBhcnNlSW50KHRoaXMucHJvcHMuc2NvcmUubWlzdGFrZXMpIHx8IDAsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBGb3JtYXRpb25TY29yZUlucHV0IGV4dGVuZHMgQmFzZVNjb3JlSW5wdXQge1xyXG4gICAgcmVuZGVyVGFibGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIDx0YWJsZT48dGJvZHk+XHJcbiAgICAgICAgICAgIDx0cj48dGg+RFQ6PC90aD48dGQ+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9eyB0aGlzLnByb3BzLnNjb3JlLmRhbmNlX3RlY2ggfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5PXsgdGhpcy5wcm9wcy5yZWFkT25seSB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcywgXCJkYW5jZV90ZWNoXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICBvbktleVVwPXsgdGhpcy5vbktleVVwLmJpbmQodGhpcykgfSAvPlxyXG4gICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICA8dGg+REY6PC90aD48dGQ+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9eyB0aGlzLnByb3BzLnNjb3JlLmRhbmNlX2ZpZ3MgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5PXsgdGhpcy5wcm9wcy5yZWFkT25seSB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcywgXCJkYW5jZV9maWdzXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICBvbktleVVwPXsgdGhpcy5vbktleVVwLmJpbmQodGhpcykgfSAvPlxyXG4gICAgICAgICAgICA8L3RkPjwvdHI+XHJcbiAgICAgICAgICAgIDx0cj48dGg+STo8L3RoPjx0ZD5cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17IHRoaXMucHJvcHMuc2NvcmUuaW1wcmVzc2lvbiB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk9eyB0aGlzLnByb3BzLnJlYWRPbmx5IH1cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzLCBcImltcHJlc3Npb25cIikgfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uS2V5VXA9eyB0aGlzLm9uS2V5VXAuYmluZCh0aGlzKSB9IC8+XHJcbiAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgIDx0aD5NOjwvdGg+PHRkPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXsgdGhpcy5wcm9wcy5zY29yZS5zbWFsbF9taXN0YWtlcyB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk9eyB0aGlzLnByb3BzLnJlYWRPbmx5IH1cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzLCBcInNtYWxsX21pc3Rha2VzXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICBvbktleVVwPXsgdGhpcy5vbktleVVwLmJpbmQodGhpcykgfSAvPlxyXG4gICAgICAgICAgICA8L3RkPjwvdHI+XHJcbiAgICAgICAgPC90Ym9keT48L3RhYmxlPlxyXG4gICAgfVxyXG4gICAgc2VyaWFsaXplKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGRhbmNlX3RlY2g6ICF0aGlzLmlzRW1wdHkodGhpcy5wcm9wcy5zY29yZS5kYW5jZV90ZWNoKSA/IHBhcnNlRmxvYXQodGhpcy5wcm9wcy5zY29yZS5kYW5jZV90ZWNoKSB8fCAwIDogbnVsbCxcclxuICAgICAgICAgICAgZGFuY2VfZmlnczogIXRoaXMuaXNFbXB0eSh0aGlzLnByb3BzLnNjb3JlLmRhbmNlX2ZpZ3MpID8gcGFyc2VGbG9hdCh0aGlzLnByb3BzLnNjb3JlLmRhbmNlX2ZpZ3MpIHx8IDAgOiBudWxsLFxyXG4gICAgICAgICAgICBpbXByZXNzaW9uOiAhdGhpcy5pc0VtcHR5KHRoaXMucHJvcHMuc2NvcmUuaW1wcmVzc2lvbikgPyBwYXJzZUZsb2F0KHRoaXMucHJvcHMuc2NvcmUuaW1wcmVzc2lvbikgfHwgMCA6IG51bGwsXHJcbiAgICAgICAgICAgIG1pc3Rha2VzOiAhdGhpcy5pc0VtcHR5KHRoaXMucHJvcHMuc2NvcmUubWlzdGFrZXMpID8gcGFyc2VJbnQodGhpcy5wcm9wcy5zY29yZS5taXN0YWtlcykgfHwgMCA6IG51bGwsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBGb3JtYXRpb25BY3JvU2NvcmVJbnB1dCBleHRlbmRzIEJhc2VTY29yZUlucHV0IHtcclxuICAgIHJlbmRlclRhYmxlKCkge1xyXG4gICAgICAgIHJldHVybiA8dGFibGU+PHRib2R5PlxyXG4gICAgICAgICAgICA8dHI+PHRoPkE6PC90aD48dGQ+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9eyB0aGlzLnByb3BzLnNjb3JlLmFjcm9iYXRpY3MgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5PXsgdGhpcy5wcm9wcy5yZWFkT25seSB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcywgXCJhY3JvYmF0aWNzXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICBvbktleVVwPXsgdGhpcy5vbktleVVwLmJpbmQodGhpcykgfSAvPlxyXG4gICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICA8dGg+RFQ6PC90aD48dGQ+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9eyB0aGlzLnByb3BzLnNjb3JlLmRhbmNlX3RlY2ggfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5PXsgdGhpcy5wcm9wcy5yZWFkT25seSB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcywgXCJkYW5jZV90ZWNoXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICBvbktleVVwPXsgdGhpcy5vbktleVVwLmJpbmQodGhpcykgfSAvPlxyXG4gICAgICAgICAgICA8L3RkPjwvdHI+XHJcbiAgICAgICAgICAgIDx0cj48dGg+REY6PC90aD48dGQ+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9eyB0aGlzLnByb3BzLnNjb3JlLmRhbmNlX2ZpZ3MgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5PXsgdGhpcy5wcm9wcy5yZWFkT25seSB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcywgXCJkYW5jZV9maWdzXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICBvbktleVVwPXsgdGhpcy5vbktleVVwLmJpbmQodGhpcykgfSAvPlxyXG4gICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICA8dGg+STo8L3RoPjx0ZD5cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17IHRoaXMucHJvcHMuc2NvcmUuaW1wcmVzc2lvbiB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk9eyB0aGlzLnByb3BzLnJlYWRPbmx5IH1cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzLCBcImltcHJlc3Npb25cIikgfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uS2V5VXA9eyB0aGlzLm9uS2V5VXAuYmluZCh0aGlzKSB9IC8+XHJcbiAgICAgICAgICAgIDwvdGQ+PC90cj5cclxuICAgICAgICAgICAgPHRyPjx0aD5TTTo8L3RoPjx0ZD5cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17IHRoaXMucHJvcHMuc2NvcmUuc21hbGxfbWlzdGFrZXMgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5PXsgdGhpcy5wcm9wcy5yZWFkT25seSB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcywgXCJzbWFsbF9taXN0YWtlc1wiKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25LZXlVcD17IHRoaXMub25LZXlVcC5iaW5kKHRoaXMpIH0gLz5cclxuICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgPHRoPkJNOjwvdGg+PHRkPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXsgdGhpcy5wcm9wcy5zY29yZS5zbWFsbF9taXN0YWtlcyB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk9eyB0aGlzLnByb3BzLnJlYWRPbmx5IH1cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzLCBcInNtYWxsX21pc3Rha2VzXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICBvbktleVVwPXsgdGhpcy5vbktleVVwLmJpbmQodGhpcykgfSAvPlxyXG4gICAgICAgICAgICA8L3RkPjwvdHI+XHJcbiAgICAgICAgPC90Ym9keT48L3RhYmxlPlxyXG4gICAgfVxyXG4gICAgc2VyaWFsaXplKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGFjcm9iYXRpY3M6ICF0aGlzLmlzRW1wdHkodGhpcy5wcm9wcy5zY29yZS5hY3JvYmF0aWNzKSA/IHBhcnNlRmxvYXQodGhpcy5wcm9wcy5zY29yZS5hY3JvYmF0aWNzKSB8fCAwIDogbnVsbCxcclxuICAgICAgICAgICAgZGFuY2VfdGVjaDogIXRoaXMuaXNFbXB0eSh0aGlzLnByb3BzLnNjb3JlLmRhbmNlX3RlY2gpID8gcGFyc2VGbG9hdCh0aGlzLnByb3BzLnNjb3JlLmRhbmNlX3RlY2gpIHx8IDAgOiBudWxsLFxyXG4gICAgICAgICAgICBkYW5jZV9maWdzOiAhdGhpcy5pc0VtcHR5KHRoaXMucHJvcHMuc2NvcmUuZGFuY2VfZmlncykgPyBwYXJzZUZsb2F0KHRoaXMucHJvcHMuc2NvcmUuZGFuY2VfZmlncykgfHwgMCA6IG51bGwsXHJcbiAgICAgICAgICAgIGltcHJlc3Npb246ICF0aGlzLmlzRW1wdHkodGhpcy5wcm9wcy5zY29yZS5pbXByZXNzaW9uKSA/IHBhcnNlRmxvYXQodGhpcy5wcm9wcy5zY29yZS5pbXByZXNzaW9uKSB8fCAwIDogbnVsbCxcclxuICAgICAgICAgICAgc21hbGxfbWlzdGFrZXM6ICF0aGlzLmlzRW1wdHkodGhpcy5wcm9wcy5zY29yZS5zbWFsbF9taXN0YWtlcykgPyBwYXJzZUludCh0aGlzLnByb3BzLnNjb3JlLnNtYWxsX21pc3Rha2VzKSB8fCAwIDogbnVsbCxcclxuICAgICAgICAgICAgYmlnX21pc3Rha2VzOiAhdGhpcy5pc0VtcHR5KHRoaXMucHJvcHMuc2NvcmUuYmlnX21pc3Rha2VzKSA/IHBhcnNlSW50KHRoaXMucHJvcHMuc2NvcmUuYmlnX21pc3Rha2VzKSB8fCAwIDogbnVsbCxcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFNpbXBsaWZpZWRTY29yZUlucHV0IGV4dGVuZHMgQmFzZVNjb3JlSW5wdXQge1xyXG4gICAgcmVuZGVyVGFibGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIDx0YWJsZT48dGJvZHk+XHJcbiAgICAgICAgICAgIDx0cj48dGg+Uzo8L3RoPjx0ZD5cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17IHRoaXMucHJvcHMuc2NvcmUucG9pbnRzIH1cclxuICAgICAgICAgICAgICAgICAgICByZWFkT25seT17IHRoaXMucHJvcHMucmVhZE9ubHkgfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsgdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMsIFwicG9pbnRzXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICBvbktleVVwPXsgdGhpcy5vbktleVVwLmJpbmQodGhpcykgfSAvPlxyXG4gICAgICAgICAgICA8L3RkPjwvdHI+XHJcbiAgICAgICAgPC90Ym9keT48L3RhYmxlPlxyXG4gICAgfVxyXG4gICAgc2VyaWFsaXplKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHBvaW50czogIXRoaXMuaXNFbXB0eSh0aGlzLnByb3BzLnNjb3JlLnBvaW50cykgPyBwYXJzZUludCh0aGlzLnByb3BzLnNjb3JlLnBvaW50cykgfHwgMCA6IG51bGwsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBIZWFkU2NvcmVJbnB1dCBleHRlbmRzIEJhc2VTY29yZUlucHV0IHtcclxuICAgIHJlbmRlclRhYmxlKCkge1xyXG4gICAgICAgIHJldHVybiA8dGFibGU+PHRib2R5PlxyXG4gICAgICAgICAgICA8dHI+PHRoPlA6PC90aD48dGQ+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9eyB0aGlzLnByb3BzLnNjb3JlLnBlbmFsdHkgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5PXsgdGhpcy5wcm9wcy5yZWFkT25seSB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcywgXCJwZW5hbHR5XCIpIH1cclxuICAgICAgICAgICAgICAgICAgICBvbktleVVwPXsgdGhpcy5vbktleVVwLmJpbmQodGhpcykgfSAvPlxyXG4gICAgICAgICAgICA8L3RkPjx0aD5OVDo8L3RoPjx0ZD5cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17IHRoaXMucHJvcHMuc2NvcmUubmV4dHRvdXIgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5PXsgdGhpcy5wcm9wcy5yZWFkT25seSB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcywgXCJuZXh0dG91clwiKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25LZXlVcD17IHRoaXMub25LZXlVcC5iaW5kKHRoaXMpIH0gLz5cclxuICAgICAgICAgICAgPC90ZD48L3RyPlxyXG4gICAgICAgIDwvdGJvZHk+PC90YWJsZT5cclxuICAgIH1cclxuICAgIHNlcmlhbGl6ZSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBwZW5hbHR5OiBwYXJzZUludCh0aGlzLnByb3BzLnNjb3JlLnBlbmFsdHkpIHx8IDAsXHJcbiAgICAgICAgICAgIG5leHR0b3VyOiB0aGlzLnByb3BzLnNjb3JlLm5leHR0b3VyLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgVGVjaFNjb3JlSW5wdXQgZXh0ZW5kcyBCYXNlU2NvcmVJbnB1dCB7XHJcbiAgICByZW5kZXJUYWJsZSgpIHtcclxuICAgICAgICByZXR1cm4gPHRhYmxlPjx0Ym9keT5cclxuICAgICAgICAgICAgPHRyPjx0aD5KUzo8L3RoPjx0ZD5cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17IHRoaXMucHJvcHMuc2NvcmUuanVtcF9zdGVwcyB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk9eyB0aGlzLnByb3BzLnJlYWRPbmx5IH1cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzLCBcImp1bXBfc3RlcHNcIikgfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uS2V5VXA9eyB0aGlzLm9uS2V5VXAuYmluZCh0aGlzKSB9IC8+XHJcbiAgICAgICAgICAgIDwvdGQ+PHRoPlRWOjwvdGg+PHRkPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcclxuICAgICAgICAgICAgICAgICAgICByZWY9XCJjYlwiXHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17ICEhdGhpcy5wcm9wcy5zY29yZS50aW1pbmdfdmlvbGF0aW9uIH1cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17IGV2ZW50ID0+IHt9IH1cclxuICAgICAgICAgICAgICAgICAgICBvbktleVVwPXsgdGhpcy5vbktleVVwLmJpbmQodGhpcykgfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyBldmVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLnJlYWRPbmx5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYiA9IGV2ZW50LnRhcmdldDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNiLnJlYWRPbmx5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYi5jaGVja2VkID0gY2IucmVhZE9ubHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghY2IuY2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2IucmVhZE9ubHkgPSBjYi5pbmRldGVybWluYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQ2hhbmdlKFwidGltaW5nX3Zpb2xhdGlvblwiLCBldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfX0gLz5cclxuICAgICAgICAgICAgPC90ZD48L3RyPlxyXG4gICAgICAgIDwvdGJvZHk+PC90YWJsZT5cclxuICAgIH1cclxuICAgIG9uTW91bnQoKSB7XHJcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLnJlZnMuY2I7XHJcbiAgICAgICAgbm9kZS5yZWFkT25seSA9IHRoaXMucHJvcHMuc2NvcmUudGltaW5nX3Zpb2xhdGlvbiA9PT0gbnVsbDtcclxuICAgICAgICBub2RlLmluZGV0ZXJtaW5hdGUgPSB0aGlzLnByb3BzLnNjb3JlLnRpbWluZ192aW9sYXRpb24gPT09IG51bGw7XHJcbiAgICB9XHJcbiAgICBzZXJpYWxpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAganVtcF9zdGVwczogcGFyc2VJbnQodGhpcy5wcm9wcy5zY29yZS5qdW1wX3N0ZXBzKSB8fCAwLFxyXG4gICAgICAgICAgICB0aW1pbmdfdmlvbGF0aW9uOiB0aGlzLnByb3BzLnNjb3JlLnRpbWluZ192aW9sYXRpb24sXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBDb25maXJtYXRpb25CdXR0b24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmp1ZGdlX3JvbGUgPT09IFwiaGVhZF9qdWRnZVwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXsgXCJidG4gYnRuLXNtIGJ0bi1jb25maXJtYXRpb25cIiArICh0aGlzLnByb3BzLmNvbmZpcm1lZCA/IFwiIGJ0bi1kYW5nZXJcIiA6IFwiIGJ0bi1zdWNjZXNzXCIpIH1cclxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17IHRoaXMucHJvcHMudG9nZ2xlQ29uZmlybWF0aW9uIH1cclxuICAgICAgICAgICAgICAgIG9uS2V5VXA9eyB0aGlzLnByb3BzLm9uS2V5VXAgfSA+XHJcbiAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5jb25maXJtZWQgPyBfKFwiYWRtaW4uYnV0dG9ucy51bmNvbmZpcm1fc2NvcmVcIikgOiBfKFwiYWRtaW4uYnV0dG9ucy5jb25maXJtX3Njb3JlXCIpIH1cclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgVG91ckFkbWluU2NvcmVJbnB1dCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnByb3BzLmRpc2NpcGxpbmVfanVkZ2Uucm9sZSkge1xyXG4gICAgICAgIGNhc2UgXCJhY3JvX2p1ZGdlXCI6XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLnNjb3Jpbmdfc3lzdGVtX25hbWUgPT09IFwicm9zZmFyci5hbV9maW5hbF9md1wiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gPERhbmNlU2NvcmVJbnB1dCB7Li4udGhpcy5wcm9wc30gLz5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gPEFjcm9TY29yZUlucHV0IHsuLi50aGlzLnByb3BzfSAvPlxyXG4gICAgICAgIGNhc2UgXCJkYW5jZV9qdWRnZVwiOlxyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5zY29yaW5nX3N5c3RlbV9uYW1lID09PSBcInJvc2ZhcnIuZm9ybWF0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiA8Rm9ybWF0aW9uU2NvcmVJbnB1dCB7Li4udGhpcy5wcm9wc30gLz5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5zY29yaW5nX3N5c3RlbV9uYW1lID09PSBcInJvc2ZhcnIuZm9ybWF0aW9uX2Fjcm9cIikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDxGb3JtYXRpb25BY3JvU2NvcmVJbnB1dCB7Li4udGhpcy5wcm9wc30gLz5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5zY29yaW5nX3N5c3RlbV9uYW1lID09PSBcInJvc2ZhcnIuc2ltcGxpZmllZFwiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gPFNpbXBsaWZpZWRTY29yZUlucHV0IHsuLi50aGlzLnByb3BzfSAvPlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiA8RGFuY2VTY29yZUlucHV0IHsuLi50aGlzLnByb3BzfSAvPlxyXG4gICAgICAgIGNhc2UgXCJoZWFkX2p1ZGdlXCI6XHJcbiAgICAgICAgICAgIHJldHVybiA8SGVhZFNjb3JlSW5wdXQgey4uLnRoaXMucHJvcHN9IC8+XHJcbiAgICAgICAgY2FzZSBcInRlY2hfanVkZ2VcIjpcclxuICAgICAgICAgICAgcmV0dXJuIDxUZWNoU2NvcmVJbnB1dCB7Li4udGhpcy5wcm9wc30gLz5cclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlVua25vd24ganVkZ2Ugcm9sZVwiLCB0aGlzLnByb3BzLmRpc2NpcGxpbmVfanVkZ2Uucm9sZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFRvdXJBZG1pblNjb3JlQ2VsbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLmVkaXRpbmcpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuZGlzY2lwbGluZV9qdWRnZS5yb2xlID09PSBcImhlYWRfanVkZ2VcIiAmJiB0aGlzLnByb3BzLnZhbHVlLnJhd19kYXRhLm5leHR0b3VyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gPGRpdiBvbkNsaWNrPXsgdGhpcy5wcm9wcy5zdGFydEVkaXRpbmcgfT5beyB0aGlzLnByb3BzLnZhbHVlLnRvdGFsX3Njb3JlLnRvRml4ZWQoMikgfV08L2Rpdj5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5kaXNjaXBsaW5lX2p1ZGdlLnJvbGUgPT09IFwidGVjaF9qdWRnZVwiKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdHZfc3RyID0gdGhpcy5wcm9wcy52YWx1ZS5yYXdfZGF0YS50aW1pbmdfdmlvbGF0aW9uID09PSBudWxsID8gXCIgP1wiIDogKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMudmFsdWUucmF3X2RhdGEudGltaW5nX3Zpb2xhdGlvbiA/IFwiIOKcl1wiIDogXCIg4pyTXCJcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIHJldHVybiA8ZGl2IG9uQ2xpY2s9eyB0aGlzLnByb3BzLnN0YXJ0RWRpdGluZyB9PnsgdGhpcy5wcm9wcy52YWx1ZS5yYXdfZGF0YS5qdW1wX3N0ZXBzICsgdHZfc3RyIH08L2Rpdj5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gPGRpdiBvbkNsaWNrPXsgdGhpcy5wcm9wcy5zdGFydEVkaXRpbmcgfT57IHRoaXMucHJvcHMudmFsdWUudG90YWxfc2NvcmUudG9GaXhlZCgyKSB9PC9kaXY+XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIDxUb3VyQWRtaW5TY29yZUlucHV0XHJcbiAgICAgICAgICAgICAgICByZWFkT25seT17IHRoaXMucHJvcHMucmVhZE9ubHkgfVxyXG4gICAgICAgICAgICAgICAgc2NvcmU9eyB0aGlzLnByb3BzLnZhbHVlLnJhd19kYXRhIH1cclxuICAgICAgICAgICAgICAgIGNvbmZpcm1lZD17IHRoaXMucHJvcHMuY29uZmlybWVkIH1cclxuICAgICAgICAgICAgICAgIGRpc2NpcGxpbmVfanVkZ2U9eyB0aGlzLnByb3BzLmRpc2NpcGxpbmVfanVkZ2UgfVxyXG4gICAgICAgICAgICAgICAgc2NvcmluZ19zeXN0ZW1fbmFtZT17IHRoaXMucHJvcHMuc2NvcmluZ19zeXN0ZW1fbmFtZSB9XHJcbiAgICAgICAgICAgICAgICBzdG9wRWRpdGluZz17IHRoaXMucHJvcHMuc3RvcEVkaXRpbmcgfVxyXG4gICAgICAgICAgICAgICAgdXBkYXRlVmFsdWU9eyB0aGlzLnByb3BzLnVwZGF0ZVZhbHVlIH1cclxuICAgICAgICAgICAgICAgIHN1Ym1pdFZhbHVlPXsgdGhpcy5wcm9wcy5zdWJtaXRWYWx1ZSB9XHJcbiAgICAgICAgICAgICAgICB0b2dnbGVDb25maXJtYXRpb249eyB0aGlzLnByb3BzLnRvZ2dsZUNvbmZpcm1hdGlvbiB9IC8+XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IF8gfSBmcm9tIFwibDEwbi9sb2FkZXJcIjtcclxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcInNlcnZlci9hcGlcIjtcclxuaW1wb3J0IHsgc3RvcmFnZSB9IGZyb20gXCJzZXJ2ZXIvc3RvcmFnZVwiO1xyXG5pbXBvcnQgeyBtZXNzYWdlX2Rpc3BhdGNoZXIgfSBmcm9tIFwic2VydmVyL21lc3NhZ2VfZGlzcGF0Y2hlclwiO1xyXG5pbXBvcnQgeyBMb2FkZXIgfSBmcm9tIFwidWkvY29tcG9uZW50c1wiO1xyXG5pbXBvcnQgeyBzaG93Q29uZmlybSB9IGZyb20gXCJ1aS9kaWFsb2dzXCI7XHJcbmltcG9ydCB7IGNsb25lIH0gZnJvbSBcImNvbW1vbi90b29sc1wiO1xyXG5cclxuaW1wb3J0IHsgVG91ckFkbWluU2NvcmVDZWxsIH0gZnJvbSBcIi4vcm9zZmFyci90b3VyX2FkbWluXCI7XHJcblxyXG5cclxudmFyIGN1cnJlbnRfZWRpdGluZ19jZWxsID0gbnVsbDtcclxuXHJcbmNsYXNzIFRvdXJBZG1pbkhlYXRWYWx1ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBlZGl0aW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgY3VycmVudF92YWx1ZTogbnVsbCxcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XHJcbiAgICAgICAgaWYgKCFwcmV2U3RhdGUuZWRpdGluZyAmJiB0aGlzLnN0YXRlLmVkaXRpbmcpIHtcclxuICAgICAgICAgICAgUmVhY3RET00uZmluZERPTU5vZGUodGhpcykucXVlcnlTZWxlY3RvcihcImlucHV0XCIpLnNlbGVjdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uS2V5VXAoZXZlbnQpIHtcclxuICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMTMpIHsgLy8gRW50ZXJcclxuICAgICAgICAgICAgdGhpcy5zdWJtaXRWYWx1ZSgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMjcpIHsgLy8gRXNjXHJcbiAgICAgICAgICAgIHRoaXMuc3RvcEVkaXRpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdGFydEVkaXRpbmcoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucmVhZE9ubHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY3VycmVudF9lZGl0aW5nX2NlbGwgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgY3VycmVudF9lZGl0aW5nX2NlbGwuc3RvcEVkaXRpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3VycmVudF9lZGl0aW5nX2NlbGwgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBlZGl0aW5nOiB0cnVlLFxyXG4gICAgICAgICAgICBjdXJyZW50X3ZhbHVlOiB0aGlzLnByb3BzLnZhbHVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgc3RvcEVkaXRpbmcoKSB7XHJcbiAgICAgICAgY3VycmVudF9lZGl0aW5nX2NlbGwgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBlZGl0aW5nOiBmYWxzZSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHN1Ym1pdFZhbHVlKCkge1xyXG4gICAgICAgIEFwaShcInJ1bi5zZXRcIiwge3J1bl9pZDogdGhpcy5wcm9wcy5ydW5faWQsIGRhdGE6IHtoZWF0OiB0aGlzLnN0YXRlLmN1cnJlbnRfdmFsdWV9fSkub25TdWNjZXNzKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLnN0b3BFZGl0aW5nKCk7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKS5zZW5kKCk7XHJcbiAgICB9XHJcbiAgICBvbkNoYW5nZShldmVudCkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IHBhcnNlSW50KGV2ZW50LnRhcmdldC52YWx1ZS5yZXBsYWNlKC9cXEQvZywnJykpO1xyXG4gICAgICAgIGlmIChpc05hTih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgdmFsdWUgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgY3VycmVudF92YWx1ZTogdmFsdWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZWRpdGluZykge1xyXG4gICAgICAgICAgICByZXR1cm4gPHRkIGNsYXNzTmFtZT1cImhlYXRcIj48aW5wdXRcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImlucHV0LWhlYXRcIlxyXG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgdmFsdWU9eyB0aGlzLnN0YXRlLmN1cnJlbnRfdmFsdWUgfHwgXCJcIiB9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzKSB9XHJcbiAgICAgICAgICAgICAgICBvbktleURvd249eyB0aGlzLm9uS2V5VXAuYmluZCh0aGlzKSB9IC8+PC90ZD5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gPHRkIGNsYXNzTmFtZT1cImhlYXRcIiBvbkNsaWNrPXsgdGhpcy5zdGFydEVkaXRpbmcuYmluZCh0aGlzKSB9PlxyXG4gICAgICAgICAgICAgICAgeyB0aGlzLnByb3BzLnZhbHVlIH1cclxuICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBUb3VyQWRtaW5CdXR0b25zIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIHNpZ25hbChtZXNzYWdlKSB7XHJcbiAgICAgICAgcmV0dXJuICgoKSA9PiB0aGlzLnByb3BzLm9uU2lnbmFsKG1lc3NhZ2UpKS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnRvdXIuZmluYWxpemVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiA8ZGl2PjwvZGl2PlxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcmVzdWx0ID0gW107XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLnRvdXIuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoW1xyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIiBvbkNsaWNrPXsgdGhpcy5zaWduYWwoXCJpbml0X3RvdXJcIikgfSBrZXk9XCJidG4taW5pdC10b3VyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgeyBfKFwianVkZ2luZy5idXR0b25zLmluaXRfdG91clwiKSB9XHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj4sXHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiIG9uQ2xpY2s9eyB0aGlzLnNpZ25hbChcImZpbmFsaXplX3RvdXJcIikgfSBrZXk9XCJidG4tZmluYWxpemUtdG91clwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHsgXyhcImp1ZGdpbmcuYnV0dG9ucy5maW5hbGl6ZV90b3VyXCIpIH1cclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPixcclxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCIgb25DbGljaz17IHRoaXMuc2lnbmFsKFwic2h1ZmZsZV9oZWF0c1wiKSB9IGtleT1cImJ0bi1zaHVmZmxlLWhlYXRzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgeyBfKFwianVkZ2luZy5idXR0b25zLnNodWZmbGVfaGVhdHNcIikgfVxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+LFxyXG4gICAgICAgICAgICBdKVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXN1bHQucHVzaCg8VG91ckFkbWluU3RhcnRTdG9wVG91ckJ1dHRvblxyXG4gICAgICAgICAgICB0b3VyPXsgdGhpcy5wcm9wcy50b3VyIH1cclxuICAgICAgICAgICAgb25TdGFydD17IHRoaXMuc2lnbmFsKFwic3RhcnRfdG91clwiKSB9XHJcbiAgICAgICAgICAgIG9uU3RvcD17IHRoaXMuc2lnbmFsKFwic3RvcF90b3VyXCIpIH1cclxuICAgICAgICAgICAga2V5PVwiYnRuLXN0YXJ0LXN0b3BcIiAvPik7XHJcbiAgICAgICAgcmV0dXJuIDxkaXY+eyByZXN1bHQgfTwvZGl2PjtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgVG91ckFkbWluU2NvcmVDZWxsV3JhcHBlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBlZGl0aW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgY3VycmVudF92YWx1ZTogdGhpcy5wcm9wcy52YWx1ZSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgc3RhcnRFZGl0aW5nKCkge1xyXG4gICAgICAgIGlmIChjdXJyZW50X2VkaXRpbmdfY2VsbCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjdXJyZW50X2VkaXRpbmdfY2VsbC5zdG9wRWRpdGluZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdXJyZW50X2VkaXRpbmdfY2VsbCA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGVkaXRpbmc6IHRydWUsXHJcbiAgICAgICAgICAgIGN1cnJlbnRfdmFsdWU6IGNsb25lKHRoaXMucHJvcHMudmFsdWUpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgc3RvcEVkaXRpbmcoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGVkaXRpbmc6IGZhbHNlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGN1cnJlbnRfZWRpdGluZ19jZWxsID0gbnVsbDtcclxuICAgIH1cclxuICAgIHVwZGF0ZVZhbHVlKG5ld192YWx1ZSkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUuY3VycmVudF92YWx1ZTtcclxuICAgICAgICB2YWx1ZS5yYXdfZGF0YSA9IG5ld192YWx1ZTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgY3VycmVudF92YWx1ZTogdmFsdWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBzdWJtaXRWYWx1ZShuZXdfdmFsdWUpIHtcclxuICAgICAgICBsZXQgcmVxdWVzdCA9IHtcclxuICAgICAgICAgICAgc2NvcmVfZGF0YTogbmV3X3ZhbHVlLFxyXG4gICAgICAgICAgICBmb3JjZTogdHJ1ZSxcclxuICAgICAgICB9XHJcbiAgICAgICAgQXBpKFwic2NvcmUuc2V0XCIsIHtzY29yZV9pZDogdGhpcy5wcm9wcy5zY29yZV9pZCwgZGF0YTogcmVxdWVzdH0pXHJcbiAgICAgICAgICAgIC5vblN1Y2Nlc3ModGhpcy5zdG9wRWRpdGluZy5iaW5kKHRoaXMpKVxyXG4gICAgICAgICAgICAuc2VuZCgpO1xyXG4gICAgfVxyXG4gICAgdG9nZ2xlQ29uZmlybWF0aW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmNvbmZpcm1lZCkge1xyXG4gICAgICAgICAgICBBcGkoXCJzY29yZS51bmNvbmZpcm1cIiwgeyBzY29yZV9pZDogdGhpcy5wcm9wcy5zY29yZV9pZCB9KS5zZW5kKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgQXBpKFwic2NvcmUuY29uZmlybVwiLCB7IHNjb3JlX2lkOiB0aGlzLnByb3BzLnNjb3JlX2lkIH0pLnNlbmQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnByb3BzLnZhbHVlID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiA8dGQgY2xhc3NOYW1lPVwibm8tc2NvcmVcIj4mbmJzcDs8L3RkPlxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY2xhc3NlcyA9IFtcImp1ZGdlXCJdXHJcbiAgICAgICAgICAgIC5jb25jYXQodGhpcy5zdGF0ZS5lZGl0aW5nID8gW1wiZWRpdGluZ1wiXSA6IFtdKVxyXG4gICAgICAgICAgICAuY29uY2F0KHRoaXMucHJvcHMuY29uZmlybWVkID8gW1wiY29uZmlybWVkLXNjb3JlXCJdIDogW10pXHJcbiAgICAgICAgcmV0dXJuIDx0ZCBjbGFzc05hbWU9eyBjbGFzc2VzLmpvaW4oXCIgXCIpIH0gPlxyXG4gICAgICAgICAgICA8VG91ckFkbWluU2NvcmVDZWxsXHJcbiAgICAgICAgICAgICAgICByZWFkT25seT17IHRoaXMucHJvcHMucmVhZE9ubHkgfVxyXG4gICAgICAgICAgICAgICAgZGlzY2lwbGluZV9qdWRnZT17IHRoaXMucHJvcHMuZGlzY2lwbGluZV9qdWRnZSB9XHJcbiAgICAgICAgICAgICAgICBzY29yaW5nX3N5c3RlbV9uYW1lPXsgdGhpcy5wcm9wcy5zY29yaW5nX3N5c3RlbV9uYW1lIH1cclxuICAgICAgICAgICAgICAgIHN0YXJ0RWRpdGluZz17IHRoaXMuc3RhcnRFZGl0aW5nLmJpbmQodGhpcykgfVxyXG4gICAgICAgICAgICAgICAgc3RvcEVkaXRpbmc9eyB0aGlzLnN0b3BFZGl0aW5nLmJpbmQodGhpcykgfVxyXG4gICAgICAgICAgICAgICAgdXBkYXRlVmFsdWU9eyB0aGlzLnVwZGF0ZVZhbHVlLmJpbmQodGhpcykgfVxyXG4gICAgICAgICAgICAgICAgc3VibWl0VmFsdWU9eyB0aGlzLnN1Ym1pdFZhbHVlLmJpbmQodGhpcykgfVxyXG4gICAgICAgICAgICAgICAgdG9nZ2xlQ29uZmlybWF0aW9uPXsgdGhpcy50b2dnbGVDb25maXJtYXRpb24uYmluZCh0aGlzKSB9XHJcbiAgICAgICAgICAgICAgICBlZGl0aW5nPXsgdGhpcy5zdGF0ZS5lZGl0aW5nIH1cclxuICAgICAgICAgICAgICAgIHZhbHVlPXsgdGhpcy5zdGF0ZS5lZGl0aW5nID8gdGhpcy5zdGF0ZS5jdXJyZW50X3ZhbHVlIDogdGhpcy5wcm9wcy52YWx1ZSB9XHJcbiAgICAgICAgICAgICAgICBjb25maXJtZWQ9eyB0aGlzLnByb3BzLmNvbmZpcm1lZCB9IC8+XHJcbiAgICAgICAgPC90ZD5cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgVG91ckFkbWluU2NvcmVzUm93IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIHVwZGF0ZUhlYXQobmV3X3ZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVIZWF0VmFsdWUobmV3X3ZhbHVlKTtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBsZXQgc2NvcmVzX21hcCA9IHt9XHJcbiAgICAgICAgdGhpcy5wcm9wcy5ydW4uc2NvcmVzLmZvckVhY2goZnVuY3Rpb24oc2NvcmVfZGF0YSkge1xyXG4gICAgICAgICAgICBzY29yZXNfbWFwW3Njb3JlX2RhdGEuZGlzY2lwbGluZV9qdWRnZV9pZF0gPSBzY29yZV9kYXRhO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxldCBzY29yZXMgPSB0aGlzLnByb3BzLmRpc2NpcGxpbmVfanVkZ2VzLm1hcChmdW5jdGlvbihkaXNjaXBsaW5lX2p1ZGdlLCBpZHgpIHtcclxuICAgICAgICAgICAgbGV0IHNjb3JlID0gc2NvcmVzX21hcFtkaXNjaXBsaW5lX2p1ZGdlLmlkXTtcclxuICAgICAgICAgICAgcmV0dXJuIDxUb3VyQWRtaW5TY29yZUNlbGxXcmFwcGVyXHJcbiAgICAgICAgICAgICAgICByZWFkT25seT17IHRoaXMucHJvcHMucmVhZE9ubHkgfVxyXG4gICAgICAgICAgICAgICAga2V5PXsgKHNjb3JlICYmIHNjb3JlLmlkKSB8fCAgKFwiSVwiICsgaWR4KX1cclxuICAgICAgICAgICAgICAgIGRpc2NpcGxpbmVfanVkZ2U9eyBkaXNjaXBsaW5lX2p1ZGdlIH1cclxuICAgICAgICAgICAgICAgIHNjb3Jpbmdfc3lzdGVtX25hbWU9eyB0aGlzLnByb3BzLnNjb3Jpbmdfc3lzdGVtX25hbWUgfVxyXG4gICAgICAgICAgICAgICAgc2NvcmVfaWQ9eyBzY29yZSAmJiBzY29yZS5pZCB9XHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17IHNjb3JlICYmIHNjb3JlLmRhdGEgfVxyXG4gICAgICAgICAgICAgICAgY29uZmlybWVkPXsgc2NvcmUgJiYgc2NvcmUuY29uZmlybWVkfSAvPlxyXG4gICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgcmV0dXJuIDx0ciBjbGFzc05hbWU9eyB0aGlzLnByb3BzLnJ1bi5oZWF0ICUgMiA/IFwib2RkLWhlYXRcIiA6IFwiXCJ9PlxyXG4gICAgICAgICAgICA8VG91ckFkbWluSGVhdFZhbHVlXHJcbiAgICAgICAgICAgICAgICByZWFkT25seT17IHRoaXMucHJvcHMucmVhZE9ubHkgfVxyXG4gICAgICAgICAgICAgICAgcnVuX2lkPXsgdGhpcy5wcm9wcy5ydW4uaWQgfVxyXG4gICAgICAgICAgICAgICAgdmFsdWU9eyB0aGlzLnByb3BzLnJ1bi5oZWF0IH1cclxuICAgICAgICAgICAgICAgIHVwZGF0ZVZhbHVlPXsgdGhpcy51cGRhdGVIZWF0LmJpbmQodGhpcykgfSAvPlxyXG4gICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibnVtYmVyXCI+eyB0aGlzLnByb3BzLnJ1bi5wYXJ0aWNpcGFudC5udW1iZXIgfTwvdGQ+XHJcbiAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJuYW1lXCI+eyB0aGlzLnByb3BzLnJ1bi5wYXJ0aWNpcGFudC5uYW1lIH08L3RkPlxyXG4gICAgICAgICAgICA8VG91ckFkbWluQWNyb2JhdGljc0NlbGxcclxuICAgICAgICAgICAgICAgIHJlYWRPbmx5PXsgdGhpcy5wcm9wcy5yZWFkT25seSB9XHJcbiAgICAgICAgICAgICAgICBydW5faWQ9eyB0aGlzLnByb3BzLnJ1bi5pZCB9XHJcbiAgICAgICAgICAgICAgICBwcm9ncmFtX25hbWU9eyB0aGlzLnByb3BzLnJ1bi5wcm9ncmFtX25hbWUgfVxyXG4gICAgICAgICAgICAgICAgYWNyb2JhdGljcz17IHRoaXMucHJvcHMucnVuLmFjcm9iYXRpY3MgfVxyXG4gICAgICAgICAgICAgICAgcHJvZ3JhbXM9eyB0aGlzLnByb3BzLnJ1bi5wYXJ0aWNpcGFudC5wcm9ncmFtcyB9IC8+XHJcbiAgICAgICAgICAgIDxUb3VyQWRtaW5QZXJmb3JtZWRDZWxsXHJcbiAgICAgICAgICAgICAgICByZWFkT25seT17IHRoaXMucHJvcHMucmVhZE9ubHkgfVxyXG4gICAgICAgICAgICAgICAgcnVuPXsgdGhpcy5wcm9wcy5ydW4gfSAvPlxyXG4gICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidG90YWxcIj57IHRoaXMucHJvcHMucnVuLnRvdGFsX3Njb3JlIH08L3RkPlxyXG4gICAgICAgICAgICB7IHNjb3JlcyB9XHJcbiAgICAgICAgPC90cj47XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFRvdXJBZG1pblN0YXJ0U3RvcFRvdXJCdXR0b24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnRvdXIuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tZGFuZ2VyXCIgb25DbGljaz17IHRoaXMucHJvcHMub25TdG9wIH0+XHJcbiAgICAgICAgICAgICAgICB7IF8oXCJqdWRnaW5nLmJ1dHRvbnMuc3RvcF90b3VyXCIpIH1cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1zdWNjZXNzXCIgb25DbGljaz17IHRoaXMucHJvcHMub25TdGFydCB9PlxyXG4gICAgICAgICAgICAgICAgeyBfKFwianVkZ2luZy5idXR0b25zLnN0YXJ0X3RvdXJcIikgfVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFRvdXJBZG1pbkFjcm9iYXRpY0VkaXRvclJvdyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBvblBsdXMoKSB7XHJcbiAgICAgICAgbGV0IHZhbHVlID0gTWF0aC5yb3VuZCgyICogdGhpcy5wcm9wcy5hY3JvYmF0aWMuc2NvcmUgKyAxKSAvIDI7XHJcbiAgICAgICAgQXBpKFwiYWNyb2JhdGljX292ZXJyaWRlLnNldFwiLCB7XHJcbiAgICAgICAgICAgIHJ1bl9pZDogdGhpcy5wcm9wcy5ydW5faWQsXHJcbiAgICAgICAgICAgIGFjcm9iYXRpY19pZHg6IHRoaXMucHJvcHMuYWNyb19pZHgsXHJcbiAgICAgICAgICAgIHNjb3JlOiB2YWx1ZSxcclxuICAgICAgICB9KS5zZW5kKCk7XHJcbiAgICB9XHJcbiAgICBvbk1pbnVzKCkge1xyXG4gICAgICAgIGxldCB2YWx1ZSA9IE1hdGgubWF4KDAsIE1hdGgucm91bmQoMiAqIHRoaXMucHJvcHMuYWNyb2JhdGljLnNjb3JlIC0gMSkgLyAyKTtcclxuICAgICAgICBBcGkoXCJhY3JvYmF0aWNfb3ZlcnJpZGUuc2V0XCIsIHtcclxuICAgICAgICAgICAgcnVuX2lkOiB0aGlzLnByb3BzLnJ1bl9pZCxcclxuICAgICAgICAgICAgYWNyb2JhdGljX2lkeDogdGhpcy5wcm9wcy5hY3JvX2lkeCxcclxuICAgICAgICAgICAgc2NvcmU6IHZhbHVlLFxyXG4gICAgICAgIH0pLnNlbmQoKTtcclxuICAgIH1cclxuICAgIG9uUmVzZXQoKSB7XHJcbiAgICAgICAgQXBpKFwiYWNyb2JhdGljX292ZXJyaWRlLnNldFwiLCB7XHJcbiAgICAgICAgICAgIHJ1bl9pZDogdGhpcy5wcm9wcy5ydW5faWQsXHJcbiAgICAgICAgICAgIGFjcm9iYXRpY19pZHg6IHRoaXMucHJvcHMuYWNyb19pZHgsXHJcbiAgICAgICAgICAgIHNjb3JlOiBudWxsLFxyXG4gICAgICAgIH0pLnNlbmQoKTtcclxuICAgIH1cclxuICAgIHJlbmRlckNvbnRyb2xzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnJlYWRPbmx5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gPHRkIGNsYXNzTmFtZT1cImNvbnRyb2xzXCI+XHJcbiAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5hY3JvYmF0aWMuaGFzX292ZXJyaWRlXHJcbiAgICAgICAgICAgICAgICA/IDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVwiIG9uQ2xpY2s9eyB0aGlzLm9uUmVzZXQuYmluZCh0aGlzKSB9PlxyXG4gICAgICAgICAgICAgICAgICAgIHsgXyhcImp1ZGdpbmcuYnV0dG9ucy5yZXNldF9hY3JvYmF0aWNfb3ZlcnJpZGVcIikgfVxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA6IG51bGwgfVxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tc21cIiBvbkNsaWNrPXsgdGhpcy5vbk1pbnVzLmJpbmQodGhpcykgfT4mbWludXM7PC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVwiIG9uQ2xpY2s9eyB0aGlzLm9uUGx1cy5iaW5kKHRoaXMpIH0+KzwvYnV0dG9uPlxyXG4gICAgICAgIDwvdGQ+XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIDx0cj5cclxuICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cImRlc2NyaXB0aW9uXCI+eyB0aGlzLnByb3BzLmFjcm9iYXRpYy5kZXNjcmlwdGlvbiB9PC90ZD5cclxuICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm9sZC1zY29yZVwiPlxyXG4gICAgICAgICAgICAgICAgeyB0aGlzLnByb3BzLmFjcm9iYXRpYy5vcmlnaW5hbF9zY29yZS50b0ZpeGVkKDEpIH1cclxuICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm5ldy1zY29yZVwiPlxyXG4gICAgICAgICAgICAgICAgeyB0aGlzLnByb3BzLmFjcm9iYXRpYy5oYXNfb3ZlcnJpZGVcclxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMucHJvcHMuYWNyb2JhdGljLnNjb3JlLnRvRml4ZWQoMSlcclxuICAgICAgICAgICAgICAgICAgICA6IG51bGwgfVxyXG4gICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICB7IHRoaXMucmVuZGVyQ29udHJvbHMoKSB9XHJcbiAgICAgICAgPC90cj5cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgVG91ckFkbWluQWNyb2JhdGljTG9hZGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIG9uU3VibWl0KGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5yZWZzLnNlbGVjdG9yLnZhbHVlO1xyXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gXCJudWxsXCIpIHtcclxuICAgICAgICAgICAgdmFsdWUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzaG93Q29uZmlybShfKFwianVkZ2luZy5jb25maXJtcy5sb2FkX3Byb2dyYW1cIiksICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkxvYWQodmFsdWUpO1xyXG4gICAgICAgICAgICBzd2FsLmNsb3NlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZW5kZXJTZWxlY3RvcigpIHtcclxuICAgICAgICByZXR1cm4gPHNlbGVjdCBkZWZhdWx0VmFsdWU9XCJudWxsXCIgcmVmPVwic2VsZWN0b3JcIj5cclxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIm51bGxcIj4tPC9vcHRpb24+XHJcbiAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5wcm9ncmFtcy5tYXAoIHByb2dyYW0gPT5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9eyBwcm9ncmFtLmlkIH0ga2V5PXsgcHJvZ3JhbS5pZCB9PnsgcHJvZ3JhbS5uYW1lIH08L29wdGlvbj5cclxuICAgICAgICAgICAgKSB9XHJcbiAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIDxmb3JtIG9uU3VibWl0PXsgdGhpcy5vblN1Ym1pdC5iaW5kKHRoaXMpIH0gY2xhc3NOYW1lPVwiYWNyby1sb2FkZXIgcHVsbC1sZWZ0XCI+XHJcbiAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJTZWxlY3RvcigpIH1cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLXNtXCI+eyBfKFwiZ2xvYmFsLmJ1dHRvbnMubG9hZFwiKSB9PC9idXR0b24+XHJcbiAgICAgICAgPC9mb3JtPlxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBUb3VyQWRtaW5BY3JvYmF0aWNFZGl0b3IgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgbG9hZEFjcm9iYXRpY3MocHJvZ3JhbV9pZCkge1xyXG4gICAgICAgIEFwaShcInJ1bi5sb2FkX3Byb2dyYW1cIiwgeyBwcm9ncmFtX2lkOiBwcm9ncmFtX2lkLCBydW5faWQ6IHRoaXMucHJvcHMucnVuX2lkIH0pLnNlbmQoKTtcclxuICAgIH1cclxuICAgIHJlbmRlckJvZHkoKSB7XHJcbiAgICAgICAgcmV0dXJuIDxkaXY+XHJcbiAgICAgICAgICAgIDxoND57IHRoaXMucHJvcHMucHJvZ3JhbV9uYW1lIH08L2g0PlxyXG4gICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwiYWNyb2JhdGljc1wiPjx0Ym9keT5cclxuICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwiZGVzY3JpcHRpb25cIj57IF8oXCJqdWRnaW5nLmxhYmVscy5hY3JvX2Rlc2NyaXB0aW9uXCIpIH08L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJvbGQtc2NvcmVcIj57IF8oXCJqdWRnaW5nLmxhYmVscy5vbGRfc2NvcmVcIikgfTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cIm5ldy1zY29yZVwiPnsgXyhcImp1ZGdpbmcubGFiZWxzLm5ld19zY29yZVwiKSB9PC90aD5cclxuICAgICAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMucmVhZE9ubHkgPyBudWxsIDogPHRoIGNsYXNzTmFtZT1cImNvbnRyb2xzXCI+PC90aD4gfVxyXG4gICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5hY3JvYmF0aWNzLm1hcCgoYWNybywgaWR4KSA9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxUb3VyQWRtaW5BY3JvYmF0aWNFZGl0b3JSb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk9eyB0aGlzLnByb3BzLnJlYWRPbmx5IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYWNyb2JhdGljPXsgYWNybyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjcm9faWR4PXsgaWR4IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcnVuX2lkPXsgdGhpcy5wcm9wcy5ydW5faWQgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9eyBpZHggfSAvPlxyXG4gICAgICAgICAgICAgICAgKSB9XHJcbiAgICAgICAgICAgIDwvdGJvZHk+PC90YWJsZT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIH1cclxuICAgIHJlbmRlck1vY2soKSB7XHJcbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibm8tcHJvZ3JhbSB0ZXh0LWNlbnRlclwiPk5vIHByb2dyYW0gbG9hZGVkPC9kaXY+XHJcbiAgICB9XHJcbiAgICByZW5kZXJMb2FkZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucmVhZE9ubHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiA8VG91ckFkbWluQWNyb2JhdGljTG9hZGVyXHJcbiAgICAgICAgICAgIG9uTG9hZD17IHRoaXMubG9hZEFjcm9iYXRpY3MuYmluZCh0aGlzKSB9XHJcbiAgICAgICAgICAgIHByb2dyYW1zPXsgdGhpcy5wcm9wcy5wcm9ncmFtcyB9IC8+XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1hY3JvLWlucHV0XCI+XHJcbiAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5wcm9ncmFtX25hbWUgPT09IG51bGwgPyB0aGlzLnJlbmRlck1vY2soKSA6IHRoaXMucmVuZGVyQm9keSgpIH1cclxuICAgICAgICAgICAgeyB0aGlzLnJlbmRlckxvYWRlcigpIH1cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLXNtIHB1bGwtcmlnaHRcIiBvbkNsaWNrPXsgdGhpcy5wcm9wcy5zdG9wRWRpdGluZyB9PlxyXG4gICAgICAgICAgICAgICAgeyBfKFwiZ2xvYmFsLmJ1dHRvbnMuY2xvc2VcIikgfVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeFwiPjwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBUb3VyQWRtaW5BY3JvYmF0aWNzQ2VsbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBlZGl0aW5nOiBmYWxzZSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgc3RhcnRFZGl0aW5nKCkge1xyXG4gICAgICAgIGlmIChjdXJyZW50X2VkaXRpbmdfY2VsbCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjdXJyZW50X2VkaXRpbmdfY2VsbC5zdG9wRWRpdGluZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdXJyZW50X2VkaXRpbmdfY2VsbCA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGVkaXRpbmc6IHRydWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBzdG9wRWRpdGluZygpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZWRpdGluZzogZmFsc2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY3VycmVudF9lZGl0aW5nX2NlbGwgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmVkaXRpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDx0ZCBjbGFzc05hbWU9XCJhY3JvYmF0aWNzIGVkaXRpbmdcIj5cclxuICAgICAgICAgICAgICAgIDxUb3VyQWRtaW5BY3JvYmF0aWNFZGl0b3JcclxuICAgICAgICAgICAgICAgICAgICByZWFkT25seT17IHRoaXMucHJvcHMucmVhZE9ubHkgfVxyXG4gICAgICAgICAgICAgICAgICAgIHN0b3BFZGl0aW5nPXsgdGhpcy5zdG9wRWRpdGluZy5iaW5kKHRoaXMpIH1cclxuICAgICAgICAgICAgICAgICAgICB7Li4udGhpcy5wcm9wc30gLz5cclxuICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucHJvZ3JhbV9uYW1lID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiA8dGQgY2xhc3NOYW1lPVwiYWNyb2JhdGljc1wiIG9uQ2xpY2s9eyB0aGlzLnN0YXJ0RWRpdGluZy5iaW5kKHRoaXMpIH0+XHJcbiAgICAgICAgICAgICAgICAmbWRhc2g7XHJcbiAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBoYXNfb3ZlcnJpZGVzID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IG9yaWdpbmFsX3Njb3JlID0gMDtcclxuICAgICAgICBsZXQgc2NvcmUgPSAwO1xyXG4gICAgICAgIHRoaXMucHJvcHMuYWNyb2JhdGljcy5mb3JFYWNoKChhY3JvKSA9PiB7XHJcbiAgICAgICAgICAgIG9yaWdpbmFsX3Njb3JlICs9IGFjcm8ub3JpZ2luYWxfc2NvcmU7XHJcbiAgICAgICAgICAgIHNjb3JlICs9IGFjcm8uc2NvcmU7XHJcbiAgICAgICAgICAgIGhhc19vdmVycmlkZXMgPSBoYXNfb3ZlcnJpZGVzIHx8IGFjcm8uc2NvcmUgIT09IGFjcm8ub3JpZ2luYWxfc2NvcmU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIDx0ZCBjbGFzc05hbWU9XCJhY3JvYmF0aWNzXCIgb25DbGljaz17IHRoaXMuc3RhcnRFZGl0aW5nLmJpbmQodGhpcykgfT5cclxuICAgICAgICAgICAgeyBoYXNfb3ZlcnJpZGVzID8gb3JpZ2luYWxfc2NvcmUudG9GaXhlZCgxKSArIFwiIOKGkiBcIiArIHNjb3JlLnRvRml4ZWQoMSkgOiBzY29yZS50b0ZpeGVkKDEpIH1cclxuICAgICAgICA8L3RkPlxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBUb3VyQWRtaW5QZXJmb3JtZWRDZWxsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIHRvZ2dsZVN0YXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnJlYWRPbmx5KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG1ldGhvZCA9IHRoaXMucHJvcHMucnVuLnBlcmZvcm1lZFxyXG4gICAgICAgICAgICA/IFwicnVuLm1hcmtfbm90X3BlcmZvcm1lZFwiXHJcbiAgICAgICAgICAgIDogXCJydW4ubWFya19wZXJmb3JtZWRcIjtcclxuICAgICAgICBBcGkobWV0aG9kLCB7IHJ1bl9pZDogdGhpcy5wcm9wcy5ydW4uaWQgfSkuc2VuZCgpO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiA8dGQgY2xhc3NOYW1lPVwicGVyZm9ybWVkXCI+XHJcbiAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcclxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9eyB0aGlzLnByb3BzLnJ1bi5wZXJmb3JtZWQgfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLnRvZ2dsZVN0YXRlLmJpbmQodGhpcykgfSAvPlxyXG4gICAgICAgIDwvdGQ+XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBUb3VyQWRtaW5Cb2R5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuXHJcbiAgICAvLyBJbnRpaWFsaXphdGlvblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIHRvdXI6IG51bGwsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcclxuICAgICAgICB0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlLmdldERvbWFpbihcImp1ZGdpbmdfXCIgKyB0aGlzLnByb3BzLnRvdXJfaWQpO1xyXG4gICAgICAgIHRoaXMucmVsb2FkX2xpc3RlbmVyID0gbWVzc2FnZV9kaXNwYXRjaGVyLmFkZExpc3RlbmVyKFwicmVsb2FkX2RhdGFcIiwgdGhpcy5sb2FkRGF0YS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLmRiX3VwZGF0ZV9saXN0ZW5lciA9IG1lc3NhZ2VfZGlzcGF0Y2hlci5hZGRMaXN0ZW5lcihcImRiX3VwZGF0ZVwiLCB0aGlzLnJlbG9hZEZyb21TdG9yYWdlLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRoaXMubG9hZERhdGEoKTtcclxuICAgIH1cclxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgICAgIG1lc3NhZ2VfZGlzcGF0Y2hlci5yZW1vdmVMaXN0ZW5lcih0aGlzLnJlbG9hZF9saXN0ZW5lcik7XHJcbiAgICAgICAgbWVzc2FnZV9kaXNwYXRjaGVyLnJlbW92ZUxpc3RlbmVyKHRoaXMuZGJfdXBkYXRlX2xpc3RlbmVyKTtcclxuICAgICAgICBzdG9yYWdlLmRlbERvbWFpbihcImp1ZGdpbmdfXCIgKyB0aGlzLnByb3BzLnRvdXJfaWQpO1xyXG4gICAgfVxyXG4gICAgcmVsb2FkRnJvbVN0b3JhZ2UoKSB7XHJcbiAgICAgICAgdmFyIFNDSEVNQSA9IHtcclxuICAgICAgICAgICAgZGlzY2lwbGluZToge1xyXG4gICAgICAgICAgICAgICAgY29tcGV0aXRpb246IHt9LFxyXG4gICAgICAgICAgICAgICAgZGlzY2lwbGluZV9qdWRnZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICBqdWRnZToge30sXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJ1bnM6IHtcclxuICAgICAgICAgICAgICAgIHNjb3Jlczoge30sXHJcbiAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudDoge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2dyYW1zOiB7fSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBzZXJpYWxpemVkID0gdGhpcy5zdG9yYWdlLmdldChcIlRvdXJcIilcclxuICAgICAgICAgICAgLmJ5X2lkKHRoaXMucHJvcHMudG91cl9pZClcclxuICAgICAgICAgICAgLnNlcmlhbGl6ZShTQ0hFTUEpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICB0b3VyOiBzZXJpYWxpemVkXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBsb2FkRGF0YSgpIHtcclxuICAgICAgICBBcGkoXCJ0b3VyLmdldFwiLCB7XHJcbiAgICAgICAgICAgIHRvdXJfaWQ6IHRoaXMucHJvcHMudG91cl9pZCxcclxuICAgICAgICAgICAgY2hpbGRyZW46IHtcclxuICAgICAgICAgICAgICAgIGRpc2NpcGxpbmU6IHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wZXRpdGlvbjoge30sXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzY2lwbGluZV9qdWRnZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAganVkZ2U6IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBydW5zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWNyb2JhdGljczoge30sXHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcmVzOiB7fSxcclxuICAgICAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmFtczoge30sXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hZGRUb0RCKFwiVG91clwiLCB0aGlzLnByb3BzLnRvdXJfaWQsIHRoaXMuc3RvcmFnZSlcclxuICAgICAgICAub25TdWNjZXNzKHRoaXMucmVsb2FkRnJvbVN0b3JhZ2UuYmluZCh0aGlzKSlcclxuICAgICAgICAuc2VuZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIExpc3RlbmVyc1xyXG5cclxuICAgIG9uU2lnbmFsKG1lc3NhZ2UpIHtcclxuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UpIHtcclxuICAgICAgICBjYXNlIFwiaW5pdF90b3VyXCI6XHJcbiAgICAgICAgICAgIHNob3dDb25maXJtKF8oXCJqdWRnaW5nLmNvbmZpcm1zLmluaXRfdG91clwiKSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgQXBpKFwidG91ci5pbml0XCIsIHt0b3VyX2lkOiB0aGlzLnByb3BzLnRvdXJfaWR9KS5vblN1Y2Nlc3MoKCkgPT4gc3dhbC5jbG9zZSgpKS5zZW5kKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwiZmluYWxpemVfdG91clwiOlxyXG4gICAgICAgICAgICBzaG93Q29uZmlybShfKFwianVkZ2luZy5jb25maXJtcy5maW5hbGl6ZV90b3VyXCIpLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBBcGkoXCJ0b3VyLmZpbmFsaXplXCIsIHt0b3VyX2lkOiB0aGlzLnByb3BzLnRvdXJfaWR9KS5vblN1Y2Nlc3MoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3YWwuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnN3aXRjaFBhZ2UoXCJyZXN1bHRzLTFcIik7XHJcbiAgICAgICAgICAgICAgICB9KS5zZW5kKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwic2h1ZmZsZV9oZWF0c1wiOlxyXG4gICAgICAgICAgICBzaG93Q29uZmlybShfKFwianVkZ2luZy5jb25maXJtcy5zaHVmZmxlX2hlYXRzXCIpLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBBcGkoXCJ0b3VyLnNodWZmbGVfaGVhdHNcIiwge3RvdXJfaWQ6IHRoaXMucHJvcHMudG91cl9pZH0pLm9uU3VjY2VzcygoKSA9PiBzd2FsLmNsb3NlKCkpLnNlbmQoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJzdGFydF90b3VyXCI6XHJcbiAgICAgICAgICAgIEFwaShcInRvdXIuc3RhcnRcIiwge3RvdXJfaWQ6IHRoaXMucHJvcHMudG91cl9pZH0pLnNlbmQoKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcInN0b3BfdG91clwiOlxyXG4gICAgICAgICAgICBBcGkoXCJ0b3VyLnN0b3BcIiwge3RvdXJfaWQ6IHRoaXMucHJvcHMudG91cl9pZH0pLnNlbmQoKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlVua25vd24gc2lnbmFsIHJlY2VpdmVkOlwiLCBtZXNzYWdlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSGVscGVyc1xyXG5cclxuICAgIGdldEFjcm9iYXRpY092ZXJyaWRlcygpIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gW107XHJcbiAgICAgICAgdGhpcy5zdGF0ZS50b3VyLnJ1bnMuZm9yRWFjaChmdW5jdGlvbihydW4pIHtcclxuICAgICAgICAgICAgcnVuLmFjcm9iYXRpY3MuZm9yRWFjaChmdW5jdGlvbihhY3JvLCBpZHgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhY3JvLm9yaWdpbmFsX3Njb3JlICE9PSBhY3JvLnNjb3JlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBydW46IHJ1bixcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWNyb19pZHg6IGlkeCArIDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjcm9fZGVzY3JpcHRpb246IGFjcm8uZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlOiBhY3JvLnNjb3JlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbF9zY29yZTogYWNyby5vcmlnaW5hbF9zY29yZSxcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVuZGVyaW5nXHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnRvdXIgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDxMb2FkZXIgLz5cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGRpc2NpcGxpbmVfanVkZ2VzID0gdGhpcy5zdGF0ZS50b3VyLmRpc2NpcGxpbmUuZGlzY2lwbGluZV9qdWRnZXM7XHJcbiAgICAgICAgbGV0IHJvd3MgPSB0aGlzLnN0YXRlLnRvdXIucnVucy5tYXAoZnVuY3Rpb24ocnVuKSB7XHJcbiAgICAgICAgICAgIHJldHVybiA8VG91ckFkbWluU2NvcmVzUm93XHJcbiAgICAgICAgICAgICAgICByZWFkT25seT17IHRoaXMuc3RhdGUudG91ci5maW5hbGl6ZWQgfVxyXG4gICAgICAgICAgICAgICAga2V5PXsgcnVuLmlkIH1cclxuICAgICAgICAgICAgICAgIHJ1bj17IHJ1biB9XHJcbiAgICAgICAgICAgICAgICBzY29yaW5nX3N5c3RlbV9uYW1lPXsgdGhpcy5zdGF0ZS50b3VyLnNjb3Jpbmdfc3lzdGVtX25hbWUgfVxyXG4gICAgICAgICAgICAgICAgZGlzY2lwbGluZV9qdWRnZXM9eyBkaXNjaXBsaW5lX2p1ZGdlcyB9IC8+XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICBsZXQganVkZ2VzX2hlYWRlciA9IGRpc2NpcGxpbmVfanVkZ2VzLm1hcChmdW5jdGlvbihkaXNjaXBsaW5lX2p1ZGdlKSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE86IG1vdmUgcm9sZSBzdGFmZiB0byBzY29yaW5nIHN5c3RlbSBsb2dpY1xyXG4gICAgICAgICAgICByZXR1cm4gPHRoIGNsYXNzTmFtZT1cImp1ZGdlXCIga2V5PXsgZGlzY2lwbGluZV9qdWRnZS5pZCB9PlxyXG4gICAgICAgICAgICAgICAgeyBkaXNjaXBsaW5lX2p1ZGdlLmp1ZGdlLm51bWJlciArIChkaXNjaXBsaW5lX2p1ZGdlLnJvbGUgPT09IFwiYWNyb19qdWRnZVwiID8gXCIqXCIgOiBcIlwiKSB9XHJcbiAgICAgICAgICAgIDwvdGg+O1xyXG4gICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwidG91ci1hZG1pblwiPlxyXG4gICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwiYm9yZGVyZWQtdGFibGVcIj5cclxuICAgICAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJoZWF0XCI+eyBfKFwianVkZ2luZy5sYWJlbHMuaGVhdFwiKSB9PC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cIm51bWJlclwiPnsgXyhcImp1ZGdpbmcubGFiZWxzLm51bWJlclwiKSB9PC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cIm5hbWVcIj57IF8oXCJqdWRnaW5nLmxhYmVscy5wYXJ0aWNpcGFudF9uYW1lXCIpIH08L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwiYWNyb2JhdGljc1wiPnsgXyhcImp1ZGdpbmcubGFiZWxzLmFjcm9iYXRpY3NcIikgfTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJwZXJmb3JtZWRcIj57IF8oXCJqdWRnaW5nLmxhYmVscy5wZXJmb3JtZWRcIikgfTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJ0b3RhbFwiPnsgXyhcImp1ZGdpbmcubGFiZWxzLnRvdGFsX3Njb3JlXCIpIH08L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGp1ZGdlc19oZWFkZXIgfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgeyByb3dzIH1cclxuICAgICAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgXyB9IGZyb20gXCJsMTBuL2xvYWRlclwiO1xyXG5pbXBvcnQgeyBBcGkgfSBmcm9tIFwic2VydmVyL2FwaVwiO1xyXG5pbXBvcnQgeyBzdG9yYWdlIH0gZnJvbSBcInNlcnZlci9zdG9yYWdlXCI7XHJcbmltcG9ydCB7IG1lc3NhZ2VfZGlzcGF0Y2hlciB9IGZyb20gXCJzZXJ2ZXIvbWVzc2FnZV9kaXNwYXRjaGVyXCI7XHJcbmltcG9ydCB7IExvYWRlciB9IGZyb20gXCJ1aS9jb21wb25lbnRzXCI7XHJcbmltcG9ydCB7IFByaW50YWJsZSB9IGZyb20gXCJ1aS9wcmludGFibGVcIjtcclxuaW1wb3J0IHsgRG9jeCB9IGZyb20gXCJjb21tb24vZG9jeFwiO1xyXG5cclxuaW1wb3J0IHJ1bGVfc2V0IGZyb20gXCJydWxlc19zZXRzL2xvYWRlclwiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBUb3VyUmVzdWx0c0J1dHRvbnMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgc2lnbmFsKG1lc3NhZ2UpIHtcclxuICAgICAgICByZXR1cm4gKCgpID0+IHRoaXMucHJvcHMub25TaWduYWwobWVzc2FnZSkpLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIDxkaXY+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCIgb25DbGljaz17IHRoaXMuc2lnbmFsKFwiZG9jeFwiKSB9PlxyXG4gICAgICAgICAgICAgICAgRE9DWFxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFRvdXJSZXN1bHRzQm9keSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcblxyXG4gICAgLy8gSW5pdGlhbGl6YXRpb25cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICB0b3VyOiBudWxsLFxyXG4gICAgICAgICAgICByZXN1bHRzOiBudWxsLFxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLlRPVVJfU0NIRU1BID0ge1xyXG4gICAgICAgICAgICBkaXNjaXBsaW5lOiB7XHJcbiAgICAgICAgICAgICAgICBjb21wZXRpdGlvbjoge30sXHJcbiAgICAgICAgICAgICAgICBkaXNjaXBsaW5lX2p1ZGdlczoge1xyXG4gICAgICAgICAgICAgICAgICAgIGp1ZGdlOiB7fSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJ1bnM6IHtcclxuICAgICAgICAgICAgICAgIGFjcm9iYXRpY3M6IHt9LFxyXG4gICAgICAgICAgICAgICAgc2NvcmVzOiB7fSxcclxuICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2x1Yjoge30sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBjb21wb25lbnRXaWxsTW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy5zdG9yYWdlID0gc3RvcmFnZS5nZXREb21haW4oXCJyZXN1bHRzX1wiICsgdGhpcy5wcm9wcy50b3VyX2lkKTtcclxuICAgICAgICB0aGlzLnJlbG9hZF9saXN0ZW5lciA9IG1lc3NhZ2VfZGlzcGF0Y2hlci5hZGRMaXN0ZW5lcihcInJlbG9hZF9kYXRhXCIsIHRoaXMubG9hZERhdGEuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy5kYl91cGRhdGVfbGlzdGVuZXIgPSBtZXNzYWdlX2Rpc3BhdGNoZXIuYWRkTGlzdGVuZXIoXCJkYl91cGRhdGVcIiwgdGhpcy5yZWxvYWRGcm9tU3RvcmFnZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLnJlc3VsdHNfY2hhbmdlX2xpc3RlbmVyID0gbWVzc2FnZV9kaXNwYXRjaGVyLmFkZExpc3RlbmVyKFwidG91cl9yZXN1bHRzX2NoYW5nZWQgcmVsb2FkX2RhdGFcIiwgZnVuY3Rpb24obWVzc2FnZSkge1xyXG4gICAgICAgICAgICBpZiAoIW1lc3NhZ2UgfHwgbWVzc2FnZS50b3VyX2lkID09PSB0aGlzLnByb3BzLnRvdXJfaWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZFJlc3VsdHMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy5sb2FkRGF0YSgpO1xyXG4gICAgICAgIHRoaXMubG9hZFJlc3VsdHMoKTtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5hdXRvRG9jeCkge1xyXG4gICAgICAgICAgICBsZXQgaW50ZXJ2YWxfaWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWZzLmNvbnRlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZURvY3godGhpcy5wcm9wcy5hdXRvRG9jeC5maWxlbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5hdXRvRG9jeC5jYWxsYmFjayh0aGlzLnByb3BzLmF1dG9Eb2N4LmZpbGVuYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgNTAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcclxuICAgICAgICBtZXNzYWdlX2Rpc3BhdGNoZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5yZWxvYWRfbGlzdGVuZXIpO1xyXG4gICAgICAgIG1lc3NhZ2VfZGlzcGF0Y2hlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmRiX3VwZGF0ZV9saXN0ZW5lcik7XHJcbiAgICAgICAgbWVzc2FnZV9kaXNwYXRjaGVyLnJlbW92ZUxpc3RlbmVyKHRoaXMucmVzdWx0c19jaGFuZ2VfbGlzdGVuZXIpO1xyXG4gICAgICAgIHN0b3JhZ2UuZGVsRG9tYWluKFwicmVzdWx0c19cIiArIHRoaXMucHJvcHMudG91cl9pZCk7XHJcbiAgICB9XHJcbiAgICByZWxvYWRGcm9tU3RvcmFnZSgpIHtcclxuICAgICAgICBsZXQgc2VyaWFsaXplZCA9IHRoaXMuc3RvcmFnZS5nZXQoXCJUb3VyXCIpXHJcbiAgICAgICAgICAgIC5ieV9pZCh0aGlzLnByb3BzLnRvdXJfaWQpXHJcbiAgICAgICAgICAgIC5zZXJpYWxpemUodGhpcy5UT1VSX1NDSEVNQSk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHRvdXI6IHNlcmlhbGl6ZWQsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBsb2FkUmVzdWx0cygpIHtcclxuICAgICAgICBBcGkoXCJ0b3VyLmdldF9yZXN1bHRzXCIsIHt0b3VyX2lkOiB0aGlzLnByb3BzLnRvdXJfaWR9KVxyXG4gICAgICAgIC5vblN1Y2Nlc3MoZnVuY3Rpb24obmV3X3Jlc3VsdHMpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBcInJlc3VsdHNcIjogbmV3X3Jlc3VsdHMsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnJlbG9hZEZyb21TdG9yYWdlKCk7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKVxyXG4gICAgICAgIC5zZW5kKCk7XHJcbiAgICB9XHJcbiAgICBsb2FkRGF0YSgpIHtcclxuICAgICAgICBBcGkoXCJ0b3VyLmdldFwiLCB7IHRvdXJfaWQ6IHRoaXMucHJvcHMudG91cl9pZCwgY2hpbGRyZW46IHRoaXMuVE9VUl9TQ0hFTUF9KVxyXG4gICAgICAgICAgICAuYWRkVG9EQihcIlRvdXJcIiwgdGhpcy5wcm9wcy50b3VyX2lkLCB0aGlzLnN0b3JhZ2UpXHJcbiAgICAgICAgICAgIC5vblN1Y2Nlc3ModGhpcy5yZWxvYWRGcm9tU3RvcmFnZS5iaW5kKHRoaXMpKVxyXG4gICAgICAgICAgICAuc2VuZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIExpc3RlbmVyc1xyXG5cclxuICAgIG9uU2lnbmFsKG1lc3NhZ2UpIHtcclxuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UpIHtcclxuICAgICAgICBjYXNlIFwiZG9jeFwiOlxyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZURvY3goKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJVbmtub3duIG1lc3NhZ2U6XCIsIG1lc3NhZ2UpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbmRlcmluZ1xyXG5cclxuICAgIHJlbmRlck5vbkZpbmFsaXplZFdhcm5pbmcoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLnRvdXIuZmluYWxpemVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiPnsgXyhcInJlc3VsdHMuYWxlcnRzLm5vdF9maW5hbGl6ZWRcIikgfTwvZGl2PlxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlbmRlcigpIHsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVhY3Qvc29ydC1jb21wXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUudG91ciA9PT0gbnVsbCB8fCB0aGlzLnN0YXRlLnJlc3VsdHMgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDxMb2FkZXIgLz5cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHRhYmxlID0gbnVsbDtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy52ZXJib3NpdHkgPT09IFwiM1wiKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IFJlc3VsdHNDb21wb25lbnQgPSBydWxlX3NldC50b3VyX3Jlc3VsdHNfdGFibGVfM1xyXG4gICAgICAgICAgICB0YWJsZSA9IDxSZXN1bHRzQ29tcG9uZW50IHsuLi50aGlzLnN0YXRlfSAvPlxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy52ZXJib3NpdHkgPT09IFwiMlwiKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IFJlc3VsdHNDb21wb25lbnQgPSBydWxlX3NldC50b3VyX3Jlc3VsdHNfdGFibGVfMlxyXG4gICAgICAgICAgICB0YWJsZSA9IDxSZXN1bHRzQ29tcG9uZW50IHsuLi50aGlzLnN0YXRlfSAvPlxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IFJlc3VsdHNDb21wb25lbnQgPSBydWxlX3NldC50b3VyX3Jlc3VsdHNfdGFibGVfMVxyXG4gICAgICAgICAgICB0YWJsZSA9IDxSZXN1bHRzQ29tcG9uZW50IHsuLi50aGlzLnN0YXRlfSAvPlxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJlbmRlcmVkID0gdHJ1ZTtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy50YWJsZU9ubHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwidG91ci1yZXN1bHRzXCIgcmVmPVwiY29udGVudFwiPlxyXG4gICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlck5vbkZpbmFsaXplZFdhcm5pbmcoKSB9XHJcbiAgICAgICAgICAgICAgICB7IHRhYmxlIH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBib2R5ID0gPGRpdiBjbGFzc05hbWU9XCJ0b3VyLXJlc3VsdHMgcC1jb250ZW50XCIgcmVmPVwiY29udGVudFwiPlxyXG4gICAgICAgICAgICB7IHRoaXMucmVuZGVyTm9uRmluYWxpemVkV2FybmluZygpIH1cclxuICAgICAgICAgICAgeyB0YWJsZSB9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMucHJpbnRhYmxlXHJcbiAgICAgICAgICAgID8gPFByaW50YWJsZVxyXG4gICAgICAgICAgICAgICAgcmVmPVwicHJpbnRhYmxlXCJcclxuICAgICAgICAgICAgICAgIGhlYWRlcj17IHRoaXMuc3RhdGUudG91ci5kaXNjaXBsaW5lLmNvbXBldGl0aW9uLm5hbWUgKyBcIiwgXCIgKyB0aGlzLnN0YXRlLnRvdXIuZGlzY2lwbGluZS5jb21wZXRpdGlvbi5kYXRlIH1cclxuICAgICAgICAgICAgICAgIHRpdGxlMT17IF8oXCJhZG1pbi5oZWFkZXJzLnRvdXJfcmVzdWx0c1wiKSB9XHJcbiAgICAgICAgICAgICAgICB0aXRsZTI9eyB0aGlzLnN0YXRlLnRvdXIuZGlzY2lwbGluZS5uYW1lIH1cclxuICAgICAgICAgICAgICAgIHRpdGxlMz17IHRoaXMuc3RhdGUudG91ci5uYW1lIH1cclxuICAgICAgICAgICAgICAgIGJvZHk9eyBib2R5IH0gLz5cclxuICAgICAgICAgICAgOiBib2R5O1xyXG4gICAgfVxyXG4gICAgY3JlYXRlRG9jeChmaWxlbmFtZT1cInRvdXItcmVzdWx0cy5kb2N4XCIpIHtcclxuICAgICAgICBEb2N4KGZpbGVuYW1lKVxyXG4gICAgICAgICAgICAuc2V0TWFyZ2lucyhbMTAsIDEwLCAxNSwgMTBdKVxyXG4gICAgICAgICAgICAuc2V0SGVhZGVyKHRoaXMuc3RhdGUudG91ci5kaXNjaXBsaW5lLmNvbXBldGl0aW9uLm5hbWUgKyBcIiwgXCIgKyB0aGlzLnN0YXRlLnRvdXIuZGlzY2lwbGluZS5jb21wZXRpdGlvbi5kYXRlKVxyXG4gICAgICAgICAgICAuc2V0VGl0bGUxKF8oXCJhZG1pbi5oZWFkZXJzLnRvdXJfcmVzdWx0c1wiKSlcclxuICAgICAgICAgICAgLnNldFRpdGxlMih0aGlzLnN0YXRlLnRvdXIuZGlzY2lwbGluZS5uYW1lKVxyXG4gICAgICAgICAgICAuc2V0VGl0bGUzKHRoaXMuc3RhdGUudG91ci5uYW1lKVxyXG4gICAgICAgICAgICAuc2V0Qm9keShSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLnJlZnMuY29udGVudCkuaW5uZXJIVE1MKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIuYm9yZGVyZWQtdGFibGVcIiwgXCJmb250LXNpemVcIiwgdGhpcy5wcm9wcy52ZXJib3NpdHkgPT09IFwiMVwiID8gXCIxMnB0XCIgOiBcIjlwdFwiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIuYm9yZGVyZWQtdGFibGUgLmFjcm8tdGFibGUgdGRcIiwgXCJmb250LXNpemVcIiwgXCI5cHRcIilcclxuICAgICAgICAgICAgLmFkZFN0eWxlKFwiLmJvcmRlcmVkLXRhYmxlIC5hY3JvLXRhYmxlIHRkXCIsIFwicGFkZGluZ1wiLCBcIjAgM3B0XCIpXHJcbiAgICAgICAgICAgIC5hZGRTdHlsZShcIi5ib3JkZXJlZC10YWJsZSAuYWNyby10YWJsZSB0ZFwiLCBcImJvcmRlclwiLCBcIjAuNXB0IHNvbGlkIGJsYWNrXCIpXHJcbiAgICAgICAgICAgIC5hZGRTdHlsZShcIi5ib3JkZXJlZC10YWJsZSAuc2NvcmUtYnJlYWtkb3duIHRkLCAuYm9yZGVyZWQtdGFibGUgLnNjb3JlLWJyZWFrZG93biB0aFwiLCBcImZvbnQtc2l6ZVwiLCBcIjlwdFwiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIuYm9yZGVyZWQtdGFibGUgLnNjb3JlLWJyZWFrZG93biB0ZCwgLmJvcmRlcmVkLXRhYmxlIC5zY29yZS1icmVha2Rvd24gdGhcIiwgXCJib3JkZXJcIiwgXCJub25lXCIpXHJcbiAgICAgICAgICAgIC5hZGRTdHlsZShcIi5ib3JkZXJlZC10YWJsZSAuc2NvcmUtYnJlYWtkb3duIHRoXCIsIFwicGFkZGluZ1wiLCBcIjAgMXB0IDAgMFwiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIuYm9yZGVyZWQtdGFibGUgLnNjb3JlLWJyZWFrZG93biB0ZFwiLCBcInBhZGRpbmdcIiwgXCIwIDAgMCAxcHRcIilcclxuICAgICAgICAgICAgLmFkZFN0eWxlKFwiLnNjb3JlLWJyZWFrZG93biB0aFwiLCBcInRleHQtYWxpZ25cIiwgXCJyaWdodFwiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIuc2NvcmUtYnJlYWtkb3duIHRkXCIsIFwidGV4dC1hbGlnblwiLCBcImxlZnRcIilcclxuICAgICAgICAgICAgLmFkZFN0eWxlKFwiLnNjb3JlLWJyZWFrZG93biB0ZFwiLCBcInRleHQtYWxpZ25cIiwgXCJsZWZ0XCIpXHJcbiAgICAgICAgICAgIC5hZGRTdHlsZShcIi5zY29yZS1icmVha2Rvd25cIiwgXCJ3aWR0aFwiLCBcIjUwcHRcIilcclxuICAgICAgICAgICAgLmFkZFN0eWxlKFwiLmFkdmFuY2VzLWhlYWRlclwiLCBcImJhY2tncm91bmQtY29sb3JcIiwgXCIjZGRkXCIpXHJcbiAgICAgICAgICAgIC5hZGRTdHlsZShcIi50b3RhbC1zY29yZVwiLCBcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIuaGVhZF9qdWRnZVwiLCBcIndpZHRoXCIsIFwiNSVcIilcclxuICAgICAgICAgICAgLmFkZFN0eWxlKFwiLmRhbmNlX2p1ZGdlXCIsIFwid2lkdGhcIiwgXCI4JVwiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIuYWNyb19qdWRnZVwiLCBcIndpZHRoXCIsIFwiOCVcIilcclxuICAgICAgICAgICAgLnNhdmUoKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBfIH0gZnJvbSBcImwxMG4vbG9hZGVyXCI7XHJcbmltcG9ydCB7IEFwaSB9IGZyb20gXCJzZXJ2ZXIvYXBpXCI7XHJcbmltcG9ydCB7IHN0b3JhZ2UgfSBmcm9tIFwic2VydmVyL3N0b3JhZ2VcIjtcclxuaW1wb3J0IHsgbWVzc2FnZV9kaXNwYXRjaGVyIH0gZnJvbSBcInNlcnZlci9tZXNzYWdlX2Rpc3BhdGNoZXJcIjtcclxuaW1wb3J0IHsgTWFuYWdlbWVudCB9IGZyb20gXCIuL21hbmFnZW1lbnQvbWFpblwiO1xyXG5pbXBvcnQgeyBKdWRnaW5nIH0gZnJvbSBcIi4vanVkZ2luZy9tYWluXCI7XHJcbmltcG9ydCB7IFNlcnZpY2UgfSBmcm9tIFwiLi9zZXJ2aWNlL21haW5cIjtcclxuaW1wb3J0IHsgTG9hZGVyIH0gZnJvbSBcInVpL2NvbXBvbmVudHNcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgQWRtaW4gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG5cclxuICAgIC8vIEludGlhbGl6YXRpb25cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBhY3RpdmVfYXBwOiB0aGlzLmdldEFjdGl2ZUFwcEZyb21IYXNoKCksXHJcbiAgICAgICAgICAgIG5hbWU6IG51bGwsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBtZXNzYWdlX2Rpc3BhdGNoZXIuYWRkTGlzdGVuZXIoXCJkYl91cGRhdGVcIiwgdGhpcy5yZWxvYWRGcm9tU3RvcmFnZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICBtZXNzYWdlX2Rpc3BhdGNoZXIuYWRkTGlzdGVuZXIoXCJyZWxvYWRfZGF0YVwiLCB0aGlzLmxvYWREYXRhLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRoaXMubG9hZERhdGEoKTtcclxuICAgIH1cclxuICAgIHJlbG9hZEZyb21TdG9yYWdlKCkge1xyXG4gICAgICAgIHZhciBTQ0hFTUEgPSB7XHJcbiAgICAgICAgICAgIGNsdWJzOiB7fSxcclxuICAgICAgICAgICAganVkZ2VzOiB7fSxcclxuICAgICAgICAgICAgcGxhbjoge30sXHJcbiAgICAgICAgICAgIGRpc2NpcGxpbmVzOiB7XHJcbiAgICAgICAgICAgICAgICBkaXNjaXBsaW5lX2p1ZGdlczoge1xyXG4gICAgICAgICAgICAgICAgICAgIGp1ZGdlOiB7fSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB0b3Vyczoge30sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKFxyXG4gICAgICAgICAgICBzdG9yYWdlLmdldChcIkNvbXBldGl0aW9uXCIpXHJcbiAgICAgICAgICAgICAgICAuYnlfaWQodGhpcy5wcm9wcy5jb21wZXRpdGlvbl9pZClcclxuICAgICAgICAgICAgICAgIC5zZXJpYWxpemUoU0NIRU1BKSk7XHJcbiAgICB9XHJcbiAgICBsb2FkRGF0YSgpIHtcclxuICAgICAgICBBcGkoXCJjb21wZXRpdGlvbi5nZXRcIiwge1xyXG4gICAgICAgICAgICBjb21wZXRpdGlvbl9pZDogdGhpcy5wcm9wcy5jb21wZXRpdGlvbl9pZCxcclxuICAgICAgICAgICAgY2hpbGRyZW46IHtcclxuICAgICAgICAgICAgICAgIGNsdWJzOiB7fSxcclxuICAgICAgICAgICAgICAgIGp1ZGdlczoge30sXHJcbiAgICAgICAgICAgICAgICBwbGFuOiB7fSxcclxuICAgICAgICAgICAgICAgIGRpc2NpcGxpbmVzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzY2lwbGluZV9qdWRnZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAganVkZ2U6IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdG91cnM6IHt9LFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYWRkVG9EQihcIkNvbXBldGl0aW9uXCIsIHRoaXMucHJvcHMuY29tcGV0aXRpb25faWQpXHJcbiAgICAgICAgLm9uU3VjY2Vzcyh0aGlzLnJlbG9hZEZyb21TdG9yYWdlLmJpbmQodGhpcykpXHJcbiAgICAgICAgLnNlbmQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBOYXZpZ2F0aW9uXHJcblxyXG4gICAgc2V0QXBwKGFwcCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBhY3RpdmVfYXBwOiBhcHAsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBcIiNcIiArIGFwcDtcclxuICAgIH1cclxuICAgIGdldEFjdGl2ZUFwcEZyb21IYXNoKGFwcCkge1xyXG4gICAgICAgIGxldCBjaHVua3MgPSB3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHIoMSkuc3BsaXQoXCIvXCIpO1xyXG4gICAgICAgIGlmIChjaHVua3NbMF0gJiYgW1wianVkZ2luZ1wiLCBcIm1hbmFnZW1lbnRcIiwgXCJzZXJ2aWNlXCJdLmluZGV4T2YoY2h1bmtzWzBdKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjaHVua3NbMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBcIm1hbmFnZW1lbnRcIjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZW5kZXJpbmdcclxuXHJcbiAgICByZW5kZXJBY3RpdmVBcHAoKSB7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlLmFjdGl2ZV9hcHApIHtcclxuICAgICAgICBjYXNlIFwianVkZ2luZ1wiOlxyXG4gICAgICAgICAgICByZXR1cm4gPEp1ZGdpbmdcclxuICAgICAgICAgICAgICAgIGNvbXBldGl0aW9uX3BsYW49eyB0aGlzLnN0YXRlLnBsYW4gfVxyXG4gICAgICAgICAgICAgICAgZGlzY2lwbGluZXM9eyB0aGlzLnN0YXRlLmRpc2NpcGxpbmVzIH0gLz47XHJcbiAgICAgICAgY2FzZSBcIm1hbmFnZW1lbnRcIjpcclxuICAgICAgICAgICAgcmV0dXJuIDxNYW5hZ2VtZW50XHJcbiAgICAgICAgICAgICAgICBkaXNjaXBsaW5lcz17IHRoaXMuc3RhdGUuZGlzY2lwbGluZXMgfVxyXG4gICAgICAgICAgICAgICAgY2x1YnM9eyB0aGlzLnN0YXRlLmNsdWJzIH1cclxuICAgICAgICAgICAgICAgIGp1ZGdlcz17IHRoaXMuc3RhdGUuanVkZ2VzIH1cclxuICAgICAgICAgICAgICAgIGNvbXBldGl0aW9uX3BsYW49eyB0aGlzLnN0YXRlLnBsYW4gfVxyXG4gICAgICAgICAgICAgICAgY29tcGV0aXRpb25fbmFtZT17IHRoaXMuc3RhdGUubmFtZSB9XHJcbiAgICAgICAgICAgICAgICBjb21wZXRpdGlvbl9kYXRlPXsgdGhpcy5zdGF0ZS5kYXRlIH1cclxuICAgICAgICAgICAgICAgIGNvbXBldGl0aW9uX2lkPXsgdGhpcy5wcm9wcy5jb21wZXRpdGlvbl9pZCB9XHJcbiAgICAgICAgICAgICAgICBydWxlc19zZXQ9eyB0aGlzLnN0YXRlLnJ1bGVzX3NldCB9IC8+O1xyXG4gICAgICAgIGNhc2UgXCJzZXJ2aWNlXCI6XHJcbiAgICAgICAgICAgIHJldHVybiA8U2VydmljZVxyXG4gICAgICAgICAgICAgICAgY29tcGV0aXRpb25faWQ9eyB0aGlzLnByb3BzLmNvbXBldGl0aW9uX2lkIH1cclxuICAgICAgICAgICAgICAgIGRpc2NpcGxpbmVzPXsgdGhpcy5zdGF0ZS5kaXNjaXBsaW5lcyB9IC8+XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLm5hbWUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDxMb2FkZXIgLz47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIndyYXBwZXJcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkZXJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FwdGlvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHsgdGhpcy5zdGF0ZS5uYW1lIH0gKHt0aGlzLnN0YXRlLmRhdGV9KVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvZHlcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGVmdC1jb2wgbm9zZWxlY3RcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17IFwiYnV0dG9uXCIgKyAodGhpcy5zdGF0ZS5hY3RpdmVfYXBwID09PSBcIm1hbmFnZW1lbnRcIiA/IFwiIGFjdGl2ZVwiIDogXCJcIikgfSBvbkNsaWNrPXsgdGhpcy5zZXRBcHAuYmluZCh0aGlzLCBcIm1hbmFnZW1lbnRcIikgfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpY29uXCI+TTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxhYmVsXCI+TWFuYWdlbWVudDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXsgXCJidXR0b25cIiArICh0aGlzLnN0YXRlLmFjdGl2ZV9hcHAgPT09IFwianVkZ2luZ1wiID8gXCIgYWN0aXZlXCIgOiBcIlwiKSB9IG9uQ2xpY2s9eyB0aGlzLnNldEFwcC5iaW5kKHRoaXMsIFwianVkZ2luZ1wiKSB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImljb25cIj5KPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGFiZWxcIj5KdWRnaW5nPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9eyBcImJ1dHRvblwiICsgKHRoaXMuc3RhdGUuYWN0aXZlX2FwcCA9PT0gXCJzZXJ2aWNlXCIgPyBcIiBhY3RpdmVcIiA6IFwiXCIpIH0gb25DbGljaz17IHRoaXMuc2V0QXBwLmJpbmQodGhpcywgXCJzZXJ2aWNlXCIpIH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaWNvblwiPlM8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsYWJlbFwiPlNlcnZpY2U8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlclwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm90dG9tLWNlbGxcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwiYnRuLWJhY2tcIiBocmVmPVwiL1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBfKFwiYWRtaW4uYnV0dG9ucy50b19zdGFydF9wYWdlXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyQWN0aXZlQXBwKCkgfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBfIH0gZnJvbSBcImwxMG4vbG9hZGVyXCI7XHJcbmltcG9ydCB7IEFwaSB9IGZyb20gXCJzZXJ2ZXIvYXBpXCI7XHJcbmltcG9ydCB7IHNob3dDb25maXJtIH0gZnJvbSBcInVpL2RpYWxvZ3NcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgQ2x1YnMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgY3JlYXRpbmc6IGZhbHNlLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlbmRlclRhYmxlKCkge1xyXG4gICAgICAgIGxldCByb3dzID0gdGhpcy5wcm9wcy5jbHVicy5tYXAoZnVuY3Rpb24oY2x1Yikge1xyXG4gICAgICAgICAgICByZXR1cm4gPENsdWJSb3dcclxuICAgICAgICAgICAgICAgIGtleT17IGNsdWIuaWQgfVxyXG4gICAgICAgICAgICAgICAgY2x1Yj17IGNsdWIgfSAvPjtcclxuICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1hbmFnZS1jbHVic1wiPlxyXG4gICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwidGFibGUgdGFibGUtc3RyaXBlZFwiPlxyXG4gICAgICAgICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cIm5hbWVcIj57IF8oXCJtb2RlbHMuY2x1Yi5uYW1lXCIpIH08L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwiY2l0eVwiPnsgXyhcIm1vZGVscy5jbHViLmNpdHlcIikgfTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJleHRlcm5hbC1pZFwiPnsgXyhcIm1vZGVscy5jbHViLmV4dGVybmFsX2lkXCIpIH08L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwiZGVsZXRlXCI+PC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgIHsgcm93cyB9XHJcbiAgICAgICAgICAgICAgICAgICAgPENsdWJDcmVhdGlvblJvdyBjb21wZXRpdGlvbl9pZD17IHRoaXMucHJvcHMuY29tcGV0aXRpb25faWQgfSAvPlxyXG4gICAgICAgICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJhcHAtY29udGVudFwiPlxyXG4gICAgICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImFwcC1oZWFkZXJcIj5cclxuICAgICAgICAgICAgICAgIDxoMT57IF8oXCJhZG1pbi5oZWFkZXJzLmNsdWJzX21hbmFnZW1lbnRcIikgfTwvaDE+XHJcbiAgICAgICAgICAgIDwvaGVhZGVyPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFwcC1ib2R5XCI+XHJcbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyVGFibGUoKSB9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PjtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgQ2x1YkVkaXRvclJvdyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBzZXJ0aWFsaXplKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuX25hbWUudmFsdWUsXHJcbiAgICAgICAgICAgIGNpdHk6IHRoaXMuX2NpdHkudmFsdWUsXHJcbiAgICAgICAgICAgIGV4dGVybmFsX2lkOiB0aGlzLl9leHRlcm5hbF9pZC52YWx1ZSxcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvblN1Ym1pdChldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLm5ld0NsdWIpIHtcclxuICAgICAgICAgICAgQXBpKFwiY2x1Yi5zZXRcIiwge1xyXG4gICAgICAgICAgICAgICAgY2x1Yl9pZDogdGhpcy5wcm9wcy5jbHViLmlkLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogdGhpcy5zZXJ0aWFsaXplKCksXHJcbiAgICAgICAgICAgIH0pLm9uU3VjY2Vzcyh0aGlzLnByb3BzLnN0b3BFZGl0aW5nKS5zZW5kKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgQXBpKFwiY2x1Yi5jcmVhdGVcIiwge1xyXG4gICAgICAgICAgICAgICAgY29tcGV0aXRpb25faWQ6IHRoaXMucHJvcHMuY29tcGV0aXRpb25faWQsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB0aGlzLnNlcnRpYWxpemUoKSxcclxuICAgICAgICAgICAgfSkub25TdWNjZXNzKHRoaXMucHJvcHMuc3RvcEVkaXRpbmcpLnNlbmQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIDx0ciBjbGFzc05hbWU9eyBcImVkaXRvclwiICsgKHRoaXMucHJvcHMubmV3Q2x1YiA/IFwiIGNyZWF0ZVwiIDogXCJcIiApIH0+XHJcbiAgICAgICAgICAgIDx0ZCBjb2xTcGFuPVwiNFwiPlxyXG4gICAgICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9eyB0aGlzLm9uU3VibWl0LmJpbmQodGhpcykgfT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd3NcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZ1bGwtd2lkdGhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IF8oXCJtb2RlbHMuY2x1Yi5uYW1lXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXsgZnVuY3Rpb24oZSkgeyBpZiAoZSkgeyBlLnNlbGVjdCgpOyB0aGlzLl9uYW1lID0gZTsgfSB9LmJpbmQodGhpcykgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmdWxsLXdpZHRoXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXsgdGhpcy5wcm9wcy5jbHViLm5hbWUgfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmdWxsLXdpZHRoXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBfKFwibW9kZWxzLmNsdWIuY2l0eVwiKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17IChlKSA9PiBlICYmICh0aGlzLl9jaXR5ID0gZSkgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmdWxsLXdpZHRoXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXsgdGhpcy5wcm9wcy5jbHViLmNpdHkgfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmdWxsLXdpZHRoXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBfKFwibW9kZWxzLmNsdWIuZXh0ZXJuYWxfaWRcIikgfTxiciAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9eyAoZSkgPT4gZSAmJiAodGhpcy5fZXh0ZXJuYWxfaWQgPSBlKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17IHRoaXMucHJvcHMuY2x1Yi5leHRlcm5hbF9pZCB9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXR0b25zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCI+eyBfKFwiZ2xvYmFsLmJ1dHRvbnMuc3VibWl0XCIpIH08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRhbmdlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyB0aGlzLnByb3BzLnN0b3BFZGl0aW5nIH0+eyBfKFwiZ2xvYmFsLmJ1dHRvbnMuZGlzY2FyZFwiKSB9PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgPC90cj5cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgQ2x1YlJvdyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBlZGl0aW5nOiBmYWxzZSxcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdGFydEVkaXRpbmcoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGVkaXRpbmc6IHRydWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBzdG9wRWRpdGluZygpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZWRpdGluZzogZmFsc2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBvbkRlbGV0ZShldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIHNob3dDb25maXJtKF8oXCJhZG1pbi5jb25maXJtcy5kZWxldGVfY2x1YlwiKSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBBcGkoXCJjbHViLmRlbGV0ZVwiLCB7XHJcbiAgICAgICAgICAgICAgICBjbHViX2lkOiB0aGlzLnByb3BzLmNsdWIuaWQsXHJcbiAgICAgICAgICAgIH0pLm9uU3VjY2VzcygoKSA9PiBzd2FsLmNsb3NlKCkpLnNlbmQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJlbmRlckVkaXRvcigpIHtcclxuICAgICAgICByZXR1cm4gPENsdWJFZGl0b3JSb3dcclxuICAgICAgICAgICAgbmV3Q2x1Yj17IGZhbHNlIH1cclxuICAgICAgICAgICAgc3RvcEVkaXRpbmc9eyB0aGlzLnN0b3BFZGl0aW5nLmJpbmQodGhpcykgfVxyXG4gICAgICAgICAgICB7IC4uLnRoaXMucHJvcHMgfSAvPlxyXG4gICAgfVxyXG4gICAgcmVuZGVyVmlld2VyKCkge1xyXG4gICAgICAgIGxldCBjID0gdGhpcy5wcm9wcy5jbHViO1xyXG4gICAgICAgIHJldHVybiA8dHIgY2xhc3NOYW1lPVwidmlld2VyXCIgb25DbGljaz17IHRoaXMuc3RhcnRFZGl0aW5nLmJpbmQodGhpcykgfT5cclxuICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm5hbWVcIj57IGMubmFtZSB9PC90ZD5cclxuICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cImNpdHlcIj57IGMuY2l0eSB9PC90ZD5cclxuICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cImV4dGVybmFsLWlkXCI+eyBjLmV4dGVybmFsX2lkIH08L3RkPlxyXG4gICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwiZGVsZXRlXCI+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tZGFuZ2VyXCIgb25DbGljaz17IHRoaXMub25EZWxldGUuYmluZCh0aGlzKSB9Plg8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICA8L3RyPjtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5lZGl0aW5nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlckVkaXRvcigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlclZpZXdlcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgQ2x1YkNyZWF0aW9uUm93IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGVkaXRpbmc6IGZhbHNlLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN0YXJ0RWRpdGluZygpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZWRpdGluZzogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHN0b3BFZGl0aW5nKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBlZGl0aW5nOiBmYWxzZSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJlbmRlckVkaXRvcigpIHtcclxuICAgICAgICBsZXQgZW1wdHlfZGF0YSA9IHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiXCIsXHJcbiAgICAgICAgICAgIFwiY2l0eVwiOiBcIlwiLFxyXG4gICAgICAgICAgICBcImV4dGVybmFsX2lkXCI6IFwiXCIsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiA8Q2x1YkVkaXRvclJvd1xyXG4gICAgICAgICAgICBuZXdDbHViXHJcbiAgICAgICAgICAgIHN0b3BFZGl0aW5nPXsgdGhpcy5zdG9wRWRpdGluZy5iaW5kKHRoaXMpIH1cclxuICAgICAgICAgICAgY2x1Yj17IGVtcHR5X2RhdGEgfVxyXG4gICAgICAgICAgICB7IC4uLnRoaXMucHJvcHMgfSAvPjtcclxuICAgIH1cclxuICAgIHJlbmRlckJ1dHRvbigpIHtcclxuICAgICAgICByZXR1cm4gPHRyPjx0ZCBjb2xTcGFuPVwiNFwiPlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBmdWxsLXdpZHRoXCJcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyB0aGlzLnN0YXJ0RWRpdGluZy5iaW5kKHRoaXMpIH0+eyBfKFwiYWRtaW4uYnV0dG9ucy5hZGRfY2x1YlwiKSB9PC9idXR0b24+XHJcbiAgICAgICAgPC90ZD48L3RyPlxyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmVkaXRpbmcgPyB0aGlzLnJlbmRlckVkaXRvcigpIDogdGhpcy5yZW5kZXJCdXR0b24oKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBfIH0gZnJvbSBcImwxMG4vbG9hZGVyXCI7XHJcbmltcG9ydCB7IEFwaSB9IGZyb20gXCJzZXJ2ZXIvYXBpXCI7XHJcbmltcG9ydCB7IERvY3ggfSBmcm9tIFwiY29tbW9uL2RvY3hcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgQ29tcGV0aXRpb25QbGFuIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGNyZWF0aW5nOiBmYWxzZSxcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZW5Ub3VycygpIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gW107XHJcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNjaXBsaW5lcy5mb3JFYWNoKChkaXNjaXBsaW5lKSA9PlxyXG4gICAgICAgICAgICBkaXNjaXBsaW5lLnRvdXJzLmZvckVhY2goKHRvdXIpID0+XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHRvdXIuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogYCR7ZGlzY2lwbGluZS5uYW1lfSDigJQgJHt0b3VyLm5hbWV9YCxcclxuICAgICAgICAgICAgICAgICAgICBkaXNjaXBsaW5lX2lkOiBkaXNjaXBsaW5lLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2NpcGxpbmVfbmFtZTogZGlzY2lwbGluZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvdXJfbmFtZTogdG91ci5uYW1lLFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIClcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gICAgcmVuZGVyVGFibGUodG91cnMpIHtcclxuICAgICAgICBsZXQgdG91cnNfY291bnQgPSB7fTtcclxuICAgICAgICBsZXQgdG91cnNfaW5kZXggPSB7fTtcclxuICAgICAgICBsZXQgZGlzY2lwbGluZXNfaW5kZXggPSB7fTtcclxuICAgICAgICB0b3Vycy5mb3JFYWNoKCh0b3VyKSA9PiB0b3Vyc19pbmRleFt0b3VyLmlkXSA9IHRvdXIpO1xyXG4gICAgICAgIHRoaXMucHJvcHMuaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXRlbS50b3VyX2lkKSB7XHJcbiAgICAgICAgICAgICAgICB0b3Vyc19jb3VudFtpdGVtLnRvdXJfaWRdID0gdG91cnNfY291bnRbaXRlbS50b3VyX2lkXSA/IHRvdXJzX2NvdW50W2l0ZW0udG91cl9pZF0gKyAxIDogMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxldCBkaXNjaXBsaW5lX2N1cnNvcnMgPSB7fTtcclxuICAgICAgICB0aGlzLnByb3BzLmRpc2NpcGxpbmVzLmZvckVhY2goKGRpc2NpcGxpbmUpID0+IGRpc2NpcGxpbmVfY3Vyc29yc1tkaXNjaXBsaW5lLmlkXSA9IDApO1xyXG4gICAgICAgIHRoaXMucHJvcHMuZGlzY2lwbGluZXMuZm9yRWFjaCgoZGlzY2lwbGluZSkgPT4gZGlzY2lwbGluZXNfaW5kZXhbZGlzY2lwbGluZS5pZF0gPSBkaXNjaXBsaW5lKTtcclxuICAgICAgICBsZXQgcm93cyA9IHRoaXMucHJvcHMuaXRlbXMubWFwKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBlcnJvciA9ICh0b3Vyc19jb3VudFtpdGVtLnRvdXJfaWRdIHx8IDApID4gMjtcclxuICAgICAgICAgICAgaWYgKGl0ZW0udG91cl9pZCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGRpc2NpcGxpbmVfaWQgPSB0b3Vyc19pbmRleFtpdGVtLnRvdXJfaWRdLmRpc2NpcGxpbmVfaWQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgdG91cl9pZHggPSBkaXNjaXBsaW5lX2N1cnNvcnNbZGlzY2lwbGluZV9pZF07XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRpc2NpcGxpbmVzX2luZGV4W2Rpc2NpcGxpbmVfaWRdLnRvdXJzW3RvdXJfaWR4XSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnRvdXJfaWQgIT09IGRpc2NpcGxpbmVzX2luZGV4W2Rpc2NpcGxpbmVfaWRdLnRvdXJzW3RvdXJfaWR4XS5pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNjaXBsaW5lc19pbmRleFtkaXNjaXBsaW5lX2lkXS50b3Vycy5mb3JFYWNoKCh0b3VyLCBpZHgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvdXIuaWQgPT09IGl0ZW0udG91cl9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG91cl9pZHggPSBpZHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRpc2NpcGxpbmVfY3Vyc29yc1tkaXNjaXBsaW5lX2lkXSA9IHRvdXJfaWR4ICsgMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gPENvbXBldGl0aW9uUGxhbkl0ZW1Sb3dcclxuICAgICAgICAgICAgICAgIGtleT17IGl0ZW0uaWQgfVxyXG4gICAgICAgICAgICAgICAgZXJyb3I9eyBlcnJvciB9XHJcbiAgICAgICAgICAgICAgICB0b3Vycz17IHRvdXJzIH1cclxuICAgICAgICAgICAgICAgIGl0ZW09eyBpdGVtIH0gLz47XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGV0IHVucGlja2VkX3RvdXJzID0gdG91cnMuZmlsdGVyKCh0b3VyKSA9PiAhdG91cnNfY291bnRbdG91ci5pZF0pO1xyXG4gICAgICAgIGxldCB1bnBpY2tlZF90b3Vyc19odG1sID0gIXVucGlja2VkX3RvdXJzLmxlbmd0aCA/IG51bGwgOlxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPGg0PnsgXyhcImFkbWluLmhlYWRlcnMudW5waWNrZWRfdG91cnNcIikgfTwvaDQ+XHJcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwidW5waWNrZWQtdG91cnNcIj5cclxuICAgICAgICAgICAgICAgICAgICB7IHVucGlja2VkX3RvdXJzLm1hcCgodG91cikgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cIml0ZW1cIiBrZXk9eyB0b3VyLmlkIH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRvdXIubmFtZSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgKSB9XHJcbiAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICA8L2Rpdj47XHJcbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibWFuYWdlLWNvbXBldGl0aW9uLXBsYW5cIj5cclxuICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cInRhYmxlIHRhYmxlLXN0cmlwZWRcIj5cclxuICAgICAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJzcFwiPnsgXyhcIm1vZGVscy5jb21wZXRpdGlvbl9wbGFuX2l0ZW0uc3BcIikgfTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJkaXNjaXBsaW5lXCI+eyBfKFwibW9kZWxzLmNvbXBldGl0aW9uX3BsYW5faXRlbS5kaXNjaXBsaW5lXCIpIH08L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwidG91clwiPnsgXyhcIm1vZGVscy5jb21wZXRpdGlvbl9wbGFuX2l0ZW0udG91clwiKSB9PC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cImVzdGltYXRlZF9iZWdpbm5pbmdcIj57IF8oXCJtb2RlbHMuY29tcGV0aXRpb25fcGxhbl9pdGVtLmVzdGltYXRlZF9iZWdpbm5pbmdcIikgfTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJlc3RpbWF0ZWRfZHVyYXRpb25cIj57IF8oXCJtb2RlbHMuY29tcGV0aXRpb25fcGxhbl9pdGVtLmVzdGltYXRlZF9kdXJhdGlvblwiKSB9PC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cImRlbGV0ZVwiPjwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICB7IHJvd3MgfVxyXG4gICAgICAgICAgICAgICAgICAgIDxDb21wZXRpdGlvblBsYW5JdGVtQ3JlYXRpb25Sb3cgY29tcGV0aXRpb25faWQ9eyB0aGlzLnByb3BzLmNvbXBldGl0aW9uX2lkIH0gdG91cnM9eyB0b3VycyB9IC8+XHJcbiAgICAgICAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgICAgICB7IHVucGlja2VkX3RvdXJzX2h0bWwgfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkgeyAgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC9zb3J0LWNvbXBcclxuICAgICAgICBjb25zdCB0b3VycyA9IHRoaXMuZ2VuVG91cnMoKTtcclxuICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJhcHAtY29udGVudFwiPlxyXG4gICAgICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImFwcC1oZWFkZXJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbHNcIj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiIG9uQ2xpY2s9eyAoKSA9PiB0aGlzLmNyZWF0ZURvY3goKSB9IGtleT1cImJ0bi1pbml0LXRvdXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgRE9DWFxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8aDE+eyBfKFwiYWRtaW4uaGVhZGVycy5jb21wZXRpdGlvbl9wbGFuX21hbmFnZW1lbnRcIikgfTwvaDE+XHJcbiAgICAgICAgICAgIDwvaGVhZGVyPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFwcC1ib2R5XCI+XHJcbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyVGFibGUodG91cnMpIH1cclxuICAgICAgICAgICAgICAgIDxQcmludGFibGVDb21wZXRpdGlvblBsYW4gcmVmPVwicHJpbnRhYmxlX2NvbXBldGl0aW9uX3BsYW5cIiB0b3Vycz17IHRvdXJzIH0gey4uLnRoaXMucHJvcHN9IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PjtcclxuICAgIH1cclxuICAgIGNyZWF0ZURvY3goZmlsZW5hbWU9XCJwcm9ncmFtLmRvY3hcIikge1xyXG4gICAgICAgIERvY3goZmlsZW5hbWUpXHJcbiAgICAgICAgICAgIC5zZXRNYXJnaW5zKFsxMCwgMTUsIDEwLCAxNV0pXHJcbiAgICAgICAgICAgIC5zZXRIZWFkZXIodGhpcy5wcm9wcy5jb21wZXRpdGlvbl9uYW1lICsgXCIsIFwiICsgdGhpcy5wcm9wcy5jb21wZXRpdGlvbl9kYXRlKVxyXG4gICAgICAgICAgICAuc2V0VGl0bGUxKF8oXCJhZG1pbi5oZWFkZXJzLmNvbXBldGl0aW9uX3BsYW5cIikpXHJcbiAgICAgICAgICAgIC5zZXRCb2R5KFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmcy5wcmludGFibGVfY29tcGV0aXRpb25fcGxhbikuaW5uZXJIVE1MKVxyXG4gICAgICAgICAgICAuc2F2ZSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBQcmludGFibGVDb21wZXRpdGlvblBsYW5Sb3cgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgcmVuZGVyTmFtZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5pdGVtLnZlcmJvc2VfbmFtZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gPHRkIGNvbFNwYW49XCIyXCI+PHA+PHN0cm9uZz57IHRoaXMucHJvcHMuaXRlbS52ZXJib3NlX25hbWUgfTwvc3Ryb25nPjwvcD48L3RkPlxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5pdGVtLnRvdXJfaWQpIHtcclxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IFwiXCI7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMudG91cnMuZm9yRWFjaCgodG91cikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRvdXIuaWQgPT09IHRoaXMucHJvcHMuaXRlbS50b3VyX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdG91cjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgcmV0dXJuIFs8dGQga2V5PVwiRFwiPjxwPnsgcmVzdWx0LmRpc2NpcGxpbmVfbmFtZSB9PC9wPjwvdGQ+LFxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZCBrZXk9XCJUXCI+PHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj57IHJlc3VsdC50b3VyX25hbWUgfTwvcD48L3RkPl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiA8dGQgY29sU3Bhbj1cIjJcIj48cD48L3A+PC90ZD5cclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gPHRyPlxyXG4gICAgICAgICAgICA8dGQ+PHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj57IHRoaXMucHJvcHMuaXRlbS5lc3RpbWF0ZWRfYmVnaW5uaW5nIHx8IDxzcGFuPiZuYnNwOzwvc3Bhbj4gfTwvcD48L3RkPlxyXG4gICAgICAgICAgICB7IHRoaXMucmVuZGVyTmFtZSgpIH1cclxuICAgICAgICAgICAgPHRkPjxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+eyB0aGlzLnByb3BzLml0ZW0uZXN0aW1hdGVkX2R1cmF0aW9uIHx8IDxzcGFuPiZuYnNwOzwvc3Bhbj4gfTwvcD48L3RkPlxyXG4gICAgICAgIDwvdHI+XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFByaW50YWJsZUNvbXBldGl0aW9uUGxhbiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicHJpbnQtb25seVwiPlxyXG4gICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwiYm9yZGVyZWQtdGFibGVcIj5cclxuICAgICAgICAgICAgICAgIDx0aGVhZD5cclxuICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD48cD57IF8oXCJtb2RlbHMuY29tcGV0aXRpb25fcGxhbl9pdGVtLmVzdGltYXRlZF9iZWdpbm5pbmdcIikgfTwvcD48L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGg+PHA+eyBfKFwibW9kZWxzLmNvbXBldGl0aW9uX3BsYW5faXRlbS5kaXNjaXBsaW5lXCIpIH08L3A+PC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoPjxwPnsgXyhcIm1vZGVscy5jb21wZXRpdGlvbl9wbGFuX2l0ZW0udG91clwiKSB9PC9wPjwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD48cD57IF8oXCJtb2RlbHMuY29tcGV0aXRpb25fcGxhbl9pdGVtLmVzdGltYXRlZF9kdXJhdGlvblwiKSB9PC9wPjwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICAgICAgICA8dGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnByb3BzLml0ZW1zLm1hcCgoaXRlbSkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFByaW50YWJsZUNvbXBldGl0aW9uUGxhblJvdyBpdGVtPXsgaXRlbSB9IHRvdXJzPXsgdGhpcy5wcm9wcy50b3VycyB9IGtleT17IGl0ZW0uaWQgfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICkgfVxyXG4gICAgICAgICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgQ29tcGV0aXRpb25QbGFuSXRlbUVkaXRvclJvdyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBzZXJ0aWFsaXplKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHNwOiBwYXJzZUludCh0aGlzLl9zcC52YWx1ZSkgfHwgMCxcclxuICAgICAgICAgICAgdG91cl9pZDogdGhpcy5fdG91cl9pZC52YWx1ZSA9PT0gXCJcIiA/IG51bGwgOiBwYXJzZUludCh0aGlzLl90b3VyX2lkLnZhbHVlKSxcclxuICAgICAgICAgICAgdmVyYm9zZV9uYW1lOiB0aGlzLl92ZXJib3NlX25hbWUudmFsdWUsXHJcbiAgICAgICAgICAgIGVzdGltYXRlZF9iZWdpbm5pbmc6IHRoaXMuX2VzdGltYXRlZF9iZWdpbm5pbmcudmFsdWUsXHJcbiAgICAgICAgICAgIGVzdGltYXRlZF9kdXJhdGlvbjogdGhpcy5fZXN0aW1hdGVkX2R1cmF0aW9uLnZhbHVlLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uU3VibWl0KGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBpZiAoIXRoaXMucHJvcHMubmV3Q29tcGV0aXRpb25QbGFuSXRlbSkge1xyXG4gICAgICAgICAgICBBcGkoXCJjb21wZXRpdGlvbl9wbGFuX2l0ZW0uc2V0XCIsIHtcclxuICAgICAgICAgICAgICAgIGNvbXBldGl0aW9uX3BsYW5faXRlbV9pZDogdGhpcy5wcm9wcy5pdGVtLmlkLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogdGhpcy5zZXJ0aWFsaXplKCksXHJcbiAgICAgICAgICAgIH0pLm9uU3VjY2Vzcyh0aGlzLnByb3BzLnN0b3BFZGl0aW5nKS5zZW5kKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgQXBpKFwiY29tcGV0aXRpb25fcGxhbl9pdGVtLmNyZWF0ZVwiLCB7XHJcbiAgICAgICAgICAgICAgICBjb21wZXRpdGlvbl9pZDogdGhpcy5wcm9wcy5jb21wZXRpdGlvbl9pZCxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMuc2VydGlhbGl6ZSgpLFxyXG4gICAgICAgICAgICB9KS5vblN1Y2Nlc3ModGhpcy5wcm9wcy5zdG9wRWRpdGluZykuc2VuZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gPHRyIGNsYXNzTmFtZT17IFwiZWRpdG9yXCIgKyAodGhpcy5wcm9wcy5uZXdDb21wZXRpdGlvblBsYW5JdGVtID8gXCIgY3JlYXRlXCIgOiBcIlwiICkgfT5cclxuICAgICAgICAgICAgPHRkIGNvbFNwYW49XCI2XCI+XHJcbiAgICAgICAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17IHRoaXMub25TdWJtaXQuYmluZCh0aGlzKSB9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93c1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZnVsbC13aWR0aFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXyhcIm1vZGVscy5jb21wZXRpdGlvbl9wbGFuX2l0ZW0uc3BcIikgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9eyBmdW5jdGlvbihlKSB7IGlmIChlKSB7IGUuc2VsZWN0KCk7IHRoaXMuX3NwID0gZTsgfSB9LmJpbmQodGhpcykgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmdWxsLXdpZHRoXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXsgdGhpcy5wcm9wcy5pdGVtLnNwIH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC01XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZnVsbC13aWR0aFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXyhcIm1vZGVscy5jb21wZXRpdGlvbl9wbGFuX2l0ZW0udmVyYm9zZV9uYW1lXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXsgKGUpID0+IGUgJiYgKHRoaXMuX3ZlcmJvc2VfbmFtZSA9IGUpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZnVsbC13aWR0aFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17IHRoaXMucHJvcHMuaXRlbS52ZXJib3NlX25hbWUgfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmdWxsLXdpZHRoXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBfKFwibW9kZWxzLmNvbXBldGl0aW9uX3BsYW5faXRlbS50b3VyXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17IChlKSA9PiBlICYmICh0aGlzLl90b3VyX2lkID0gZSkgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmdWxsLXdpZHRoXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXsgdGhpcy5wcm9wcy5pdGVtLnRvdXJfaWQgfHwgXCJcIiB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPi0tLS0tLS0tLS08L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdGhpcy5wcm9wcy50b3Vycy5tYXAoKHRvdXIpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT17IHRvdXIuaWQgfSBrZXk9eyB0b3VyLmlkIH0+eyB0b3VyLm5hbWUgfTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZ1bGwtd2lkdGhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IF8oXCJtb2RlbHMuY29tcGV0aXRpb25fcGxhbl9pdGVtLmVzdGltYXRlZF9iZWdpbm5pbmdcIikgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9eyAoZSkgPT4gZSAmJiAodGhpcy5fZXN0aW1hdGVkX2JlZ2lubmluZyA9IGUpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZnVsbC13aWR0aFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17IHRoaXMucHJvcHMuaXRlbS5lc3RpbWF0ZWRfYmVnaW5uaW5nIH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZnVsbC13aWR0aFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXyhcIm1vZGVscy5jb21wZXRpdGlvbl9wbGFuX2l0ZW0uZXN0aW1hdGVkX2R1cmF0aW9uXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXsgKGUpID0+IGUgJiYgKHRoaXMuX2VzdGltYXRlZF9kdXJhdGlvbiA9IGUpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZnVsbC13aWR0aFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17IHRoaXMucHJvcHMuaXRlbS5lc3RpbWF0ZWRfZHVyYXRpb24gfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiPnsgXyhcImdsb2JhbC5idXR0b25zLnN1Ym1pdFwiKSB9PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kYW5nZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsgdGhpcy5wcm9wcy5zdG9wRWRpdGluZyB9PnsgXyhcImdsb2JhbC5idXR0b25zLmRpc2NhcmRcIikgfTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgIDwvdHI+XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIENvbXBldGl0aW9uUGxhbkl0ZW1Sb3cgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgZWRpdGluZzogZmFsc2UsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhcnRFZGl0aW5nKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBlZGl0aW5nOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgc3RvcEVkaXRpbmcoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGVkaXRpbmc6IGZhbHNlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgb25EZWxldGUoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICBBcGkoXCJjb21wZXRpdGlvbl9wbGFuX2l0ZW0uZGVsZXRlXCIsIHtcclxuICAgICAgICAgICAgY29tcGV0aXRpb25fcGxhbl9pdGVtX2lkOiB0aGlzLnByb3BzLml0ZW0uaWQsXHJcbiAgICAgICAgfSkuc2VuZCgpO1xyXG4gICAgfVxyXG4gICAgZ2V0TmFtZSgpIHtcclxuICAgICAgICBsZXQgYyA9IHRoaXMucHJvcHMuaXRlbTtcclxuICAgICAgICBpZiAoYy52ZXJib3NlX25hbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDx0ZCBjb2xTcGFuPVwiMlwiPjxiPnsgYy52ZXJib3NlX25hbWUgfTwvYj48L3RkPjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IDx0ZCBjb2xTcGFuPVwiMlwiPjwvdGQ+O1xyXG4gICAgICAgIHRoaXMucHJvcHMudG91cnMuZm9yRWFjaCgodG91cikgPT4ge1xyXG4gICAgICAgICAgICBpZiAodG91ci5pZCA9PT0gYy50b3VyX2lkKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBbPHRkIGtleT1cIkRcIj57IHRvdXIuZGlzY2lwbGluZV9uYW1lIH08L3RkPiwgPHRkIGtleT1cIlRcIj57IHRvdXIudG91cl9uYW1lIH08L3RkPl07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICByZW5kZXJFZGl0b3IoKSB7XHJcbiAgICAgICAgcmV0dXJuIDxDb21wZXRpdGlvblBsYW5JdGVtRWRpdG9yUm93XHJcbiAgICAgICAgICAgIG5ld0NvbXBldGl0aW9uUGxhbkl0ZW09eyBmYWxzZSB9XHJcbiAgICAgICAgICAgIHN0b3BFZGl0aW5nPXsgdGhpcy5zdG9wRWRpdGluZy5iaW5kKHRoaXMpIH1cclxuICAgICAgICAgICAgeyAuLi50aGlzLnByb3BzIH0gLz5cclxuICAgIH1cclxuICAgIHJlbmRlclZpZXdlcigpIHtcclxuICAgICAgICBsZXQgYyA9IHRoaXMucHJvcHMuaXRlbTtcclxuICAgICAgICByZXR1cm4gPHRyIGNsYXNzTmFtZT17IFwidmlld2VyXCIgKyAodGhpcy5wcm9wcy5lcnJvciA/IFwiIGVycm9yXCIgOiBcIlwiKSB9IG9uQ2xpY2s9eyB0aGlzLnN0YXJ0RWRpdGluZy5iaW5kKHRoaXMpIH0+XHJcbiAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJzcFwiPnsgYy5zcCB9PC90ZD5cclxuICAgICAgICAgICAgeyB0aGlzLmdldE5hbWUoKSB9XHJcbiAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJlc3RpbWF0ZWRfYmVnaW5uaW5nXCI+eyBjLmVzdGltYXRlZF9iZWdpbm5pbmcgfTwvdGQ+XHJcbiAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJlc3RpbWF0ZWRfZHVyYXRpb25cIj57IGMuZXN0aW1hdGVkX2R1cmF0aW9uIH08L3RkPlxyXG4gICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwiZGVsZXRlXCI+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tZGFuZ2VyXCIgb25DbGljaz17IHRoaXMub25EZWxldGUuYmluZCh0aGlzKSB9Plg8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICA8L3RyPjtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5lZGl0aW5nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlckVkaXRvcigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlclZpZXdlcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgQ29tcGV0aXRpb25QbGFuSXRlbUNyZWF0aW9uUm93IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGVkaXRpbmc6IGZhbHNlLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN0YXJ0RWRpdGluZygpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZWRpdGluZzogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHN0b3BFZGl0aW5nKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBlZGl0aW5nOiBmYWxzZSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJlbmRlckVkaXRvcigpIHtcclxuICAgICAgICBsZXQgZW1wdHlfZGF0YSA9IHtcclxuICAgICAgICAgICAgXCJzcFwiOiBcIlwiLFxyXG4gICAgICAgICAgICBcInZlcmJvc2VfbmFtZVwiOiBcIlwiLFxyXG4gICAgICAgICAgICBcInRvdXJfaWRcIjogbnVsbCxcclxuICAgICAgICAgICAgXCJlc3RpbWF0ZWRfZHVyYXRpb25cIjogXCJcIixcclxuICAgICAgICAgICAgXCJlc3RpbWF0ZWRfYmVnaW5uaW5nXCI6IFwiXCIsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiA8Q29tcGV0aXRpb25QbGFuSXRlbUVkaXRvclJvd1xyXG4gICAgICAgICAgICBuZXdDb21wZXRpdGlvblBsYW5JdGVtXHJcbiAgICAgICAgICAgIHN0b3BFZGl0aW5nPXsgdGhpcy5zdG9wRWRpdGluZy5iaW5kKHRoaXMpIH1cclxuICAgICAgICAgICAgaXRlbT17IGVtcHR5X2RhdGEgfVxyXG4gICAgICAgICAgICB7IC4uLnRoaXMucHJvcHMgfSAvPjtcclxuICAgIH1cclxuICAgIHJlbmRlckJ1dHRvbigpIHtcclxuICAgICAgICByZXR1cm4gPHRyPjx0ZCBjb2xTcGFuPVwiNlwiPlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBmdWxsLXdpZHRoXCJcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyB0aGlzLnN0YXJ0RWRpdGluZy5iaW5kKHRoaXMpIH0+eyBfKFwiYWRtaW4uYnV0dG9ucy5hZGRfY29tcGV0aXRpb25fcGxhbl9pdGVtXCIpIH08L2J1dHRvbj5cclxuICAgICAgICA8L3RkPjwvdHI+XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuZWRpdGluZyA/IHRoaXMucmVuZGVyRWRpdG9yKCkgOiB0aGlzLnJlbmRlckJ1dHRvbigpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IF8gfSBmcm9tIFwibDEwbi9sb2FkZXJcIjtcclxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcInNlcnZlci9hcGlcIjtcclxuaW1wb3J0IHsgc3RvcmFnZSB9IGZyb20gXCJzZXJ2ZXIvc3RvcmFnZVwiO1xyXG5pbXBvcnQgeyBtZXNzYWdlX2Rpc3BhdGNoZXIgfSBmcm9tIFwic2VydmVyL21lc3NhZ2VfZGlzcGF0Y2hlclwiO1xyXG5pbXBvcnQgeyBEaXNjaXBsaW5lc0NvbnRyb2xzIH0gZnJvbSBcInVpL2FkbWluX2NvbXBvbmVudHNcIjtcclxuaW1wb3J0IHsgTG9hZGVyIH0gZnJvbSBcInVpL2NvbXBvbmVudHNcIjtcclxuaW1wb3J0IHsgUHJpbnRhYmxlIH0gZnJvbSBcInVpL3ByaW50YWJsZVwiO1xyXG5pbXBvcnQgeyBEb2N4IH0gZnJvbSBcImNvbW1vbi9kb2N4XCI7XHJcbmltcG9ydCB7IGNsb25lIH0gZnJvbSBcImNvbW1vbi90b29sc1wiO1xyXG5pbXBvcnQgeyBEaXNjaXBsaW5lUmVzdWx0cyB9IGZyb20gXCIuLi9qdWRnaW5nL2Rpc2NpcGxpbmVfcmVzdWx0c1wiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBDb21wZXRpdGlvblJlcG9ydCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBjb21wZXRpdGlvbjogbnVsbCxcclxuICAgICAgICAgICAgY29uZmlnOiB7XHJcbiAgICAgICAgICAgICAgICBpbmNsdWRlX2V4dGVuZGVkX2luZm86IHRydWUsXHJcbiAgICAgICAgICAgICAgICBpbmNsdWRlX2NsdWJzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgaW5jbHVkZV9qdWRnZXM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBpbmNsdWRlX2Rpc2NpcGxpbmVfanVkZ2VzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGRpc2NpcGxpbmVzOiB7fSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbWVzc2FnZV9kaXNwYXRjaGVyLmFkZExpc3RlbmVyKFwiZGJfdXBkYXRlXCIsIHRoaXMucmVsb2FkRnJvbVN0b3JhZ2UuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgbWVzc2FnZV9kaXNwYXRjaGVyLmFkZExpc3RlbmVyKFwicmVsb2FkX2RhdGFcIiwgdGhpcy5sb2FkRGF0YS5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuICAgIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcclxuICAgICAgICB0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlLmdldERvbWFpbihcInN0YXJ0X2xpc3RfXCIgKyB0aGlzLnByb3BzLmNvbXBldGl0aW9uX2lkKTtcclxuICAgICAgICB0aGlzLnJlbG9hZF9saXN0ZW5lciA9IG1lc3NhZ2VfZGlzcGF0Y2hlci5hZGRMaXN0ZW5lcihcInJlbG9hZF9kYXRhXCIsIHRoaXMubG9hZERhdGEuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy5kYl91cGRhdGVfbGlzdGVuZXIgPSBtZXNzYWdlX2Rpc3BhdGNoZXIuYWRkTGlzdGVuZXIoXCJkYl91cGRhdGVcIiwgdGhpcy5yZWxvYWRGcm9tU3RvcmFnZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLmxvYWREYXRhKCk7XHJcbiAgICB9XHJcbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcclxuICAgICAgICBtZXNzYWdlX2Rpc3BhdGNoZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5yZWxvYWRfbGlzdGVuZXIpO1xyXG4gICAgICAgIG1lc3NhZ2VfZGlzcGF0Y2hlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmRiX3VwZGF0ZV9saXN0ZW5lcik7XHJcbiAgICAgICAgc3RvcmFnZS5kZWxEb21haW4oXCJzdGFydF9saXN0X1wiICsgdGhpcy5wcm9wcy5jb21wZXRpdGlvbl9pZCk7XHJcbiAgICB9XHJcbiAgICByZWxvYWRGcm9tU3RvcmFnZSgpIHtcclxuICAgICAgICBjb25zdCBTQ0hFTUEgPSB7XHJcbiAgICAgICAgICAgIGRpc2NpcGxpbmVzOiB7XHJcbiAgICAgICAgICAgICAgICBkaXNjaXBsaW5lX2p1ZGdlczoge1xyXG4gICAgICAgICAgICAgICAgICAgIGp1ZGdlOiB7fSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGp1ZGdlczoge30sXHJcbiAgICAgICAgICAgIGNsdWJzOiB7XHJcbiAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudHM6IHt9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGV0IGNvbXBldGl0aW9uID0gdGhpcy5zdG9yYWdlLmdldChcIkNvbXBldGl0aW9uXCIpXHJcbiAgICAgICAgICAgIC5ieV9pZCh0aGlzLnByb3BzLmNvbXBldGl0aW9uX2lkKVxyXG4gICAgICAgICAgICAuc2VyaWFsaXplKFNDSEVNQSk7XHJcbiAgICAgICAgbGV0IGNvbmZpZyA9IGNsb25lKHRoaXMuc3RhdGUuY29uZmlnKTtcclxuICAgICAgICBsZXQgbmV3X2Rpc2NpcGxpbmVzID0ge307XHJcbiAgICAgICAgY29tcGV0aXRpb24uZGlzY2lwbGluZXMuZm9yRWFjaChkaXNjaXBsaW5lID0+IHtcclxuICAgICAgICAgICAgbmV3X2Rpc2NpcGxpbmVzW2Rpc2NpcGxpbmUuaWRdID0gKGRpc2NpcGxpbmUuaWQgaW4gY29uZmlnLmRpc2NpcGxpbmVzKVxyXG4gICAgICAgICAgICAgICAgPyBjb25maWcuZGlzY2lwbGluZXNbZGlzY2lwbGluZS5pZF1cclxuICAgICAgICAgICAgICAgIDogdHJ1ZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIGNvbmZpZy5kaXNjaXBsaW5lcyA9IG5ld19kaXNjaXBsaW5lcztcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgY29uZmlnOiBjb25maWcsXHJcbiAgICAgICAgICAgIGNvbXBldGl0aW9uOiBjb21wZXRpdGlvbixcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGxvYWREYXRhKCkge1xyXG4gICAgICAgIEFwaShcImNvbXBldGl0aW9uLmdldFwiLCB7XHJcbiAgICAgICAgICAgIGNvbXBldGl0aW9uX2lkOiB0aGlzLnByb3BzLmNvbXBldGl0aW9uX2lkLFxyXG4gICAgICAgICAgICBjaGlsZHJlbjoge1xyXG4gICAgICAgICAgICAgICAgZGlzY2lwbGluZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNjaXBsaW5lX2p1ZGdlczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqdWRnZToge30sXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBqdWRnZXM6IHt9LFxyXG4gICAgICAgICAgICAgICAgY2x1YnM6IHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudHM6IHt9LFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmFkZFRvREIoXCJDb21wZXRpdGlvblwiLCB0aGlzLnByb3BzLmNvbXBldGl0aW9uX2lkLCB0aGlzLnN0b3JhZ2UpXHJcbiAgICAgICAgLm9uU3VjY2Vzcyh0aGlzLnJlbG9hZEZyb21TdG9yYWdlLmJpbmQodGhpcykpXHJcbiAgICAgICAgLnNlbmQoKTtcclxuICAgIH1cclxuICAgIGdldFRpdGxlKCkge1xyXG4gICAgICAgIGNvbnN0IG5fZGlzY2lwbGluZXMgPSBPYmplY3Qua2V5cyh0aGlzLnN0YXRlLmNvbmZpZy5kaXNjaXBsaW5lcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoa2V5ID0+IHRoaXMuc3RhdGUuY29uZmlnLmRpc2NpcGxpbmVzW2tleV0pLmxlbmd0aDtcclxuICAgICAgICBjb25zdCB0aXRsZSA9IG5fZGlzY2lwbGluZXMgPiAwXHJcbiAgICAgICAgICAgID8gXyhcImFkbWluLmhlYWRlcnMuY29tcGV0aXRpb25fcmVwb3J0XCIpXHJcbiAgICAgICAgICAgIDogXyhcImFkbWluLmhlYWRlcnMuY29tcGV0aXRpb25faW5mb1wiKTtcclxuICAgICAgICByZXR1cm4gdGl0bGU7XHJcbiAgICB9XHJcbiAgICBvbkNvbmZpZ0NoYW5nZSA9IChuZXdfY29uZmlnKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGNvbmZpZzogbmV3X2NvbmZpZyxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVhY3Qvc29ydC1jb21wXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuY29tcGV0aXRpb24gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDxMb2FkZXIgLz5cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdGl0bGUgPSB0aGlzLmdldFRpdGxlKCk7XHJcbiAgICAgICAgbGV0IGJvZHkgPSAoXHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8SW5mbyB7IC4uLnRoaXMuc3RhdGUgfSAvPlxyXG4gICAgICAgICAgICAgICAgPENsdWJzIHsgLi4udGhpcy5zdGF0ZSB9IC8+XHJcbiAgICAgICAgICAgICAgICA8SnVkZ2VzIHsgLi4udGhpcy5zdGF0ZSB9IC8+XHJcbiAgICAgICAgICAgICAgICA8RGlzY2lwbGluZUp1ZGdlcyB7IC4uLnRoaXMuc3RhdGUgfSAvPlxyXG4gICAgICAgICAgICAgICAgPFJlc3VsdHMgeyAuLi50aGlzLnN0YXRlIH0gLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFwcC1jb250ZW50XCI+XHJcbiAgICAgICAgICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImFwcC1oZWFkZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2xzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCIgb25DbGljaz17IHRoaXMuY3JlYXRlRG9jeCB9PkRPQ1g8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8aDE+eyB0aXRsZSB9PC9oMT5cclxuICAgICAgICAgICAgICAgIDwvaGVhZGVyPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhcHAtYm9keSBjb21wZXRpdGlvbi1yZXBvcnRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8RGlzY2lwbGluZXNDb250cm9sc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21fY29udHJvbHM9e1tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6IFwiaW5jbHVkZV9leHRlbmRlZF9pbmZvXCIsICAgICAgbGFiZWw6IF8oXCJhZG1pbi5sYWJlbHMuaW5jbHVkZV9leHRlbmRlZF9pbmZvXCIpfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6IFwiaW5jbHVkZV9jbHVic1wiLCAgICAgICAgICAgICAgbGFiZWw6IF8oXCJhZG1pbi5sYWJlbHMuaW5jbHVkZV9jbHVic1wiKX0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiBcImluY2x1ZGVfanVkZ2VzXCIsICAgICAgICAgICAgIGxhYmVsOiBfKFwiYWRtaW4ubGFiZWxzLmluY2x1ZGVfanVkZ2VzXCIpfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6IFwiaW5jbHVkZV9kaXNjaXBsaW5lX2p1ZGdlc1wiLCAgbGFiZWw6IF8oXCJhZG1pbi5sYWJlbHMuaW5jbHVkZV9kaXNjaXBsaW5lX2p1ZGdlc1wiKX0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZz17IHRoaXMuc3RhdGUuY29uZmlnIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzY2lwbGluZXM9eyB0aGlzLnN0YXRlLmNvbXBldGl0aW9uLmRpc2NpcGxpbmVzIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLm9uQ29uZmlnQ2hhbmdlIH0gLz5cclxuICAgICAgICAgICAgICAgICAgICA8UHJpbnRhYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZj1cInByaW50YWJsZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlMT17IHRpdGxlIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keT17IGJvZHkgfSAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVEb2N4ID0gKCkgPT4ge1xyXG4gICAgICAgIERvY3goXCJyZXBvcnQuZG9jeFwiKVxyXG4gICAgICAgICAgICAuc2V0TWFyZ2lucyhbMTAsIDE1LCAxMCwgMjVdKVxyXG4gICAgICAgICAgICAuc2V0VGl0bGUxKHRoaXMuZ2V0VGl0bGUoKSlcclxuICAgICAgICAgICAgLnNldEJvZHkodGhpcy5yZWZzLnByaW50YWJsZS5mZXRjaFByaW50YWJsZURhdGEoKSlcclxuICAgICAgICAgICAgLmFkZFN0eWxlKFwiLnNwYWNlciB0ZFwiLCBcImhlaWdodFwiLCBcIjVwdFwiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIudG91ci1uYW1lXCIsIFwiYmFja2dyb3VuZFwiLCBcIiNkZGRcIilcclxuICAgICAgICAgICAgLmFkZFN0eWxlKFwiLmJvcmRlcmVkLXRhYmxlIC5zcG9ydHNtZW4gdGQsIC5ib3JkZXJlZC10YWJsZSAuc3BvcnRzbWVuIHRoXCIsIFwiYm9yZGVyXCIsIFwibm9uZVwiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIuYm9yZGVyZWQtdGFibGUgLnNwb3J0c21lbiB0ZCwgLmJvcmRlcmVkLXRhYmxlIC5zcG9ydHNtZW4gdGhcIiwgXCJwYWRkaW5nXCIsIFwiMFwiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIuc3BvcnRzbWVuXCIsIFwid2lkdGhcIiwgXCIxMDAlXCIpXHJcbiAgICAgICAgICAgIC5zYXZlKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEluZm8gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgcmVuZGVyRXh0ZW5kZWRJbmZvKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9wcy5jb25maWcuaW5jbHVkZV9leHRlbmRlZF9pbmZvKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5jb21wZXRpdGlvbi5pbmZvLm1hcCgocm93LCBpZHgpID0+XHJcbiAgICAgICAgICAgIDx0ciBrZXk9eyBpZHggfT5cclxuICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJ3LTQwXCI+PHAgY2xhc3NOYW1lPVwidGV4dC1sZWZ0XCI+eyByb3dbMF0gfTwvcD48L3RoPlxyXG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInctNjBcIj48cD57IHJvd1sxXSB9PC9wPjwvdGQ+XHJcbiAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwiaW5mb1wiPjx0Ym9keT5cclxuICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwidy00MFwiPjxwIGNsYXNzTmFtZT1cInRleHQtbGVmdFwiPnsgXyhcImFkbWluLmxhYmVscy5jb21wZXRpdGlvbl9uYW1lXCIpIH08L3A+PC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidy02MFwiPjxwPjxzdHJvbmc+eyB0aGlzLnByb3BzLmNvbXBldGl0aW9uLm5hbWUgfTwvc3Ryb25nPjwvcD48L3RkPlxyXG4gICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwidy00MFwiPjxwIGNsYXNzTmFtZT1cInRleHQtbGVmdFwiPnsgXyhcImFkbWluLmxhYmVscy5jb21wZXRpdGlvbl9kYXRlXCIpIH08L3A+PC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidy02MFwiPjxwPjxzdHJvbmc+eyB0aGlzLnByb3BzLmNvbXBldGl0aW9uLmRhdGUgfTwvc3Ryb25nPjwvcD48L3RkPlxyXG4gICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJFeHRlbmRlZEluZm8oKSB9XHJcbiAgICAgICAgICAgIDwvdGJvZHk+PC90YWJsZT5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBDbHVicyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLmNvbmZpZy5pbmNsdWRlX2NsdWJzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY2x1YnMgPSB0aGlzLnByb3BzLmNvbXBldGl0aW9uLmNsdWJzLmZpbHRlcigoY2x1YikgPT4gY2x1Yi5wYXJ0aWNpcGFudHMubGVuZ3RoID4gMClcclxuICAgICAgICBsZXQgY2x1YnNfZGljdCA9IHt9XHJcbiAgICAgICAgbGV0IGNpdGllcyA9IFtdXHJcbiAgICAgICAgY2x1YnMuZm9yRWFjaCgoY2x1YikgPT4gY2x1YnNfZGljdFtjbHViLmNpdHldID0gW10gKVxyXG4gICAgICAgIGNsdWJzLmZvckVhY2goKGNsdWIpID0+IGNsdWJzX2RpY3RbY2x1Yi5jaXR5XS5wdXNoKGNsdWIubmFtZSkgKVxyXG4gICAgICAgIGNsdWJzLmZvckVhY2goKGNsdWIpID0+IGNsdWJzX2RpY3RbY2x1Yi5jaXR5XS5zb3J0IClcclxuICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhjbHVic19kaWN0KS5mb3JFYWNoKChjaXR5KSA9PiBjaXRpZXMucHVzaChjaXR5KSlcclxuICAgICAgICBjaXRpZXMuc29ydCgpXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgIDxoND48cD57IF8oXCJhZG1pbi5oZWFkZXJzLmNsdWJzXCIpIH08L3A+PC9oND5cclxuICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJjbHVic1wiPjx0Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICB7IGNpdGllcy5tYXAoKGNpdHkpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBrZXk9eyBjaXR5IH0gY2xhc3NOYW1lPVwidmEtdG9wXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwidy0yMFwiPjxwIGNsYXNzTmFtZT1cInRleHQtbGVmdFwiPnsgY2l0eSB9PC9wPjwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidy04MFwiPjxwPnsgY2x1YnNfZGljdFtjaXR5XS5qb2luKFwiLCBcIikgfTwvcD48L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgICkgfVxyXG4gICAgICAgICAgICAgICAgPC90Ym9keT48L3RhYmxlPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBKdWRnZXMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgc3RhdGljIGdlbkp1ZGdlc051bWJlcnMoY29tcGV0aXRpb24pIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gW107XHJcbiAgICAgICAgbGV0IG51bWJlcnNfdXNlZCA9IHt9O1xyXG4gICAgICAgIGNvbXBldGl0aW9uLmp1ZGdlcy5mb3JFYWNoKChqLCBpZHgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbnVtYmVyID0gai5udW1iZXI7XHJcbiAgICAgICAgICAgIGxldCBhcHBlbmRpeCA9IFwiXCI7XHJcbiAgICAgICAgICAgIGxldCBjbnQgPSAwO1xyXG4gICAgICAgICAgICB3aGlsZSAobnVtYmVyc191c2VkW251bWJlciArIGFwcGVuZGl4XSkge1xyXG4gICAgICAgICAgICAgICAgYXBwZW5kaXggPSBudW1iZXIgPT09IFwiXCIgPyBjbnQudG9TdHJpbmcoKSA6IGAtJHsrK2NudH1gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG51bWJlcnNfdXNlZFtudW1iZXIgKyBhcHBlbmRpeF0gPSB0cnVlO1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChudW1iZXIgKyBhcHBlbmRpeCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIHJlbmRlcklkeChpZHgsIG51bWJlcnMpIHtcclxuICAgICAgICBpZiAoIXRoaXMucHJvcHMuY29uZmlnLmluY2x1ZGVfZGlzY2lwbGluZV9qdWRnZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ3LTEwXCI+PHAgY2xhc3NOYW1lPVwidGV4dC1yaWdodFwiPnsgbnVtYmVyc1tpZHhdIH08L3A+PC90ZD5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9wcy5jb25maWcuaW5jbHVkZV9qdWRnZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG51bWJlcnMgPSBKdWRnZXMuZ2VuSnVkZ2VzTnVtYmVycyh0aGlzLnByb3BzLmNvbXBldGl0aW9uKTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPGg0PjxwPnsgXyhcImFkbWluLmhlYWRlcnMuanVkZ2VzXCIpIH08L3A+PC9oND5cclxuICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJqdWRnZXNcIj48dGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnByb3BzLmNvbXBldGl0aW9uLmp1ZGdlcy5tYXAoKGp1ZGdlLCBpZHgpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBrZXk9eyBqdWRnZS5pZCB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlcklkeChpZHgsIG51bWJlcnMpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJ3LTM1XCI+PHAgY2xhc3NOYW1lPVwidGV4dC1sZWZ0XCI+eyBqdWRnZS5yb2xlX2Rlc2NyaXB0aW9uIHx8IF8oXCJnbG9iYWwucGhyYXNlcy5qdWRnZV9uXCIsIGp1ZGdlLm51bWJlcikgfTwvcD48L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInctNTVcIj48cD57IGp1ZGdlLm5hbWUgfSwgeyBqdWRnZS5jYXRlZ29yeSB9PC9wPjwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgKSB9XHJcbiAgICAgICAgICAgICAgICA8L3Rib2R5PjwvdGFibGU+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIERpc2NpcGxpbmVKdWRnZXMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgZ2V0SnVkZ2VzRGlzY2lwbGluZXMoKSB7XHJcbiAgICAgICAgbGV0IGp1ZGdlc191c2VkID0ge307XHJcbiAgICAgICAgbGV0IHJvbGVzID0ge307XHJcbiAgICAgICAgdGhpcy5wcm9wcy5jb21wZXRpdGlvbi5kaXNjaXBsaW5lcy5mb3JFYWNoKGRpc2NpcGxpbmUgPT4ge1xyXG4gICAgICAgICAgICBkaXNjaXBsaW5lLmRpc2NpcGxpbmVfanVkZ2VzLmZvckVhY2goZGlzY2lwbGluZV9qdWRnZSA9PiB7XHJcbiAgICAgICAgICAgICAgICByb2xlc1tgJHtkaXNjaXBsaW5lLmlkfV8ke2Rpc2NpcGxpbmVfanVkZ2UuanVkZ2UuaWR9YF0gPSBkaXNjaXBsaW5lX2p1ZGdlLnJvbGU7XHJcbiAgICAgICAgICAgICAgICBqdWRnZXNfdXNlZFtkaXNjaXBsaW5lX2p1ZGdlLmp1ZGdlLmlkXSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxldCBqdWRnZXMgPSBbXTtcclxuICAgICAgICBjb25zdCBqdWRnZXNfbnVtYmVycyA9IEp1ZGdlcy5nZW5KdWRnZXNOdW1iZXJzKHRoaXMucHJvcHMuY29tcGV0aXRpb24pO1xyXG4gICAgICAgIHRoaXMucHJvcHMuY29tcGV0aXRpb24uanVkZ2VzLmZvckVhY2goKGosIGlkeCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoanVkZ2VzX3VzZWRbai5pZF0pIHtcclxuICAgICAgICAgICAgICAgIGp1ZGdlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBudW1iZXI6IGp1ZGdlc19udW1iZXJzW2lkeF0sXHJcbiAgICAgICAgICAgICAgICAgICAgaWR4OiBpZHgsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxldCB0YWJsZSA9IHRoaXMucHJvcHMuY29tcGV0aXRpb24uZGlzY2lwbGluZXMubWFwKGRpc2NpcGxpbmUgPT5cclxuICAgICAgICAgICAganVkZ2VzLm1hcChqdWRnZSA9PlxyXG4gICAgICAgICAgICAgICAgcm9sZXNbYCR7ZGlzY2lwbGluZS5pZH1fJHt0aGlzLnByb3BzLmNvbXBldGl0aW9uLmp1ZGdlc1tqdWRnZS5pZHhdLmlkfWBdIHx8IG51bGxcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHsganVkZ2VzLCB0YWJsZSB9XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLmNvbmZpZy5pbmNsdWRlX2Rpc2NpcGxpbmVfanVkZ2VzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuZ2V0SnVkZ2VzRGlzY2lwbGluZXMoKTtcclxuICAgICAgICBsZXQgc3R5bGUgPSB7IHdpZHRoOiBgJHsgKDYwIC8gZGF0YS5qdWRnZXMubGVuZ3RoKS50b0ZpeGVkKDMpIH0lYCB9O1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgZGl2IGNsYXNzTmFtZT1cImRpc2NpcGxpbmUtanVkZ2VzXCI+XHJcbiAgICAgICAgICAgICAgICA8aDQ+PHA+eyBfKFwiYWRtaW4uaGVhZGVycy5kaXNjaXBsaW5lX2p1ZGdlc1wiKSB9PC9wPjwvaDQ+XHJcbiAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwiYm9yZGVyZWQtdGFibGVcIj48dGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwidy00MFwiPjxwIGNsYXNzTmFtZT1cInRleHQtbGVmdFwiPnsgXyhcImFkbWluLmxhYmVscy5kaXNjaXBsaW5lXCIpIH08L3A+PC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBkYXRhLmp1ZGdlcy5tYXAoanVkZ2UgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT17IHN0eWxlIH0ga2V5PXsganVkZ2UuaWR4IH0+PHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj57IGp1ZGdlLm51bWJlciB9PC9wPjwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICkgfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgeyBkYXRhLnRhYmxlLm1hcCgocm93LCBpZHgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpc2NpcGxpbmUgPSB0aGlzLnByb3BzLmNvbXBldGl0aW9uLmRpc2NpcGxpbmVzW2lkeF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHIga2V5PXsgZGlzY2lwbGluZS5pZCB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJ3LTQwXCI+PHAgY2xhc3NOYW1lPVwidGV4dC1sZWZ0XCI+eyBkaXNjaXBsaW5lLm5hbWUgfTwvcD48L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgcm93Lm1hcCgoY2VsbCwgaWR4KSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9eyBzdHlsZSB9IGtleT17IGlkeCB9PjxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNlbGwgPyBfKGBtb2RlbHMuZGlzY2lwbGluZV9qdWRnZS5yb2xlcy4ke2NlbGx9YCkgOiBcIuKAlFwiIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPjwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgfSApIH1cclxuICAgICAgICAgICAgICAgIDwvdGJvZHk+PC90YWJsZT5cclxuICAgICAgICAgICAgICAgIHsgXyhcIm1vZGVscy5kaXNjaXBsaW5lX2p1ZGdlLnJvbGVzX2xlZ2VuZFwiKSB9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFJlc3VsdHMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgcmVuZGVyRGlzY2lwbGluZSA9IChkaXNjaXBsaW5lKSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLmNvbmZpZy5kaXNjaXBsaW5lc1tkaXNjaXBsaW5lLmlkXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBrZXk9eyBkaXNjaXBsaW5lLmlkIH0+XHJcbiAgICAgICAgICAgICAgICA8aDU+PHA+eyBkaXNjaXBsaW5lLm5hbWUgfTwvcD48L2g1PlxyXG4gICAgICAgICAgICAgICAgPERpc2NpcGxpbmVSZXN1bHRzXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzY2lwbGluZV9pZD17IGRpc2NpcGxpbmUuaWQgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyPVwidGFibGVcIiAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgbGV0IGhhc19kaXNjaXBsaW5lcyA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wcm9wcy5jb21wZXRpdGlvbi5kaXNjaXBsaW5lcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBsZXQgZGlzY2lwbGluZV9pZCA9IHRoaXMucHJvcHMuY29tcGV0aXRpb24uZGlzY2lwbGluZXNbaV0uaWQ7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmNvbmZpZy5kaXNjaXBsaW5lc1tkaXNjaXBsaW5lX2lkXSkge1xyXG4gICAgICAgICAgICAgICAgaGFzX2Rpc2NpcGxpbmVzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaGFzX2Rpc2NpcGxpbmVzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPGg0PjxwPnsgXyhcImFkbWluLmhlYWRlcnMuY29tcGV0aXRpb25fcmVzdWx0c1wiKSB9PC9wPjwvaDQ+XHJcbiAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMuY29tcGV0aXRpb24uZGlzY2lwbGluZXMubWFwKHRoaXMucmVuZGVyRGlzY2lwbGluZSkgfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgXyB9IGZyb20gXCJsMTBuL2xvYWRlclwiO1xyXG5pbXBvcnQgeyBBcGkgfSBmcm9tIFwic2VydmVyL2FwaVwiO1xyXG5pbXBvcnQgeyBzaG93RXJyb3IsIHNob3dDb25maXJtIH0gZnJvbSBcInVpL2RpYWxvZ3NcIjtcclxuaW1wb3J0IHsgR0wgfSBmcm9tIFwiY29tbW9uL2RlZmluaXRpb25zXCI7XHJcbmltcG9ydCB7IGNsb25lIH0gZnJvbSBcImNvbW1vbi90b29sc1wiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBEaXNjaXBsaW5lcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBjcmVhdGluZzogZmFsc2UsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVuZGVyVGFibGUoKSB7XHJcbiAgICAgICAgbGV0IHJvd3MgPSB0aGlzLnByb3BzLmRpc2NpcGxpbmVzLm1hcChmdW5jdGlvbihkaXNjaXBsaW5lKSB7XHJcbiAgICAgICAgICAgIHJldHVybiA8RGlzY2lwbGluZVJvd1xyXG4gICAgICAgICAgICAgICAga2V5PXsgZGlzY2lwbGluZS5pZCB9XHJcbiAgICAgICAgICAgICAgICBqdWRnZXM9eyB0aGlzLnByb3BzLmp1ZGdlcyB9XHJcbiAgICAgICAgICAgICAgICBkaXNjaXBsaW5lPXsgZGlzY2lwbGluZSB9XHJcbiAgICAgICAgICAgICAgICBhbGxfZGlzY2lwbGluZXM9eyB0aGlzLnByb3BzLmRpc2NpcGxpbmVzIH0gLz47XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJtYW5hZ2UtZGlzY2lwbGluZXNcIj5cclxuICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cInRhYmxlIHRhYmxlLXN0cmlwZWRcIj5cclxuICAgICAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJuYW1lXCI+eyBfKFwibW9kZWxzLmRpc2NpcGxpbmUubmFtZVwiKSB9PC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInNwXCI+eyBfKFwibW9kZWxzLmRpc2NpcGxpbmUuc3BcIikgfTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJleHRlcm5hbC1pZFwiPnsgXyhcIm1vZGVscy5kaXNjaXBsaW5lLmV4dGVybmFsX2lkXCIpIH08L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwiZGVsZXRlXCI+PC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgIHsgcm93cyB9XHJcbiAgICAgICAgICAgICAgICAgICAgPERpc2NpcGxpbmVDcmVhdGlvblJvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqdWRnZXM9eyB0aGlzLnByb3BzLmp1ZGdlcyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBldGl0aW9uX2lkPXsgdGhpcy5wcm9wcy5jb21wZXRpdGlvbl9pZCB9IC8+XHJcbiAgICAgICAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImFwcC1jb250ZW50XCI+XHJcbiAgICAgICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiYXBwLWhlYWRlclwiPlxyXG4gICAgICAgICAgICAgICAgPGgxPnsgXyhcImFkbWluLmhlYWRlcnMuZGlzY2lwbGluZXNfbWFuYWdlbWVudFwiKSB9PC9oMT5cclxuICAgICAgICAgICAgPC9oZWFkZXI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXBwLWJvZHlcIj5cclxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJUYWJsZSgpIH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIERpc2NpcGxpbmVFZGl0b3JSb3cgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgZGlzY2lwbGluZV9qdWRnZXM6IHByb3BzLmRpc2NpcGxpbmUuZGlzY2lwbGluZV9qdWRnZXMubWFwKGZ1bmN0aW9uKGRqKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGp1ZGdlX2lkOiBkai5qdWRnZS5pZCxcclxuICAgICAgICAgICAgICAgICAgICByb2xlOiBkai5yb2xlLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGFkZERpc2NpcGxpbmVKdWRnZSgpIHtcclxuICAgICAgICBsZXQgZGlzY2lwbGluZV9qdWRnZXMgPSBjbG9uZSh0aGlzLnN0YXRlLmRpc2NpcGxpbmVfanVkZ2VzKTtcclxuICAgICAgICBsZXQgbmV3X2lkeCA9IGRpc2NpcGxpbmVfanVkZ2VzLmxlbmd0aDtcclxuICAgICAgICBkaXNjaXBsaW5lX2p1ZGdlcy5wdXNoKHtcclxuICAgICAgICAgICAganVkZ2VfaWQ6IHRoaXMucHJvcHMuanVkZ2VzWzBdICYmIHRoaXMucHJvcHMuanVkZ2VzWzBdLmlkLFxyXG4gICAgICAgICAgICByb2xlOiBHTC5qdWRnZV9yb2xlc1swXSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxhdGVzdF9hZGRlZCA9IFwialwiICsgbmV3X2lkeDtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZGlzY2lwbGluZV9qdWRnZXM6IGRpc2NpcGxpbmVfanVkZ2VzLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlRGlzY2lwbGluZUp1ZGdlKGlkeCkge1xyXG4gICAgICAgIGxldCBkaXNjaXBsaW5lX2p1ZGdlcyA9IGNsb25lKHRoaXMuc3RhdGUuZGlzY2lwbGluZV9qdWRnZXMpO1xyXG4gICAgICAgIGRpc2NpcGxpbmVfanVkZ2VzLnNwbGljZShpZHgsIDEpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBkaXNjaXBsaW5lX2p1ZGdlczogZGlzY2lwbGluZV9qdWRnZXMsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB2YWxpZGF0ZSgpIHtcclxuICAgICAgICBsZXQgdXNlZF9qdWRnZXMgPSB7fTtcclxuICAgICAgICB0aGlzLnN0YXRlLmRpc2NpcGxpbmVfanVkZ2VzLmZvckVhY2goZnVuY3Rpb24oZGopIHtcclxuICAgICAgICAgICAgaWYgKHVzZWRfanVkZ2VzW2RqLmp1ZGdlX2lkXSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGp1ZGdlID0gdGhpcy5wcm9wcy5qdWRnZXMuZmlsdGVyKChqKSA9PiBqLmlkID09PSBkai5qdWRnZV9pZClbMF07XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBfKFwiZXJyb3JzLmRpc2NpcGxpbmVfanVkZ2UucmVwZWF0aW5nX2p1ZGdlXCIsIGp1ZGdlLm5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHVzZWRfanVkZ2VzW2RqLmp1ZGdlX2lkXSA9IHRydWU7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuICAgIHNlcmlhbGl6ZSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBuYW1lOiB0aGlzLl9uYW1lLnZhbHVlLFxyXG4gICAgICAgICAgICBzcDogdGhpcy5fc3AudmFsdWUsXHJcbiAgICAgICAgICAgIGRpc2NpcGxpbmVfanVkZ2VzOiB0aGlzLnN0YXRlLmRpc2NpcGxpbmVfanVkZ2VzLm1hcChmdW5jdGlvbihkaikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBqdWRnZV9pZDogcGFyc2VJbnQoZGouanVkZ2VfaWQpLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvbGU6IGRqLnJvbGUsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgZXh0ZXJuYWxfaWQ6IHRoaXMuX2V4dGVybmFsX2lkLnZhbHVlLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uRGlzY2lwbGluZUp1ZGdlQ2hhbmdlKGlkeCwgZmllbGQsIGV2ZW50KSB7XHJcbiAgICAgICAgbGV0IGRpc2NpcGxpbmVfanVkZ2VzID0gY2xvbmUodGhpcy5zdGF0ZS5kaXNjaXBsaW5lX2p1ZGdlcyk7XHJcbiAgICAgICAgZGlzY2lwbGluZV9qdWRnZXNbaWR4XVtmaWVsZF0gPSBldmVudC50YXJnZXQudmFsdWU7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGRpc2NpcGxpbmVfanVkZ2VzOiBkaXNjaXBsaW5lX2p1ZGdlcyxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIG9uU3VibWl0KGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5wcm9wcy5uZXdEaXNjaXBsaW5lKSB7XHJcbiAgICAgICAgICAgICAgICBBcGkoXCJkaXNjaXBsaW5lLnNldFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzY2lwbGluZV9pZDogdGhpcy5wcm9wcy5kaXNjaXBsaW5lLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMuc2VyaWFsaXplKCksXHJcbiAgICAgICAgICAgICAgICB9KS5vblN1Y2Nlc3ModGhpcy5wcm9wcy5zdG9wRWRpdGluZykuc2VuZCgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgQXBpKFwiZGlzY2lwbGluZS5jcmVhdGVcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBldGl0aW9uX2lkOiB0aGlzLnByb3BzLmNvbXBldGl0aW9uX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMuc2VyaWFsaXplKCksXHJcbiAgICAgICAgICAgICAgICB9KS5vblN1Y2Nlc3ModGhpcy5wcm9wcy5zdG9wRWRpdGluZykuc2VuZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgc2hvd0Vycm9yKGV4KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIDx0ciBjbGFzc05hbWU9eyBcImVkaXRvclwiICsgKHRoaXMucHJvcHMubmV3RGlzY2lwbGluZSA/IFwiIGNyZWF0ZVwiIDogXCJcIiApIH0+XHJcbiAgICAgICAgICAgIDx0ZCBjb2xTcGFuPVwiNVwiPlxyXG4gICAgICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9eyB0aGlzLm9uU3VibWl0LmJpbmQodGhpcykgfT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1sZy00XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZnVsbC13aWR0aFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXyhcIm1vZGVscy5kaXNjaXBsaW5lLm5hbWVcIikgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9eyBmdW5jdGlvbihlKSB7IGlmIChlKSB7IHRoaXMuX25hbWUgPSBlOyB9IH0uYmluZCh0aGlzKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZ1bGwtd2lkdGhcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9eyB0aGlzLnByb3BzLmRpc2NpcGxpbmUubmFtZSB9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1sZy02XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmdWxsLXdpZHRoXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IF8oXCJtb2RlbHMuZGlzY2lwbGluZS5zcFwiKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9eyAoZSkgPT4gZSAmJiAodGhpcy5fc3AgPSBlKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZnVsbC13aWR0aFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXsgdGhpcy5wcm9wcy5kaXNjaXBsaW5lLnNwIH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1sZy02XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmdWxsLXdpZHRoXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IF8oXCJtb2RlbHMuZGlzY2lwbGluZS5leHRlcm5hbF9pZFwiKSB9PGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9eyAoZSkgPT4gZSAmJiAodGhpcy5fZXh0ZXJuYWxfaWQgPSBlKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZnVsbC13aWR0aFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXsgdGhpcy5wcm9wcy5kaXNjaXBsaW5lLmV4dGVybmFsX2lkIH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbGctNlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZ1bGwtd2lkdGhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IF8oXCJtb2RlbHMuZGlzY2lwbGluZS5kaXNjaXBsaW5lX2p1ZGdlc1wiKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnN0YXRlLmRpc2NpcGxpbmVfanVkZ2VzLm1hcCgoZGosIGlkeCkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17IGlkeCB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IHZhbHVlPXsgZGouanVkZ2VfaWQgfSBjbGFzc05hbWU9XCJqdWRnZVwiIG9uQ2hhbmdlPXsgdGhpcy5vbkRpc2NpcGxpbmVKdWRnZUNoYW5nZS5iaW5kKHRoaXMsIGlkeCwgXCJqdWRnZV9pZFwiKSB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnByb3BzLmp1ZGdlcy5tYXAoKGopID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT17IGouaWQgfSBrZXk9eyBqLmlkIH0+eyBqLm5hbWUgfTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IHZhbHVlPXsgZGoucm9sZSB9IGNsYXNzTmFtZT1cImp1ZGdlLXJvbGVcIiBvbkNoYW5nZT17IHRoaXMub25EaXNjaXBsaW5lSnVkZ2VDaGFuZ2UuYmluZCh0aGlzLCBpZHgsIFwicm9sZVwiKSB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBHTC5qdWRnZV9yb2xlcy5tYXAoKGpyKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9eyBqciB9IGtleT17IGpyIH0+eyBfKFwianVkZ2Vfcm9sZXMuXCIgKyBqcikgfTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRlbCBidG4gYnRuLWRhbmdlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsgdGhpcy5yZW1vdmVEaXNjaXBsaW5lSnVkZ2UuYmluZCh0aGlzLCBpZHgpIH0+WDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZnVsbC13aWR0aCBidG4gYnRuLXNtIGJ0bi1kZWZhdWx0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsgdGhpcy5hZGREaXNjaXBsaW5lSnVkZ2UuYmluZCh0aGlzKSB9PnsgXyhcImdsb2JhbC5idXR0b25zLmFkZFwiKSB9PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1sZy0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+Jm5ic3A7PC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiPnsgXyhcImdsb2JhbC5idXR0b25zLnN1Ym1pdFwiKSB9PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kYW5nZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsgdGhpcy5wcm9wcy5zdG9wRWRpdGluZyB9PnsgXyhcImdsb2JhbC5idXR0b25zLmRpc2NhcmRcIikgfTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgIDwvdHI+XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIERpc2NpcGxpbmVSb3cgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgZWRpdGluZzogZmFsc2UsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhcnRFZGl0aW5nKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBlZGl0aW5nOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgc3RvcEVkaXRpbmcoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGVkaXRpbmc6IGZhbHNlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgb25EZWxldGUoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICBzaG93Q29uZmlybShfKFwiYWRtaW4uY29uZmlybXMuZGVsZXRlX2Rpc2NpcGxpbmVcIiksICgpID0+IHtcclxuICAgICAgICAgICAgQXBpKFwiZGlzY2lwbGluZS5kZWxldGVcIiwge1xyXG4gICAgICAgICAgICAgICAgZGlzY2lwbGluZV9pZDogdGhpcy5wcm9wcy5kaXNjaXBsaW5lLmlkLFxyXG4gICAgICAgICAgICB9KS5vblN1Y2Nlc3MoKCkgPT4gc3dhbC5jbG9zZSgpKS5zZW5kKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZW5kZXJFZGl0b3IoKSB7XHJcbiAgICAgICAgcmV0dXJuIDxEaXNjaXBsaW5lRWRpdG9yUm93XHJcbiAgICAgICAgICAgIG5ld0Rpc2NpcGxpbmU9eyBmYWxzZSB9XHJcbiAgICAgICAgICAgIHN0b3BFZGl0aW5nPXsgdGhpcy5zdG9wRWRpdGluZy5iaW5kKHRoaXMpIH1cclxuICAgICAgICAgICAgeyAuLi50aGlzLnByb3BzIH0gLz5cclxuICAgIH1cclxuICAgIHJlbmRlclZpZXdlcigpIHtcclxuICAgICAgICBsZXQgYyA9IHRoaXMucHJvcHMuZGlzY2lwbGluZTtcclxuICAgICAgICByZXR1cm4gPHRyIGNsYXNzTmFtZT1cInZpZXdlclwiIG9uQ2xpY2s9eyB0aGlzLnN0YXJ0RWRpdGluZy5iaW5kKHRoaXMpIH0+XHJcbiAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJuYW1lXCI+eyBjLm5hbWUgfTwvdGQ+XHJcbiAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJzcFwiPnsgYy5zcCB9PC90ZD5cclxuICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cImV4dGVybmFsLWlkXCI+eyBjLmV4dGVybmFsX2lkIH08L3RkPlxyXG4gICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwiZGVsZXRlXCI+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tZGFuZ2VyXCIgb25DbGljaz17IHRoaXMub25EZWxldGUuYmluZCh0aGlzKSB9Plg8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICA8L3RyPjtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5lZGl0aW5nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlckVkaXRvcigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlclZpZXdlcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgRGlzY2lwbGluZUNyZWF0aW9uUm93IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGVkaXRpbmc6IGZhbHNlLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN0YXJ0RWRpdGluZygpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZWRpdGluZzogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHN0b3BFZGl0aW5nKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBlZGl0aW5nOiBmYWxzZSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJlbmRlckVkaXRvcigpIHtcclxuICAgICAgICBsZXQgZW1wdHlfZGF0YSA9IHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiXCIsXHJcbiAgICAgICAgICAgIFwiZGlzY2lwbGluZV9qdWRnZXNcIjogW10sXHJcbiAgICAgICAgICAgIFwic3BcIjogXCIwXCIsXHJcbiAgICAgICAgICAgIFwiZXh0ZXJuYWxfaWRcIjogXCJcIixcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDxEaXNjaXBsaW5lRWRpdG9yUm93XHJcbiAgICAgICAgICAgIG5ld0Rpc2NpcGxpbmVcclxuICAgICAgICAgICAgc3RvcEVkaXRpbmc9eyB0aGlzLnN0b3BFZGl0aW5nLmJpbmQodGhpcykgfVxyXG4gICAgICAgICAgICBkaXNjaXBsaW5lPXsgZW1wdHlfZGF0YSB9XHJcbiAgICAgICAgICAgIHsgLi4udGhpcy5wcm9wcyB9IC8+O1xyXG4gICAgfVxyXG4gICAgcmVuZGVyQnV0dG9uKCkge1xyXG4gICAgICAgIHJldHVybiA8dHI+PHRkIGNvbFNwYW49XCI1XCI+XHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGZ1bGwtd2lkdGhcIlxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17IHRoaXMuc3RhcnRFZGl0aW5nLmJpbmQodGhpcykgfT57IF8oXCJhZG1pbi5idXR0b25zLmFkZF9kaXNjaXBsaW5lXCIpIH08L2J1dHRvbj5cclxuICAgICAgICA8L3RkPjwvdHI+XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuZWRpdGluZyA/IHRoaXMucmVuZGVyRWRpdG9yKCkgOiB0aGlzLnJlbmRlckJ1dHRvbigpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IF8gfSBmcm9tIFwibDEwbi9sb2FkZXJcIjtcclxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcInNlcnZlci9hcGlcIjtcclxuaW1wb3J0IHsgY2xvbmUgfSBmcm9tIFwiY29tbW9uL3Rvb2xzXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEltcG9ydEV4cG9ydCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBpbXBvcnRfZmlsZXM6IFtdLFxyXG4gICAgICAgICAgICBzdWJtaXR0aW5nOiBmYWxzZSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgaW1wb3J0KCkge1xyXG4gICAgICAgIGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBzdWJtaXR0aW5nOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSAoZikgPT4ge1xyXG4gICAgICAgICAgICBBcGkoXCJjb21wZXRpdGlvbi5sb2FkXCIsIHtcclxuICAgICAgICAgICAgICAgIGNvbXBldGl0aW9uX2lkOiB0aGlzLnByb3BzLmNvbXBldGl0aW9uX2lkLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogZi50YXJnZXQucmVzdWx0LFxyXG4gICAgICAgICAgICAgICAgaXRlbXM6IHRoaXMuX3NlbGVjdG9yLmdldFZhbHVlKCksXHJcbiAgICAgICAgICAgIH0pLm9uU3VjY2VzcygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzd2FsKHtcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXyhcImdsb2JhbC5tZXNzYWdlcy5zdWNjZXNzXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3VjY2Vzc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogZmFsc2VcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KS5vbkRvbmUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VibWl0dGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSkuc2VuZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZWFkZXIucmVhZEFzVGV4dCh0aGlzLnN0YXRlLmltcG9ydF9maWxlc1swXSk7XHJcbiAgICB9XHJcbiAgICBleHBvcnQoKSB7XHJcbiAgICAgICAgQXBpKFwiY29tcGV0aXRpb24uZXhwb3J0XCIsIHsgY29tcGV0aXRpb25faWQ6IHRoaXMucHJvcHMuY29tcGV0aXRpb25faWQgfSlcclxuICAgICAgICAgICAgLm9uU3VjY2VzcyhyID0+IHNhdmVBcyhuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkocildLCB7dHlwZSA6ICdhcHBsaWNhdGlvbi9qc29uJ30pLCBcInJvY2tqdWRnZS5leHBvcnQuanNvblwiKSlcclxuICAgICAgICAgICAgLnNlbmQoKTtcclxuICAgIH1cclxuICAgIG1ha2VTZWxlY3RvclJlZiA9IChlKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fc2VsZWN0b3IgPSBlO1xyXG4gICAgfVxyXG4gICAgb25TdWJtaXQoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5faW5wdXQudmFsdWU7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiYXBwLWNvbnRlbnQgbG9hZC1jb21wZXRpdGlvbi1wYWdlXCI+XHJcbiAgICAgICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiYXBwLWhlYWRcIj5cclxuICAgICAgICAgICAgICAgIDxoMT57IF8oXCJhZG1pbi5oZWFkZXJzLmltcG9ydF9leHBvcnRcIikgfTwvaDE+XHJcbiAgICAgICAgICAgIDwvaGVhZGVyPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImltcG9ydC1leHBvcnRcIj5cclxuICAgICAgICAgICAgICAgIDxoMz57IF8oXCJhZG1pbi5oZWFkZXJzLmltcG9ydF9jb21wZXRpdGlvblwiKSB9PC9oMz5cclxuICAgICAgICAgICAgICAgIDxmb3JtIGNsYXNzTmFtZT1cImltcG9ydC1mb3JtXCIgb25TdWJtaXQ9eyBlID0+IHsgZS5wcmV2ZW50RGVmYXVsdCgpOyB0aGlzLmltcG9ydCgpOyB9IH0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJyb3dzZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBfKFwiZ2xvYmFsLmxhYmVscy5icm93c2VcIikgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnN0YXRlLmltcG9ydF9maWxlcy5sZW5ndGggPT09IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXyhcImFkbWluLmxhYmVscy5ub19maWxlc19zZWxlY3RlZFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLnN0YXRlLmltcG9ydF9maWxlc1swXS5uYW1lIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJmaWxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsgZSA9PiB0aGlzLnNldFN0YXRlKHsgaW1wb3J0X2ZpbGVzOiBlLnRhcmdldC5maWxlcyB9KSB9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICA8YnIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8SW1wb3J0SXRlbXNTZWxlY3RvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWY9eyB0aGlzLm1ha2VTZWxlY3RvclJlZiB9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IHRoaXMuc3RhdGUuaW1wb3J0X2ZpbGVzLmxlbmd0aCAhPT0gMSB8fCB0aGlzLnN0YXRlLnN1Ym1pdHRpbmcgfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBfKFwiYWRtaW4uYnV0dG9ucy5pbXBvcnRcIikgfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICAgICAgICAgPGgzPnsgXyhcImFkbWluLmhlYWRlcnMuZXhwb3J0X2NvbXBldGl0aW9uXCIpIH08L2gzPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17IHRoaXMuZXhwb3J0LmJpbmQodGhpcykgfT5cclxuICAgICAgICAgICAgICAgICAgICB7IF8oXCJhZG1pbi5idXR0b25zLmV4cG9ydFwiKSB9XHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEltcG9ydEl0ZW1zU2VsZWN0b3IgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgaXRlbXM6IHtcclxuICAgICAgICAgICAgICAgIGRpc2NpcGxpbmVzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgdG91cnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudHM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkaXNjaXBsaW5lX2p1ZGdlczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHBsYW46IHRydWUsXHJcbiAgICAgICAgICAgICAgICBqdWRnZXM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjbHViczogdHJ1ZSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBvbkNoYW5nZSA9ICh0eXBlLCB2YWx1ZSkgPT4ge1xyXG4gICAgICAgIGxldCBuZXdfaXRlbXMgPSBjbG9uZSh0aGlzLnN0YXRlLml0ZW1zKTtcclxuICAgICAgICBuZXdfaXRlbXNbdHlwZV0gPSB2YWx1ZTtcclxuICAgICAgICBpZiAodHlwZSA9PT0gXCJkaXNjaXBsaW5lc1wiICYmICF2YWx1ZSkge1xyXG4gICAgICAgICAgICBuZXdfaXRlbXMudG91cnMgPSBmYWxzZTtcclxuICAgICAgICAgICAgbmV3X2l0ZW1zLnBhcnRpY2lwYW50cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBuZXdfaXRlbXMuZGlzY2lwbGluZV9qdWRnZXMgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGUgPT09IFwiY2x1YnNcIiAmJiAhdmFsdWUpIHtcclxuICAgICAgICAgICAgbmV3X2l0ZW1zLnBhcnRpY2lwYW50cyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZSA9PT0gXCJqdWRnZXNcIiAmJiAhdmFsdWUpIHtcclxuICAgICAgICAgICAgbmV3X2l0ZW1zLmRpc2NpcGxpbmVfanVkZ2VzID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpdGVtczogbmV3X2l0ZW1zLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZ2V0VmFsdWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuaXRlbXM7XHJcbiAgICB9XHJcbiAgICByZW5kZXJDaGVja2JveCh0eXBlLCBkaXNhYmxlZD1mYWxzZSkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxJbXBvcnRJdGVtc0NoZWNrYm94XHJcbiAgICAgICAgICAgICAgICB0eXBlPXsgdHlwZSB9XHJcbiAgICAgICAgICAgICAgICBsYWJlbD17IF8oYGFkbWluLmxhYmVscy4ke3R5cGV9YCkgfVxyXG4gICAgICAgICAgICAgICAgdmFsdWU9eyB0aGlzLnN0YXRlLml0ZW1zW3R5cGVdIH1cclxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXsgZGlzYWJsZWQgfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLm9uQ2hhbmdlIH0gLz5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW1wb3J0LWl0ZW1zLXNlbGVjdG9yXCI+XHJcbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyQ2hlY2tib3goXCJkaXNjaXBsaW5lc1wiKSB9XHJcbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyQ2hlY2tib3goXCJjbHVic1wiKSB9XHJcbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyQ2hlY2tib3goXCJqdWRnZXNcIikgfVxyXG4gICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlckNoZWNrYm94KFwidG91cnNcIiwgIXRoaXMuc3RhdGUuaXRlbXMuZGlzY2lwbGluZXMpIH1cclxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJDaGVja2JveChcInBhcnRpY2lwYW50c1wiLCAhdGhpcy5zdGF0ZS5pdGVtcy5kaXNjaXBsaW5lcyB8fCAhdGhpcy5zdGF0ZS5pdGVtcy5jbHVicykgfVxyXG4gICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlckNoZWNrYm94KFwiZGlzY2lwbGluZV9qdWRnZXNcIiwgIXRoaXMuc3RhdGUuaXRlbXMuZGlzY2lwbGluZXMgfHwgIXRoaXMuc3RhdGUuaXRlbXMuanVkZ2VzKSB9XHJcbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyQ2hlY2tib3goXCJwbGFuXCIpIH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgSW1wb3J0SXRlbXNDaGVja2JveCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgIH1cclxuICAgIG9uQ2hhbmdlID0gKGUpID0+IHtcclxuICAgICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHRoaXMucHJvcHMudHlwZSwgZS50YXJnZXQuY2hlY2tlZCk7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzd2l0Y2hcIj5cclxuICAgICAgICAgICAgICAgIDxsYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17IHRoaXMucHJvcHMudmFsdWUgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IHRoaXMucHJvcHMuZGlzYWJsZWQgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMub25DaGFuZ2UgfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5sYWJlbCB9XHJcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IF8gfSBmcm9tIFwibDEwbi9sb2FkZXJcIjtcclxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcInNlcnZlci9hcGlcIjtcclxuaW1wb3J0IHsgc2hvd0NvbmZpcm0gfSBmcm9tIFwidWkvZGlhbG9nc1wiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBKdWRnZXMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgY3JlYXRpbmc6IGZhbHNlLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlbmRlclRhYmxlKCkge1xyXG4gICAgICAgIGxldCByb3dzID0gdGhpcy5wcm9wcy5qdWRnZXMubWFwKGZ1bmN0aW9uKGp1ZGdlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiA8SnVkZ2VSb3dcclxuICAgICAgICAgICAgICAgIGtleT17IGp1ZGdlLmlkIH1cclxuICAgICAgICAgICAgICAgIGp1ZGdlPXsganVkZ2UgfSAvPjtcclxuICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1hbmFnZS1qdWRnZXNcIj5cclxuICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cInRhYmxlIHRhYmxlLXN0cmlwZWRcIj5cclxuICAgICAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJyb2xlX2Rlc2NyaXB0aW9uXCI+eyBfKFwibW9kZWxzLmp1ZGdlLnJvbGVfZGVzY3JpcHRpb25cIikgfTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJuYW1lXCI+eyBfKFwibW9kZWxzLmp1ZGdlLm5hbWVcIikgfTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJjYXRlZ29yeVwiPnsgXyhcIm1vZGVscy5qdWRnZS5jYXRlZ29yeVwiKSB9PC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cImRlbGV0ZVwiPjwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICB7IHJvd3MgfVxyXG4gICAgICAgICAgICAgICAgICAgIDxKdWRnZUNyZWF0aW9uUm93IGNvbXBldGl0aW9uX2lkPXsgdGhpcy5wcm9wcy5jb21wZXRpdGlvbl9pZCB9IC8+XHJcbiAgICAgICAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImFwcC1jb250ZW50XCI+XHJcbiAgICAgICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiYXBwLWhlYWRlclwiPlxyXG4gICAgICAgICAgICAgICAgPGgxPnsgXyhcImFkbWluLmhlYWRlcnMuanVkZ2VzX21hbmFnZW1lbnRcIikgfTwvaDE+XHJcbiAgICAgICAgICAgIDwvaGVhZGVyPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFwcC1ib2R5XCI+XHJcbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyVGFibGUoKSB9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PjtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgSnVkZ2VFZGl0b3JSb3cgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgc2VydGlhbGl6ZSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBuYW1lOiB0aGlzLl9uYW1lLnZhbHVlLFxyXG4gICAgICAgICAgICBudW1iZXI6IHRoaXMuX251bWJlci52YWx1ZSxcclxuICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuX2NhdGVnb3J5LnZhbHVlLFxyXG4gICAgICAgICAgICByb2xlX2Rlc2NyaXB0aW9uOiB0aGlzLl9yb2xlX2Rlc2NyaXB0aW9uLnZhbHVlLFxyXG4gICAgICAgICAgICBzcDogdGhpcy5fc3AudmFsdWUsXHJcbiAgICAgICAgICAgIGV4dGVybmFsX2lkOiB0aGlzLl9leHRlcm5hbF9pZC52YWx1ZSxcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvblN1Ym1pdChldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLm5ld0p1ZGdlKSB7XHJcbiAgICAgICAgICAgIEFwaShcImp1ZGdlLnNldFwiLCB7XHJcbiAgICAgICAgICAgICAgICBqdWRnZV9pZDogdGhpcy5wcm9wcy5qdWRnZS5pZCxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMuc2VydGlhbGl6ZSgpLFxyXG4gICAgICAgICAgICB9KS5vblN1Y2Nlc3ModGhpcy5wcm9wcy5zdG9wRWRpdGluZykuc2VuZCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIEFwaShcImp1ZGdlLmNyZWF0ZVwiLCB7XHJcbiAgICAgICAgICAgICAgICBjb21wZXRpdGlvbl9pZDogdGhpcy5wcm9wcy5jb21wZXRpdGlvbl9pZCxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMuc2VydGlhbGl6ZSgpLFxyXG4gICAgICAgICAgICB9KS5vblN1Y2Nlc3ModGhpcy5wcm9wcy5zdG9wRWRpdGluZykuc2VuZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gPHRyIGNsYXNzTmFtZT17IFwiZWRpdG9yXCIgKyAodGhpcy5wcm9wcy5uZXdKdWRnZSA/IFwiIGNyZWF0ZVwiIDogXCJcIiApIH0+XHJcbiAgICAgICAgICAgIDx0ZCBjb2xTcGFuPVwiNVwiPlxyXG4gICAgICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9eyB0aGlzLm9uU3VibWl0LmJpbmQodGhpcykgfT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1sZy0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZnVsbC13aWR0aFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXyhcIm1vZGVscy5qdWRnZS5udW1iZXJcIikgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9eyAoZSkgPT4geyBpZiAoZSkgeyBpZiAoIXRoaXMuX251bWJlcikgeyBlLnNlbGVjdCgpOyB0aGlzLl9udW1iZXIgPSBlOyB9IH0gfSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZ1bGwtd2lkdGhcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9eyB0aGlzLnByb3BzLmp1ZGdlLm51bWJlciB9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbGctMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZ1bGwtd2lkdGhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IF8oXCJtb2RlbHMuanVkZ2UuY2F0ZWdvcnlcIikgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9eyAoZSkgPT4gZSAmJiAodGhpcy5fY2F0ZWdvcnkgPSBlKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZ1bGwtd2lkdGhcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9eyB0aGlzLnByb3BzLmp1ZGdlLmNhdGVnb3J5IH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1sZy0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZnVsbC13aWR0aFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXyhcIm1vZGVscy5qdWRnZS5uYW1lXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXsgKGUpID0+IGUgJiYgKHRoaXMuX25hbWUgPSBlKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZ1bGwtd2lkdGhcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9eyB0aGlzLnByb3BzLmp1ZGdlLm5hbWUgfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLWxnLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmdWxsLXdpZHRoXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBfKFwibW9kZWxzLmp1ZGdlLnJvbGVfZGVzY3JpcHRpb25cIikgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9eyAoZSkgPT4gZSAmJiAodGhpcy5fcm9sZV9kZXNjcmlwdGlvbiA9IGUpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZnVsbC13aWR0aFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17IHRoaXMucHJvcHMuanVkZ2Uucm9sZV9kZXNjcmlwdGlvbiB9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbGctMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZ1bGwtd2lkdGhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IF8oXCJtb2RlbHMuanVkZ2UuZXh0ZXJuYWxfaWRcIikgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9eyAoZSkgPT4gZSAmJiAodGhpcy5fZXh0ZXJuYWxfaWQgPSBlKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZ1bGwtd2lkdGhcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9eyB0aGlzLnByb3BzLmp1ZGdlLmV4dGVybmFsX2lkIH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1sZy0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZnVsbC13aWR0aFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXyhcIm1vZGVscy5qdWRnZS5zcFwiKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17IChlKSA9PiBlICYmICh0aGlzLl9zcCA9IGUpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZnVsbC13aWR0aFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17IHRoaXMucHJvcHMuanVkZ2Uuc3AgfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLWxnLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tc20gYnRuLXByaW1hcnlcIj57IF8oXCJnbG9iYWwuYnV0dG9ucy5zdWJtaXRcIikgfTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tc20gYnRuLWRhbmdlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyB0aGlzLnByb3BzLnN0b3BFZGl0aW5nIH0+eyBfKFwiZ2xvYmFsLmJ1dHRvbnMuZGlzY2FyZFwiKSB9PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgPC90cj5cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgSnVkZ2VSb3cgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgZWRpdGluZzogZmFsc2UsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhcnRFZGl0aW5nKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBlZGl0aW5nOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgc3RvcEVkaXRpbmcoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGVkaXRpbmc6IGZhbHNlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgb25EZWxldGUoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICBzaG93Q29uZmlybShfKFwiYWRtaW4uY29uZmlybXMuZGVsZXRlX2p1ZGdlXCIpLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIEFwaShcImp1ZGdlLmRlbGV0ZVwiLCB7XHJcbiAgICAgICAgICAgICAgICBqdWRnZV9pZDogdGhpcy5wcm9wcy5qdWRnZS5pZCxcclxuICAgICAgICAgICAgfSkub25TdWNjZXNzKCgpID0+IHN3YWwuY2xvc2UoKSkuc2VuZCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyRWRpdG9yKCkge1xyXG4gICAgICAgIHJldHVybiA8SnVkZ2VFZGl0b3JSb3dcclxuICAgICAgICAgICAgbmV3SnVkZ2U9eyBmYWxzZSB9XHJcbiAgICAgICAgICAgIHN0b3BFZGl0aW5nPXsgdGhpcy5zdG9wRWRpdGluZy5iaW5kKHRoaXMpIH1cclxuICAgICAgICAgICAgeyAuLi50aGlzLnByb3BzIH0gLz5cclxuICAgIH1cclxuICAgIHJlbmRlclZpZXdlcigpIHtcclxuICAgICAgICBsZXQgaiA9IHRoaXMucHJvcHMuanVkZ2U7XHJcbiAgICAgICAgcmV0dXJuIDx0ciBjbGFzc05hbWU9XCJ2aWV3ZXJcIiBvbkNsaWNrPXsgdGhpcy5zdGFydEVkaXRpbmcuYmluZCh0aGlzKSB9PlxyXG4gICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicm9sZS1kZXNjcmlwdGlvblwiPnsgai5yb2xlX2Rlc2NyaXB0aW9uIHx8IF8oXCJnbG9iYWwucGhyYXNlcy5qdWRnZV9uXCIsIGoubnVtYmVyKSB9PC90ZD5cclxuICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm5hbWVcIj57IGoubmFtZSB9PC90ZD5cclxuICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cImNhdGVnb3J5XCI+eyBqLmNhdGVnb3J5IH08L3RkPlxyXG4gICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwiZGVsZXRlXCI+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tZGFuZ2VyXCIgb25DbGljaz17IHRoaXMub25EZWxldGUuYmluZCh0aGlzKSB9Plg8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICA8L3RyPjtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5lZGl0aW5nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlckVkaXRvcigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlclZpZXdlcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgSnVkZ2VDcmVhdGlvblJvdyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBlZGl0aW5nOiBmYWxzZSxcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdGFydEVkaXRpbmcoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGVkaXRpbmc6IHRydWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBzdG9wRWRpdGluZygpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZWRpdGluZzogZmFsc2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZW5kZXJFZGl0b3IoKSB7XHJcbiAgICAgICAgbGV0IGVtcHR5X2RhdGEgPSB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlwiLFxyXG4gICAgICAgICAgICBcIm51bWJlclwiOiBcIlwiLFxyXG4gICAgICAgICAgICBcInJvbGVfZGVzY3JpcHRpb25cIjogXCJcIixcclxuICAgICAgICAgICAgXCJjYXRlZ29yeVwiOiBcIlwiLFxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gPEp1ZGdlRWRpdG9yUm93XHJcbiAgICAgICAgICAgIG5ld0p1ZGdlXHJcbiAgICAgICAgICAgIHN0b3BFZGl0aW5nPXsgdGhpcy5zdG9wRWRpdGluZy5iaW5kKHRoaXMpIH1cclxuICAgICAgICAgICAganVkZ2U9eyBlbXB0eV9kYXRhIH1cclxuICAgICAgICAgICAgeyAuLi50aGlzLnByb3BzIH0gLz47XHJcbiAgICB9XHJcbiAgICByZW5kZXJCdXR0b24oKSB7XHJcbiAgICAgICAgcmV0dXJuIDx0cj48dGQgY29sU3Bhbj1cIjVcIj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgZnVsbC13aWR0aFwiXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsgdGhpcy5zdGFydEVkaXRpbmcuYmluZCh0aGlzKSB9PnsgXyhcImFkbWluLmJ1dHRvbnMuYWRkX2p1ZGdlXCIpIH08L2J1dHRvbj5cclxuICAgICAgICA8L3RkPjwvdHI+XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuZWRpdGluZyA/IHRoaXMucmVuZGVyRWRpdG9yKCkgOiB0aGlzLnJlbmRlckJ1dHRvbigpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IF8gfSBmcm9tIFwibDEwbi9sb2FkZXJcIjtcclxuaW1wb3J0IHsgQ2x1YnMgfSBmcm9tIFwiLi9jbHVic1wiO1xyXG5pbXBvcnQgeyBDb21wZXRpdGlvblBsYW4gfSBmcm9tIFwiLi9jb21wZXRpdGlvbl9wbGFuXCI7XHJcbmltcG9ydCB7IENvbXBldGl0aW9uUmVwb3J0IH0gZnJvbSBcIi4vY29tcGV0aXRpb25fcmVwb3J0XCI7XHJcbmltcG9ydCB7IERpc2NpcGxpbmVzIH0gZnJvbSBcIi4vZGlzY2lwbGluZXNcIjtcclxuaW1wb3J0IHsgSW1wb3J0RXhwb3J0IH0gZnJvbSBcIi4vaW1wb3J0X2V4cG9ydFwiO1xyXG5pbXBvcnQgeyBKdWRnZXMgfSBmcm9tIFwiLi9qdWRnZXNcIjtcclxuaW1wb3J0IHsgUGFydGljaXBhbnRzICB9IGZyb20gXCIuL3BhcnRpY2lwYW50c1wiO1xyXG5pbXBvcnQgeyBTdGFydExpc3QgfSBmcm9tIFwiLi9zdGFydF9saXN0XCI7XHJcbmltcG9ydCB7IFRvdXJzIH0gZnJvbSBcIi4vdG91cnNcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTWFuYWdlbWVudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBcInBhZ2VcIjogdGhpcy5nZXRQYWdlRnJvbUhhc2goKSxcclxuICAgICAgICAgICAgXCJwYWdlX3Byb3BzXCI6IHRoaXMuZ2V0UGFnZVByb3BzRnJvbUhhc2goKSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgc3dpdGNoUGFnZShwYWdlLCBwcm9wcykge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBwYWdlOiBwYWdlLFxyXG4gICAgICAgICAgICBwYWdlX3Byb3BzOiBwcm9wcyxcclxuICAgICAgICB9KTtcclxuICAgICAgICBsZXQgcHJvcHNfcGFpcnMgPSBbXTtcclxuICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwcm9wcykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgIHByb3BzX3BhaXJzLnB1c2goW2tleSwgcHJvcHNba2V5XV0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gXCIjbWFuYWdlbWVudC9cIiArIHBhZ2UgKyBcIi9cIiArIHByb3BzX3BhaXJzLm1hcCgocCkgPT4gcC5qb2luKFwiPVwiKSkuam9pbihcIiRcIik7XHJcbiAgICB9XHJcbiAgICBnZXRQYWdlRnJvbUhhc2goKSB7XHJcbiAgICAgICAgbGV0IGNodW5rcyA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cigxKS5zcGxpdChcIi9cIik7XHJcbiAgICAgICAgaWYgKGNodW5rc1sxXSAmJiBbXHJcbiAgICAgICAgICAgICAgICBcImltcG9ydF9leHBvcnRcIixcclxuICAgICAgICAgICAgICAgIFwibWFuYWdlX2NvbXBldGl0aW9uX3BsYW5cIixcclxuICAgICAgICAgICAgICAgIFwibWFuYWdlX3RvdXJzXCIsXHJcbiAgICAgICAgICAgICAgICBcIm1hbmFnZV9wYXJ0aWNpcGFudHNcIixcclxuICAgICAgICAgICAgICAgIFwibWFuYWdlX2p1ZGdlc1wiLFxyXG4gICAgICAgICAgICAgICAgXCJtYW5hZ2VfY2x1YnNcIixcclxuICAgICAgICAgICAgICAgIFwibWFuYWdlX2Rpc2NpcGxpbmVzXCIsXHJcbiAgICAgICAgICAgICAgICBcInN0YXJ0X2xpc3RcIixcclxuICAgICAgICAgICAgICAgIFwiY29tcGV0aXRpb25fcmVwb3J0XCJdLmluZGV4T2YoY2h1bmtzWzFdKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjaHVua3NbMV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgZ2V0UGFnZVByb3BzRnJvbUhhc2goKSB7XHJcbiAgICAgICAgbGV0IGNodW5rcyA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cigxKS5zcGxpdChcIi9cIik7XHJcbiAgICAgICAgaWYgKGNodW5rc1syXSkge1xyXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0ge307XHJcbiAgICAgICAgICAgIGNodW5rc1syXS5zcGxpdChcIiRcIikuZm9yRWFjaChmdW5jdGlvbihwYWlyX3N0cikge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBhaXIgPSBwYWlyX3N0ci5zcGxpdChcIj1cIik7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRbcGFpclswXV0gPSBwYWlyWzFdO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfVxyXG4gICAgcmVuZGVyRGlzY2lwbGluZShpYywgcGFnZSkge1xyXG4gICAgICAgIHJldHVybiA8ZGl2XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9eyBcImxldmVsLTJcIiArIChcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnBhZ2UgPT09IHBhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgdGhpcy5zdGF0ZS5wYWdlX3Byb3BzLmRpc2NpcGxpbmVfaWQgPT09IGljLmlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCIgYWN0aXZlXCIgOiBcIlwiKSB9XHJcbiAgICAgICAgICAgICAgICBrZXk9eyBpYy5pZCB9XHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsgdGhpcy5zd2l0Y2hQYWdlLmJpbmQodGhpcywgcGFnZSwgeyBkaXNjaXBsaW5lX2lkOiBpYy5pZCB9KSB9PlxyXG4gICAgICAgICAgICB7IGljLm5hbWUgfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgfVxyXG4gICAgcmVuZGVyQ29udGVudCgpIHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUucGFnZSkge1xyXG4gICAgICAgIGNhc2UgXCJpbXBvcnRfZXhwb3J0XCI6XHJcbiAgICAgICAgICAgIHJldHVybiA8SW1wb3J0RXhwb3J0IGNvbXBldGl0aW9uX2lkPXsgdGhpcy5wcm9wcy5jb21wZXRpdGlvbl9pZCB9IC8+XHJcbiAgICAgICAgY2FzZSBcIm1hbmFnZV90b3Vyc1wiOlxyXG4gICAgICAgICAgICAvLyBTZWVraW5nIGZvciBkaXNjaXBsaW5lIHdpdGggZ2l2ZW4gSURcclxuICAgICAgICAgICAgbGV0IGljID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5kaXNjaXBsaW5lcy5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWwuaWQgPT09IHRoaXMuc3RhdGUucGFnZV9wcm9wcy5kaXNjaXBsaW5lX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWMgPSBlbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgcmV0dXJuIDxUb3Vyc1xyXG4gICAgICAgICAgICAgICAga2V5PXsgdGhpcy5zdGF0ZS5wYWdlX3Byb3BzLmRpc2NpcGxpbmVfaWQgfVxyXG4gICAgICAgICAgICAgICAgcnVsZXNfc2V0PXsgdGhpcy5wcm9wcy5ydWxlc19zZXQgfVxyXG4gICAgICAgICAgICAgICAgZGlzY2lwbGluZT17IGljIH0gLz5cclxuICAgICAgICBjYXNlIFwibWFuYWdlX3BhcnRpY2lwYW50c1wiOlxyXG4gICAgICAgICAgICByZXR1cm4gPFBhcnRpY2lwYW50c1xyXG4gICAgICAgICAgICAgICAga2V5PXsgdGhpcy5zdGF0ZS5wYWdlX3Byb3BzLmRpc2NpcGxpbmVfaWQgfVxyXG4gICAgICAgICAgICAgICAgZGlzY2lwbGluZV9pZD17IHRoaXMuc3RhdGUucGFnZV9wcm9wcy5kaXNjaXBsaW5lX2lkIH0gLz5cclxuICAgICAgICBjYXNlIFwibWFuYWdlX2p1ZGdlc1wiOlxyXG4gICAgICAgICAgICByZXR1cm4gPEp1ZGdlc1xyXG4gICAgICAgICAgICAgICAganVkZ2VzPXsgdGhpcy5wcm9wcy5qdWRnZXMgfVxyXG4gICAgICAgICAgICAgICAgY29tcGV0aXRpb25faWQ9eyB0aGlzLnByb3BzLmNvbXBldGl0aW9uX2lkIH0gLz5cclxuICAgICAgICBjYXNlIFwibWFuYWdlX2NsdWJzXCI6XHJcbiAgICAgICAgICAgIHJldHVybiA8Q2x1YnNcclxuICAgICAgICAgICAgICAgIGNsdWJzPXsgdGhpcy5wcm9wcy5jbHVicyB9XHJcbiAgICAgICAgICAgICAgICBjb21wZXRpdGlvbl9pZD17IHRoaXMucHJvcHMuY29tcGV0aXRpb25faWQgfSAvPlxyXG4gICAgICAgIGNhc2UgXCJtYW5hZ2VfY29tcGV0aXRpb25fcGxhblwiOlxyXG4gICAgICAgICAgICByZXR1cm4gPENvbXBldGl0aW9uUGxhblxyXG4gICAgICAgICAgICAgICAgaXRlbXM9eyB0aGlzLnByb3BzLmNvbXBldGl0aW9uX3BsYW4gfVxyXG4gICAgICAgICAgICAgICAgZGlzY2lwbGluZXM9eyB0aGlzLnByb3BzLmRpc2NpcGxpbmVzIH1cclxuICAgICAgICAgICAgICAgIGNvbXBldGl0aW9uX25hbWU9eyB0aGlzLnByb3BzLmNvbXBldGl0aW9uX25hbWUgfVxyXG4gICAgICAgICAgICAgICAgY29tcGV0aXRpb25fZGF0ZT17IHRoaXMucHJvcHMuY29tcGV0aXRpb25fZGF0ZSB9XHJcbiAgICAgICAgICAgICAgICBjb21wZXRpdGlvbl9pZD17IHRoaXMucHJvcHMuY29tcGV0aXRpb25faWQgfSAvPlxyXG4gICAgICAgIGNhc2UgXCJtYW5hZ2VfZGlzY2lwbGluZXNcIjpcclxuICAgICAgICAgICAgcmV0dXJuIDxEaXNjaXBsaW5lc1xyXG4gICAgICAgICAgICAgICAgZGlzY2lwbGluZXM9eyB0aGlzLnByb3BzLmRpc2NpcGxpbmVzIH1cclxuICAgICAgICAgICAgICAgIGp1ZGdlcz17IHRoaXMucHJvcHMuanVkZ2VzIH1cclxuICAgICAgICAgICAgICAgIGNvbXBldGl0aW9uX2lkPXsgdGhpcy5wcm9wcy5jb21wZXRpdGlvbl9pZCB9IC8+XHJcbiAgICAgICAgY2FzZSBcInN0YXJ0X2xpc3RcIjpcclxuICAgICAgICAgICAgcmV0dXJuIDxTdGFydExpc3RcclxuICAgICAgICAgICAgICAgIGNvbXBldGl0aW9uX2lkPXsgdGhpcy5wcm9wcy5jb21wZXRpdGlvbl9pZCB9IC8+XHJcbiAgICAgICAgY2FzZSBcImNvbXBldGl0aW9uX3JlcG9ydFwiOlxyXG4gICAgICAgICAgICByZXR1cm4gPENvbXBldGl0aW9uUmVwb3J0XHJcbiAgICAgICAgICAgICAgICBjb21wZXRpdGlvbl9pZD17IHRoaXMucHJvcHMuY29tcGV0aXRpb25faWQgfSAvPlxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlbmRlclNpZGVNZW51KCkge1xyXG4gICAgICAgIHZhciBpY3NfdG91cnMgPSB0aGlzLnByb3BzLmRpc2NpcGxpbmVzLm1hcChmdW5jdGlvbihpYykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJEaXNjaXBsaW5lKGljLCBcIm1hbmFnZV90b3Vyc1wiKTtcclxuICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgICAgIHZhciBpY3NfcGFydGljaXBhbnRzID0gdGhpcy5wcm9wcy5kaXNjaXBsaW5lcy5tYXAoZnVuY3Rpb24oaWMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyRGlzY2lwbGluZShpYywgXCJtYW5hZ2VfcGFydGljaXBhbnRzXCIpO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwic2lkZS1tZW51XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmxvY2tcIj5cclxuICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXsgXCJsZXZlbC0xXCIgKyAodGhpcy5zdGF0ZS5wYWdlID09PSBcImltcG9ydF9leHBvcnRcIiA/IFwiIGFjdGl2ZVwiIDogXCJcIikgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsgdGhpcy5zd2l0Y2hQYWdlLmJpbmQodGhpcywgXCJpbXBvcnRfZXhwb3J0XCIsIHt9KSB9ID5cclxuICAgICAgICAgICAgICAgICAgICB7IF8oXCJhZG1pbi5tZW51LmltcG9ydF9leHBvcnRcIikgfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJsb2NrXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17IFwibGV2ZWwtMVwiICsgKHRoaXMuc3RhdGUucGFnZSA9PT0gXCJtYW5hZ2VfanVkZ2VzXCIgPyBcIiBhY3RpdmVcIiA6IFwiXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17IHRoaXMuc3dpdGNoUGFnZS5iaW5kKHRoaXMsIFwibWFuYWdlX2p1ZGdlc1wiLCB7fSkgfT5cclxuICAgICAgICAgICAgICAgICAgICB7IF8oXCJhZG1pbi5tZW51Lm1hbmFnZV9qdWRnZXNcIikgfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJsb2NrXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17IFwibGV2ZWwtMVwiICsgKHRoaXMuc3RhdGUucGFnZSA9PT0gXCJtYW5hZ2VfZGlzY2lwbGluZXNcIiA/IFwiIGFjdGl2ZVwiIDogXCJcIikgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsgdGhpcy5zd2l0Y2hQYWdlLmJpbmQodGhpcywgXCJtYW5hZ2VfZGlzY2lwbGluZXNcIiwge30pIH0+XHJcbiAgICAgICAgICAgICAgICAgICAgeyBfKFwiYWRtaW4ubWVudS5tYW5hZ2VfZGlzY2lwbGluZXNcIikgfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJsb2NrXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17IFwibGV2ZWwtMVwiICsgKHRoaXMuc3RhdGUucGFnZSA9PT0gXCJtYW5hZ2VfY2x1YnNcIiA/IFwiIGFjdGl2ZVwiIDogXCJcIikgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsgdGhpcy5zd2l0Y2hQYWdlLmJpbmQodGhpcywgXCJtYW5hZ2VfY2x1YnNcIiwge30pIH0+XHJcbiAgICAgICAgICAgICAgICAgICAgeyBfKFwiYWRtaW4ubWVudS5tYW5hZ2VfY2x1YnNcIikgfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGV0YWlscyBjbGFzc05hbWU9XCJibG9ja1wiIG9wZW49eyAhIXBhcnNlSW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJEX1NQT1JUU01FTlwiKSkgfT5cclxuICAgICAgICAgICAgICAgIDxzdW1tYXJ5IGNsYXNzTmFtZT1cImxldmVsLTFcIiBvbkNsaWNrPXsgKGUpID0+IHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJEX1NQT1JUU01FTlwiLCBlLnRhcmdldC5wYXJlbnROb2RlLm9wZW4gPyAwIDogMSkgfT5cclxuICAgICAgICAgICAgICAgICAgICB7IF8oXCJhZG1pbi5tZW51Lm1hbmFnZV9zcG9ydHNtZW5cIikgfVxyXG4gICAgICAgICAgICAgICAgPC9zdW1tYXJ5PlxyXG4gICAgICAgICAgICAgICAgeyBpY3NfcGFydGljaXBhbnRzIH1cclxuICAgICAgICAgICAgPC9kZXRhaWxzPlxyXG4gICAgICAgICAgICA8ZGV0YWlscyBjbGFzc05hbWU9XCJibG9ja1wiIG9wZW49eyAhIXBhcnNlSW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJEX1RPVVJTXCIpKSB9PlxyXG4gICAgICAgICAgICAgICAgPHN1bW1hcnkgY2xhc3NOYW1lPVwibGV2ZWwtMVwiIG9uQ2xpY2s9eyAoZSkgPT4gc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcIkRfVE9VUlNcIiwgZS50YXJnZXQucGFyZW50Tm9kZS5vcGVuID8gMCA6IDEpIH0+XHJcbiAgICAgICAgICAgICAgICAgICAgeyBfKFwiYWRtaW4ubWVudS5tYW5hZ2VfdG91cnNcIikgfVxyXG4gICAgICAgICAgICAgICAgPC9zdW1tYXJ5PlxyXG4gICAgICAgICAgICAgICAgeyBpY3NfdG91cnMgfVxyXG4gICAgICAgICAgICA8L2RldGFpbHM+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmxvY2tcIj5cclxuICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXsgXCJsZXZlbC0xXCIgKyAodGhpcy5zdGF0ZS5wYWdlID09PSBcIm1hbmFnZV9jb21wZXRpdGlvbl9wbGFuXCIgPyBcIiBhY3RpdmVcIiA6IFwiXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17IHRoaXMuc3dpdGNoUGFnZS5iaW5kKHRoaXMsIFwibWFuYWdlX2NvbXBldGl0aW9uX3BsYW5cIiwge30pIH0+XHJcbiAgICAgICAgICAgICAgICAgICAgeyBfKFwiYWRtaW4ubWVudS5tYW5hZ2VfY29tcGV0aXRpb25fcGxhblwiKSB9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmxvY2tcIj5cclxuICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXsgXCJsZXZlbC0xXCIgKyAodGhpcy5zdGF0ZS5wYWdlID09PSBcInN0YXJ0X2xpc3RcIiA/IFwiIGFjdGl2ZVwiIDogXCJcIikgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsgdGhpcy5zd2l0Y2hQYWdlLmJpbmQodGhpcywgXCJzdGFydF9saXN0XCIsIHt9KSB9PlxyXG4gICAgICAgICAgICAgICAgICAgIHsgXyhcImFkbWluLm1lbnUuc3RhcnRfbGlzdFwiKSB9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmxvY2tcIj5cclxuICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXsgXCJsZXZlbC0xXCIgKyAodGhpcy5zdGF0ZS5wYWdlID09PSBcImNvbXBldGl0aW9uX3JlcG9ydFwiID8gXCIgYWN0aXZlXCIgOiBcIlwiKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyB0aGlzLnN3aXRjaFBhZ2UuYmluZCh0aGlzLCBcImNvbXBldGl0aW9uX3JlcG9ydFwiLCB7fSkgfT5cclxuICAgICAgICAgICAgICAgICAgICB7IF8oXCJhZG1pbi5tZW51LmNvbXBldGl0aW9uX3JlcG9ydFwiKSB9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiYXBwXCI+XHJcbiAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJTaWRlTWVudSgpIH1cclxuICAgICAgICAgICAgeyB0aGlzLnJlbmRlckNvbnRlbnQoKSB9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgXyB9IGZyb20gXCJsMTBuL2xvYWRlclwiO1xyXG5pbXBvcnQgeyBBcGkgfSBmcm9tIFwic2VydmVyL2FwaVwiO1xyXG5pbXBvcnQgeyBzdG9yYWdlIH0gZnJvbSBcInNlcnZlci9zdG9yYWdlXCI7XHJcbmltcG9ydCB7IG1lc3NhZ2VfZGlzcGF0Y2hlciB9IGZyb20gXCJzZXJ2ZXIvbWVzc2FnZV9kaXNwYXRjaGVyXCI7XHJcbmltcG9ydCB7IExvYWRlciB9IGZyb20gXCJ1aS9jb21wb25lbnRzXCI7XHJcbmltcG9ydCB7IHNob3dDb25maXJtLCBzaG93RXJyb3IgfSBmcm9tIFwidWkvZGlhbG9nc1wiO1xyXG5pbXBvcnQgeyBjbG9uZSB9IGZyb20gXCJjb21tb24vdG9vbHNcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgUGFydGljaXBhbnRzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IG51bGwsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcclxuICAgICAgICB0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlLmdldERvbWFpbihgcGFydGljaXBhbnRzXyR7dGhpcy5wcm9wcy5kaXNjaXBsaW5lX2lkfWApO1xyXG4gICAgICAgIHRoaXMucmVsb2FkX2xpc3RlbmVyID0gbWVzc2FnZV9kaXNwYXRjaGVyLmFkZExpc3RlbmVyKFwicmVsb2FkX2RhdGFcIiwgdGhpcy5sb2FkRGF0YS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLmRiX3VwZGF0ZV9saXN0ZW5lciA9IG1lc3NhZ2VfZGlzcGF0Y2hlci5hZGRMaXN0ZW5lcihcImRiX3VwZGF0ZVwiLCB0aGlzLnJlbG9hZEZyb21TdG9yYWdlLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRoaXMubG9hZERhdGEoKTtcclxuICAgIH1cclxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgICAgIG1lc3NhZ2VfZGlzcGF0Y2hlci5yZW1vdmVMaXN0ZW5lcih0aGlzLnJlbG9hZF9saXN0ZW5lcik7XHJcbiAgICAgICAgbWVzc2FnZV9kaXNwYXRjaGVyLnJlbW92ZUxpc3RlbmVyKHRoaXMuZGJfdXBkYXRlX2xpc3RlbmVyKTtcclxuICAgICAgICBzdG9yYWdlLmRlbERvbWFpbihgcGFydGljaXBhbnRzXyR7dGhpcy5wcm9wcy5kaXNjaXBsaW5lX2lkfWApO1xyXG4gICAgfVxyXG4gICAgcmVsb2FkRnJvbVN0b3JhZ2UoKSB7XHJcbiAgICAgICAgdmFyIFNDSEVNQSA9IHtcclxuICAgICAgICAgICAgY29tcGV0aXRpb246IHtcclxuICAgICAgICAgICAgICAgIGNsdWJzOiB7fSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcGFydGljaXBhbnRzOiB7XHJcbiAgICAgICAgICAgICAgICBjbHViOiB7fSxcclxuICAgICAgICAgICAgICAgIHByb2dyYW1zOiB7fSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGxldCBzZXJpYWxpemVkID0gdGhpcy5zdG9yYWdlLmdldChcIkRpc2NpcGxpbmVcIilcclxuICAgICAgICAgICAgLmJ5X2lkKHRoaXMucHJvcHMuZGlzY2lwbGluZV9pZClcclxuICAgICAgICAgICAgLnNlcmlhbGl6ZShTQ0hFTUEpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoc2VyaWFsaXplZCk7XHJcbiAgICB9XHJcbiAgICBsb2FkRGF0YSgpIHtcclxuICAgICAgICBBcGkoXCJkaXNjaXBsaW5lLmdldFwiLCB7XHJcbiAgICAgICAgICAgIGRpc2NpcGxpbmVfaWQ6IHRoaXMucHJvcHMuZGlzY2lwbGluZV9pZCxcclxuICAgICAgICAgICAgY2hpbGRyZW46IHtcclxuICAgICAgICAgICAgICAgIGNvbXBldGl0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2x1YnM6IHt9LFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50czoge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsdWI6IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2dyYW1zOiB7fSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hZGRUb0RCKFwiRGlzY2lwbGluZVwiLCB0aGlzLnByb3BzLmRpc2NpcGxpbmVfaWQsIHRoaXMuc3RvcmFnZSlcclxuICAgICAgICAub25TdWNjZXNzKHRoaXMucmVsb2FkRnJvbVN0b3JhZ2UuYmluZCh0aGlzKSlcclxuICAgICAgICAuc2VuZCgpO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyVGFibGUoKSB7XHJcbiAgICAgICAgbGV0IHJvd3MgPSB0aGlzLnN0YXRlLnBhcnRpY2lwYW50cy5tYXAoKHBhcnRpY2lwYW50KSA9PlxyXG4gICAgICAgICAgICA8UGFydGljaXBhbnRSb3dcclxuICAgICAgICAgICAgICAgIGtleT17IHBhcnRpY2lwYW50LmlkIH1cclxuICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50PXsgcGFydGljaXBhbnQgfVxyXG4gICAgICAgICAgICAgICAgY2x1YnM9eyB0aGlzLnN0YXRlLmNvbXBldGl0aW9uLmNsdWJzIH0gLz5cclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1hbmFnZS1wYXJ0aWNpcGFudHNcIj5cclxuICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cInRhYmxlIHRhYmxlLXN0cmlwZWRcIj5cclxuICAgICAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJudW1iZXJcIj57IF8oXCJtb2RlbHMucGFydGljaXBhbnQubnVtYmVyXCIpIH08L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwibmFtZVwiPnsgXyhcIm1vZGVscy5wYXJ0aWNpcGFudC5uYW1lXCIpIH08L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwiY2x1Yi1uYW1lXCI+eyBfKFwibW9kZWxzLnBhcnRpY2lwYW50LmNsdWJfbmFtZVwiKSB9PC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cImNsdWItY2l0eVwiPnsgXyhcIm1vZGVscy5wYXJ0aWNpcGFudC5jbHViX2NpdHlcIikgfTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJkZWxldGVcIj48L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgeyByb3dzIH1cclxuICAgICAgICAgICAgICAgICAgICA8UGFydGljaXBhbnRDcmVhdGlvblJvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbHVicz17IHRoaXMuc3RhdGUuY29tcGV0aXRpb24uY2x1YnMgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNjaXBsaW5lX2lkPXsgdGhpcy5wcm9wcy5kaXNjaXBsaW5lX2lkIH0gLz5cclxuICAgICAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG90YWwtcGFydGljaXBhbnRzXCI+XHJcbiAgICAgICAgICAgICAgICB7IF8oXCJhZG1pbi5waHJhc2VzLnRvdGFsX25fcGFydGljaXBhbnRzXCIsIHRoaXMuc3RhdGUucGFydGljaXBhbnRzLmxlbmd0aCkgfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5uYW1lID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiA8TG9hZGVyIC8+XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImFwcC1jb250ZW50XCI+XHJcbiAgICAgICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiYXBwLWhlYWRlclwiPlxyXG4gICAgICAgICAgICAgICAgPGgxPnsgdGhpcy5zdGF0ZS5uYW1lIH08L2gxPlxyXG4gICAgICAgICAgICAgICAgPGgyPnsgXyhcImFkbWluLmhlYWRlcnMucGFydGljaXBhbnRzX21hbmFnZW1lbnRcIikgfTwvaDI+XHJcbiAgICAgICAgICAgIDwvaGVhZGVyPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFwcC1ib2R5XCI+XHJcbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyVGFibGUoKSB9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBDbHVic1NlbGVjdG9yIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIHJlbmRlckxpc3QoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2x1YnMubWFwKChjbHViKSA9PlxyXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPXsgY2x1Yi5pZCB9IGtleT17IGNsdWIuaWQgfT57IGNsdWIubmFtZSB9PC9vcHRpb24+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gPHNlbGVjdFxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZnVsbC13aWR0aFwiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17IHRoaXMucHJvcHMuY2x1Yl9pZCB9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMucHJvcHMub25DaGFuZ2UgfT5cclxuICAgICAgICAgICAgeyB0aGlzLnJlbmRlckxpc3QoKSB9XHJcbiAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFBhcnRpY2lwYW50RWRpdG9yUm93R2VuZXJhbEluZm8gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgZ2VuT25DaGFuZ2UoZmllbGQpIHtcclxuICAgICAgICByZXR1cm4gKGV2ZW50KSA9PiB0aGlzLnByb3BzLm9uQ2hhbmdlKGZpZWxkLCBldmVudC50YXJnZXQudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiA8ZGl2PlxyXG4gICAgICAgICAgICA8aDQ+eyBfKFwibW9kZWxzLnBhcnRpY2lwYW50LmdlbmVyYWxfaW5mb1wiKSB9PC9oND5cclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17IF8oXCJtb2RlbHMucGFydGljaXBhbnQubnVtYmVyXCIpIH1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZ1bGwtd2lkdGhcIlxyXG4gICAgICAgICAgICAgICAgdmFsdWU9eyB0aGlzLnByb3BzLnBhcnRpY2lwYW50Lm51bWJlciB9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMuZ2VuT25DaGFuZ2UoXCJudW1iZXJcIikgfSAvPlxyXG4gICAgICAgICAgICA8Q2x1YnNTZWxlY3RvclxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZnVsbC13aWR0aFwiXHJcbiAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudD17IHRoaXMucHJvcHMucGFydGljaXBhbnQgfVxyXG4gICAgICAgICAgICAgICAgY2x1Yl9pZD17IHRoaXMucHJvcHMucGFydGljaXBhbnQuY2x1Yl9pZCB9XHJcbiAgICAgICAgICAgICAgICBjbHVicz17IHRoaXMucHJvcHMuY2x1YnMgfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLmdlbk9uQ2hhbmdlKFwiY2x1Yl9pZFwiKSB9IC8+XHJcbiAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9eyBfKFwibW9kZWxzLnBhcnRpY2lwYW50LmNvYWNoZXNcIikgfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZnVsbC13aWR0aFwiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17IHRoaXMucHJvcHMucGFydGljaXBhbnQuY29hY2hlcyB9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMuZ2VuT25DaGFuZ2UoXCJjb2FjaGVzXCIpIH0gLz5cclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17IF8oXCJtb2RlbHMucGFydGljaXBhbnQuZm9ybWF0aW9uX25hbWVcIikgfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZnVsbC13aWR0aFwiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17IHRoaXMucHJvcHMucGFydGljaXBhbnQuZm9ybWF0aW9uX25hbWUgfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLmdlbk9uQ2hhbmdlKFwiZm9ybWF0aW9uX25hbWVcIikgfSAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBQYXJ0aWNpcGFudEVkaXRvclJvd1Nwb3J0c21hbiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBnZW5PbkNoYW5nZShmaWVsZCkge1xyXG4gICAgICAgIHJldHVybiBldmVudCA9PiB0aGlzLnByb3BzLm9uQ2hhbmdlKGZpZWxkLCBldmVudC50YXJnZXQudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgZ2VuT25TdWJzdGl0dXRlQ2hhbmdlKCkge1xyXG4gICAgICAgIHJldHVybiBldmVudCA9PiB0aGlzLnByb3BzLm9uQ2hhbmdlKFwic3Vic3RpdHV0ZVwiLCBldmVudC50YXJnZXQudmFsdWUgPT09IFwiWVwiKTtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJzcG9ydHNtYW5cIj5cclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJsYXN0LW5hbWVcIlxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9eyBfKFwibW9kZWxzLnBhcnRpY2lwYW50Lmxhc3RfbmFtZVwiKSB9XHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17IHRoaXMucHJvcHMuc3BvcnRzbWFuLmxhc3RfbmFtZSB9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMuZ2VuT25DaGFuZ2UoXCJsYXN0X25hbWVcIikgfSAvPlxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZpcnN0LW5hbWVcIlxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9eyBfKFwibW9kZWxzLnBhcnRpY2lwYW50LmZpcnN0X25hbWVcIikgfVxyXG4gICAgICAgICAgICAgICAgdmFsdWU9eyB0aGlzLnByb3BzLnNwb3J0c21hbi5maXJzdF9uYW1lIH1cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsgdGhpcy5nZW5PbkNoYW5nZShcImZpcnN0X25hbWVcIikgfSAvPlxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInlvYlwiXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17IF8oXCJtb2RlbHMucGFydGljaXBhbnQueW9iXCIpIH1cclxuICAgICAgICAgICAgICAgIHZhbHVlPXsgdGhpcy5wcm9wcy5zcG9ydHNtYW4ueWVhcl9vZl9iaXJ0aCB9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMuZ2VuT25DaGFuZ2UoXCJ5ZWFyX29mX2JpcnRoXCIpIH0gLz5cclxuICAgICAgICAgICAgPHNlbGVjdFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdlbmRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9eyB0aGlzLnByb3BzLnNwb3J0c21hbi5nZW5kZXIgfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsgdGhpcy5nZW5PbkNoYW5nZShcImdlbmRlclwiKSB9PlxyXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkZcIj57IF8oXCJtb2RlbHMucGFydGljaXBhbnQuZ2VuZGVyX2ZcIikgfTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIk1cIj57IF8oXCJtb2RlbHMucGFydGljaXBhbnQuZ2VuZGVyX21cIikgfTwvb3B0aW9uPlxyXG4gICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgICAgPHNlbGVjdFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInN1YnN0aXR1dGVcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXsgdGhpcy5wcm9wcy5zcG9ydHNtYW4uc3Vic3RpdHV0ZSA/IFwiWVwiIDogXCJOXCIgfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsgdGhpcy5nZW5PblN1YnN0aXR1dGVDaGFuZ2UoKSB9PlxyXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIk5cIj57IF8oXCJtb2RlbHMucGFydGljaXBhbnQuc3Vic3RpdHV0ZV9uXCIpIH08L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJZXCI+eyBfKFwibW9kZWxzLnBhcnRpY2lwYW50LnN1YnN0aXR1dGVfeVwiKSB9PC9vcHRpb24+XHJcbiAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRlbCBidG4gYnRuLWRhbmdlclwiXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsgdGhpcy5wcm9wcy5vblNwb3J0c21hblJlbW92ZSB9Plg8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgUGFydGljaXBhbnRFZGl0b3JSb3dTcG9ydHNtZW5MaXN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGdlbk9uQ2hhbmdlKGlkeCkge1xyXG4gICAgICAgIHJldHVybiAoZmllbGQsIHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBsaXN0ID0gY2xvbmUodGhpcy5wcm9wcy5zcG9ydHNtZW4pO1xyXG4gICAgICAgICAgICBsaXN0W2lkeF1bZmllbGRdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UoXCJzcG9ydHNtZW5cIiwgbGlzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYWRkU3BvcnRzbWFuKCkge1xyXG4gICAgICAgIGxldCBsaXN0ID0gY2xvbmUodGhpcy5wcm9wcy5zcG9ydHNtZW4pO1xyXG4gICAgICAgIGxpc3QucHVzaCh7XHJcbiAgICAgICAgICAgIFwibGFzdF9uYW1lXCI6IFwiXCIsXHJcbiAgICAgICAgICAgIFwiZmlyc3RfbmFtZVwiOiBcIlwiLFxyXG4gICAgICAgICAgICBcInllYXJfb2ZfYmlydGhcIjogXCIwXCIsXHJcbiAgICAgICAgICAgIFwiZ2VuZGVyXCI6IFwiRlwiLFxyXG4gICAgICAgICAgICBcInN1YnN0aXR1dGVcIjogZmFsc2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZShcInNwb3J0c21lblwiLCBsaXN0KTtcclxuICAgIH1cclxuICAgIHJlbW92ZVNwb3J0c21hbihpZHgpIHtcclxuICAgICAgICBsZXQgbGlzdCA9IGNsb25lKHRoaXMucHJvcHMuc3BvcnRzbWVuKTtcclxuICAgICAgICBsaXN0LnNwbGljZShpZHgsIDEpO1xyXG4gICAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UoXCJzcG9ydHNtZW5cIiwgbGlzdCk7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIDxkaXY+XHJcbiAgICAgICAgICAgIDxoND57IF8oXCJtb2RlbHMucGFydGljaXBhbnQuc3BvcnRzbWVuXCIpIH08L2g0PlxyXG4gICAgICAgICAgICB7IHRoaXMucHJvcHMuc3BvcnRzbWVuLm1hcCgoc3AsIGlkeCkgPT5cclxuICAgICAgICAgICAgICAgIDxQYXJ0aWNpcGFudEVkaXRvclJvd1Nwb3J0c21hblxyXG4gICAgICAgICAgICAgICAgICAgIGtleT17IGlkeCB9XHJcbiAgICAgICAgICAgICAgICAgICAgc3BvcnRzbWFuPXsgc3AgfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uU3BvcnRzbWFuUmVtb3ZlPXsgdGhpcy5yZW1vdmVTcG9ydHNtYW4uYmluZCh0aGlzLCBpZHgpIH1cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMuZ2VuT25DaGFuZ2UoaWR4KSB9IC8+XHJcbiAgICAgICAgICAgICkgfVxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZ1bGwtd2lkdGggYnRuIGJ0bi1zbSBidG4tZGVmYXVsdFwiXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsgdGhpcy5hZGRTcG9ydHNtYW4uYmluZCh0aGlzKSB9PnsgXyhcImdsb2JhbC5idXR0b25zLmFkZFwiKSB9PC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFBhcnRpY2lwYW50RWRpdG9yUm93UHJvZ3JhbUVkaXRvckVsZW1lbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgZ2VuT25DaGFuZ2UoZmllbGQpIHtcclxuICAgICAgICByZXR1cm4gKGV2ZW50KSA9PiB0aGlzLnByb3BzLm9uQ2hhbmdlKGZpZWxkLCBldmVudC50YXJnZXQudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImFjcm9iYXRpY1wiPlxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRlc2NyaXB0aW9uXCJcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXsgXyhcIm1vZGVscy5wYXJ0aWNpcGFudC5hY3JvX2Rlc2NyaXB0aW9uXCIpIH1cclxuICAgICAgICAgICAgICAgIHZhbHVlPXsgdGhpcy5wcm9wcy5lbGVtZW50LmRlc2NyaXB0aW9uIH1cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsgdGhpcy5nZW5PbkNoYW5nZShcImRlc2NyaXB0aW9uXCIpIH0gLz5cclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzY29yZVwiXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17IF8oXCJtb2RlbHMucGFydGljaXBhbnQuYWNyb19zY29yZVwiKSB9XHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17IHRoaXMucHJvcHMuZWxlbWVudC5zY29yZSB9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMuZ2VuT25DaGFuZ2UoXCJzY29yZVwiKSB9IC8+XHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZGVsIGJ0biBidG4tZGFuZ2VyXCJcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyB0aGlzLnByb3BzLm9uRWxlbWVudFJlbW92ZSB9Plg8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgUGFydGljaXBhbnRFZGl0b3JSb3dQcm9ncmFtRWRpdG9yRWxlbWVudHMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgZWxlbWVudHM6IGNsb25lKHRoaXMucHJvcHMuZWxlbWVudHMpLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBjaGFuZ2VFbGVtZW50cyhmdW5jKSB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnRzID0gY2xvbmUodGhpcy5zdGF0ZS5lbGVtZW50cyk7XHJcbiAgICAgICAgZWxlbWVudHMgPSBmdW5jKGVsZW1lbnRzKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtlbGVtZW50c30pO1xyXG4gICAgfVxyXG4gICAgb25DaGFuZ2UoaWR4LCBmaWVsZCwgdmFsdWUpIHtcclxuICAgICAgICB0aGlzLmNoYW5nZUVsZW1lbnRzKChlbGVtZW50cykgPT4ge1xyXG4gICAgICAgICAgICBlbGVtZW50c1tpZHhdW2ZpZWxkXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudHM7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBhZGRFbGVtZW50KCkge1xyXG4gICAgICAgIHRoaXMuY2hhbmdlRWxlbWVudHMoKGVsZW1lbnRzKSA9PiB7XHJcbiAgICAgICAgICAgIGVsZW1lbnRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBzY29yZTogMCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50cztcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJlbW92ZUVsZW1lbnQoaWR4KSB7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VFbGVtZW50cygoZWxlbWVudHMpID0+IHtcclxuICAgICAgICAgICAgZWxlbWVudHMuc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50cztcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGxvYWQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBlbGVtZW50czogZGF0YS5tYXAoZSA9PiAoe1xyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGVbMF0sXHJcbiAgICAgICAgICAgICAgICBzY29yZTogZVsxXSxcclxuICAgICAgICAgICAgfSkpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgc2VyaWFsaXplKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmVsZW1lbnRzLm1hcChlbGVtZW50ID0+ICh7XHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBlbGVtZW50LmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBzY29yZTogcGFyc2VGbG9hdChlbGVtZW50LnNjb3JlKSB8fCAwLFxyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJlbGVtZW50c1wiPlxyXG4gICAgICAgICAgICB7IHRoaXMuc3RhdGUuZWxlbWVudHMubWFwKChlbGVtZW50LCBpZHgpID0+XHJcbiAgICAgICAgICAgICAgICA8UGFydGljaXBhbnRFZGl0b3JSb3dQcm9ncmFtRWRpdG9yRWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgIGtleT17IGlkeCB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudD17IGVsZW1lbnQgfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsgdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMsIGlkeCkgfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uRWxlbWVudFJlbW92ZT17IHRoaXMucmVtb3ZlRWxlbWVudC5iaW5kKHRoaXMsIGlkeCkgfS8+XHJcbiAgICAgICAgICAgICkgfVxyXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLXNtIGJ0bi1kZWZhdWx0IGZ1bGwtd2lkdGhcIiBvbkNsaWNrPXsgdGhpcy5hZGRFbGVtZW50LmJpbmQodGhpcykgfT5cclxuICAgICAgICAgICAgICAgIHsgXyhcImdsb2JhbC5idXR0b25zLmFkZFwiKSB9XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBQYXJ0aWNpcGFudEVkaXRvclJvd1Byb2dyYW1FZGl0b3IgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgbG9hZEFjcm9iYXRpY3MoKSB7XHJcbiAgICAgICAgc3dhbCh7XHJcbiAgICAgICAgICAgIHRpdGxlOiBfKFwiYWRtaW4uaGVhZGVycy5sb2FkX2Fjcm9iYXRpY3NcIiksXHJcbiAgICAgICAgICAgIHRleHQ6IF8oXCJhZG1pbi5sYWJlbHMucGFzdGVfYWNyb1wiKSxcclxuICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSxcclxuICAgICAgICAgICAgY2xvc2VPbkNvbmZpcm06IGZhbHNlLFxyXG4gICAgICAgICAgICB0eXBlOiBcImlucHV0XCIsXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbjogZmFsc2UsXHJcbiAgICAgICAgfSwgdmFsdWUgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVmcy5lbGVtZW50c19lZGl0b3IubG9hZChkYXRhKTtcclxuICAgICAgICAgICAgICAgIHN3YWwuY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoU3ludGF4RXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHNob3dFcnJvcihfKFwiZXJyb3JzLmFkbWluLmxvYWRfc3ludGF4X2Vycm9yXCIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgc2VyaWFsaXplKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG5hbWU6IHRoaXMucmVmcy5uYW1lLnZhbHVlLFxyXG4gICAgICAgICAgICBkZWZhdWx0X2ZvcjogdGhpcy5yZWZzLmRlZmF1bHRfZm9yLnZhbHVlLFxyXG4gICAgICAgICAgICBhY3JvYmF0aWNzOiB0aGlzLnJlZnMuZWxlbWVudHNfZWRpdG9yLnNlcmlhbGl6ZSgpLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBsZXQgY2xhc3NlcyA9IFtcInByb2dyYW0tZWRpdG9yXCJdO1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmNyZWF0aW5nKSB7XHJcbiAgICAgICAgICAgIGNsYXNzZXMucHVzaChcImNyZWF0ZVwiKVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gPGZvcm0gY2xhc3NOYW1lPXsgY2xhc3Nlcy5qb2luKFwiIFwiKSB9IG9uU3VibWl0PXsgZSA9PiB7IGUucHJldmVudERlZmF1bHQoKTsgdGhpcy5wcm9wcy5vblN1Ym1pdCh0aGlzLnNlcmlhbGl6ZSgpKSB9IH0+XHJcbiAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgcmVmPVwibmFtZVwiXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJuYW1lXCJcclxuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17IHRoaXMucHJvcHMucHJvZ3JhbS5uYW1lIHx8IFwiXCIgfVxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9eyBfKFwibW9kZWxzLnByb2dyYW0ubmFtZVwiKSB9IC8+XHJcbiAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgcmVmPVwiZGVmYXVsdF9mb3JcIlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZGVmYXVsdC1mb3JcIlxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXsgdGhpcy5wcm9wcy5wcm9ncmFtLmRlZmF1bHRfZm9yIHx8IFwiXCIgfVxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9eyBfKFwibW9kZWxzLnByb2dyYW0uZGVmYXVsdF9mb3JcIikgfSAvPlxyXG4gICAgICAgICAgICA8UGFydGljaXBhbnRFZGl0b3JSb3dQcm9ncmFtRWRpdG9yRWxlbWVudHNcclxuICAgICAgICAgICAgICAgIHJlZj1cImVsZW1lbnRzX2VkaXRvclwiXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cz17IHRoaXMucHJvcHMucHJvZ3JhbS5hY3JvYmF0aWNzIHx8IFtdIH0gLz5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwdWxsLXJpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLXNtIGJ0bi1kZWZhdWx0XCIgb25DbGljaz17IHRoaXMubG9hZEFjcm9iYXRpY3MuYmluZCh0aGlzKSB9PlxyXG4gICAgICAgICAgICAgICAgICAgIHsgXyhcImFkbWluLmJ1dHRvbnMubG9hZF9hY3JvXCIpIH1cclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXNtIGJ0bi1wcmltYXJ5XCI+XHJcbiAgICAgICAgICAgICAgICB7IF8oXCJnbG9iYWwuYnV0dG9ucy5zdWJtaXRcIikgfVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1zbSBidG4tZGFuZ2VyXCIgb25DbGljaz17IHRoaXMucHJvcHMub25TdG9wRWRpdGluZyB9PlxyXG4gICAgICAgICAgICAgICAgeyBfKFwiZ2xvYmFsLmJ1dHRvbnMuZGlzY2FyZFwiKSB9XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZm9ybT5cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgUGFydGljaXBhbnRFZGl0b3JSb3dQcm9ncmFtQ3JlYXRvciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBlZGl0aW5nOiBmYWxzZSxcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdG9wRWRpdGluZygpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZWRpdGluZzogZmFsc2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBzdGFydEVkaXRpbmcoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGVkaXRpbmc6IHRydWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBvblN1Ym1pdChkYXRhKSB7XHJcbiAgICAgICAgQXBpKFwicHJvZ3JhbS5jcmVhdGVcIiwgeyBwYXJ0aWNpcGFudF9pZDogdGhpcy5wcm9wcy5wYXJ0aWNpcGFudF9pZCwgZGF0YTogZGF0YSB9KVxyXG4gICAgICAgICAgICAub25TdWNjZXNzKHRoaXMuc3RvcEVkaXRpbmcuYmluZCh0aGlzKSlcclxuICAgICAgICAgICAgLnNlbmQoKTtcclxuICAgIH1cclxuICAgIHJlbmRlckJvZHkoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZWRpdGluZykge1xyXG4gICAgICAgICAgICByZXR1cm4gPFBhcnRpY2lwYW50RWRpdG9yUm93UHJvZ3JhbUVkaXRvclxyXG4gICAgICAgICAgICAgICAgY3JlYXRpbmdcclxuICAgICAgICAgICAgICAgIG9uU3VibWl0PXsgdGhpcy5vblN1Ym1pdC5iaW5kKHRoaXMpIH1cclxuICAgICAgICAgICAgICAgIG9uU3RvcEVkaXRpbmc9eyB0aGlzLnN0b3BFZGl0aW5nLmJpbmQodGhpcykgfVxyXG4gICAgICAgICAgICAgICAgcHJvZ3JhbT17IHt9IH0gLz5cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tc20gYnRuLWRlZmF1bHQgZnVsbC13aWR0aFwiIG9uQ2xpY2s9eyB0aGlzLnN0YXJ0RWRpdGluZy5iaW5kKHRoaXMpIH0+XHJcbiAgICAgICAgICAgIHsgXyhcImdsb2JhbC5idXR0b25zLmFkZFwiKSB9XHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicHJvZ3JhbS1jcmVhdG9yXCI+XHJcbiAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJCb2R5KCkgfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBQYXJ0aWNpcGFudEVkaXRvclJvd1Byb2dyYW0gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgZWRpdGluZzogZmFsc2UsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RvcEVkaXRpbmcoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGVkaXRpbmc6IGZhbHNlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgc3RhcnRFZGl0aW5nKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBlZGl0aW5nOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgb25EZWxDbGljayhldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgc2hvd0NvbmZpcm0oXyhcImFkbWluLmNvbmZpcm1zLmRlbGV0ZV9wcm9ncmFtXCIpLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIEFwaShcInByb2dyYW0uZGVsZXRlXCIsIHsgcHJvZ3JhbV9pZDogdGhpcy5wcm9wcy5wcm9ncmFtLmlkIH0pLm9uU3VjY2VzcygoKSA9PiBzd2FsLmNsb3NlKCkpLnNlbmQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIG9uU3VibWl0KGRhdGEpIHtcclxuICAgICAgICBBcGkoXCJwcm9ncmFtLnNldFwiLCB7IHByb2dyYW1faWQ6IHRoaXMucHJvcHMucHJvZ3JhbS5pZCwgZGF0YTogZGF0YSB9KVxyXG4gICAgICAgICAgICAub25TdWNjZXNzKHRoaXMuc3RvcEVkaXRpbmcuYmluZCh0aGlzKSlcclxuICAgICAgICAgICAgLnNlbmQoKTtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5lZGl0aW5nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiA8UGFydGljaXBhbnRFZGl0b3JSb3dQcm9ncmFtRWRpdG9yXHJcbiAgICAgICAgICAgICAgICBvblN1Ym1pdD17IHRoaXMub25TdWJtaXQuYmluZCh0aGlzKSB9XHJcbiAgICAgICAgICAgICAgICBvblN0b3BFZGl0aW5nPXsgdGhpcy5zdG9wRWRpdGluZy5iaW5kKHRoaXMpIH1cclxuICAgICAgICAgICAgICAgIHsuLi50aGlzLnByb3BzfSAvPlxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gPGRpdj5cclxuICAgICAgICAgICAgPGg1PlxyXG4gICAgICAgICAgICAgICAgeyB0aGlzLnByb3BzLnByb2dyYW0ubmFtZSB9XHJcbiAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMucHJvZ3JhbS5kZWZhdWx0X2ZvciA/IDxlbT4mbmJzcDsoeyB0aGlzLnByb3BzLnByb2dyYW0uZGVmYXVsdF9mb3IgfSk8L2VtPiA6IG51bGwgfVxyXG4gICAgICAgICAgICAgICAgJm5ic3A7LyZuYnNwOzxhIGhyZWY9XCIjXCIgb25DbGljaz17IChlKSA9PiB7IGUucHJldmVudERlZmF1bHQoKTsgdGhpcy5zdGFydEVkaXRpbmcoKTsgfSB9PtCg0LXQtNCw0LrRgtC40YDQvtCy0LDRgtGMPC9hPlxyXG4gICAgICAgICAgICAgICAgJm5ic3A7LyZuYnNwOzxhIGhyZWY9XCIjXCIgb25DbGljaz17IHRoaXMub25EZWxDbGljay5iaW5kKHRoaXMpIH0+0KPQtNCw0LvQuNGC0Yw8L2E+XHJcbiAgICAgICAgICAgIDwvaDU+XHJcbiAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJmdWxsLXdpZHRoIHByb2dyYW1cIj48dGJvZHk+XHJcbiAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5wcm9ncmFtLmFjcm9iYXRpY3MubWFwKChlbGVtZW50LCBpZHgpID0+XHJcbiAgICAgICAgICAgICAgICA8dHIga2V5PXsgaWR4IH0+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRkPnsgZWxlbWVudC5kZXNjcmlwdGlvbiB9PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidGV4dC1yaWdodFwiPnsgZWxlbWVudC5zY29yZS50b0ZpeGVkKDEpIH08L3RkPlxyXG4gICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgKSB9XHJcbiAgICAgICAgICAgIDwvdGJvZHk+PC90YWJsZT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgUGFydGljaXBhbnRFZGl0b3JSb3dQcm9ncmFtcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIDxkaXY+XHJcbiAgICAgICAgICAgIDxoND57IF8oXCJtb2RlbHMucGFydGljaXBhbnQucHJvZ3JhbXNcIikgfTwvaDQ+XHJcbiAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5wcm9ncmFtcy5tYXAoKHApID0+XHJcbiAgICAgICAgICAgICAgICA8UGFydGljaXBhbnRFZGl0b3JSb3dQcm9ncmFtXHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXsgcC5pZCB9XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3JhbT17IHAgfSAvPlxyXG4gICAgICAgICAgICApIH1cclxuICAgICAgICAgICAgeyB0aGlzLnByb3BzLm5ld1BhcnRpY2lwYW50XHJcbiAgICAgICAgICAgICAgICA/IDxkaXYgY2xhc3NOYW1lPVwiYWxlcnQgYWxlcnQtaW5mb1wiPnsgXyhcImFkbWluLmFsZXJ0cy5hZGRfcHJvZ3JhbXNfYWZ0ZXJfY3JlYXRpb25cIikgfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgOiA8UGFydGljaXBhbnRFZGl0b3JSb3dQcm9ncmFtQ3JlYXRvclxyXG4gICAgICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50X2lkPXsgdGhpcy5wcm9wcy5wYXJ0aWNpcGFudF9pZCB9Lz5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBQYXJ0aWNpcGFudEVkaXRvclJvdyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICBsZXQgcCA9IHRoaXMucHJvcHMucGFydGljaXBhbnQ7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgcGFydGljaXBhbnQ6IHtcclxuICAgICAgICAgICAgICAgIG51bWJlcjogcC5udW1iZXIsXHJcbiAgICAgICAgICAgICAgICBjbHViX2lkOiBwLmNsdWIuaWQsXHJcbiAgICAgICAgICAgICAgICBjb2FjaGVzOiBwLmNvYWNoZXMsXHJcbiAgICAgICAgICAgICAgICBmb3JtYXRpb25fbmFtZTogcC5mb3JtYXRpb25fbmFtZSxcclxuICAgICAgICAgICAgICAgIHNwb3J0c21lbjogY2xvbmUocC5zcG9ydHNtZW4pLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIG9uQ2hhbmdlKGZpZWxkLCB2YWx1ZSkge1xyXG4gICAgICAgIGxldCBwYXJ0aWNpcGFudCA9IGNsb25lKHRoaXMuc3RhdGUucGFydGljaXBhbnQpO1xyXG4gICAgICAgIHBhcnRpY2lwYW50W2ZpZWxkXSA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBwYXJ0aWNpcGFudDogcGFydGljaXBhbnQsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBzZXJ0aWFsaXplKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLnBhcnRpY2lwYW50O1xyXG4gICAgfVxyXG4gICAgb25TdWJtaXQoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9wcy5uZXdQYXJ0aWNpcGFudCkge1xyXG4gICAgICAgICAgICBBcGkoXCJwYXJ0aWNpcGFudC5zZXRcIiwge1xyXG4gICAgICAgICAgICAgICAgcGFydGljaXBhbnRfaWQ6IHRoaXMucHJvcHMucGFydGljaXBhbnQuaWQsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB0aGlzLnNlcnRpYWxpemUoKSxcclxuICAgICAgICAgICAgfSkub25TdWNjZXNzKHRoaXMucHJvcHMuc3RvcEVkaXRpbmcpLnNlbmQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBBcGkoXCJwYXJ0aWNpcGFudC5jcmVhdGVcIiwge1xyXG4gICAgICAgICAgICAgICAgZGlzY2lwbGluZV9pZDogdGhpcy5wcm9wcy5kaXNjaXBsaW5lX2lkLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogdGhpcy5zZXJ0aWFsaXplKCksXHJcbiAgICAgICAgICAgIH0pLm9uU3VjY2Vzcyh0aGlzLnByb3BzLnN0b3BFZGl0aW5nKS5zZW5kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiA8dHIgY2xhc3NOYW1lPXsgXCJlZGl0b3JcIiArICh0aGlzLnByb3BzLm5ld1BhcnRpY2lwYW50ID8gXCIgY3JlYXRlXCIgOiBcIlwiICkgfT5cclxuICAgICAgICAgICAgPHRkIGNvbFNwYW49XCI2XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9eyB0aGlzLm9uU3VibWl0LmJpbmQodGhpcykgfSBjbGFzc05hbWU9XCJyb3dcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTUgZ2VuZXJhbC1pbmZvXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBhcnRpY2lwYW50RWRpdG9yUm93R2VuZXJhbEluZm9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydGljaXBhbnQ9eyB0aGlzLnN0YXRlLnBhcnRpY2lwYW50IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2x1YnM9eyB0aGlzLnByb3BzLmNsdWJzIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcykgfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiPnsgXyhcImdsb2JhbC5idXR0b25zLnN1Ym1pdFwiKSB9PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kYW5nZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17IHRoaXMucHJvcHMuc3RvcEVkaXRpbmcgfT57IF8oXCJnbG9iYWwuYnV0dG9ucy5kaXNjYXJkXCIpIH08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtN1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQYXJ0aWNpcGFudEVkaXRvclJvd1Nwb3J0c21lbkxpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BvcnRzbWVuPXsgdGhpcy5zdGF0ZS5wYXJ0aWNpcGFudC5zcG9ydHNtZW4gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzKSB9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFBhcnRpY2lwYW50RWRpdG9yUm93UHJvZ3JhbXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1BhcnRpY2lwYW50PXsgdGhpcy5wcm9wcy5uZXdQYXJ0aWNpcGFudCB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudF9pZD17IHRoaXMucHJvcHMucGFydGljaXBhbnQuaWQgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3JhbXM9eyB0aGlzLnByb3BzLnBhcnRpY2lwYW50LnByb2dyYW1zIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsgdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpIH0gLz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgIDwvdHI+XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFBhcnRpY2lwYW50Um93IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGVkaXRpbmc6IGZhbHNlLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN0YXJ0RWRpdGluZygpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZWRpdGluZzogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHN0b3BFZGl0aW5nKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBlZGl0aW5nOiBmYWxzZSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIG9uRGVsZXRlKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgc2hvd0NvbmZpcm0oXyhcImFkbWluLmNvbmZpcm1zLmRlbGV0ZV9wYXJ0aWNpcGFudFwiKSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBBcGkoXCJwYXJ0aWNpcGFudC5kZWxldGVcIiwge1xyXG4gICAgICAgICAgICAgICAgcGFydGljaXBhbnRfaWQ6IHRoaXMucHJvcHMucGFydGljaXBhbnQuaWQsXHJcbiAgICAgICAgICAgIH0pLm9uU3VjY2VzcygoKSA9PiBzd2FsLmNsb3NlKCkpLnNlbmQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJlbmRlckVkaXRvcigpIHtcclxuICAgICAgICByZXR1cm4gPFBhcnRpY2lwYW50RWRpdG9yUm93XHJcbiAgICAgICAgICAgIG5ld1BhcnRpY2lwYW50PXsgZmFsc2UgfVxyXG4gICAgICAgICAgICBzdG9wRWRpdGluZz17IHRoaXMuc3RvcEVkaXRpbmcuYmluZCh0aGlzKSB9XHJcbiAgICAgICAgICAgIHsgLi4udGhpcy5wcm9wcyB9IC8+XHJcbiAgICB9XHJcbiAgICByZW5kZXJWaWV3ZXIoKSB7XHJcbiAgICAgICAgbGV0IHAgPSB0aGlzLnByb3BzLnBhcnRpY2lwYW50O1xyXG4gICAgICAgIHJldHVybiA8dHIgY2xhc3NOYW1lPVwidmlld2VyXCIgb25DbGljaz17IHRoaXMuc3RhcnRFZGl0aW5nLmJpbmQodGhpcykgfT5cclxuICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm51bWJlclwiPnsgcC5udW1iZXIgfTwvdGQ+XHJcbiAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJuYW1lXCI+eyBwLm5hbWUgfTwvdGQ+XHJcbiAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJjbHViLW5hbWVcIj57IHAuY2x1Yi5uYW1lIH08L3RkPlxyXG4gICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwiY2x1Yi1jaXR5XCI+eyBwLmNsdWIuY2l0eSB9PC90ZD5cclxuICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cImRlbGV0ZVwiPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWRhbmdlclwiIG9uQ2xpY2s9eyB0aGlzLm9uRGVsZXRlLmJpbmQodGhpcykgfT5YPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgPC90cj47XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZWRpdGluZykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJFZGl0b3IoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJWaWV3ZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFBhcnRpY2lwYW50Q3JlYXRpb25Sb3cgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgZWRpdGluZzogZmFsc2UsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhcnRFZGl0aW5nKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBlZGl0aW5nOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgc3RvcEVkaXRpbmcoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGVkaXRpbmc6IGZhbHNlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyRWRpdG9yKCkge1xyXG4gICAgICAgIGxldCBlbXB0eV9kYXRhID0ge1xyXG4gICAgICAgICAgICBcImZvcm1hdGlvbl9uYW1lXCI6IFwiXCIsXHJcbiAgICAgICAgICAgIFwiY29hY2hlc1wiOiBcIlwiLFxyXG4gICAgICAgICAgICBcIm51bWJlclwiOiBcIlwiLFxyXG4gICAgICAgICAgICBcImNsdWJcIjogeyBcImlkXCI6IHRoaXMucHJvcHMuY2x1YnNbMF0gPyB0aGlzLnByb3BzLmNsdWJzWzBdLmlkIDogbnVsbCB9LFxyXG4gICAgICAgICAgICBcInNwb3J0c21lblwiOiBbXSxcclxuICAgICAgICAgICAgXCJhY3JvYmF0aWNzXCI6IFtdLFxyXG4gICAgICAgICAgICBcInByb2dyYW1zXCI6IFtdLFxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gPFBhcnRpY2lwYW50RWRpdG9yUm93XHJcbiAgICAgICAgICAgIG5ld1BhcnRpY2lwYW50XHJcbiAgICAgICAgICAgIHN0b3BFZGl0aW5nPXsgdGhpcy5zdG9wRWRpdGluZy5iaW5kKHRoaXMpIH1cclxuICAgICAgICAgICAgcGFydGljaXBhbnQ9eyBlbXB0eV9kYXRhIH1cclxuICAgICAgICAgICAgeyAuLi50aGlzLnByb3BzIH0gLz47XHJcbiAgICB9XHJcbiAgICByZW5kZXJCdXR0b24oKSB7XHJcbiAgICAgICAgcmV0dXJuIDx0cj48dGQgY29sU3Bhbj1cIjZcIj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgZnVsbC13aWR0aFwiXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsgdGhpcy5zdGFydEVkaXRpbmcuYmluZCh0aGlzKSB9PnsgXyhcImFkbWluLmJ1dHRvbnMuYWRkX3BhcnRpY2lwYW50XCIpIH08L2J1dHRvbj5cclxuICAgICAgICA8L3RkPjwvdHI+XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuZWRpdGluZyA/IHRoaXMucmVuZGVyRWRpdG9yKCkgOiB0aGlzLnJlbmRlckJ1dHRvbigpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IF8gfSBmcm9tIFwibDEwbi9sb2FkZXJcIjtcclxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcInNlcnZlci9hcGlcIjtcclxuaW1wb3J0IHsgc3RvcmFnZSB9IGZyb20gXCJzZXJ2ZXIvc3RvcmFnZVwiO1xyXG5pbXBvcnQgeyBtZXNzYWdlX2Rpc3BhdGNoZXIgfSBmcm9tIFwic2VydmVyL21lc3NhZ2VfZGlzcGF0Y2hlclwiO1xyXG5pbXBvcnQgeyBEaXNjaXBsaW5lc0NvbnRyb2xzIH0gZnJvbSBcInVpL2FkbWluX2NvbXBvbmVudHNcIjtcclxuaW1wb3J0IHsgTG9hZGVyIH0gZnJvbSBcInVpL2NvbXBvbmVudHNcIjtcclxuaW1wb3J0IHsgUHJpbnRhYmxlIH0gZnJvbSBcInVpL3ByaW50YWJsZVwiO1xyXG5pbXBvcnQgeyBEb2N4IH0gZnJvbSBcImNvbW1vbi9kb2N4XCI7XHJcbmltcG9ydCB7IGNsb25lLCBDbXBDaGFpbiB9IGZyb20gXCJjb21tb24vdG9vbHNcIjtcclxuXHJcblxyXG5jbGFzcyBQYXJ0aWNpcGFudE51bWJlcnNOdW1iZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhcnRpY2lwYW50XCI+XHJcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInNwYWNlci10b3BcIj4mbmJzcDs8L3A+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29tcGV0aXRpb25cIj48cD57IHRoaXMucHJvcHMuY29tcGV0aXRpb25fbmFtZSB9Jm5ic3A7PC9wPjwvZGl2PlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJzcGFjZXItdG9wMlwiPiZuYnNwOzwvcD5cclxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibnVtYmVyXCI+eyB0aGlzLnByb3BzLnBhcnRpY2lwYW50Lm51bWJlciB9PC9wPlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJuYW1lXCI+eyB0aGlzLnByb3BzLnBhcnRpY2lwYW50Lm5hbWUgfSZuYnNwOzwvcD5cclxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZGlzY2lwbGluZVwiPnsgdGhpcy5wcm9wcy5wYXJ0aWNpcGFudC5kaXNjaXBsaW5lX25hbWUgfSZuYnNwOzwvcD5cclxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2x1YlwiPnsgdGhpcy5wcm9wcy5wYXJ0aWNpcGFudC5jbHViLm5hbWUgfSAmbWRhc2g7IHsgdGhpcy5wcm9wcy5wYXJ0aWNpcGFudC5jbHViLmNpdHkgfTwvcD5cclxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwic3BhY2VyLWJvdHRvbVwiPiZuYnNwOzwvcD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgUGFydGljaXBhbnROdW1iZXJzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIG1ha2VQYXJ0aWNpcGFudHNMaXN0KCkge1xyXG4gICAgICAgIGxldCByZXMgPSBbXTtcclxuICAgICAgICB0aGlzLnByb3BzLnBhcnRpY2lwYW50cy5mb3JFYWNoKGdyb3VwID0+IHtcclxuICAgICAgICAgICAgcmVzID0gcmVzLmNvbmNhdChncm91cC5wYXJ0aWNpcGFudHMubWFwKHBhcnRpY2lwYW50ID0+ICh7XHJcbiAgICAgICAgICAgICAgICBpZDogcGFydGljaXBhbnQuaWQsXHJcbiAgICAgICAgICAgICAgICBudW1iZXI6IHBhcnRpY2lwYW50Lm51bWJlcixcclxuICAgICAgICAgICAgICAgIG5hbWU6IHBhcnRpY2lwYW50Lm5hbWUsXHJcbiAgICAgICAgICAgICAgICBjbHViOiBwYXJ0aWNpcGFudC5jbHViXHJcbiAgICAgICAgICAgICAgICAgICAgPyBwYXJ0aWNpcGFudC5jbHViXHJcbiAgICAgICAgICAgICAgICAgICAgOiBncm91cC5jbHViLFxyXG4gICAgICAgICAgICAgICAgZGlzY2lwbGluZV9uYW1lOiBwYXJ0aWNpcGFudC5kaXNjaXBsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgPyBwYXJ0aWNpcGFudC5kaXNjaXBsaW5lLm5hbWVcclxuICAgICAgICAgICAgICAgICAgICA6IGdyb3VwLm5hbWUsXHJcbiAgICAgICAgICAgIH0pKSlcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkgeyAgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC9zb3J0LWNvbXBcclxuICAgICAgICByZXR1cm4gPGRpdiByZWY9XCJjb250ZW50XCIgY2xhc3NOYW1lPVwicHJpbnQtb25seVwiPlxyXG4gICAgICAgICAgICB7IHRoaXMubWFrZVBhcnRpY2lwYW50c0xpc3QoKS5tYXAoKHBhcnRpY2lwYW50KSA9PlxyXG4gICAgICAgICAgICAgICAgPFBhcnRpY2lwYW50TnVtYmVyc051bWJlclxyXG4gICAgICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50PXsgcGFydGljaXBhbnQgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBldGl0aW9uX25hbWU9eyB0aGlzLnByb3BzLmNvbXBldGl0aW9uX25hbWUgfVxyXG4gICAgICAgICAgICAgICAgICAgIGtleT17IHBhcnRpY2lwYW50LmlkIH0gLz5cclxuICAgICAgICAgICAgKSB9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICB9XHJcbiAgICBjcmVhdGVEb2N4KGZpbGVuYW1lPVwibnVtYmVycy5kb2N4XCIpIHtcclxuICAgICAgICBEb2N4KGZpbGVuYW1lKVxyXG4gICAgICAgICAgICAuc2V0TWFyZ2lucyhbMCwgMTAsIDAsIDEwXSlcclxuICAgICAgICAgICAgLnNldEJvZHkodGhpcy5yZWZzLmNvbnRlbnQuaW5uZXJIVE1MKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCJkaXZcIiwgXCJtYXJnaW5cIiwgXCIwXCIpXHJcbiAgICAgICAgICAgIC5hZGRTdHlsZShcImRpdlwiLCBcInBhZGRpbmdcIiwgXCIwXCIpXHJcbiAgICAgICAgICAgIC5hZGRTdHlsZShcInBcIiwgXCJtc28tbGluZS1oZWlnaHQtcnVsZVwiLCBcImV4YWN0bHlcIilcclxuICAgICAgICAgICAgLmFkZFN0eWxlKFwiZGl2XCIsIFwibXNvLWxpbmUtaGVpZ2h0LXJ1bGVcIiwgXCJleGFjdGx5XCIpXHJcbiAgICAgICAgICAgIC5hZGRTdHlsZShcIi5wYXJ0aWNpcGFudFwiLCBcInRleHQtYWxpZ25cIiwgXCJjZW50ZXJcIilcclxuXHJcbiAgICAgICAgICAgIC5hZGRTdHlsZShcIi5zcGFjZXItdG9wXCIsIFwibGluZS1oZWlnaHRcIiwgXCIyMHB0XCIpXHJcbiAgICAgICAgICAgIC5hZGRTdHlsZShcIi5jb21wZXRpdGlvblwiLCBcImxpbmUtaGVpZ2h0XCIsIFwiMTVwdFwiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIuc3BhY2VyLXRvcDJcIiwgXCJsaW5lLWhlaWdodFwiLCBcIjMwcHRcIilcclxuICAgICAgICAgICAgLmFkZFN0eWxlKFwiLm51bWJlclwiLCBcImxpbmUtaGVpZ2h0XCIsIFwiMzAwcHRcIilcclxuICAgICAgICAgICAgLmFkZFN0eWxlKFwiLm5hbWVcIiwgXCJsaW5lLWhlaWdodFwiLCBcIjEwcHRcIilcclxuICAgICAgICAgICAgLmFkZFN0eWxlKFwiLmNsdWJcIiwgXCJsaW5lLWhlaWdodFwiLCBcIjEwcHRcIilcclxuICAgICAgICAgICAgLmFkZFN0eWxlKFwiLmRpc2NpcGxpbmVcIiwgXCJsaW5lLWhlaWdodFwiLCBcIjEwcHRcIilcclxuICAgICAgICAgICAgLmFkZFN0eWxlKFwiLnNwYWNlci1ib3R0b21cIiwgXCJsaW5lLWhlaWdodFwiLCBcIjE2cHRcIilcclxuXHJcbiAgICAgICAgICAgIC5hZGRTdHlsZShcIi5udW1iZXJcIiwgXCJmb250LXNpemVcIiwgXCIzNTBwdFwiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIubnVtYmVyXCIsIFwibGV0dGVyLXNwYWNpbmc6XCIsIFwiLTIwLjBwdFwiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIuY29tcGV0aXRpb25cIiwgXCJmb250LXNpemVcIiwgXCIxMnB0XCIpXHJcbiAgICAgICAgICAgIC5hZGRTdHlsZShcIi5jb21wZXRpdGlvblwiLCBcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIuY29tcGV0aXRpb25cIiwgXCJib3JkZXItYm90dG9tXCIsIFwiMXB0IHNvbGlkIGJsYWNrXCIpXHJcbiAgICAgICAgICAgIC5hZGRTdHlsZShcIi5uYW1lXCIsIFwiZm9udC1zaXplXCIsIFwiMTJwdFwiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIubmFtZVwiLCBcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIuY2x1YlwiLCBcImZvbnQtc2l6ZVwiLCBcIjEycHRcIilcclxuICAgICAgICAgICAgLmFkZFN0eWxlKFwiLmRpc2NpcGxpbmVcIiwgXCJmb250LXNpemVcIiwgXCIxMnB0XCIpXHJcblxyXG4gICAgICAgICAgICAuc2F2ZSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhcnRMaXN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGNvbXBldGl0aW9uOiBudWxsLFxyXG4gICAgICAgICAgICBjb25maWc6IHtcclxuICAgICAgICAgICAgICAgIGluY2x1ZGVfZm9ybWF0aW9uX3Nwb3J0c21lbjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpbmNsdWRlX2Fjcm9iYXRpY3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZ3JvdXBfYnlfY2x1YnM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2hvd19zcG9ydHNtZW5fb25seTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzaG93X3N1bW1hcnk6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZGlzY2lwbGluZXM6IHt9LFxyXG4gICAgICAgICAgICAgICAgY2x1YnM6IHt9LFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1lc3NhZ2VfZGlzcGF0Y2hlci5hZGRMaXN0ZW5lcihcImRiX3VwZGF0ZVwiLCB0aGlzLnJlbG9hZEZyb21TdG9yYWdlLmJpbmQodGhpcykpO1xyXG4gICAgICAgIG1lc3NhZ2VfZGlzcGF0Y2hlci5hZGRMaXN0ZW5lcihcInJlbG9hZF9kYXRhXCIsIHRoaXMubG9hZERhdGEuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcbiAgICBjb21wb25lbnRXaWxsTW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy5zdG9yYWdlID0gc3RvcmFnZS5nZXREb21haW4oXCJzdGFydF9saXN0X1wiICsgdGhpcy5wcm9wcy5jb21wZXRpdGlvbl9pZCk7XHJcbiAgICAgICAgdGhpcy5yZWxvYWRfbGlzdGVuZXIgPSBtZXNzYWdlX2Rpc3BhdGNoZXIuYWRkTGlzdGVuZXIoXCJyZWxvYWRfZGF0YVwiLCB0aGlzLmxvYWREYXRhLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRoaXMuZGJfdXBkYXRlX2xpc3RlbmVyID0gbWVzc2FnZV9kaXNwYXRjaGVyLmFkZExpc3RlbmVyKFwiZGJfdXBkYXRlXCIsIHRoaXMucmVsb2FkRnJvbVN0b3JhZ2UuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy5sb2FkRGF0YSgpO1xyXG4gICAgfVxyXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICAgICAgbWVzc2FnZV9kaXNwYXRjaGVyLnJlbW92ZUxpc3RlbmVyKHRoaXMucmVsb2FkX2xpc3RlbmVyKTtcclxuICAgICAgICBtZXNzYWdlX2Rpc3BhdGNoZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5kYl91cGRhdGVfbGlzdGVuZXIpO1xyXG4gICAgICAgIHN0b3JhZ2UuZGVsRG9tYWluKFwic3RhcnRfbGlzdF9cIiArIHRoaXMucHJvcHMuY29tcGV0aXRpb25faWQpO1xyXG4gICAgfVxyXG4gICAgcmVsb2FkRnJvbVN0b3JhZ2UoKSB7XHJcbiAgICAgICAgY29uc3QgU0NIRU1BID0ge1xyXG4gICAgICAgICAgICBkaXNjaXBsaW5lczoge1xyXG4gICAgICAgICAgICAgICAgcGFydGljaXBhbnRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2x1Yjoge30sXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3JhbXM6IHt9LFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2x1YnM6IHt9LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgY29tcGV0aXRpb24gPSB0aGlzLnN0b3JhZ2UuZ2V0KFwiQ29tcGV0aXRpb25cIilcclxuICAgICAgICAgICAgLmJ5X2lkKHRoaXMucHJvcHMuY29tcGV0aXRpb25faWQpXHJcbiAgICAgICAgICAgIC5zZXJpYWxpemUoU0NIRU1BKTtcclxuICAgICAgICBsZXQgY29uZmlnID0gY2xvbmUodGhpcy5zdGF0ZS5jb25maWcpO1xyXG4gICAgICAgIGxldCBuZXdfZGlzY2lwbGluZXMgPSB7fTtcclxuICAgICAgICBsZXQgbmV3X2NsdWJzID0ge307XHJcbiAgICAgICAgY29tcGV0aXRpb24uZGlzY2lwbGluZXMuZm9yRWFjaChkaXNjaXBsaW5lID0+IHtcclxuICAgICAgICAgICAgbmV3X2Rpc2NpcGxpbmVzW2Rpc2NpcGxpbmUuaWRdID0gKGRpc2NpcGxpbmUuaWQgaW4gY29uZmlnLmRpc2NpcGxpbmVzKVxyXG4gICAgICAgICAgICAgICAgPyBjb25maWcuZGlzY2lwbGluZXNbZGlzY2lwbGluZS5pZF1cclxuICAgICAgICAgICAgICAgIDogdHJ1ZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIGNvbXBldGl0aW9uLmNsdWJzLmZvckVhY2goY2x1YiA9PiB7XHJcbiAgICAgICAgICAgIG5ld19jbHVic1tjbHViLmlkXSA9IChjbHViLmlkIGluIGNvbmZpZy5jbHVicylcclxuICAgICAgICAgICAgICAgID8gY29uZmlnLmNsdWJzW2NsdWIuaWRdXHJcbiAgICAgICAgICAgICAgICA6IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uZmlnLmRpc2NpcGxpbmVzID0gbmV3X2Rpc2NpcGxpbmVzO1xyXG4gICAgICAgIGNvbmZpZy5jbHVicyA9IG5ld19jbHVicztcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgY29uZmlnOiBjb25maWcsXHJcbiAgICAgICAgICAgIGNvbXBldGl0aW9uOiBjb21wZXRpdGlvbixcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGxvYWREYXRhKCkge1xyXG4gICAgICAgIEFwaShcImNvbXBldGl0aW9uLmdldFwiLCB7XHJcbiAgICAgICAgICAgIGNvbXBldGl0aW9uX2lkOiB0aGlzLnByb3BzLmNvbXBldGl0aW9uX2lkLFxyXG4gICAgICAgICAgICBjaGlsZHJlbjoge1xyXG4gICAgICAgICAgICAgICAgZGlzY2lwbGluZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2x1Yjoge30sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyYW1zOiB7fSxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGNsdWJzOiB7fSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmFkZFRvREIoXCJDb21wZXRpdGlvblwiLCB0aGlzLnByb3BzLmNvbXBldGl0aW9uX2lkLCB0aGlzLnN0b3JhZ2UpXHJcbiAgICAgICAgLm9uU3VjY2Vzcyh0aGlzLnJlbG9hZEZyb21TdG9yYWdlLmJpbmQodGhpcykpXHJcbiAgICAgICAgLnNlbmQoKTtcclxuICAgIH1cclxuICAgIG9uQ29uZmlnQ2hhbmdlID0gbmV3X2NvbmZpZyA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGNvbmZpZzogbmV3X2NvbmZpZyxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJlbmRlckJvZHkoKSB7XHJcbiAgICAgICAgY29uc3QgcHJvcHMgPSB7XHJcbiAgICAgICAgICAgIGNvbXBldGl0aW9uOiB0aGlzLnN0YXRlLmNvbXBldGl0aW9uLFxyXG4gICAgICAgICAgICBjb25maWc6IHRoaXMuc3RhdGUuY29uZmlnLFxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5jb25maWcuc2hvd19zdW1tYXJ5KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmNvbmZpZy5ncm91cF9ieV9jbHVicykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDxDbHVic1N1bW1hcnlUYWJsZSB7IC4uLnByb3BzIH0gLz5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gPERpc2NpcGxpbmVzU3VtbWFyeVRhYmxlIHsgLi4ucHJvcHMgfSAvPlxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5jb25maWcuZ3JvdXBfYnlfY2x1YnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDxDbHVicyB7IC4uLnByb3BzIH0gLz5cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDxEaXNjaXBsaW5lcyB7IC4uLnByb3BzIH0gLz5cclxuICAgIH1cclxuICAgIHJlbmRlclBhcnRpY2lwYW50TnVtYmVycygpIHtcclxuICAgICAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSBncm91cFBhcnRpY2lwYW50cyh0aGlzLnN0YXRlLmNvbXBldGl0aW9uLCB0aGlzLnN0YXRlLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPFBhcnRpY2lwYW50TnVtYmVyc1xyXG4gICAgICAgICAgICAgICAgY29tcGV0aXRpb25fbmFtZT17IHRoaXMuc3RhdGUuY29tcGV0aXRpb24ubmFtZSB9XHJcbiAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudHM9eyBwYXJ0aWNpcGFudHMgfVxyXG4gICAgICAgICAgICAgICAgcmVmPVwibnVtYmVyc1wiIC8+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG4gICAgZ2V0VGl0bGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuY29uZmlnLnNob3dfc3VtbWFyeSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5jb25maWcuZ3JvdXBfYnlfY2x1YnMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfKFwiYWRtaW4uaGVhZGVycy5jbHVic19zdW1tYXJ5XCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBfKFwiYWRtaW4uaGVhZGVycy5kaXNjaXBsaW5lc19zdW1tYXJ5XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5jb25maWcuc2hvd19zcG9ydHNtZW5fb25seSkge1xyXG4gICAgICAgICAgICByZXR1cm4gXyhcImFkbWluLmhlYWRlcnMuc3BvcnRzbWVuX2xpc3RcIilcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIF8oXCJhZG1pbi5oZWFkZXJzLnN0YXJ0X2xpc3RcIik7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0L3NvcnQtY29tcFxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmNvbXBldGl0aW9uID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiA8TG9hZGVyIC8+XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImFwcC1jb250ZW50XCI+XHJcbiAgICAgICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiYXBwLWhlYWRlclwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9sc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCIgb25DbGljaz17ICgpID0+IHRoaXMuY3JlYXRlRG9jeCgpIH0+RE9DWDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCIgb25DbGljaz17ICgpID0+IHRoaXMucmVmcy5udW1iZXJzLmNyZWF0ZURvY3goKSB9PnsgXyhcImFkbWluLmJ1dHRvbnMuZG9jeF9udW1iZXJzXCIpIH08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGgxPnsgXyhcImFkbWluLmhlYWRlcnMuc3RhcnRfbGlzdFwiKSB9PC9oMT5cclxuICAgICAgICAgICAgPC9oZWFkZXI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXBwLWJvZHkgc3RhcnQtbGlzdFwiPlxyXG4gICAgICAgICAgICAgICAgPERpc2NpcGxpbmVzQ29udHJvbHNcclxuICAgICAgICAgICAgICAgICAgICBjdXN0b21fY29udHJvbHM9e1tcclxuICAgICAgICAgICAgICAgICAgICAgICAge2tleTogXCJpbmNsdWRlX2Fjcm9iYXRpY3NcIiwgICAgICAgICAgICBsYWJlbDogXyhcImFkbWluLmxhYmVscy5pbmNsdWRlX2Fjcm9iYXRpY3NcIil9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiBcImluY2x1ZGVfZm9ybWF0aW9uX3Nwb3J0c21lblwiLCAgIGxhYmVsOiBfKFwiYWRtaW4ubGFiZWxzLmluY2x1ZGVfZm9ybWF0aW9uX3Nwb3J0c21lblwiKX0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6IFwiZ3JvdXBfYnlfY2x1YnNcIiwgICAgICAgICAgICAgICAgbGFiZWw6IF8oXCJhZG1pbi5sYWJlbHMuZ3JvdXBfYnlfY2x1YnNcIil9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiBcInNob3dfc3BvcnRzbWVuX29ubHlcIiwgICAgICAgICAgIGxhYmVsOiBfKFwiYWRtaW4ubGFiZWxzLnNob3dfc3BvcnRzbWVuX29ubHlcIil9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiBcInNob3dfc3VtbWFyeVwiLCAgICAgICAgICAgICAgICAgIGxhYmVsOiBfKFwiYWRtaW4ubGFiZWxzLnNob3dfc3VtbWFyeVwiKX1cclxuICAgICAgICAgICAgICAgICAgICBdfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZz17IHRoaXMuc3RhdGUuY29uZmlnIH1cclxuICAgICAgICAgICAgICAgICAgICBkaXNjaXBsaW5lcz17IHRoaXMuc3RhdGUuY29tcGV0aXRpb24uZGlzY2lwbGluZXMgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsdWJzPXsgdGhpcy5zdGF0ZS5jb21wZXRpdGlvbi5jbHVicyB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLm9uQ29uZmlnQ2hhbmdlIH0gLz5cclxuICAgICAgICAgICAgICAgIDxQcmludGFibGVcclxuICAgICAgICAgICAgICAgICAgICByZWY9XCJwcmludGFibGVcIlxyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcj17IHRoaXMuc3RhdGUuY29tcGV0aXRpb24ubmFtZSArIFwiLCBcIiArIHRoaXMuc3RhdGUuY29tcGV0aXRpb24uZGF0ZSB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUxPXsgdGhpcy5nZXRUaXRsZSgpIH1cclxuICAgICAgICAgICAgICAgICAgICBib2R5PXsgdGhpcy5yZW5kZXJCb2R5KCkgfSAvPlxyXG4gICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlclBhcnRpY2lwYW50TnVtYmVycygpIH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+O1xyXG4gICAgfVxyXG4gICAgY3JlYXRlRG9jeChmaWxlbmFtZT1cInN0YXJ0LWxpc3QuZG9jeFwiKSB7XHJcbiAgICAgICAgRG9jeChmaWxlbmFtZSlcclxuICAgICAgICAgICAgLnNldE1hcmdpbnMoWzEwLCAxNSwgMTAsIDI1XSlcclxuICAgICAgICAgICAgLnNldEhlYWRlcih0aGlzLnN0YXRlLmNvbXBldGl0aW9uLm5hbWUgKyBcIiwgXCIgKyB0aGlzLnN0YXRlLmNvbXBldGl0aW9uLmRhdGUpXHJcbiAgICAgICAgICAgIC5zZXRUaXRsZTEodGhpcy5nZXRUaXRsZSgpKVxyXG4gICAgICAgICAgICAuc2V0Qm9keSh0aGlzLnJlZnMucHJpbnRhYmxlLmZldGNoUHJpbnRhYmxlRGF0YSgpKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIuYm9yZGVyZWQtdGFibGUgLmlubmVyIHRkLCAuYm9yZGVyZWQtdGFibGUgLmlubmVyIHRoXCIsIFwiYm9yZGVyXCIsIFwibm9uZVwiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIuYm9yZGVyZWQtdGFibGUgLmlubmVyIHRkLCAuYm9yZGVyZWQtdGFibGUgLmlubmVyIHRoXCIsIFwicGFkZGluZ1wiLCBcIjBcIilcclxuICAgICAgICAgICAgLmFkZFN0eWxlKFwiLmlubmVyXCIsIFwid2lkdGhcIiwgXCIxMDAlXCIpXHJcbiAgICAgICAgICAgIC5hZGRTdHlsZShcIi5hY3JvXCIsIFwiYm9yZGVyLXRvcFwiLCBcIm5vbmUgIWltcG9ydGFudFwiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIuaGFzLWFjcm8gdGRcIiwgXCJib3JkZXItYm90dG9tXCIsIFwiMXB4IHNvbGlkICM1NTUgIWltcG9ydGFudFwiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIuaGFzLWFjcm8gdGQgdGRcIiwgXCJib3JkZXItYm90dG9tXCIsIFwibm9uZSAhaW1wb3J0YW50XCIpXHJcbiAgICAgICAgICAgIC5hZGRTdHlsZShcInRyLnRyLWFjcm9cIiwgXCJwYWdlLWJyZWFrLWluc2lkZVwiLCBcImF1dG9cIilcclxuICAgICAgICAgICAgLnNhdmUoKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ3JvdXBQYXJ0aWNpcGFudHMoY29tcGV0aXRpb24sIGNvbmZpZykge1xyXG4gICAgaWYgKGNvbmZpZy5ncm91cF9ieV9jbHVicykge1xyXG4gICAgICAgIGxldCBjbHVicyA9IGNsb25lKGNvbXBldGl0aW9uLmNsdWJzKTtcclxuICAgICAgICBsZXQgZGlzY2lwbGluZXMgPSBjbG9uZShjb21wZXRpdGlvbi5kaXNjaXBsaW5lcyk7XHJcbiAgICAgICAgbGV0IGdyb3VwZWQgPSB7fVxyXG4gICAgICAgIGRpc2NpcGxpbmVzLmZvckVhY2goZGlzY2lwbGluZSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghY29uZmlnLmRpc2NpcGxpbmVzW2Rpc2NpcGxpbmUuaWRdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGlzY2lwbGluZS5wYXJ0aWNpcGFudHMuZm9yRWFjaChwYXJ0aWNpcGFudCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNvbmZpZy5jbHVic1twYXJ0aWNpcGFudC5jbHViLmlkXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCBjbHViX2lkID0gcGFydGljaXBhbnQuY2x1Yi5pZDtcclxuICAgICAgICAgICAgICAgIGlmICghKGNsdWJfaWQgaW4gZ3JvdXBlZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBncm91cGVkW2NsdWJfaWRdID0gW107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudC5kaXNjaXBsaW5lID0gZGlzY2lwbGluZTtcclxuICAgICAgICAgICAgICAgIGdyb3VwZWRbY2x1Yl9pZF0ucHVzaChwYXJ0aWNpcGFudCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNsdWJzLmZvckVhY2goY2x1YiA9PiB7XHJcbiAgICAgICAgICAgIGNsdWIucGFydGljaXBhbnRzID0gZ3JvdXBlZFtjbHViLmlkXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBjbHVicy5maWx0ZXIoY2x1YiA9PiBjbHViLnBhcnRpY2lwYW50cyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxldCBkaXNjaXBsaW5lcyA9IGNsb25lKGNvbXBldGl0aW9uLmRpc2NpcGxpbmVzKTtcclxuICAgICAgICBkaXNjaXBsaW5lcyA9IGRpc2NpcGxpbmVzLmZpbHRlcihkaXNjaXBsaW5lID0+IGNvbmZpZy5kaXNjaXBsaW5lc1tkaXNjaXBsaW5lLmlkXSk7XHJcbiAgICAgICAgZGlzY2lwbGluZXMuZm9yRWFjaChkaXNjaXBsaW5lID0+IHtcclxuICAgICAgICAgICAgZGlzY2lwbGluZS5wYXJ0aWNpcGFudHMgPSBkaXNjaXBsaW5lLnBhcnRpY2lwYW50cy5maWx0ZXIocGFydGljaXBhbnQgPT4gY29uZmlnLmNsdWJzW3BhcnRpY2lwYW50LmNsdWIuaWRdKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZGlzY2lwbGluZXMuZmlsdGVyKGRpc2NpcGxpbmUgPT4gZGlzY2lwbGluZS5wYXJ0aWNpcGFudHMubGVuZ3RoID4gMCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIERpc2NpcGxpbmVzU3VtbWFyeVRhYmxlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCBkaXNjaXBsaW5lcyA9IGdyb3VwUGFydGljaXBhbnRzKHRoaXMucHJvcHMuY29tcGV0aXRpb24sIHRoaXMucHJvcHMuY29uZmlnKTtcclxuICAgICAgICBjb25zdCBhbGxfcGFydGljaXBhbnRzID0gW10uY29uY2F0LmFwcGx5KFtdLCBkaXNjaXBsaW5lcy5tYXAoZCA9PiBkLnBhcnRpY2lwYW50cykpO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3VtbWFyeVwiPlxyXG4gICAgICAgICAgICAgICAgPENsdWJzU2hvd24geyAuLi50aGlzLnByb3BzIH0gLz5cclxuICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJib3JkZXJlZC10YWJsZVwiPjx0Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICB7IGRpc2NpcGxpbmVzLm1hcChkaXNjaXBsaW5lID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxQYXJ0aWNpcGFudHNTdGF0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVfcm93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9eyBkaXNjaXBsaW5lLmlkIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXsgZGlzY2lwbGluZS5uYW1lIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50cz17IGRpc2NpcGxpbmUucGFydGljaXBhbnRzIH0gLz5cclxuICAgICAgICAgICAgICAgICAgICApIH1cclxuICAgICAgICAgICAgICAgIDwvdGJvZHk+PC90YWJsZT5cclxuICAgICAgICAgICAgICAgIDxwPiZuYnNwOzwvcD5cclxuICAgICAgICAgICAgICAgIDxQYXJ0aWNpcGFudHNTdGF0c1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50cz17IGFsbF9wYXJ0aWNpcGFudHMgfSAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBDbHVic1N1bW1hcnlUYWJsZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3QgY2x1YnMgPSBncm91cFBhcnRpY2lwYW50cyh0aGlzLnByb3BzLmNvbXBldGl0aW9uLCB0aGlzLnByb3BzLmNvbmZpZyk7XHJcbiAgICAgICAgY29uc3QgYWxsX3BhcnRpY2lwYW50cyA9IFtdLmNvbmNhdC5hcHBseShbXSwgY2x1YnMubWFwKGMgPT4gYy5wYXJ0aWNpcGFudHMpKTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN1bW1hcnlcIj5cclxuICAgICAgICAgICAgICAgIDxEaXNjaXBsaW5lc1Nob3duIHsgLi4udGhpcy5wcm9wcyB9IC8+XHJcbiAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwiYm9yZGVyZWQtdGFibGVcIj48dGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgeyBjbHVicy5tYXAoY2x1YiA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8UGFydGljaXBhbnRzU3RhdHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlX3Jvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXsgY2x1Yi5pZCB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17IGAke2NsdWIubmFtZX0sICR7Y2x1Yi5jaXR5fWAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydGljaXBhbnRzPXsgY2x1Yi5wYXJ0aWNpcGFudHMgfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICkgfVxyXG4gICAgICAgICAgICAgICAgPC90Ym9keT48L3RhYmxlPlxyXG4gICAgICAgICAgICAgICAgPHA+Jm5ic3A7PC9wPlxyXG4gICAgICAgICAgICAgICAgPFBhcnRpY2lwYW50c1N0YXRzXHJcbiAgICAgICAgICAgICAgICAgICAgcGFydGljaXBhbnRzPXsgYWxsX3BhcnRpY2lwYW50cyB9IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIERpc2NpcGxpbmVzU2hvd24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgaGFzRGlzYWJsZWREaXNjaXBsaW5lcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5jb21wZXRpdGlvbi5kaXNjaXBsaW5lcy5maWx0ZXIoZCA9PiAhdGhpcy5wcm9wcy5jb25maWcuZGlzY2lwbGluZXNbZC5pZF0pLmxlbmd0aCA+IDA7XHJcbiAgICB9XHJcbiAgICBnZXRFbmFibGVkRGlzY2lwbGluZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY29tcGV0aXRpb24uZGlzY2lwbGluZXMuZmlsdGVyKGQgPT4gdGhpcy5wcm9wcy5jb25maWcuZGlzY2lwbGluZXNbZC5pZF0pO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5oYXNEaXNhYmxlZERpc2NpcGxpbmVzKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGRpc2NpcGxpbmVzID0gdGhpcy5nZXRFbmFibGVkRGlzY2lwbGluZXMoKTtcclxuICAgICAgICBpZiAoZGlzY2lwbGluZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRpc2NpcGxpbmVzLXNob3duXCI+XHJcbiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPnsgXyhcImFkbWluLmhlYWRlcnMuZGlzY2lwbGluZXNfc2hvd25cIikgfTwvc3Ryb25nPjwvcD5cclxuICAgICAgICAgICAgICAgIDx1bD5cclxuICAgICAgICAgICAgICAgICAgICB7IGRpc2NpcGxpbmVzLm1hcChkID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBrZXk9eyBkLmlkIH0+eyBkLm5hbWUgfTwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgKSB9XHJcbiAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIENsdWJzU2hvd24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgaGFzRGlzYWJsZWRDbHVicygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5jb21wZXRpdGlvbi5jbHVicy5maWx0ZXIoZCA9PiAhdGhpcy5wcm9wcy5jb25maWcuY2x1YnNbZC5pZF0pLmxlbmd0aCA+IDA7XHJcbiAgICB9XHJcbiAgICBnZXRFbmFibGVkQ2x1YnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY29tcGV0aXRpb24uY2x1YnMuZmlsdGVyKGQgPT4gdGhpcy5wcm9wcy5jb25maWcuY2x1YnNbZC5pZF0pO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5oYXNEaXNhYmxlZENsdWJzKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNsdWJzID0gdGhpcy5nZXRFbmFibGVkQ2x1YnMoKTtcclxuICAgICAgICBpZiAoY2x1YnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsdWJzLXNob3duXCI+XHJcbiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPnsgXyhcImFkbWluLmhlYWRlcnMuY2x1YnNfc2hvd25cIikgfTwvc3Ryb25nPjwvcD5cclxuICAgICAgICAgICAgICAgIDx1bD5cclxuICAgICAgICAgICAgICAgICAgICB7IGNsdWJzLm1hcChkID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBrZXk9eyBkLmlkIH0+eyBkLm5hbWUgfTwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgKSB9XHJcbiAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIERpc2NpcGxpbmVzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCBkaXNjaXBsaW5lcyA9IGdyb3VwUGFydGljaXBhbnRzKHRoaXMucHJvcHMuY29tcGV0aXRpb24sIHRoaXMucHJvcHMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPENsdWJzU2hvd24geyAuLi50aGlzLnByb3BzIH0gLz5cclxuICAgICAgICAgICAgICAgIHsgZGlzY2lwbGluZXMubWFwKGRpc2NpcGxpbmUgPT5cclxuICAgICAgICAgICAgICAgICAgICA8RGlzY2lwbGluZVNlY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXsgZGlzY2lwbGluZS5pZCB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NpcGxpbmU9eyBkaXNjaXBsaW5lIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyAuLi50aGlzLnByb3BzIH0gLz5cclxuICAgICAgICAgICAgICAgICkgfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBEaXNjaXBsaW5lU2VjdGlvbiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICByZW5kZXJSb3dzKCkge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcclxuICAgICAgICB0aGlzLnByb3BzLmRpc2NpcGxpbmUucGFydGljaXBhbnRzLmZvckVhY2gocCA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpbmNsdWRlX2Fjcm9iYXRpY3MgPSB0aGlzLnByb3BzLmNvbmZpZy5pbmNsdWRlX2Fjcm9iYXRpY3MgJiYgcC5wcm9ncmFtcy5sZW5ndGggIT09IDA7XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKFxyXG4gICAgICAgICAgICAgICAgPERpc2NpcGxpbmVTZWN0aW9uUm93XHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXsgYFAke3AuaWR9YCB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnPXsgdGhpcy5wcm9wcy5jb25maWcgfVxyXG4gICAgICAgICAgICAgICAgICAgIGFjcm9faW5jbHVkZWQ9eyBpbmNsdWRlX2Fjcm9iYXRpY3MgfVxyXG4gICAgICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50PXsgcCB9IC8+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGlmIChpbmNsdWRlX2Fjcm9iYXRpY3MpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgIDxBY3JvYmF0aWNzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17IGBBJHtwLmlkfWAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWc9eyB0aGlzLnByb3BzLmNvbmZpZyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50PXsgcCB9IC8+XHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gICAgcmVuZGVyQm9keSgpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5jb25maWcuc2hvd19zcG9ydHNtZW5fb25seSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPFNwb3J0c21lbkxpc3RcclxuICAgICAgICAgICAgICAgICAgICBjb25maWc9eyB0aGlzLnByb3BzLmNvbmZpZyB9XHJcbiAgICAgICAgICAgICAgICAgICAgcGFydGljaXBhbnRzPXsgdGhpcy5wcm9wcy5kaXNjaXBsaW5lLnBhcnRpY2lwYW50cyB9IC8+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJib3JkZXJlZC10YWJsZVwiPjx0aGVhZD5cclxuICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwidy04IG51bWJlclwiPjxwPnsgXyhcIm1vZGVscy5wYXJ0aWNpcGFudC5udW1iZXJcIikgfTwvcD48L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJ3LTI3IG5hbWVcIj48cD57IF8oXCJtb2RlbHMucGFydGljaXBhbnQuc3BvcnRzbWVuXCIpIH08L3A+PC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwidy05IHllYXItb2YtYmlydGhcIj48cD57IF8oXCJtb2RlbHMucGFydGljaXBhbnQuc3BvcnRzbWVuX3llYXJfb2ZfYmlydGhcIikgfTwvcD48L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJ3LTI4IGNsdWJcIj48cD57IF8oXCJtb2RlbHMucGFydGljaXBhbnQuY2x1Yl9uYW1lXCIpIH08L3A+PC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwidy0yOCBjb2FjaGVzXCI+PHA+eyBfKFwibW9kZWxzLnBhcnRpY2lwYW50LmNvYWNoZXNcIikgfTwvcD48L3RoPlxyXG4gICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgPC90aGVhZD48dGJvZHk+XHJcbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyUm93cygpIH1cclxuICAgICAgICAgICAgPC90Ym9keT48L3RhYmxlPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLmNvbmZpZy5kaXNjaXBsaW5lc1t0aGlzLnByb3BzLmRpc2NpcGxpbmUuaWRdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gPGRpdj5cclxuICAgICAgICAgICAgPGg1PjxwPnsgdGhpcy5wcm9wcy5kaXNjaXBsaW5lLm5hbWUgfTwvcD48L2g1PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRpc2NpcGxpbmVcIj5cclxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJCb2R5KCkgfVxyXG4gICAgICAgICAgICAgICAgPFBhcnRpY2lwYW50c1N0YXRzXHJcbiAgICAgICAgICAgICAgICAgICAgcGFydGljaXBhbnRzPXsgdGhpcy5wcm9wcy5kaXNjaXBsaW5lLnBhcnRpY2lwYW50cyB9IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PjtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgRGlzY2lwbGluZVNlY3Rpb25Sb3cgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGxldCBjbGFzc19uYW1lID0gdGhpcy5wcm9wcy5hY3JvX2luY2x1ZGVkID8gXCJoYXMtYWNyb1wiIDogXCJcIjtcclxuICAgICAgICBsZXQgcCA9IHRoaXMucHJvcHMucGFydGljaXBhbnQ7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPHRyIGNsYXNzTmFtZT17IGNsYXNzX25hbWUgfT5cclxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ3LTggbnVtYmVyXCI+PHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj57IHAubnVtYmVyIH08L3A+PC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ3LTM2IG5hbWVcIiBjb2xTcGFuPVwiMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxTcG9ydHNtZW5UYWJsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWc9eyB0aGlzLnByb3BzLmNvbmZpZyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50PXsgcCB9IC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInctMjggY2x1YlwiPjxwPnsgcC5jbHViLm5hbWUgfTwvcD48L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInctMjggY29hY2hlc1wiPjxwPnsgcC5jb2FjaGVzLnNwbGl0KFwiLFwiKS5tYXAoKGMpID0+IFtjLnRyaW0oKSwgPGJyIGtleT1cIlhcIiAvPl0pIH08L3A+PC90ZD5cclxuICAgICAgICAgICAgPC90cj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBDbHVicyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3QgY2x1YnMgPSBncm91cFBhcnRpY2lwYW50cyh0aGlzLnByb3BzLmNvbXBldGl0aW9uLCB0aGlzLnByb3BzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgIDxEaXNjaXBsaW5lc1Nob3duIHsgLi4udGhpcy5wcm9wcyB9IC8+XHJcbiAgICAgICAgICAgICAgICB7IGNsdWJzLm1hcChjbHViID0+XHJcbiAgICAgICAgICAgICAgICAgICAgPENsdWJTZWN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17IGNsdWIuaWQgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbHViPXsgY2x1YiB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgLi4udGhpcy5wcm9wcyB9IC8+XHJcbiAgICAgICAgICAgICAgICApIH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgQ2x1YlNlY3Rpb24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgcmVuZGVyUm93cygpIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gW107XHJcbiAgICAgICAgdGhpcy5wcm9wcy5jbHViLnBhcnRpY2lwYW50cy5mb3JFYWNoKHAgPT4ge1xyXG4gICAgICAgICAgICBsZXQgaW5jbHVkZV9hY3JvYmF0aWNzID0gdGhpcy5wcm9wcy5jb25maWcuaW5jbHVkZV9hY3JvYmF0aWNzICYmIHAucHJvZ3JhbXMubGVuZ3RoICE9PSAwO1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChcclxuICAgICAgICAgICAgICAgIDxDbHViU2VjdGlvblJvd1xyXG4gICAgICAgICAgICAgICAgICAgIGtleT17IGBQJHtwLmlkfWAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZz17IHRoaXMucHJvcHMuY29uZmlnIH1cclxuICAgICAgICAgICAgICAgICAgICBhY3JvX2luY2x1ZGVkPXsgaW5jbHVkZV9hY3JvYmF0aWNzIH1cclxuICAgICAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudD17IHAgfSAvPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBpZiAoaW5jbHVkZV9hY3JvYmF0aWNzKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChcclxuICAgICAgICAgICAgICAgICAgICA8QWNyb2JhdGljc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9eyBgQSR7cC5pZH1gIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnPXsgdGhpcy5wcm9wcy5jb25maWcgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudD17IHAgfSAvPlxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIHJlbmRlckJvZHkoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY29uZmlnLnNob3dfc3BvcnRzbWVuX29ubHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxTcG9ydHNtZW5MaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnPXsgdGhpcy5wcm9wcy5jb25maWcgfVxyXG4gICAgICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50cz17IHRoaXMucHJvcHMuY2x1Yi5wYXJ0aWNpcGFudHMgfSAvPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwiYm9yZGVyZWQtdGFibGVcIj48dGhlYWQ+XHJcbiAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInctOCBudW1iZXJcIj48cD57IF8oXCJtb2RlbHMucGFydGljaXBhbnQubnVtYmVyXCIpIH08L3A+PC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwidy0yNyBuYW1lXCI+PHA+eyBfKFwibW9kZWxzLnBhcnRpY2lwYW50LnNwb3J0c21lblwiKSB9PC9wPjwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInctOSB5ZWFyLW9mLWJpcnRoXCI+PHA+eyBfKFwibW9kZWxzLnBhcnRpY2lwYW50LnNwb3J0c21lbl95ZWFyX29mX2JpcnRoXCIpIH08L3A+PC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwidy0yOCBkaXNjaXBsaW5lXCI+PHA+eyBfKFwibW9kZWxzLnBhcnRpY2lwYW50LmRpc2NpcGxpbmVfbmFtZVwiKSB9PC9wPjwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInctMjggY29hY2hlc1wiPjxwPnsgXyhcIm1vZGVscy5wYXJ0aWNpcGFudC5jb2FjaGVzXCIpIH08L3A+PC90aD5cclxuICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgIDwvdGhlYWQ+PHRib2R5PlxyXG4gICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlclJvd3MoKSB9XHJcbiAgICAgICAgICAgIDwvdGJvZHk+PC90YWJsZT5cclxuICAgICAgICApXHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIDxkaXY+XHJcbiAgICAgICAgICAgIDxoNT48cD57IHRoaXMucHJvcHMuY2x1Yi5uYW1lIH0sIHsgdGhpcy5wcm9wcy5jbHViLmNpdHkgfTwvcD48L2g1PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsdWJcIj5cclxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJCb2R5KCkgfVxyXG4gICAgICAgICAgICAgICAgPFBhcnRpY2lwYW50c1N0YXRzXHJcbiAgICAgICAgICAgICAgICAgICAgcGFydGljaXBhbnRzPXsgdGhpcy5wcm9wcy5jbHViLnBhcnRpY2lwYW50cyB9IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PjtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgQ2x1YlNlY3Rpb25Sb3cgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGxldCBjbGFzc19uYW1lID0gdGhpcy5wcm9wcy5hY3JvX2luY2x1ZGVkID8gXCJoYXMtYWNyb1wiIDogXCJcIjtcclxuICAgICAgICBsZXQgcCA9IHRoaXMucHJvcHMucGFydGljaXBhbnQ7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPHRyIGNsYXNzTmFtZT17IGNsYXNzX25hbWUgfT5cclxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ3LTggbnVtYmVyXCI+PHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj57IHAubnVtYmVyIH08L3A+PC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ3LTM2IG5hbWVcIiBjb2xTcGFuPVwiMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxTcG9ydHNtZW5UYWJsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWc9eyB0aGlzLnByb3BzLmNvbmZpZyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50PXsgcCB9IC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInctMjggZGlzY2lwbGluZVwiPjxwPnsgcC5kaXNjaXBsaW5lLm5hbWUgfTwvcD48L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInctMjggY29hY2hlc1wiPjxwPnsgcC5jb2FjaGVzLnNwbGl0KFwiLFwiKS5tYXAoKGMpID0+IFtjLnRyaW0oKSwgPGJyIGtleT1cIlhcIiAvPl0pIH08L3A+PC90ZD5cclxuICAgICAgICAgICAgPC90cj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBTcG9ydHNtZW5UYWJsZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICByZW5kZXJGb3JtYXRpb25OYW1lKCkge1xyXG4gICAgICAgIGxldCBmb3JtYXRpb25fbmFtZSA9IHRoaXMucHJvcHMucGFydGljaXBhbnQuZm9ybWF0aW9uX25hbWU7XHJcbiAgICAgICAgaWYgKGZvcm1hdGlvbl9uYW1lICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8dHIga2V5PVwiRk5cIj5cclxuICAgICAgICAgICAgICAgICAgICA8dGggY29sU3Bhbj1cIjJcIj48cCBjbGFzc05hbWU9XCJ0ZXh0LWxlZnRcIj57IGZvcm1hdGlvbl9uYW1lIH08L3A+PC90aD5cclxuICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyU3BvcnRzbWVuKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmNvbmZpZy5pbmNsdWRlX2Zvcm1hdGlvbl9zcG9ydHNtZW4gfHwgdGhpcy5wcm9wcy5wYXJ0aWNpcGFudC5mb3JtYXRpb25fbmFtZSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5wYXJ0aWNpcGFudC5zcG9ydHNtZW4ubWFwKChzLCBpZHgpID0+XHJcbiAgICAgICAgICAgICAgICA8dHIga2V5PXsgaWR4IH0+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInctNzVcIj48cD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBzLmxhc3RfbmFtZSArIFwiIFwiICsgcy5maXJzdF9uYW1lIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBzLnN1YnN0aXR1dGUgPyA8aT4gKHsgXyhcImFkbWluLmxhYmVscy5zdWJcIikgfS4pPC9pPiA6IG51bGwgfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvcD48L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ3LTI1XCI+PHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj57IHMueWVhcl9vZl9iaXJ0aCB9PC9wPjwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGxldCBwID0gdGhpcy5wcm9wcy5wYXJ0aWNpcGFudDtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwiaW5uZXJcIj48dGJvZHk+XHJcbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyRm9ybWF0aW9uTmFtZSgpIH1cclxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJTcG9ydHNtZW4oKSB9XHJcbiAgICAgICAgICAgIDwvdGJvZHk+PC90YWJsZT5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBTcG9ydHNtZW5MaXN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBsZXQgc3BvcnRzbWVuID0gUGFydGljaXBhbnRzU3RhdHMuZ2V0VW5pcXVlU3BvcnRzbWVuKHRoaXMucHJvcHMucGFydGljaXBhbnRzKTtcclxuICAgICAgICBzcG9ydHNtZW4uc29ydCgoYSwgYikgPT4gQ21wQ2hhaW4oKVxyXG4gICAgICAgICAgICAuY21wKGEubGFzdF9uYW1lLCBiLmxhc3RfbmFtZSlcclxuICAgICAgICAgICAgLmNtcChhLmZpcnN0X25hbWUsIGIuZmlyc3RfbmFtZSlcclxuICAgICAgICAgICAgLmNtcChhLmdlbmRlciwgYi5nZW5kZXIpXHJcbiAgICAgICAgICAgIC5jbXAoYS55ZWFyX29mX2JpcnRoLCBiLnllYXJfb2ZfYmlydGgpXHJcbiAgICAgICAgICAgIC5lbmQoKVxyXG4gICAgICAgIClcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwiYm9yZGVyZWQtdGFibGVcIj48dGJvZHk+XHJcbiAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInctNVwiPjxwPiZuYnNwOzwvcD48L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJ3LTM1XCI+PHAgY2xhc3NOYW1lPVwidGV4dC1sZWZ0XCI+eyBfKFwibW9kZWxzLnBhcnRpY2lwYW50LnNwb3J0c21hblwiKSB9PC9wPjwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInctMTVcIj48cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPnsgXyhcIm1vZGVscy5wYXJ0aWNpcGFudC55b2JcIikgfTwvcD48L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJ3LTE1XCI+PHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj57IF8oXCJtb2RlbHMucGFydGljaXBhbnQuZ2VuZGVyXCIpIH08L3A+PC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwidy0xNVwiPjxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+eyBfKFwibW9kZWxzLnBhcnRpY2lwYW50LnN1YnN0aXR1dGVfblwiKSB9PC9wPjwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInctMTVcIj48cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPnsgXyhcIm1vZGVscy5wYXJ0aWNpcGFudC5zdWJzdGl0dXRlX3lcIikgfTwvcD48L3RoPlxyXG4gICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgIHsgc3BvcnRzbWVuLm1hcCgocywgaWR4KSA9PlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ciBrZXk9eyBpZHggfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInctNVwiPjxwIGNsYXNzTmFtZT1cInRleHQtcmlnaHRcIj57IGlkeCArIDEgfTwvcD48L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidy0zNVwiPjxwIGNsYXNzTmFtZT1cInRleHQtbGVmdFwiPnsgYCR7cy5sYXN0X25hbWV9ICR7cy5maXJzdF9uYW1lfWAgfTwvcD48L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidy0xNVwiPjxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+eyBzLnllYXJfb2ZfYmlydGggfTwvcD48L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidy0xNVwiPjxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHMuZ2VuZGVyID09PSBcIkZcIiA/IF8oXCJtb2RlbHMucGFydGljaXBhbnQuZ2VuZGVyX2ZcIikgOiBfKFwibW9kZWxzLnBhcnRpY2lwYW50LmdlbmRlcl9tXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPjwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ3LTE1XCI+PHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj57IHMucF9jb3VudCB9PC9wPjwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ3LTE1XCI+PHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj57IHMuc19jb3VudCB9PC9wPjwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICkgfVxyXG4gICAgICAgICAgICA8L3Rib2R5PjwvdGFibGU+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgUGFydGljaXBhbnRzU3RhdHMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgc3RhdGljIGhhc2hTcG9ydHNtYW4ocykge1xyXG4gICAgICAgIHJldHVybiBgJHtzLmxhc3RfbmFtZX1cXG4ke3MuZmlyc3RfbmFtZX1cXG4ke3MueWVhcl9vZl9iaXJ0aH1cXG4ke3MuZ2VuZGVyfWA7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgZ2V0VW5pcXVlU3BvcnRzbWVuKHBhcnRpY2lwYW50cykge1xyXG4gICAgICAgIGxldCBmb3VuZCA9IHt9O1xyXG4gICAgICAgIHBhcnRpY2lwYW50cy5mb3JFYWNoKHAgPT4ge1xyXG4gICAgICAgICAgICBwLnNwb3J0c21lbi5mb3JFYWNoKHMgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGhhc2ggPSBQYXJ0aWNpcGFudHNTdGF0cy5oYXNoU3BvcnRzbWFuKHMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFmb3VuZFtoYXNoXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvdW5kW2hhc2hdID0gY2xvbmUocyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm91bmRbaGFzaF0uc19jb3VudCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgZm91bmRbaGFzaF0ucF9jb3VudCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocy5zdWJzdGl0dXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgKytmb3VuZFtoYXNoXS5zX2NvdW50O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICArK2ZvdW5kW2hhc2hdLnBfY291bnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGZvdW5kKS5tYXAoa2V5ID0+IGZvdW5kW2tleV0pO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGNvdW50U3BvcnRzbWVuKHBhcnRpY2lwYW50cykge1xyXG4gICAgICAgIGxldCBzcG9ydHNtZW4gPSBQYXJ0aWNpcGFudHNTdGF0cy5nZXRVbmlxdWVTcG9ydHNtZW4ocGFydGljaXBhbnRzKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0b3RhbDogc3BvcnRzbWVuLmxlbmd0aCxcclxuICAgICAgICAgICAgc3Vic3RpdHV0ZV9vbmx5OiBzcG9ydHNtZW4uZmlsdGVyKHMgPT4gcy5wX2NvdW50ID09PSAwKS5sZW5ndGgsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGxldCBzcF9jb3VudCA9IFBhcnRpY2lwYW50c1N0YXRzLmNvdW50U3BvcnRzbWVuKHRoaXMucHJvcHMucGFydGljaXBhbnRzKTtcclxuICAgICAgICBsZXQgcF9jb3VudCA9IHNwX2NvdW50LnRvdGFsIC0gc3BfY291bnQuc3Vic3RpdHV0ZV9vbmx5O1xyXG4gICAgICAgIGxldCBzX2NvdW50ID0gc3BfY291bnQuc3Vic3RpdHV0ZV9vbmx5O1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnRhYmxlX3Jvdykge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJ3LTYwXCI+PHAgY2xhc3NOYW1lPVwidGV4dC1sZWZ0XCI+eyB0aGlzLnByb3BzLmxhYmVsIH08L3A+PC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidy0xNlwiPjxwIGNsYXNzTmFtZT1cInRleHQtbGVmdFwiPnsgXyhcImFkbWluLnBocmFzZXMubl9wYXJ0aWNpcGFudHNcIiwgdGhpcy5wcm9wcy5wYXJ0aWNpcGFudHMubGVuZ3RoKSB9PC9wPjwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInctMjRcIj48cCBjbGFzc05hbWU9XCJ0ZXh0LWxlZnRcIj57IF8oXCJhZG1pbi5waHJhc2VzLm5fc3BvcnRzbWVuX3Nob3J0XCIsIHBfY291bnQsIHNfY291bnQpIH08L3A+PC90ZD5cclxuICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1yaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgPHN0cm9uZz5cclxuICAgICAgICAgICAgICAgICAgICB7IF8oXCJhZG1pbi5waHJhc2VzLnRvdGFsX25fcGFydGljaXBhbnRzXCIsIHRoaXMucHJvcHMucGFydGljaXBhbnRzLmxlbmd0aCkgfXtcIiwgXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgeyBfKFwiYWRtaW4ucGhyYXNlcy5uX3Nwb3J0c21lblwiLCBwX2NvdW50LCBzX2NvdW50KSB9XHJcbiAgICAgICAgICAgICAgICA8L3N0cm9uZz5cclxuICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEFjcm9iYXRpY3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGxldCBwID0gdGhpcy5wcm9wcy5wYXJ0aWNpcGFudDtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8dHIgY2xhc3NOYW1lPVwidHItYWNyb1wiPjx0ZCBjbGFzc05hbWU9XCJhY3JvXCIgY29sU3Bhbj1cIjVcIj5cclxuICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJpbm5lclwiPjx0Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICB7IHAucHJvZ3JhbXMubWFwKChwciwgcHJfaWR4KSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbPHRyIGtleT17IFwiSFwiICsgcHJfaWR4IH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY29sU3Bhbj1cIjNcIj48cCBjbGFzc05hbWU9XCJ0ZXh0LWxlZnRcIj57IHByLm5hbWUgfTwvcD48L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RyPl0uY29uY2F0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHIuYWNyb2JhdGljcy5tYXAoKGEsIGFfaWR4KSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBrZXk9eyBgQV8ke3ByX2lkeH1fJHthX2lkeH1gIH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ3LTNcIj48cCBjbGFzc05hbWU9XCJ0ZXh0LWxlZnRcIj57IGFfaWR4ICsgMSB9PC9wPjwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ3LTkwXCI+PHAgY2xhc3NOYW1lPVwidGV4dC1sZWZ0XCI+eyBhLmRlc2NyaXB0aW9uIH08L3A+PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInctN1wiPjxwIGNsYXNzTmFtZT1cInRleHQtcmlnaHRcIj57IGEuc2NvcmUudG9GaXhlZCgxKSB9PC9wPjwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICkgfVxyXG4gICAgICAgICAgICAgICAgPC90Ym9keT48L3RhYmxlPlxyXG4gICAgICAgICAgICA8L3RkPjwvdHI+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBfLCB0b3VyX25hbWVzIH0gZnJvbSBcImwxMG4vbG9hZGVyXCI7XHJcbmltcG9ydCB7IEFwaSB9IGZyb20gXCJzZXJ2ZXIvYXBpXCI7XHJcbmltcG9ydCB7IEdMIH0gZnJvbSBcImNvbW1vbi9kZWZpbml0aW9uc1wiO1xyXG5pbXBvcnQgeyBzaG93Q29uZmlybSB9IGZyb20gXCJ1aS9kaWFsb2dzXCI7XHJcbmltcG9ydCB7IGNsb25lIH0gZnJvbSBcImNvbW1vbi90b29sc1wiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBUb3VycyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBuZXdfdG91cl9hZnRlcl9pZDogLTEsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYWRkVG91ckFmdGVyKHRvdXJfaWQpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgbmV3X3RvdXJfYWZ0ZXJfaWQ6IHRvdXJfaWQsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZW5kZXJUb3VyQ3JlYXRpb24oYWZ0ZXJfaWQsIG5leHRfdG91cikge1xyXG4gICAgICAgIGlmIChuZXh0X3RvdXIgJiYgbmV4dF90b3VyLmZpbmFsaXplZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFmdGVyX2lkID09PSB0aGlzLnN0YXRlLm5ld190b3VyX2FmdGVyX2lkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiA8VG91ckNyZWF0aW5nVUlcclxuICAgICAgICAgICAgICAgIGRpc2NpcGxpbmVfaWQ9eyB0aGlzLnByb3BzLmRpc2NpcGxpbmUuaWQgfVxyXG4gICAgICAgICAgICAgICAgYWRkX2FmdGVyPXsgYWZ0ZXJfaWQgfVxyXG4gICAgICAgICAgICAgICAgc3RvcEVkaXRpbmc9eyB0aGlzLmFkZFRvdXJBZnRlci5iaW5kKHRoaXMsIC0xKSB9XHJcbiAgICAgICAgICAgICAgICBydWxlc19zZXQ9eyB0aGlzLnByb3BzLnJ1bGVzX3NldCB9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGZ1bGwtd2lkdGhcIiBvbkNsaWNrPXsgdGhpcy5hZGRUb3VyQWZ0ZXIuYmluZCh0aGlzLCBhZnRlcl9pZCkgfT5cclxuICAgICAgICAgICAgICAgIHsgXyhcImFkbWluLmJ1dHRvbnMuYWRkX3RvdXJcIikgfVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZW5kZXJUb3VycygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5kaXNjaXBsaW5lLnRvdXJzLm1hcChmdW5jdGlvbih0b3VyLCBpZHgsIGFycikge1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgPFRvdXJFZGl0aW5nVUkgdG91cj17IHRvdXIgfSBydWxlc19zZXQ9eyB0aGlzLnByb3BzLnJ1bGVzX3NldCB9IGtleT17IHRvdXIuaWQgfSAvPixcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyVG91ckNyZWF0aW9uKHRvdXIuaWQsIGFycltpZHggKyAxXSlcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImFwcC1jb250ZW50XCI+XHJcbiAgICAgICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiYXBwLWhlYWRlclwiPlxyXG4gICAgICAgICAgICAgICAgPGgxPnsgdGhpcy5wcm9wcy5kaXNjaXBsaW5lLm5hbWUgfTwvaDE+XHJcbiAgICAgICAgICAgIDwvaGVhZGVyPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFwcC1ib2R5IGljLW1hbmFnZW1lbnQtdWlcIj5cclxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJUb3VyQ3JlYXRpb24obnVsbCwgdGhpcy5wcm9wcy5kaXNjaXBsaW5lLnRvdXJzWzBdKSB9XHJcbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyVG91cnMoKSB9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGF0YWxpc3QgaWQ9XCJkbF90b3Vyc1wiPlxyXG4gICAgICAgICAgICAgICAgeyB0b3VyX25hbWVzLm1hcCgobiwgaWR4KSA9PiA8b3B0aW9uIGtleT17IGlkeCB9IHZhbHVlPXsgbiB9IC8+KSB9XHJcbiAgICAgICAgICAgIDwvZGF0YWxpc3Q+XHJcbiAgICAgICAgICAgIDxkYXRhbGlzdCBpZD1cImRsX3Byb2dyYW1zXCI+XHJcbiAgICAgICAgICAgICAgICB7IEdMLnN1Z2dlc3RlZF9wcm9ncmFtcy5tYXAoKG4sIGlkeCkgPT4gPG9wdGlvbiBrZXk9eyBpZHggfSB2YWx1ZT17IG4gfSAvPikgfVxyXG4gICAgICAgICAgICA8L2RhdGFsaXN0PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBUb3VySW5wdXRGb3JtIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIHN1Ym1pdFRvdXIoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHRoaXMucHJvcHMuc3VibWl0VG91cih0aGlzLnNlcmlhbGl6ZSgpKTtcclxuICAgIH1cclxuICAgIHNlcmlhbGl6ZSgpIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0ge1xyXG4gICAgICAgICAgICBuYW1lOiB0aGlzLnJlZnMubmFtZS52YWx1ZSxcclxuICAgICAgICAgICAgcGFydGljaXBhbnRzX3Blcl9oZWF0OiB0aGlzLnJlZnMucGFydGljaXBhbnRzX3Blcl9oZWF0LnZhbHVlLFxyXG4gICAgICAgICAgICBkZWZhdWx0X3Byb2dyYW06IHRoaXMucmVmcy5kZWZhdWx0X3Byb2dyYW0udmFsdWUsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoIXRoaXMucHJvcHMudG91ciB8fCAhdGhpcy5wcm9wcy50b3VyLmZpbmFsaXplZCkge1xyXG4gICAgICAgICAgICByZXN1bHRbXCJudW1fYWR2YW5jZXNcIl0gPSB0aGlzLnJlZnMubnVtX2FkdmFuY2VzLnZhbHVlO1xyXG4gICAgICAgICAgICByZXN1bHRbXCJzY29yaW5nX3N5c3RlbV9uYW1lXCJdID0gdGhpcy5yZWZzLnNjb3Jpbmdfc3lzdGVtX25hbWUudmFsdWU7XHJcbiAgICAgICAgICAgIHJlc3VsdFtcImhvcGVfdG91clwiXSA9IHRoaXMucmVmcy5ob3BlX3RvdXIuY2hlY2tlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBsZXQgY2xhc3NlcyA9IFtcInRvdXJcIiwgXCJcIl0uY29uY2F0KHRoaXMucHJvcHMuY2xhc3NlcyB8fCBbXSkuam9pbihcIiBcIik7XHJcbiAgICAgICAgbGV0IHRvdXIgPSB0aGlzLnByb3BzLnRvdXIgfHwgeyBpZDogXCJuZXdcIiB9XHJcbiAgICAgICAgcmV0dXJuIDxmb3JtIGNsYXNzTmFtZT17IGNsYXNzZXMgfSBrZXk9eyB0b3VyLmlkIH0gb25TdWJtaXQ9eyB0aGlzLnN1Ym1pdFRvdXIuYmluZCh0aGlzKSB9PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNlwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cCBmb3JtLWdyb3VwLXNtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJjb250cm9sLWxhYmVsXCI+eyBfKFwibW9kZWxzLnRvdXIubmFtZVwiKSB9PC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0PVwiZGxfdG91cnNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj1cIm5hbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXsgdG91ci5uYW1lIH0gLz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXAgZm9ybS1ncm91cC1zbSByb3dcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbGctNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImNvbnRyb2wtbGFiZWxcIj57IF8oXCJtb2RlbHMudG91ci5udW1fYWR2YW5jZXNcIikgfTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9XCJudW1fYWR2YW5jZXNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXsgdG91ci5maW5hbGl6ZWQgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17IHRvdXIubnVtX2FkdmFuY2VzIH0gIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1sZy00XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiY29udHJvbC1sYWJlbFwiPnsgXyhcIm1vZGVscy50b3VyLnBhcnRpY2lwYW50c19wZXJfaGVhdFwiKSB9PC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj1cInBhcnRpY2lwYW50c19wZXJfaGVhdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXsgdG91ci5wYXJ0aWNpcGFudHNfcGVyX2hlYXQgfHwgMiB9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGRpdiBjbGFzc05hbWU9XCJjb2wtbGctNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImNvbnRyb2wtbGFiZWxcIj57IF8oXCJtb2RlbHMudG91ci5pc19ob3BlX3RvdXJcIikgfTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoZWNrYm94XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9XCJob3BlX3RvdXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyB0b3VyLmZpbmFsaXplZCB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZD17IHRvdXIuaG9wZV90b3VyIH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC02XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwIGZvcm0tZ3JvdXAtc21cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImNvbnRyb2wtbGFiZWxcIj57IF8oXCJtb2RlbHMudG91ci5zY29yaW5nX3N5c3RlbV9uYW1lXCIpIH08L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPVwic2NvcmluZ19zeXN0ZW1fbmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IHRvdXIuZmluYWxpemVkIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17IHRvdXIuc2NvcmluZ19zeXN0ZW1fbmFtZSB8fCBHTC5zY29yaW5nX3N5c3RlbXNbdGhpcy5wcm9wcy5ydWxlc19zZXRdWzBdIH0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBHTC5zY29yaW5nX3N5c3RlbXNbdGhpcy5wcm9wcy5ydWxlc19zZXRdLm1hcCgoc24pID0+IDxvcHRpb24ga2V5PXsgc24gfSB2YWx1ZT17IHNuIH0+eyBfKFwic2NvcmluZ19zeXN0ZW1zX25hbWVzLlwiICsgc24pIH08L29wdGlvbj4pIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwIGZvcm0tZ3JvdXAtc20gcm93XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLWxnLTZcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJjb250cm9sLWxhYmVsXCI+eyBfKFwibW9kZWxzLnRvdXIuZGVmYXVsdF9wcm9ncmFtXCIpIH08L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Q9XCJkbF9wcm9ncmFtc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9XCJkZWZhdWx0X3Byb2dyYW1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17IHRvdXIuZGVmYXVsdF9wcm9ncmFtIHx8IFwiXCIgfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbGctNlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImNvbnRyb2wtbGFiZWxcIj4mbmJzcDs8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXJpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLXNtXCIgdHlwZT1cInN1Ym1pdFwiPnsgXyhcImdsb2JhbC5idXR0b25zLnN1Ym1pdFwiKSB9PC9idXR0b24+Jm5ic3A7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLXNtXCIgdHlwZT1cImJ1dHRvblwiIG9uQ2xpY2s9eyB0aGlzLnByb3BzLnN0b3BFZGl0aW5nIH0+eyBfKFwiZ2xvYmFsLmJ1dHRvbnMuZGlzY2FyZFwiKSB9PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9mb3JtPlxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBUb3VyRWRpdGluZ1VJIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGVkaXRpbmc6IGZhbHNlLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN0YXJ0RWRpdGluZygpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZWRpdGluZzogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHN0b3BFZGl0aW5nKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBlZGl0aW5nOiBmYWxzZSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJlbmRlckVkaXRvcigpIHtcclxuICAgICAgICByZXR1cm4gPFRvdXJJbnB1dEZvcm1cclxuICAgICAgICAgICAgdG91cj17IHRoaXMucHJvcHMudG91ciB9XHJcbiAgICAgICAgICAgIHJ1bGVzX3NldD17IHRoaXMucHJvcHMucnVsZXNfc2V0IH1cclxuICAgICAgICAgICAgc3VibWl0VG91cj17IHRoaXMuc3VibWl0VG91ci5iaW5kKHRoaXMpIH1cclxuICAgICAgICAgICAgc3RvcEVkaXRpbmc9eyB0aGlzLnN0b3BFZGl0aW5nLmJpbmQodGhpcykgfSAvPlxyXG4gICAgfVxyXG4gICAgcmVuZGVyVmlld2VyKCkge1xyXG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInRvdXJcIiBrZXk9eyB0aGlzLnByb3BzLnRvdXIuaWQgfT5cclxuICAgICAgICAgICAgPGgzPnsgdGhpcy5wcm9wcy50b3VyLm5hbWUgfTwvaDM+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC01XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHA+PHN0cm9uZz57IF8oXCJtb2RlbHMudG91ci5udW1fYWR2YW5jZXNcIikgfTo8L3N0cm9uZz4geyB0aGlzLnByb3BzLnRvdXIubnVtX2FkdmFuY2VzIH0gPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+eyBfKFwibW9kZWxzLnRvdXIucGFydGljaXBhbnRzX3Blcl9oZWF0XCIpIH06PC9zdHJvbmc+IHsgdGhpcy5wcm9wcy50b3VyLnBhcnRpY2lwYW50c19wZXJfaGVhdCB9IDwvcD5cclxuICAgICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPnsgXyhcIm1vZGVscy50b3VyLmlzX2hvcGVfdG91clwiKSB9Ojwvc3Ryb25nPiB7IHRoaXMucHJvcHMudG91ci5ob3BlX3RvdXIgPyBfKFwiZ2xvYmFsLmxhYmVscy55ZXNcIikgOiAgXyhcImdsb2JhbC5sYWJlbHMubm9cIikgfSA8L3A+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPnsgXyhcIm1vZGVscy50b3VyLnNjb3Jpbmdfc3lzdGVtX25hbWVcIikgfTo8L3N0cm9uZz4geyBfKFwic2NvcmluZ19zeXN0ZW1zX25hbWVzLlwiICsgdGhpcy5wcm9wcy50b3VyLnNjb3Jpbmdfc3lzdGVtX25hbWUpIH0gPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+eyBfKFwibW9kZWxzLnRvdXIuZGVmYXVsdF9wcm9ncmFtXCIpIH06PC9zdHJvbmc+IHsgdGhpcy5wcm9wcy50b3VyLmRlZmF1bHRfcHJvZ3JhbSB9IDwvcD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiZnVsbC13aWR0aCBidG4gYnRuLXByaW1hcnkgYnRuLXNtXCIgb25DbGljaz17IHRoaXMuc3RhcnRFZGl0aW5nLmJpbmQodGhpcykgfT57IF8oXCJnbG9iYWwuYnV0dG9ucy5lZGl0XCIpIH08L2J1dHRvbj48YnIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImZ1bGwtd2lkdGggYnRuIGJ0bi1kYW5nZXIgYnRuLXNtXCIgb25DbGljaz17IHRoaXMuZGVsZXRlVG91ci5iaW5kKHRoaXMpIH0+eyBfKFwiZ2xvYmFsLmJ1dHRvbnMuZGVsZXRlXCIpIH08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIH1cclxuICAgIHN1Ym1pdFRvdXIoZGF0YSkge1xyXG4gICAgICAgIEFwaShcInRvdXIuc2V0XCIsIHtcclxuICAgICAgICAgICAgdG91cl9pZDogdGhpcy5wcm9wcy50b3VyLmlkLFxyXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgIH0pLm9uU3VjY2VzcyhmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICB0aGlzLnN0b3BFZGl0aW5nKCk7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKS5zZW5kKCk7XHJcbiAgICB9XHJcbiAgICBkZWxldGVUb3VyKCkge1xyXG4gICAgICAgIHNob3dDb25maXJtKF8oXCJhZG1pbi5jb25maXJtcy5kZWxldGVfdG91clwiKSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBBcGkoXCJ0b3VyLmRlbGV0ZVwiLCB7IHRvdXJfaWQ6IHRoaXMucHJvcHMudG91ci5pZCB9KS5vblN1Y2Nlc3MoKCkgPT4gc3dhbC5jbG9zZSgpKS5zZW5kKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuZWRpdGluZyA/IHRoaXMucmVuZGVyRWRpdG9yKCkgOiB0aGlzLnJlbmRlclZpZXdlcigpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBUb3VyQ3JlYXRpbmdVSSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBzdWJtaXRUb3VyKGRhdGEpIHtcclxuICAgICAgICBBcGkoXCJ0b3VyLmNyZWF0ZVwiLCB7XHJcbiAgICAgICAgICAgIGRpc2NpcGxpbmVfaWQ6IHRoaXMucHJvcHMuZGlzY2lwbGluZV9pZCxcclxuICAgICAgICAgICAgYWRkX2FmdGVyOiB0aGlzLnByb3BzLmFkZF9hZnRlcixcclxuICAgICAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICB9KS5vblN1Y2Nlc3MoZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5zdG9wRWRpdGluZygpO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKSkuc2VuZCgpO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiA8VG91cklucHV0Rm9ybVxyXG4gICAgICAgICAgICBjbGFzc2VzPXsgW1widG91ci1jcmVhdGVcIl0gfVxyXG4gICAgICAgICAgICBzdWJtaXRUb3VyPXsgdGhpcy5zdWJtaXRUb3VyLmJpbmQodGhpcykgfVxyXG4gICAgICAgICAgICBzdG9wRWRpdGluZz17IHRoaXMucHJvcHMuc3RvcEVkaXRpbmcgfVxyXG4gICAgICAgICAgICBydWxlc19zZXQ9eyB0aGlzLnByb3BzLnJ1bGVzX3NldCB9XHJcbiAgICAgICAgLz5cclxuXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgXyB9IGZyb20gXCJsMTBuL2xvYWRlclwiO1xyXG5pbXBvcnQgeyBMb2FkZXIgfSBmcm9tIFwidWkvY29tcG9uZW50c1wiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBBdXRvUHJpbnRlclN0YXR1cyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBhdmFpbGFibGU6IG51bGwsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICB4aHIub3BlbihcIkdFVFwiLCBcImh0dHA6Ly8xMjcuMC4wLjE6NTk0OVwiLCB0cnVlKTtcclxuICAgICAgICB4aHIub25sb2FkID0gKCkgPT4gdGhpcy5zZXRTdGF0ZSh7IGF2YWlsYWJsZTogdHJ1ZSB9KTsgIC8vZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC9uby1kaWQtbW91bnQtc2V0LXN0YXRlXHJcbiAgICAgICAgeGhyLm9uZXJyb3IgPSAoKSA9PiB0aGlzLnNldFN0YXRlKHsgYXZhaWxhYmxlOiBmYWxzZSB9KTsgIC8vZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC9uby1kaWQtbW91bnQtc2V0LXN0YXRlXHJcbiAgICAgICAgeGhyLnNlbmQoKTtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5hdmFpbGFibGUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDxMb2FkZXIgLz5cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmF2YWlsYWJsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJhbGVydCBhbGVydC1kYW5nZXJcIj5cclxuICAgICAgICAgICAgICAgIDxwPnsgXyhcImFkbWluLmFsZXJ0cy5hdXRvX3ByaW50ZXJfbm90X2F2YWlsYWJsZVwiKSB9PC9wPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiYWxlcnQgYWxlcnQtc3VjY2Vzc1wiPlxyXG4gICAgICAgICAgICA8cD57IF8oXCJhZG1pbi5hbGVydHMuYXV0b19wcmludGVyX2F2YWlsYWJsZVwiKSB9PC9wPjxiciAvPlxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17ICgpID0+IHdpbmRvdy5wcmludGVyX3dpbmRvdyA/IHdpbmRvdy5wcmludGVyX3dpbmRvdy5mb2N1cygpIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHdpbmRvdy5wcmludGVyX3dpbmRvdyA9IHdpbmRvdy5vcGVuKGAvcHJpbnRlci8keyB0aGlzLnByb3BzLmNvbXBldGl0aW9uX2lkIH1gLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwcmludGVyXCIsIFwicmVzaXphYmxlPXllcyxsb2NhdGlvbj1ub1wiKSkgfT5cclxuICAgICAgICAgICAgICAgIHsgXyhcImFkbWluLmJ1dHRvbnMubGF1bmNoX2F1dG9fcHJpbnRlclwiKSB9XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IF8gfSBmcm9tIFwibDEwbi9sb2FkZXJcIjtcclxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcInNlcnZlci9hcGlcIjtcclxuaW1wb3J0IHsgc2hvd0NvbmZpcm0gfSBmcm9tIFwidWkvZGlhbG9nc1wiO1xyXG5pbXBvcnQgeyBBdXRvUHJpbnRlclN0YXR1cyB9IGZyb20gXCIuL2F1dG9fcHJpbnRlcl9zdGF0dXNcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgU2VydmljZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgIH1cclxuICAgIHJlbG9hZENsaWVudHMoKSB7XHJcbiAgICAgICAgc2hvd0NvbmZpcm0oXyhcImFkbWluLmNvbmZpcm1zLnJlbG9hZF9jbGllbnRzXCIpLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIEFwaShcInNlcnZpY2UucmVsb2FkX2NsaWVudHNcIiwge30pLm9uU3VjY2VzcygoKSA9PiBzd2FsLmNsb3NlKCkpLnNlbmQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJlZnJlc2hDbGllbnRzKCkge1xyXG4gICAgICAgIHNob3dDb25maXJtKF8oXCJhZG1pbi5jb25maXJtcy5yZWZyZXNoX2NsaWVudHNcIiksICgpID0+IHtcclxuICAgICAgICAgICAgQXBpKFwic2VydmljZS5yZWZyZXNoX2NsaWVudHNcIiwge30pLm9uU3VjY2VzcygoKSA9PiBzd2FsLmNsb3NlKCkpLnNlbmQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHVuZmluYWxpemVUb3VyKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBsZXQgcGFzc2NvZGUgPSBzd2FsKHtcclxuICAgICAgICAgICAgdGl0bGU6IF8oXCJhZG1pbi5oZWFkZXJzLnVuZmluYWxpemVfdG91clwiKSxcclxuICAgICAgICAgICAgdGV4dDogXyhcImFkbWluLmNvbmZpcm1zLnVuZmluYWxpemVfdG91clwiKSxcclxuICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSxcclxuICAgICAgICAgICAgY2xvc2VPbkNvbmZpcm06IGZhbHNlLFxyXG4gICAgICAgICAgICB0eXBlOiBcImlucHV0XCIsXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbjogZmFsc2UsXHJcbiAgICAgICAgfSwgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gXCJ1bmZpbmFsaXplXCIpIHtcclxuICAgICAgICAgICAgICAgIHN3YWwuc2hvd0lucHV0RXJyb3IoXyhcImFkbWluLm1lc3NhZ2VzLmludmFsaWRfcGFzc2NvZGVcIikpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEFwaShcInRvdXIudW5maW5hbGl6ZVwiLCB7XHJcbiAgICAgICAgICAgICAgICB0b3VyX2lkOiB0aGlzLl9zZWxlY3RfdW5maW5hbGl6ZS52YWx1ZSxcclxuICAgICAgICAgICAgfSkub25TdWNjZXNzKGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBzd2FsKHtcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXyhcImdsb2JhbC5tZXNzYWdlcy5zdWNjZXNzXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdWNjZXNzXCIsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSkuc2VuZCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyVW5maW5hbGl6ZSgpIHtcclxuICAgICAgICBsZXQgZWxpZ2libGVfdG91cnMgPSBbXTtcclxuICAgICAgICB0aGlzLnByb3BzLmRpc2NpcGxpbmVzLmZvckVhY2goZnVuY3Rpb24oaWMpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaWR4ID0gaWMudG91cnMubGVuZ3RoIC0gMTsgaWR4ID49IDA7IC0taWR4KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdG91ciA9IGljLnRvdXJzW2lkeF07XHJcbiAgICAgICAgICAgICAgICBpZiAodG91ci5maW5hbGl6ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGlnaWJsZV90b3Vycy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPXsgdG91ci5pZCB9IGtleT17IHRvdXIuaWQgfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaWMubmFtZSB9ICZtZGFzaDsgeyB0b3VyLm5hbWUgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj4pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGVsaWdpYmxlX3RvdXJzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJhbGVydCBhbGVydC1kYW5nZXJcIj5cclxuICAgICAgICAgICAgICAgIHsgXyhcImFkbWluLmFsZXJ0cy5ub19maW5hbGl6ZWRcIikgfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDxkaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XHJcbiAgICAgICAgICAgICAgICB7IF8oXCJhZG1pbi5hbGVydHMudW5maW5hbGl6ZV93YXJuaW5nXCIpIH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxmb3JtIGNsYXNzTmFtZT1cInVuZmluYWxpemF0aW9uXCIgb25TdWJtaXQ9eyB0aGlzLnVuZmluYWxpemVUb3VyLmJpbmQodGhpcykgfT5cclxuICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgcmVmPXsgYyA9PiB0aGlzLl9zZWxlY3RfdW5maW5hbGl6ZSA9IGMgfT5cclxuICAgICAgICAgICAgICAgICAgICB7IGVsaWdpYmxlX3RvdXJzIH1cclxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIiB0eXBlPVwic3VibWl0XCI+eyBfKFwiYWRtaW4uYnV0dG9ucy51bmZpbmFsaXplXCIpIH08L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImFwcFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFwcC1jb250ZW50XCI+XHJcbiAgICAgICAgICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImFwcC1oZWFkZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aDE+eyBfKFwiYWRtaW4uaGVhZGVycy5zZXJ2aWNlX21lbnVcIikgfTwvaDE+XHJcbiAgICAgICAgICAgICAgICA8L2hlYWRlcj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VydmljZS1tZW51IGFwcC1ib2R5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGgzPnsgXyhcImFkbWluLmhlYWRlcnMuY2xpZW50c19tYW5hZ2VtZW50XCIpIH08L2gzPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IGNvbnRyb2wtYnRuXCIgb25DbGljaz17IHRoaXMucmVsb2FkQ2xpZW50cy5iaW5kKHRoaXMpIH0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IF8oXCJhZG1pbi5idXR0b25zLnJlbG9hZF9jbGllbnRzXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBjb250cm9sLWJ0blwiIG9uQ2xpY2s9eyB0aGlzLnJlZnJlc2hDbGllbnRzLmJpbmQodGhpcykgfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBfKFwiYWRtaW4uYnV0dG9ucy5yZWZyZXNoX2NsaWVudHNcIikgfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxoMz57IF8oXCJhZG1pbi5oZWFkZXJzLnVuZmluYWxpemVfdG91clwiKSB9PC9oMz5cclxuICAgICAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyVW5maW5hbGl6ZSgpIH1cclxuICAgICAgICAgICAgICAgICAgICA8aDM+eyBfKFwiYWRtaW4uaGVhZGVycy5hdXRvX3ByaW50ZXJcIikgfTwvaDM+XHJcbiAgICAgICAgICAgICAgICAgICAgPEF1dG9QcmludGVyU3RhdHVzIGNvbXBldGl0aW9uX2lkPXsgdGhpcy5wcm9wcy5jb21wZXRpdGlvbl9pZCB9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGgzPnsgXyhcImFkbWluLmhlYWRlcnMuYWJvdXRcIikgfTwvaDM+XHJcbiAgICAgICAgICAgICAgICAgICAgeyBfKFwiYWRtaW4uYWxlcnRzLmFib3V0XCIsIFwidjEuMSBwcmVyZWxlYXNlXCIsIFwiXCIpIH1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgdmFyIEdMID0ge1xuICAgIFwianVkZ2Vfcm9sZXNcIjogW1xuICAgICAgICBcImRhbmNlX2p1ZGdlXCIsXG4gICAgICAgIFwiYWNyb19qdWRnZVwiLFxuICAgICAgICBcImhlYWRfanVkZ2VcIixcbiAgICAgICAgXCJ0ZWNoX2p1ZGdlXCIsXG4gICAgXSxcbiAgICBcInNjb3Jpbmdfc3lzdGVtc1wiOiB7XG4gICAgICAgIFwicm9zZmFyclwiOiBbXG4gICAgICAgICAgICBcInJvc2ZhcnIubm9fYWNyb1wiLFxuICAgICAgICAgICAgXCJyb3NmYXJyLmFjcm9cIixcbiAgICAgICAgICAgIFwicm9zZmFyci5mb3JtYXRpb25cIixcbiAgICAgICAgICAgIFwicm9zZmFyci5mb3JtYXRpb25fYWNyb1wiLFxuICAgICAgICAgICAgXCJyb3NmYXJyLnNpbXBsaWZpZWRcIixcbiAgICAgICAgICAgIFwicm9zZmFyci5hbV9maW5hbF9md1wiLFxuICAgICAgICAgICAgXCJyb3NmYXJyLmFtX2ZpbmFsX2Fjcm9cIixcbiAgICAgICAgXSxcbiAgICB9LFxuICAgIFwic3VnZ2VzdGVkX3Byb2dyYW1zXCI6IFtcbiAgICAgICAgXCJkZWZhdWx0XCIsXG4gICAgICAgIFwicXVhbGlmaWNhdGlvblwiLFxuICAgICAgICBcInF1YXJ0ZXJmaW5hbFwiLFxuICAgICAgICBcImZpbmFsXCIsXG4gICAgXSxcbn1cbiIsImNsYXNzIERvY3hJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcihmaWxlbmFtZSkge1xuICAgICAgICB0aGlzLmZpbGVuYW1lID0gZmlsZW5hbWU7XG4gICAgICAgIHRoaXMuaGVhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy50aXRsZTEgPSBudWxsO1xuICAgICAgICB0aGlzLnRpdGxlMiA9IG51bGw7XG4gICAgICAgIHRoaXMudGl0bGUzID0gbnVsbDtcbiAgICAgICAgdGhpcy5tYXJnaW5zID0gbnVsbDtcbiAgICAgICAgdGhpcy5ib2R5ID0gXCJcIjtcbiAgICAgICAgdGhpcy5vcmllbnRhdGlvbiA9IFwicG9ydHJhaXRcIjtcbiAgICAgICAgdGhpcy5zdHlsZXMgPSB7XG4gICAgICAgICAgICBcImJvZHlcIjoge1xuICAgICAgICAgICAgICAgIFwiZm9udC1zaXplXCI6IFwiMTBwdFwiLFxuICAgICAgICAgICAgICAgIFwiZm9udC1mYW1pbHlcIjogXCJDYWxpYnJpLCBUYWhvbWEsIEFyaWFsLCBzYW5zLXNlcmlmXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJ0YWJsZVwiOiB7XG4gICAgICAgICAgICAgICAgXCJib3JkZXItY29sbGFwc2VcIjogXCJjb2xsYXBzZVwiLFxuICAgICAgICAgICAgICAgIFwid2lkdGhcIjogXCIxMDAlXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJ0clwiOiB7XG4gICAgICAgICAgICAgICAgXCJwYWdlLWJyZWFrLWluc2lkZVwiOiBcImF2b2lkXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJ0ZCwgdGhcIjoge1xuICAgICAgICAgICAgICAgIFwicGFkZGluZ1wiOiBcIjFwdCAzcHRcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImgxLCBoMiwgaDMsIGg0LCBoNSwgaDZcIjoge1xuICAgICAgICAgICAgICAgIFwicGFnZS1icmVhay1hZnRlclwiOiBcImF2b2lkXCIsXG4gICAgICAgICAgICAgICAgXCJtYXJnaW4tYm90dG9tXCI6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJoMVwiOiB7XG4gICAgICAgICAgICAgICAgXCJmb250LXNpemVcIjogXCIyMHB0XCIsXG4gICAgICAgICAgICAgICAgXCJmb250LXdlaWdodFwiOiBcImJvbGRcIixcbiAgICAgICAgICAgICAgICBcInRleHQtYWxpZ25cIjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBcIm1hcmdpbi10b3BcIjogXCIxMHB0XCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJoMlwiOiB7XG4gICAgICAgICAgICAgICAgXCJmb250LXNpemVcIjogXCIxNnB0XCIsXG4gICAgICAgICAgICAgICAgXCJmb250LXdlaWdodFwiOiBcImJvbGRcIixcbiAgICAgICAgICAgICAgICBcInRleHQtYWxpZ25cIjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBcIm1hcmdpbi10b3BcIjogXCI2cHRcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImgzXCI6IHtcbiAgICAgICAgICAgICAgICBcImZvbnQtc2l6ZVwiOiBcIjE2cHRcIixcbiAgICAgICAgICAgICAgICBcImZvbnQtd2VpZ2h0XCI6IFwiYm9sZFwiLFxuICAgICAgICAgICAgICAgIFwidGV4dC1hbGlnblwiOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIFwibWFyZ2luLXRvcFwiOiBcIjRwdFwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiaDQgcFwiOiB7XG4gICAgICAgICAgICAgICAgXCJmb250LXNpemVcIjogXCIxNHB0XCIsXG4gICAgICAgICAgICAgICAgXCJmb250LXdlaWdodFwiOiBcImJvbGRcIixcbiAgICAgICAgICAgICAgICBcIm1hcmdpblwiOiBcIjEwcHQgMCA2cHRcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImg1IHBcIjoge1xuICAgICAgICAgICAgICAgIFwiZm9udC1zaXplXCI6IFwiMTJwdFwiLFxuICAgICAgICAgICAgICAgIFwiZm9udC13ZWlnaHRcIjogXCJib2xkXCIsXG4gICAgICAgICAgICAgICAgXCJtYXJnaW5cIjogXCI2cHQgMFwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiLmhlYWRlclwiOiB7XG4gICAgICAgICAgICAgICAgXCJib3JkZXItYm90dG9tXCI6IFwiMXB4IHNvbGlkIGJsYWNrXCIsXG4gICAgICAgICAgICAgICAgXCJmb250LXNpemVcIjogXCIxMHB0XCIsXG4gICAgICAgICAgICAgICAgXCJmb250LXdlaWdodFwiOiBcImJvbGRcIixcbiAgICAgICAgICAgICAgICBcIm1hcmdpblwiOiAwLFxuICAgICAgICAgICAgICAgIFwicGFkZGluZy1ib3R0b21cIjogXCIycHRcIixcbiAgICAgICAgICAgICAgICBcIm1hcmdpbi1ib3R0b21cIjogXCIyMHB0XCIsXG4gICAgICAgICAgICAgICAgXCJ0ZXh0LWFsaWduXCI6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJwXCI6IHtcbiAgICAgICAgICAgICAgICBcIm1hcmdpblwiOiAwLFxuICAgICAgICAgICAgICAgIFwicGFkZGluZ1wiOiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwibGlcIjogeyBcIm1hcmdpbi10b3BcIjogMCwgXCJwYWRkaW5nLXRvcFwiOiAwIH0sXG4gICAgICAgICAgICBcIi5zcGFjZXJcIjoge1xuICAgICAgICAgICAgICAgIFwiZm9udC1zaXplXCI6IFwiMTRwdFwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiLnZhLXRvcFwiOiB7XG4gICAgICAgICAgICAgICAgXCJ2ZXJ0aWNhbC1hbGlnblwiOiBcInRvcFwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiLnRleHQtbGVmdFwiOiB7IFwidGV4dC1hbGlnblwiOiBcImxlZnRcIiB9LFxuICAgICAgICAgICAgXCIudGV4dC1yaWdodFwiOiB7IFwidGV4dC1hbGlnblwiOiBcInJpZ2h0XCIgfSxcbiAgICAgICAgICAgIFwiLnRleHQtY2VudGVyXCI6IHsgXCJ0ZXh0LWFsaWduXCI6IFwiY2VudGVyXCIgfSxcbiAgICAgICAgICAgIFwiLmJvcmRlcmVkLXRhYmxlIHRkLCAuYm9yZGVyZWQtdGFibGUgdGhcIjoge1xuICAgICAgICAgICAgICAgIFwiYm9yZGVyXCI6IFwiMXB0IHNvbGlkIGJsYWNrXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRkV2lkdGhDc3MoKTtcbiAgICB9XG4gICAgYWRkV2lkdGhDc3MoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDEwMDsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLmFkZFN0eWxlKFwiLnctXCIgKyBpLCBcIndpZHRoXCIsIGkgKyBcIiVcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRTdHlsZShzZWxlY3Rvciwga2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuc3R5bGVzW3NlbGVjdG9yXSkge1xuICAgICAgICAgICAgdGhpcy5zdHlsZXNbc2VsZWN0b3JdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdHlsZXNbc2VsZWN0b3JdW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNldEhlYWRlcihoZWFkZXIpIHtcbiAgICAgICAgdGhpcy5oZWFkZXIgPSBoZWFkZXI7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZXRUaXRsZTEodGl0bGUxKSB7XG4gICAgICAgIHRoaXMudGl0bGUxID0gdGl0bGUxO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2V0VGl0bGUyKHRpdGxlMikge1xuICAgICAgICB0aGlzLnRpdGxlMiA9IHRpdGxlMjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNldFRpdGxlMyh0aXRsZTMpIHtcbiAgICAgICAgdGhpcy50aXRsZTMgPSB0aXRsZTM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZXRNYXJnaW5zKG1hcmdpbnMpIHtcbiAgICAgICAgdGhpcy5tYXJnaW5zID0gbWFyZ2lucztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNldEJvZHkoYm9keSkge1xuICAgICAgICB0aGlzLmJvZHkgPSBib2R5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2V0T3JpZW50YXRpb24ob3JpZW50YXRpb24pIHtcbiAgICAgICAgdGhpcy5vcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICByZW5kZXJTdHlsZUJsb2NrKHNlbGVjdG9yLCBkYXRhKSB7XG4gICAgICAgIGxldCBjc3NfcGFpcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkYXRhKS5tYXAoKGtleSkgPT4ga2V5ICsgJzogJyArIGRhdGFba2V5XSArICc7ICcpXG4gICAgICAgIHJldHVybiBzZWxlY3RvciArIFwiIHsgXCIgKyBjc3NfcGFpcnMuam9pbihcIiBcIikgKyBcIiB9XCI7XG4gICAgfVxuICAgIHJlbmRlclN0eWxlcygpIHtcbiAgICAgICAgbGV0IGNzc19ibG9ja3MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzLnN0eWxlcykubWFwKChcbiAgICAgICAgICAgIChzZWxlY3RvcikgPT4gdGhpcy5yZW5kZXJTdHlsZUJsb2NrKHNlbGVjdG9yLCB0aGlzLnN0eWxlc1tzZWxlY3Rvcl0pXG4gICAgICAgICkuYmluZCh0aGlzKSk7XG4gICAgICAgIHJldHVybiBjc3NfYmxvY2tzLmpvaW4oXCJcXG5cIik7XG4gICAgfVxuICAgIHJlbmRlckhUTUwoKSB7XG4gICAgICAgIGxldCBjc3MgPSB0aGlzLnJlbmRlclN0eWxlcygpO1xuICAgICAgICBsZXQgaGVhZGVyID0gdGhpcy5oZWFkZXIgPyAnPHAgY2xhc3M9XCJoZWFkZXJcIj4nICsgdGhpcy5oZWFkZXIgKyAnPC9wPicgOiBcIlwiO1xuICAgICAgICBsZXQgdGl0bGUxID0gdGhpcy50aXRsZTEgPyAnPGgxPicgKyB0aGlzLnRpdGxlMSArICc8L2gxPicgOiBcIlwiO1xuICAgICAgICBsZXQgdGl0bGUyID0gdGhpcy50aXRsZTIgPyAnPGgyPicgKyB0aGlzLnRpdGxlMiArICc8L2gyPicgOiBcIlwiO1xuICAgICAgICBsZXQgdGl0bGUzID0gdGhpcy50aXRsZTMgPyAnPGgzPicgKyB0aGlzLnRpdGxlMyArICc8L2gzPicgOiBcIlwiO1xuICAgICAgICBsZXQgc3BhY2VyID0gKGhlYWRlciB8fCB0aXRsZTEgfHwgdGl0bGUyIHx8IHRpdGxlMykgPyAnPHAgY2xhc3M9XCJzcGFjZXJcIj4mbmJzcDs8L3A+JyA6IFwiXCI7XG4gICAgICAgIHJldHVybiBcIjwhRE9DVFlQRSBodG1sPlxcblwiICtcbiAgICAgICAgICAgIFwiPGh0bWw+PGhlYWQ+XCIgK1xuICAgICAgICAgICAgICAgIFwiPG1ldGEgY2hhcnNldD1cXFwidXRmLThcXFwiPlwiICtcbiAgICAgICAgICAgICAgICBcIjxzdHlsZT5cXG5cIiArIGNzcyArIFwiXFxuPC9zdHlsZT5cXG5cIiArXG4gICAgICAgICAgICBcIjwvaGVhZD48Ym9keT5cXG5cIiArXG4gICAgICAgICAgICAgICAgaGVhZGVyICtcbiAgICAgICAgICAgICAgICB0aXRsZTEgK1xuICAgICAgICAgICAgICAgIHRpdGxlMiArXG4gICAgICAgICAgICAgICAgdGl0bGUzICtcbiAgICAgICAgICAgICAgICBzcGFjZXIgK1xuICAgICAgICAgICAgICAgIHRoaXMuYm9keSArXG4gICAgICAgICAgICBcIjwvYm9keT48L2h0bWw+XCI7XG4gICAgfVxuXG4gICAgc2F2ZSgpIHtcbiAgICAgICAgbGV0IGh0bWwgPSB0aGlzLnJlbmRlckhUTUwoKTtcbiAgICAgICAgbGV0IG1hcmdpbnMgPSB0aGlzLm1hcmdpbnMgfHwgKHRoaXMub3JpZW50YXRpb24gPT09IFwicG9ydHJhaXRcIiA/IFsxMCwgMTUsIDEwLCAxNV0gOiBbNywgMTAsIDcsIDEwXSk7XG4gICAgICAgIGxldCBjb252ZXJ0ZWQgPSBodG1sRG9jeC5hc0Jsb2IoaHRtbCwge1xuICAgICAgICAgICAgb3JpZW50YXRpb246IHRoaXMub3JpZW50YXRpb24sXG4gICAgICAgICAgICBtYXJnaW5zOiB7XG4gICAgICAgICAgICAgICAgdG9wOiAgICBNYXRoLmZsb29yKG1hcmdpbnNbMF0gKiA1Ni42NTkpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgcmlnaHQ6ICBNYXRoLmZsb29yKG1hcmdpbnNbMV0gKiA1Ni42NTkpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgYm90dG9tOiBNYXRoLmZsb29yKG1hcmdpbnNbMl0gKiA1Ni42NTkpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgbGVmdDogICBNYXRoLmZsb29yKG1hcmdpbnNbM10gKiA1Ni42NTkpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzYXZlQXMoY29udmVydGVkLCB0aGlzLmZpbGVuYW1lKTtcbiAgICB9XG59XG5cblxuZXhwb3J0IHZhciBEb2N4ID0gKGZuKSA9PiBuZXcgRG9jeEltcGwoZm4pO1xuIiwiZXhwb3J0IGZ1bmN0aW9uIGNsb25lKG9iaikge1xuICAgIGlmICh0eXBlb2Ygb2JqICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpO1xufVxuXG5jbGFzcyBDbXBDaGFpbkltcGwge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnJlc3VsdCA9IDA7XG4gICAgfVxuICAgIGNtcChhLCBiKSB7XG4gICAgICAgIGlmICh0aGlzLnJlc3VsdCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKGEgPCBiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bHQgPSAtMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYSA+IGIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdCA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGVuZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0O1xuICAgIH1cbn1cblxuZXhwb3J0IHZhciBDbXBDaGFpbiA9ICgpID0+IG5ldyBDbXBDaGFpbkltcGwoKTtcbiIsImltcG9ydCB7IHRyYW5zbGF0ZSwgZ2V0UG9zc2libGVUb3VyTmFtZXMgfSBmcm9tIFwiLi9ydVwiO1xyXG5cclxuZXhwb3J0IHZhciBfID0gdHJhbnNsYXRlO1xyXG5leHBvcnQgdmFyIHRvdXJfbmFtZXMgPSBnZXRQb3NzaWJsZVRvdXJOYW1lcygpO1xyXG4iLCJleHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKHNyYywgYXJnKSB7XHJcbiAgICBmdW5jdGlvbiBjaG9vc2VFbmRpbmcobiwgZTEsIGUyLCBlNSkge1xyXG4gICAgICAgIGxldCB4ID0gbiAlIDEwMDtcclxuICAgICAgICBpZiAoTWF0aC5mbG9vcih4IC8gMTApID09PSAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlNTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHggJSAxMCA9PT0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZTE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh4ICUgMTAgPj0gNSB8fCB4ICUgMTAgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGU1O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZTI7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IFBIUkFTRVMgPSB7XHJcbiAgICAgICAgXCJhZG1pblwiOiB7XHJcbiAgICAgICAgICAgIFwiYWxlcnRzXCI6IHtcclxuICAgICAgICAgICAgICAgIFwiYWJvdXRcIjogKHZlcnNpb24sIGRhdGUpID0+IDxkaXYgY2xhc3NOYW1lPVwiYWJvdXRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8cD48Yj5Sb2NrSnVkZ2Uge3ZlcnNpb259PC9iPiAo0LfQsNC60YDRi9GC0LDRjyDQstC10YDRgdC40Y8g0LTQu9GPINC+0LPRgNCw0L3QuNGH0LXQvdC90L7Qs9C+INC40YHQv9C+0LvRjNC30L7QstCw0L3QuNGPKSAmbWRhc2g7INGB0LjRgdGC0LXQvNCwINC00LvRjyDQv9C+0LTRgdGH0LXRgtCwINGA0LXQt9GD0LvRjNGC0LDRgtC+0LIg0YHQvtGA0LXQstC90L7QstCw0L3QuNC5INC/0L4g0LDQutGA0L7QsdCw0YLQuNGH0LXRgdC60L7QvNGDINGA0L7Qui3QvS3RgNC+0LvQu9GDLjwvcD5cclxuICAgICAgICAgICAgICAgICAgICA8cD7QkNCy0YLQvtGA0YHQutC40LUg0L/RgNCw0LLQsCDQvdCwINGB0LjRgdGC0LXQvNGDIFJvY2tKdWRnZSDQv9C+0LvQvdC+0YHRgtGM0Y4g0L/RgNC40L3QsNC00LvQtdC20LDRgiDRgNCw0LfRgNCw0LHQvtGC0YfQuNC60YMg0JDRgNGC0LXQvNGDINCa0LDQt9Cw0LrQvtCy0YMuINCh0L7QsNCy0YLQvtGAINGB0LjRgdGC0LXQvNGLINCQ0L3RgtC+0L0g0JDQvNC10LvQuNC9LjwvcD5cclxuICAgICAgICAgICAgICAgICAgICA8cD7QodC40YHRgtC10LzQsCDRgNCw0YHQv9GA0L7RgdGC0YDQsNC90Y/QtdGC0YHRjyDQv9C+INC70LjRhtC10L3Qt9C40LggTGludW0gZC5vLm8gKGluZm9AbGludW0uaHIpLiDQlNC70Y8g0LjRgdC/0L7Qu9GM0LfQvtCy0LDQvdC40Y8g0YHQuNGB0YLQtdC80Ysg0YHRg9C00LXQudGB0YLQstCwIFJvY2tKdWRnZSDQvdC10L7QsdGF0L7QtNC40LzQviDQuCDQtNC+0YHRgtCw0YLQvtGH0L3QviDQuNC80LXRgtGMINC/0YDQsNCy0L4g0LjRgdC/0L7Qu9GM0LfQvtCy0LDQvdC40Y8g0YHQuNGB0YLQtdC80YsgTGludW0gTFBTLjwvcD5cclxuICAgICAgICAgICAgICAgICAgICA8cD7QntGE0LjRhtC40LDQu9GM0L3Ri9C5INGB0LDQudGCOiA8YSBocmVmPVwiaHR0cHM6Ly9yb2NranVkZ2UuY29tL1wiIHRhcmdldD1cIl9ibGFua1wiPmh0dHBzOi8vcm9ja2p1ZGdlLmNvbS88L2E+PC9wPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+LFxyXG4gICAgICAgICAgICAgICAgXCJhZGRfcHJvZ3JhbXNfYWZ0ZXJfY3JlYXRpb25cIjogXCLQn9GA0L7Qs9GA0LDQvNC80Ysg0LzQvtC20L3QviDQsdGD0LTQtdGCINC00L7QsdCw0LLQuNGC0Ywg0YLQvtC70YzQutC+INC/0L7RgdC70LUg0YHQvtGF0YDQsNC90LXQvdC40Y8g0YPRh9Cw0YHRgtC90LjQutCwXCIsXHJcbiAgICAgICAgICAgICAgICBcImF1dG9fcHJpbnRlcl9hdmFpbGFibGVcIjogXCLQkNCy0YLQvtC80LDRgtC40YfQtdGB0LrQsNGPINC/0LXRh9Cw0YLRjCDQutC+0YDRgNC10LrRgtC90L4g0L3QsNGB0YLRgNC+0LXQvdCwINC4INC80L7QttC10YIg0LHRi9GC0Ywg0LjRgdC/0L7Qu9GM0LfQvtCy0LDQvdCwLlwiLFxyXG4gICAgICAgICAgICAgICAgXCJhdXRvX3ByaW50ZXJfbm90X2F2YWlsYWJsZVwiOiBcItCQ0LLRgtC+0LzQsNGC0LjRh9C10YHQutCw0Y8g0L/QtdGH0LDRgtGMINC90LXQtNC+0YHRgtGD0L/QvdCwINC90LAg0Y3RgtC+0Lwg0LrQvtC80L/RjNGC0LXRgNC1LlwiLFxyXG4gICAgICAgICAgICAgICAgXCJub19maW5hbGl6ZWRcIjogXCLQntGC0YHRg9GC0YHRgtCy0YPRjtGCINGE0LjQvdCw0LvQuNC30LjRgNC+0LLQsNC90L3Ri9C1INGC0YPRgNGLXCIsXHJcbiAgICAgICAgICAgICAgICBcInVuZmluYWxpemVfd2FybmluZ1wiOiA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+0KTQuNC90LDQu9C40LfQsNGG0LjRjyDQtNC+0LvQttC90LAg0L7RgtC80LXQvdGP0YLRjNGB0Y8g0YLQvtC70YzQutC+INCyINC40YHQutC70Y7Rh9C40YLQtdC70YzQvdGL0YUg0YHQu9GD0YfQsNGP0YUhPC9zdHJvbmc+PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwPtCV0YHQu9C4INC20LUg0Y3RgtC+INC00LXQudGB0YLQstC40YLQtdC70YzQvdC+INC90LXQvtCx0YXQvtC00LjQvNC+LCDQvtCx0YDQsNGC0LjRgtC1INCy0L3QuNC80LDQvdC40LUsINGH0YLQviDQv9C+0YHQu9C1INC/0L7QstGC0L7RgNC90L7QuSDRhNC40L3QsNC70LjQt9Cw0YbQuNC4INGB0L/QuNGB0L7QuiDRg9GH0LDRgdGC0L3QuNC60L7QslxyXG4gICAgICAgICAgICAgICAgICAgINGB0LvQtdC00YPRjtGJ0LXQs9C+INGC0YPRgNCwINCx0YPQtNC10YIg0LDQstGC0L7QvNCw0YLQuNGH0LXRgdC60Lgg0L/QtdGA0LXRgdC+0LfQtNCw0L0uINCg0LXQt9GD0LvRjNGC0LDRgtGLINGD0YfQsNGB0YLQvdC40LrQvtCyLCDQv9GA0L7RiNC10LTRiNC40YUg0LIg0YHQu9C10LTRg9GO0YnQuNC5INGC0YPRgCDQv9C+0YHQu9C1INC/0LXRgNCy0L7QuVxyXG4gICAgICAgICAgICAgICAgICAgINGE0LjQvdCw0LvQuNC30LDRhtC40Lgg0Lgg0L3QtSDQv9GA0L7RiNC10LTRiNC40YUg0L/QvtGB0LvQtSDQv9C+0LLRgtC+0YDQvdC+0Lkg0LHRg9C00YPRgiDQsdC10LfQstC+0LfQstGA0LDRgtC90L4g0YPRgtC10YDRj9C90YshPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwPtCYINC90LUg0LfQsNCx0YPQtNGM0YLQtSDQt9Cw0L3QvtCy0L4g0L3QsNC/0LXRh9Cw0YLQsNGC0Ywg0LLRgdC1INGC0LHQu9C40YbRiy48L3A+PC9kaXY+LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcImF1dG9fcHJpbnRlclwiOiB7XHJcbiAgICAgICAgICAgICAgICBcImRpc2NpcGxpbmVcIjogXCLQlNC40YHRhtC40L/Qu9C40L3QsFwiLFxyXG4gICAgICAgICAgICAgICAgXCJkaXNjaXBsaW5lX3Jlc3VsdHNcIjogXCLQoNC10LfRg9C70YzRgtCw0YLRiyDQtNC40YHRhtC40L/Qu9C40L3Ri1wiLFxyXG4gICAgICAgICAgICAgICAgXCJoZWF0c1wiOiBcItCX0LDRhdC+0LTRiyDRgdC7LsKg0YLRg9GA0LBcIixcclxuICAgICAgICAgICAgICAgIFwicHJpbnRfdGVzdF9wYWdlXCI6IFwi0J3QsNC/0LXRh9Cw0YLQsNGC0Ywg0YLQtdGB0YLQvtCy0YPRjiDRgdGC0YDQsNC90LjRhtGDXCIsXHJcbiAgICAgICAgICAgICAgICBcInF1ZXVlXCI6IFwi0J7Rh9C10YDQtdC00Ywg0L/QtdGH0LDRgtC4XCIsXHJcbiAgICAgICAgICAgICAgICBcInF1ZXVlX2VtcHR5XCI6IFwi0J7Rh9C10YDQtdC00Ywg0L/Rg9GB0YLQsFwiLFxyXG4gICAgICAgICAgICAgICAgXCJyZXN1bHRzXzFcIjogXCLQmtGA0LDRgtC60LDRjyDRgtCw0LHQu9C40YbQsFwiLFxyXG4gICAgICAgICAgICAgICAgXCJyZXN1bHRzXzJcIjogXCLQodGA0LXQtNC90Y/RjyDRgtCw0LHQu9C40YbQsFwiLFxyXG4gICAgICAgICAgICAgICAgXCJyZXN1bHRzXzNcIjogXCLQn9C+0LTRgNC+0LHQvdCw0Y8g0YLQsNCx0LvQuNGG0LBcIixcclxuICAgICAgICAgICAgICAgIFwicnVsZXNcIjogXCLQl9Cw0LTQsNC90LjRj1wiLFxyXG4gICAgICAgICAgICAgICAgXCJ0ZXN0XCI6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBcInRlc3RfcGFnZVwiOiBcItCi0LXRgdGC0L7QstCw0Y8g0YHRgtGA0LDQvdC40YbQsFwiLFxyXG4gICAgICAgICAgICAgICAgXCJ0ZXN0X3RleHRcIjogXCLQrdGC0L4g0YLQtdGB0YLQvtCy0LDRjyDRgdGC0YDQsNC90LjRhtCwIFJvY2tKdWRnZVwiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcImJ1dHRvbnNcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJhZGRfY2x1YlwiOiBcItCU0L7QsdCw0LLQuNGC0Ywg0LrQu9GD0LFcIixcclxuICAgICAgICAgICAgICAgIFwiYWRkX2NvbXBldGl0aW9uXCI6IFwi0KHQvtC30LTQsNGC0Ywg0YHQvtGA0LXQstC90L7QstCw0L3QuNC1XCIsXHJcbiAgICAgICAgICAgICAgICBcImFkZF9jb21wZXRpdGlvbl9wbGFuX2l0ZW1cIjogXCLQlNC+0LHQsNCy0LjRgtGMINGN0LvQtdC80LXQvdGCXCIsXHJcbiAgICAgICAgICAgICAgICBcImFkZF9kaXNjaXBsaW5lXCI6IFwi0JTQvtCx0LDQstC40YLRjCDQtNC40YHRhtC40L/Qu9C40L3Rg1wiLFxyXG4gICAgICAgICAgICAgICAgXCJhZGRfanVkZ2VcIjogXCLQlNC+0LHQsNCy0LjRgtGMINGB0YPQtNGM0Y5cIixcclxuICAgICAgICAgICAgICAgIFwiYWRkX3BhcnRpY2lwYW50XCI6IFwi0JTQvtCx0LDQstC40YLRjCDRg9GH0LDRgdGC0L3QuNC60LBcIixcclxuICAgICAgICAgICAgICAgIFwiYWRkX3RvdXJcIjogXCLQlNC+0LHQsNCy0LjRgtGMINGC0YPRgFwiLFxyXG4gICAgICAgICAgICAgICAgXCJjb25maXJtX3Njb3JlXCI6IFwi0JfQsNGE0LjQutGB0LjRgNC+0LLQsNGC0YxcIixcclxuICAgICAgICAgICAgICAgIFwiZG9jeF9oZWF0c1wiOiBcItCX0LDRhdC+0LTRiyDQsiBET0NYXCIsXHJcbiAgICAgICAgICAgICAgICBcImRvY3hfbnVtYmVyc1wiOiBcItCd0L7QvNC10YDQsCDQsiBET0NYXCIsXHJcbiAgICAgICAgICAgICAgICBcImRvY3hfcmVzdWx0c1wiOiBcItCg0LXQt9GD0LvRjNGC0LDRgtGLINCyIERPQ1hcIixcclxuICAgICAgICAgICAgICAgIFwiZXhwb3J0XCI6IFwi0K3QutGB0L/QvtGA0YLQuNGA0L7QstCw0YLRjFwiLFxyXG4gICAgICAgICAgICAgICAgXCJpbXBvcnRcIjogXCLQmNC80L/QvtGA0YLQuNGA0L7QstCw0YLRjFwiLFxyXG4gICAgICAgICAgICAgICAgXCJsYXVuY2hfYXV0b19wcmludGVyXCI6IFwi0JfQsNC/0YPRgdC6INCw0LLRgtC+0LzQsNGC0LjRh9C10YHQutC+0Lkg0L/QtdGH0LDRgtC4XCIsXHJcbiAgICAgICAgICAgICAgICBcImxvYWRfYWNyb1wiOiBcItCX0LDQs9GA0YPQt9C40YLRjCDQsNC60YDQvtCx0LDRgtC40LrRg1wiLFxyXG4gICAgICAgICAgICAgICAgXCJyZWZyZXNoX2NsaWVudHNcIjogXCLQn9C10YDQtdC30LDQs9GA0YPQt9C40YLRjCDQstGB0LUg0YPRgdGC0YDQvtC50YHRgtCy0LBcIixcclxuICAgICAgICAgICAgICAgIFwicmVsb2FkX2NsaWVudHNcIjogXCLQntCx0L3QvtCy0LjRgtGMINC00LDQvdC90YvQtSDQvdCwINCy0YHQtdGFINGD0YHRgtGA0L7QudGB0YLQstCw0YVcIixcclxuICAgICAgICAgICAgICAgIFwic3dpdGNoX3RvX3BsYW5cIjogXCLQodC+0YDRgtC40YDQvtCy0LrQsCDQv9C+INC/0YDQvtCz0YDQsNC80LzQtVwiLFxyXG4gICAgICAgICAgICAgICAgXCJzd2l0Y2hfdG9fZGlzY2lwbGluZXNcIjogXCLQodC+0YDRgtC40YDQvtCy0LrQsCDQv9C+INC00LjRgdGG0LjQv9C70LjQvdCw0LxcIixcclxuICAgICAgICAgICAgICAgIFwidG9fc3RhcnRfcGFnZVwiOiBcItCd0LAg0LPQu9Cw0LLQvdGD0Y5cIixcclxuICAgICAgICAgICAgICAgIFwidW5jb25maXJtX3Njb3JlXCI6IFwi0J7RgtC80LXQvdCwINGE0LjQutGB0LDRhtC40LhcIixcclxuICAgICAgICAgICAgICAgIFwidW5maW5hbGl6ZVwiOiBcItCe0YLQvNC10L3QuNGC0Ywg0YTQuNC90LDQu9C40LfQsNGG0LjRjlwiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcImNvbmZpcm1zXCI6IHtcclxuICAgICAgICAgICAgICAgIFwiZGVsZXRlX2NsdWJcIjogXCLQktGLINC00LXQudGB0YLQstC40YLQtdC70YzQvdC+INGF0L7RgtC40YLQtSDRg9C00LDQu9C40YLRjCDRjdGC0L7RgiDQutC70YPQsT9cIixcclxuICAgICAgICAgICAgICAgIFwiZGVsZXRlX2NvbXBldGl0aW9uXCI6IFwi0JLRiyDQtNC10LnRgdGC0LLQuNGC0LXQu9GM0L3QviDRhdC+0YLQuNGC0LUg0YPQtNCw0LvQuNGC0Ywg0Y3RgtC+INGB0L7RgNC10LLQvdC+0LLQsNC90LjQtT9cIixcclxuICAgICAgICAgICAgICAgIFwiZGVsZXRlX2Rpc2NpcGxpbmVcIjogXCLQktGLINC00LXQudGB0YLQstC40YLQtdC70YzQvdC+INGF0L7RgtC40YLQtSDRg9C00LDQu9C40YLRjCDRjdGC0YMg0LTQuNGB0YbQuNC/0LvQuNC90YM/XCIsXHJcbiAgICAgICAgICAgICAgICBcImRlbGV0ZV9qdWRnZVwiOiBcItCS0Ysg0LTQtdC50YHRgtCy0LjRgtC10LvRjNC90L4g0YXQvtGC0LjRgtC1INGD0LTQsNC70LjRgtGMINGN0YLQvtCz0L4g0YHRg9C00YzRjj9cIixcclxuICAgICAgICAgICAgICAgIFwiZGVsZXRlX3BhcnRpY2lwYW50XCI6IFwi0JLRiyDQtNC10LnRgdGC0LLQuNGC0LXQu9GM0L3QviDRhdC+0YLQuNGC0LUg0YPQtNCw0LvQuNGC0Ywg0Y3RgtC+0LPQviDRg9GH0LDRgdGC0L3QuNC60LA/XCIsXHJcbiAgICAgICAgICAgICAgICBcImRlbGV0ZV9wcm9ncmFtXCI6IFwi0JLRiyDQtNC10LnRgdGC0LLQuNGC0LXQu9GM0L3QviDRhdC+0YLQuNGC0LUg0YPQtNCw0LvQuNGC0Ywg0Y3RgtGDINC/0YDQvtCz0YDQsNC80LzRgz9cIixcclxuICAgICAgICAgICAgICAgIFwiZGVsZXRlX3RvdXJcIjogXCLQktGLINC00LXQudGB0YLQstC40YLQtdC70YzQvdC+INGF0L7RgtC40YLQtSDRg9C00LDQu9C40YLRjCDRjdGC0L7RgiDRgtGD0YA/XCIsXHJcbiAgICAgICAgICAgICAgICBcInJlZnJlc2hfY2xpZW50c1wiOiBcItCS0Ysg0LTQtdC50YHRgtCy0LjRgtC10LvRjNC90L4g0YXQvtGC0LjRgtC1INC/0LXRgNC10LfQsNCz0YDRg9C30LjRgtGMINGB0YLRgNCw0L3QuNGG0YMg0L3QsCDQstGB0LXRhSDQutC70LjQtdC90YLQsNGFP1wiLFxyXG4gICAgICAgICAgICAgICAgXCJyZWxvYWRfY2xpZW50c1wiOiBcItCS0Ysg0LTQtdC50YHRgtCy0LjRgtC10LvRjNC90L4g0YXQvtGC0LjRgtC1INC+0LHQvdC+0LLQuNGC0Ywg0LTQsNC90L3Ri9C1INC90LAg0LLRgdC10YUg0LrQu9C40LXQvdGC0LDRhT9cIixcclxuICAgICAgICAgICAgICAgIFwidW5maW5hbGl6ZV90b3VyXCI6IFwi0JLRiyDQtNC10LnRgdGC0LLQuNGC0LXQu9GM0L3QviDRhdC+0YLQuNGC0LUg0L7RgtC80LXQvdC40YLRjCDRhNC40L3QsNC70LjQt9Cw0YbQuNGOINGC0YPRgNCwPyDQktCy0LXQtNC40YLQtSDCq3VuZmluYWxpemXCuywg0YfRgtC+0LHRiyDQv9GA0L7QtNC+0LvQttC40YLRjFwiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcImhlYWRlcnNcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJhYm91dFwiOiBcItCeINC/0YDQvtCz0YDQsNC80LzQtVwiLFxyXG4gICAgICAgICAgICAgICAgXCJhdXRvX3ByaW50ZXJcIjogXCLQkNCy0YLQvtC80LDRgtC40YfQtdGB0LrQsNGPINC/0LXRh9Cw0YLRjFwiLFxyXG4gICAgICAgICAgICAgICAgXCJjbGllbnRzX21hbmFnZW1lbnRcIjogXCLQo9C/0YDQsNCy0LvQtdC90LjQtSDQv9C+0LTQutC70Y7Rh9C10L3QvdGL0LzQuCDRg9GB0YLRgNC+0LnRgdGC0LLQsNC80LhcIixcclxuICAgICAgICAgICAgICAgIFwiY2x1YnNcIjogXCLQmtC70YPQsdGLLdGD0YfQsNGB0YLQvdC40LrQuFwiLFxyXG4gICAgICAgICAgICAgICAgXCJjbHVic19tYW5hZ2VtZW50XCI6IFwi0KPQv9GA0LDQstC70LXQvdC40LUg0LrQu9GD0LHQsNC80LhcIixcclxuICAgICAgICAgICAgICAgIFwiY2x1YnNfc2hvd25cIjogXCLQmNC90YTQvtGA0LzQsNGG0LjRjyDRgtC+0LvRjNC60L4g0L/QviDRgdC70LXQtNGD0Y7RidC40Lwg0LrQu9GD0LHQsNC8OlwiLFxyXG4gICAgICAgICAgICAgICAgXCJjbHVic19zdW1tYXJ5XCI6IFwi0KHQstC+0LTQutCwINC/0L4g0LrQu9GD0LHQsNC8XCIsXHJcbiAgICAgICAgICAgICAgICBcImNvbXBldGl0aW9uX2luZm9cIjogXCLQmNC90YTQvtGA0LzQsNGG0LjRjyDQviDRgtGD0YDQvdC40YDQtVwiLFxyXG4gICAgICAgICAgICAgICAgXCJjb21wZXRpdGlvbl9wbGFuXCI6IFwi0J/RgNC+0LPRgNCw0LzQvNCwINGB0L7RgNC10LLQvdC+0LLQsNC90LjQuVwiLFxyXG4gICAgICAgICAgICAgICAgXCJjb21wZXRpdGlvbl9wbGFuX21hbmFnZW1lbnRcIjogXCLQn9GA0L7Qs9GA0LDQvNC80LAg0YHQvtGA0LXQstC90L7QstCw0L3QuNC5XCIsXHJcbiAgICAgICAgICAgICAgICBcImNvbXBldGl0aW9uX3JlcG9ydFwiOiBcItCf0YDQvtGC0L7QutC+0Lsg0YHQvtGA0LXQstC90L7QstCw0L3QuNC5XCIsXHJcbiAgICAgICAgICAgICAgICBcImNvbXBldGl0aW9uX3Jlc3VsdHNcIjogXCLQoNC10LfRg9C70YzRgtCw0YLRiyDRgdC+0YDQtdCy0L3QvtCy0LDQvdC40LlcIixcclxuICAgICAgICAgICAgICAgIFwiY29tcGV0aXRpb25zX21hbmFnZW1lbnRcIjogXCLQo9C/0YDQsNCy0LvQtdC90LjQtSDRgdC+0YDQtdCy0L3QvtCy0LDQvdC40Y/QvNC4XCIsXHJcbiAgICAgICAgICAgICAgICBcImRpc2NpcGxpbmVfanVkZ2VzXCI6IFwi0KDQsNGB0L/RgNC10LTQtdC70LXQvdC40LUg0YHRg9C00LXQuSDQv9C+INC00LjRgdGG0LjQv9C70LjQvdCw0LxcIixcclxuICAgICAgICAgICAgICAgIFwiZGlzY2lwbGluZV9yZXN1bHRzXCI6IFwi0KDQtdC30YPQu9GM0YLQsNGC0Ysg0LTQuNGB0YbQuNC/0LvQuNC90YtcIixcclxuICAgICAgICAgICAgICAgIFwiZGlzY2lwbGluZXNfbWFuYWdlbWVudFwiOiBcItCj0L/RgNCw0LLQu9C10L3QuNC1INC00LjRgdGG0LjQv9C70LjQvdCw0LzQuFwiLFxyXG4gICAgICAgICAgICAgICAgXCJkaXNjaXBsaW5lc19zaG93blwiOiBcItCY0L3RhNC+0YDQvNCw0YbQuNGPINGC0L7Qu9GM0LrQviDQv9C+INGB0LvQtdC00YPRjtGJ0LjQvCDQtNC40YHRhtC40L/Qu9C40L3QsNC8OlwiLFxyXG4gICAgICAgICAgICAgICAgXCJkaXNjaXBsaW5lc19zdW1tYXJ5XCI6IFwi0KHQstC+0LTQutCwINC/0L4g0LTQuNGB0YbQuNC/0LvQuNC90LDQvFwiLFxyXG4gICAgICAgICAgICAgICAgXCJleHBvcnRfY29tcGV0aXRpb25cIjogXCLQrdC60YHQv9C+0YDRgiDQtNCw0L3QvdGL0YUg0YLRg9GA0L3QuNGA0LAg0Lgg0YDQtdC30YPQu9GM0YLQsNGC0L7QslwiLFxyXG4gICAgICAgICAgICAgICAgXCJpbXBvcnRfY29tcGV0aXRpb25cIjogXCLQmNC80L/QvtGA0YIg0LTQsNC90L3Ri9GFINGC0YPRgNC90LjRgNCwXCIsXHJcbiAgICAgICAgICAgICAgICBcImltcG9ydF9leHBvcnRcIjogXCLQmNC80L/QvtGA0YIgLyDRjdC60YHQv9C+0YDRglwiLFxyXG4gICAgICAgICAgICAgICAgXCJqdWRnZXNcIjogXCLQodGD0LTQtdC50YHQutCw0Y8g0LHRgNC40LPQsNC00LBcIixcclxuICAgICAgICAgICAgICAgIFwianVkZ2VzX21hbmFnZW1lbnRcIjogXCLQo9C/0YDQsNCy0LvQtdC90LjQtSDRgdGD0LTRjNGP0LzQuFwiLFxyXG4gICAgICAgICAgICAgICAgXCJsb2FkX2Fjcm9iYXRpY3NcIjogXCLQl9Cw0LPRgNGD0LfQutCwINCw0LrRgNC+0LHQsNGC0LjQutC4XCIsXHJcbiAgICAgICAgICAgICAgICBcInBhcnRpY2lwYW50c19tYW5hZ2VtZW50XCI6IFwi0KPQv9GA0LDQstC70LXQvdC40LUg0YPRh9Cw0YHRgtC90LjQutCw0LzQuFwiLFxyXG4gICAgICAgICAgICAgICAgXCJzZXJ2aWNlX21lbnVcIjogXCLQodC10YDQstC40YHQvdC+0LUg0LzQtdC90Y5cIixcclxuICAgICAgICAgICAgICAgIFwic3BvcnRzbWVuX2xpc3RcIjogXCLQodC/0LjRgdC+0Log0YHQv9C+0YDRgtGB0LzQtdC90L7QslwiLFxyXG4gICAgICAgICAgICAgICAgXCJzdGFydF9saXN0XCI6IFwi0KHRgtCw0YDRgtC+0LLRi9C5INC70LjRgdGCXCIsXHJcbiAgICAgICAgICAgICAgICBcInRvdXJfaGVhdHNcIjogXCLQl9Cw0YXQvtC00Ysg0YPRh9Cw0YHRgtC90LjQutC+0LJcIixcclxuICAgICAgICAgICAgICAgIFwidG91cl9yZXN1bHRzXCI6IFwi0KDQtdC30YPQu9GM0YLQsNGC0Ysg0YLRg9GA0LBcIixcclxuICAgICAgICAgICAgICAgIFwidW5maW5hbGl6ZV90b3VyXCI6IFwi0J7RgtC80LXQvdCwINGE0LjQvdCw0LvQuNC30LDRhtC40Lgg0YLRg9GA0LBcIixcclxuICAgICAgICAgICAgICAgIFwidW5waWNrZWRfdG91cnNcIjogXCLQndC1INCy0LrQu9GO0YfQtdC90Ysg0LIg0L/RgNC+0LPRgNCw0LzQvNGDXCIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwibGFiZWxzXCI6IHtcclxuICAgICAgICAgICAgICAgIFwiY2x1YnNcIjogXCLQmtC70YPQsdGLXCIsXHJcbiAgICAgICAgICAgICAgICBcImNvbXBldGl0aW9uX2RhdGVcIjogXCLQlNCw0YLQsCDQv9GA0L7QstC10LTQtdC90LjRj1wiLFxyXG4gICAgICAgICAgICAgICAgXCJjb21wZXRpdGlvbl9uYW1lXCI6IFwi0J3QsNC40LzQtdC90L7QstCw0L3QuNC1INGB0L7RgNC10LLQvdC+0LLQsNC90LjRj1wiLFxyXG4gICAgICAgICAgICAgICAgXCJkaXNjaXBsaW5lXCI6IFwi0JTQuNGB0YbQuNC/0LvQuNC90LBcIixcclxuICAgICAgICAgICAgICAgIFwiZGlzY2lwbGluZV9qdWRnZXNcIjogXCLQoNCw0YHQv9GA0LXQtNC10LvQtdC90LjQtSDRgdGD0LTQtdC5INC/0L4g0LTQuNGB0YbQuNC/0LvQuNC90LDQvFwiLFxyXG4gICAgICAgICAgICAgICAgXCJkaXNjaXBsaW5lc1wiOiBcItCU0LjRgdGG0LjQv9C70LjQvdGLXCIsXHJcbiAgICAgICAgICAgICAgICBcImdyb3VwX2J5X2NsdWJzXCI6IFwi0JPRgNGD0L/Qv9C40YDQvtCy0LDRgtGMINC/0L4g0LrQu9GD0LHQsNC8XCIsXHJcbiAgICAgICAgICAgICAgICBcImluY2x1ZGVfYWNyb2JhdGljc1wiOiBcItCS0LrQu9GO0YfQuNGC0Ywg0LDQutGA0L7QsdCw0YLQuNC60YNcIixcclxuICAgICAgICAgICAgICAgIFwiaW5jbHVkZV9jbHVic1wiOiBcItCS0LrQu9GO0YfQuNGC0Ywg0LTQsNC90L3Ri9C1INC+INC60LvRg9Cx0LDRhVwiLFxyXG4gICAgICAgICAgICAgICAgXCJpbmNsdWRlX2Rpc2NpcGxpbmVfanVkZ2VzXCI6IFwi0JLQutC70Y7Rh9C40YLRjCDRgNCw0YHQv9GA0LXQtNC10LvQtdC90LjQtSDRgdGD0LTQtdC5INC/0L4g0LTQuNGB0YbQuNC/0LvQuNC90LDQvFwiLFxyXG4gICAgICAgICAgICAgICAgXCJpbmNsdWRlX2V4dGVuZGVkX2luZm9cIjogXCLQktC60LvRjtGH0LjRgtGMINGA0LDRgdGI0LjRgNC10L3QvdGD0Y4g0LjQvdGE0L7RgNC80LDRhtC40Y5cIixcclxuICAgICAgICAgICAgICAgIFwiaW5jbHVkZV9mb3JtYXRpb25fc3BvcnRzbWVuXCI6IFwi0JLQutC70Y7Rh9C40YLRjCDRgdC+0YHRgtCw0LIg0YTQvtGA0LzQtdC50YjQvdC+0LJcIixcclxuICAgICAgICAgICAgICAgIFwiaW5jbHVkZV9qdWRnZXNcIjogXCLQktC60LvRjtGH0LjRgtGMINC00LDQvdC90YvQtSDQviDRgdGD0LTRjNGP0YVcIixcclxuICAgICAgICAgICAgICAgIFwianVkZ2VzXCI6IFwi0KHRg9C00YzQuFwiLFxyXG4gICAgICAgICAgICAgICAgXCJub19maWxlc19zZWxlY3RlZFwiOiBcItCS0YvQsdC10YDQuNGC0LUg0YTQsNC50LsuLi5cIixcclxuICAgICAgICAgICAgICAgIFwicGFydGljaXBhbnRzXCI6IFwi0KPRh9Cw0YHRgtC90LjQutC4XCIsXHJcbiAgICAgICAgICAgICAgICBcInBhc3RlX2Fjcm9cIjogXCLQktGB0YLQsNCy0YzRgtC1INC00LDQvdC90YvQtSDQuNC3INC60LDQu9GM0LrRg9C70Y/RgtC+0YDQsCDQsNC60YDQvtCx0LDRgtC40LrQuFwiLFxyXG4gICAgICAgICAgICAgICAgXCJwbGFuXCI6IFwi0J/RgNC+0LPRgNCw0LzQvNCwINGC0YPRgNC90LjRgNCwXCIsXHJcbiAgICAgICAgICAgICAgICBcInNob3dfc3BvcnRzbWVuX29ubHlcIjogXCLQn9C+0LrQsNC30YvQstCw0YLRjCDRgtC+0LvRjNC60L4g0YHQv9C+0YDRgtGB0LzQtdC90L7QslwiLFxyXG4gICAgICAgICAgICAgICAgXCJzaG93X3N1bW1hcnlcIjogXCLQn9C+0LrQsNC30YvQstCw0YLRjCDRgtC+0LvRjNC60L4g0LrQvtC70LjRh9C10YHRgtCy0L5cIixcclxuICAgICAgICAgICAgICAgIFwic3ViXCI6IFwi0LfQsNC/XCIsICAvLyBzdWJzdGl0dXRlXHJcbiAgICAgICAgICAgICAgICBcInRvdXJzXCI6IFwi0KLRg9GA0YtcIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJtZXNzYWdlc1wiOiB7XHJcbiAgICAgICAgICAgICAgICBcImludmFsaWRfcGFzc2NvZGVcIjogXCLQktCy0LXQtNGR0L0g0L3QtdCy0LXRgNC90YvQuSDQutC+0LQg0L/QvtGC0LLQtdGA0LbQtNC10L3QuNGPXCIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwibWVudVwiOiB7XHJcbiAgICAgICAgICAgICAgICBcImNvbXBldGl0aW9uX3JlcG9ydFwiOiBcItCf0YDQvtGC0L7QutC+0Lsg0YHQvtGA0LXQstC90L7QstCw0L3QuNC5XCIsXHJcbiAgICAgICAgICAgICAgICBcImRpc2NpcGxpbmVfcmVzdWx0c1wiOiBcItCg0LXQt9GD0LvRjNGC0LDRgtGLINC00LjRgdGG0LjQv9C70LjQvdGLXCIsXHJcbiAgICAgICAgICAgICAgICBcImltcG9ydF9leHBvcnRcIjogXCLQmNC80L/QvtGA0YIgLyDRjdC60YHQv9C+0YDRglwiLFxyXG4gICAgICAgICAgICAgICAgXCJtYW5hZ2VfY2x1YnNcIjogXCLQo9C/0YDQsNCy0LvQtdC90LjQtSDQutC70YPQsdCw0LzQuFwiLFxyXG4gICAgICAgICAgICAgICAgXCJtYW5hZ2VfY29tcGV0aXRpb25fcGxhblwiOiBcItCf0YDQvtCz0YDQsNC80LzQsCDRgdC+0YDQtdCy0L3QvtCy0LDQvdC40LlcIixcclxuICAgICAgICAgICAgICAgIFwibWFuYWdlX2Rpc2NpcGxpbmVzXCI6IFwi0KPQv9GA0LDQstC70LXQvdC40LUg0LTQuNGB0YbQuNC/0LvQuNC90LDQvNC4XCIsXHJcbiAgICAgICAgICAgICAgICBcIm1hbmFnZV9qdWRnZXNcIjogXCLQo9C/0YDQsNCy0LvQtdC90LjQtSDRgdGD0LTRjNGP0LzQuFwiLFxyXG4gICAgICAgICAgICAgICAgXCJtYW5hZ2Vfc3BvcnRzbWVuXCI6IFwi0KPQv9GA0LDQstC70LXQvdC40LUg0YHQv9C+0YDRgtGB0LzQtdC90LDQvNC4XCIsXHJcbiAgICAgICAgICAgICAgICBcIm1hbmFnZV90b3Vyc1wiOiBcItCj0L/RgNCw0LLQu9C10L3QuNC1INGC0YPRgNCw0LzQuFwiLFxyXG4gICAgICAgICAgICAgICAgXCJzdGFydF9saXN0XCI6IFwi0KHRgtCw0YDRgtC+0LLRi9C5INC70LjRgdGCXCIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwicGhyYXNlc1wiOiB7XHJcbiAgICAgICAgICAgICAgICBcIm5fcGFydGljaXBhbnRzXCI6IG4gPT4gbi50b1N0cmluZygpICsgXCIg0YPRh9Cw0YHRgtC90LjQulwiICsgY2hvb3NlRW5kaW5nKG4sIFwiXCIsIFwi0LBcIiwgXCLQvtCyXCIpLFxyXG4gICAgICAgICAgICAgICAgXCJuX3Nwb3J0c21lblwiOiAobiwgcykgPT4gbi50b1N0cmluZygpICsgXCIg0YHQv9C+0YDRgtGB0LzQtdC9XCIgKyBjaG9vc2VFbmRpbmcobiwgXCJcIiwgXCLQsFwiLCBcItC+0LJcIikgKyAocyA+IDAgPyBgICgrJHtzfSDQt9Cw0L/QsNGB0L0keyBjaG9vc2VFbmRpbmcocywgXCLQvtC5XCIsIFwi0YvRhVwiLCBcItGL0YVcIikgfSlgIDogXCJcIiksXHJcbiAgICAgICAgICAgICAgICBcIm5fc3BvcnRzbWVuX3Nob3J0XCI6IChuLCBzKSA9PiBuLnRvU3RyaW5nKCkgKyBcIiDRgdC/0L7RgNGC0YHQvNC10L1cIiArIGNob29zZUVuZGluZyhuLCBcIlwiLCBcItCwXCIsIFwi0L7QslwiKSArIChzID4gMCA/IGAgKCske3N9INC30LDQvy4pYCA6IFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgXCJ0b3RhbF9uX3BhcnRpY2lwYW50c1wiOiBuID0+IFwi0JjRgtC+0LPQviBcIiArIG4gKyBcIiDRg9GH0LDRgdGC0L3QuNC6XCIgKyBjaG9vc2VFbmRpbmcobiwgXCJcIiwgXCLQsFwiLCBcItC+0LJcIiksXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwianVkZ2luZy10YWJzXCI6IHtcclxuICAgICAgICAgICAgICAgIFwidG91ci1hZG1pblwiOiBcItCj0L/RgNCw0LLQu9C10L3QuNC1XCIsXHJcbiAgICAgICAgICAgICAgICBcImhlYXRzXCI6IFwi0JfQsNGF0L7QtNGLXCIsXHJcbiAgICAgICAgICAgICAgICBcInJlc3VsdHMtMVwiOiBcItCa0YDQsNGC0LrQsNGPINGC0LDQsdC70LjRhtCwXCIsXHJcbiAgICAgICAgICAgICAgICBcInJlc3VsdHMtMlwiOiBcItCh0YDQtdC00L3Rj9GPINGC0LDQsdC70LjRhtCwXCIsXHJcbiAgICAgICAgICAgICAgICBcInJlc3VsdHMtM1wiOiBcItCf0L7QtNGA0L7QsdC90LDRjyDRgtCw0LHQu9C40YbQsFwiLFxyXG4gICAgICAgICAgICAgICAgXCJkaXNjaXBsaW5lLXJlc3VsdHNcIjogXCLQoNC10LfRg9C70YzRgtCw0YLRiyDQtNC40YHRhtC40L/Qu9C40L3Ri1wiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlcnJvcnNcIjoge1xyXG4gICAgICAgICAgICBcImFkbWluXCI6IHtcclxuICAgICAgICAgICAgICAgIFwibG9hZF9zeW50YXhfZXJyb3JcIjogXCLQndC10LrQvtGA0YDQtdC60YLQvdGL0Lkg0YTQvtGA0LzQsNGCINC00LDQvdC90YvRhVwiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcImFwaVwiOiB7XHJcbiAgICAgICAgICAgICAgICBcImR1cGxpY2F0ZWRfZXh0ZXJuYWxfaWRcIjogXCLQkiDQtNCw0L3QvdGL0YUg0LjQvNC10Y7RgtGB0Y8g0LfQsNC/0LjRgdC4INGBINC/0L7QstGC0L7RgNGP0Y7RidC40LzQuNC80YHRjyBleHRlcm5hbF9pZFwiLFxyXG4gICAgICAgICAgICAgICAgXCJ1bmFibGVfdG9fZ2V0XCI6ICh3YW50ZWQpID0+IFwi0J3QtdCy0L7Qt9C80L7QttC90L4g0L/QvtC70YPRh9C40YLRjCBcIiArIHdhbnRlZCArIFwiINC40Lcg0LfQsNC/0YDQvtGB0LBcIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJjbHViXCI6IHtcclxuICAgICAgICAgICAgICAgIFwiZGVsZXRlX3dpdGhfcGFydGljaXBhbnRzXCI6IFwi0J3QtdCy0L7Qt9C80L7QttC90L4g0YPQtNCw0LvQuNGC0Ywg0LrQu9GD0LEsINC6INC60L7RgtC+0YDQvtC80YMg0L/RgNC40LLRj9C30LDQvdGLINGD0YfQsNGB0YLQvdC40LrQuFwiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcImNvbXBldGl0aW9uXCI6IHtcclxuICAgICAgICAgICAgICAgIFwiZGVsZXRlX25vbl9lbXB0eVwiOiBcItCd0LXQstC+0LfQvNC+0LbQvdC+INGD0LTQsNC70LjRgtGMINGB0L7RgNC10LLQvdC+0LLQsNC90LjQtSwg0YHQvtC00LXRgNC20LDRidC10LUg0LTQuNGB0YbQuNC/0LvQuNC90YssINC60LvRg9Cx0Ysg0LjQu9C4INGB0YPQtNC10LlcIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJjb21wZXRpdGlvbl9wbGFuXCI6IHtcclxuICAgICAgICAgICAgICAgIFwidG9vX21hbnlfdG91cnNcIjogKGQpID0+IFtcItCe0YjQuNCx0LrQsCDQsiDQv9GA0L7Qs9GA0LDQvNC80LUg0YHQvtGA0LXQstC90L7QstCw0L3QuNC5XCIsIGDQkiDQtNC40YHRhtC40L/Qu9C40L3QtSAke2R9INGB0L7QtNC10YDQttC40YLRgdGPINCx0L7Qu9GM0YjQtSDRgtGD0YDQvtCyLCDRh9C10Lwg0YHQvtC30LTQsNC90L4g0LIg0YHQuNGB0YLQtdC80LVgXSxcclxuICAgICAgICAgICAgICAgIFwiaW52YWxpZF9kaXNjaXBsaW5lX2ZvdW5kXCI6IFwi0J/RgNC+0LPRgNCw0LzQvNCwINGB0L7RgNC10LLQvdC+0LLQsNC90LjQuSDRgdC+0LTQtdGA0LbQuNGCINGC0YPRgNGLLCDQvtGC0YHRg9GC0YHRgtCy0YPRjtGJ0LjQtSDQsiDRgdC40YHRgtC10LzQtVwiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcImRpc2NpcGxpbmVcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJjaGFuZ2VfanVkZ2VzX3dpdGhfZmluYWxpemVkX3RvdXJcIjogXCLQndC10LLQvtC30LzQvtC20L3QviDQuNC30LzQtdC90LjRgtGMINGB0L7RgdGC0LDQsiDRgdGD0LTQtdC5INC00LvRjyDQtNC40YHRhtC40L/Qu9C40L3Riywg0YHQvtC00LXRgNC20LDRidC10Lkg0YTQuNC90LDQu9C40LfQuNGA0L7QstCw0L3QvdGL0LUg0YLRg9GA0YtcIixcclxuICAgICAgICAgICAgICAgIFwiZGVsZXRlX3dpdGhfcGFydGljaXBhbnRzXCI6IFwi0J3QtdCy0L7Qt9C80L7QttC90L4g0YPQtNCw0LvQuNGC0Ywg0LTQuNGB0YbQuNC/0LvQuNC90YMsINGB0L7QtNC10YDQttCw0YnRg9GOINGD0YfQsNGB0YLQvdC40LrQvtCyXCIsXHJcbiAgICAgICAgICAgICAgICBcImRlbGV0ZV93aXRoX3RvdXJzXCI6IFwi0J3QtdCy0L7Qt9C80L7QttC90L4g0YPQtNCw0LvQuNGC0Ywg0LTQuNGB0YbQuNC/0LvQuNC90YMsINGB0L7QtNC10YDQttCw0YnRg9GOINGC0YPRgNGLXCIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwiZGlzY2lwbGluZV9qdWRnZVwiOiB7XHJcbiAgICAgICAgICAgICAgICBcImRlbGV0ZV93aXRoX2ZpbmFsaXplZFwiOiBcItCd0LXQstC+0LfQvNC+0LbQvdC+INGD0LTQsNC70LjRgtGMINGB0YPQtNGM0Y4sINGDINC60L7RgNC+0LPQviDQtdGB0YLRjCDRhNC40L3QsNC70LjQt9C40YDQvtCy0LDQvdC90LUg0YLRg9GA0YtcIixcclxuICAgICAgICAgICAgICAgIFwiZGVsZXRlX3dpdGhfc2NvcmVzXCI6IFwi0J3QtdCy0L7Qt9C80L7QttC90L4g0YPQtNCw0LvQuNGC0Ywg0YHRg9C00YzRjiDQv9GA0LjQvdGP0LLRiNC10LPQviDRg9GH0LDRgdGC0LjQtSDQsiDRgdGD0LTQtdC50YHRgtCy0LUg0YXQvtGC0Y8g0LHRiyDQvtC00L3QvtCz0L4g0YLRg9GA0LBcIixcclxuICAgICAgICAgICAgICAgIFwicmVwZWF0aW5nX2p1ZGdlXCI6IChuYW1lKSA9PiBuYW1lICsgXCIg0LLRgdGC0YDQtdGH0LDQtdGC0YHRjyDQsiDRgdC/0LjRgdC60LUg0YHRg9C00LXQuSDQsdC+0LvQtdC1INC+0LTQvdC+0LPQviDRgNCw0LfQsFwiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcImdsb2JhbFwiOiB7XHJcbiAgICAgICAgICAgICAgICBcImludGVybmFsX3NlcnZlcl9lcnJvclwiOiBbXCLQntGI0LjQsdC60LAg0L3QsCDRgdC10YDQstC10YDQtVwiLCBcItC/0YDQvtCy0LXRgNGM0YLQtSDQu9C+0LPQuCDQtNC70Y8g0LjQvdGE0L7RgNC80LDRhtC40LhcIl0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwianVkZ2VcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJkZWxldGVfd2l0aF9kaXNjaXBsaW5lc1wiOiBcItCd0LXQstC+0LfQvNC+0LbQvdC+INGD0LTQsNC70LjRgtGMINGB0YPQtNGM0Y4sINCy0YXQvtC00Y/RidC10LPQviDQsiDRgdGD0LTQtdC50YHQutGD0Y4g0LHRgNC40LPQsNC00YMg0YXQvtGC0Y8g0LHRiyDQvtC00L3QvtC5INC00LjRgdGG0LjQv9C70LjQvdGLXCIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwicGFydGljaXBhbnRcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJkZWxldGVfd2l0aF9maW5hbGl6ZWRfdG91cnNcIjogXCLQndC10LLQvtC30LzQvtC20L3QviDRg9C00LDQu9C40YLRjCDRg9GH0LDRgdGC0L3QuNC60LAsINC/0YDQuNC90Y/QstGI0LXQs9C+INGD0YfQsNGB0YLQuNC1INGF0L7RgtGPINCx0Ysg0LIg0L7QtNC90L7QvCDRhNC40L3QsNC70LjQt9C40YDQvtCy0LDQvdC90L7QvCDRgtGD0YDQtVwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwicnVuXCI6IHtcclxuICAgICAgICAgICAgICAgIFwic2V0X3BlcmZvcm1lZF9mbGFnX29uX2ZpbmFsaXplZFwiOiBcItCd0LXQstC+0LfQvNC+0LbQvdC+INC40LfQvNC10L3QuNGC0Ywg0YHRgtCw0YLRg9GBINC30LDRhdC+0LTQsCDRhNC40L3QsNC70LjQt9C40L3QvtCy0LDQvdC90L7Qs9C+INGC0YPRgNCwXCIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwic2NvcmVcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJzY29yZV9ub3RfZXhpc3RcIjogXCLQn9C+0L/Ri9GC0LrQsCDQv9C+0LvRg9GH0LjRgtGMINC30L3QsNGH0LXQvdC40LUg0L3QtdGB0YPRidC10YHRgtCy0YPRjtGJ0LXQuSDQvtGG0LXQvdC60Lgg0YHRg9C00YzQuFwiLFxyXG4gICAgICAgICAgICAgICAgXCJ1cGRhdGVfb25fZmluYWxpemVkX3RvdXJcIjogXCLQndC10LLQvtC30LzQvtC20L3QviDQuNC30LzQtdC90LjRgtGMINC+0YbQtdC90LrRgyDQsiDRhNC40L3QsNC70LjQt9C40YDQvtCy0LDQvdC90L7QvCDRgtGD0YDQtVwiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcInRvdXJcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJhZGRfYmVmb3JlX2ZpbmFsaXplZFwiOiBcItCd0LXQstC+0LfQvNC+0LbQvdC+INC00L7QsdCw0LLQuNGC0Ywg0L3QvtCy0YvQuSDRgtGD0YAg0L/QtdGA0LXQtCDRhNC40L3QsNC70LjQt9C40YDQvtCy0LDQvdC90YvQvFwiLFxyXG4gICAgICAgICAgICAgICAgXCJkZWxldGVfZmluYWxpemVkXCI6IFwi0J3QtdCy0L7Qt9C80L7QttC90L4g0YPQtNCw0LvQuNGC0Ywg0YTQuNC90LDQu9C40LfQuNGA0L7QstCw0L3QvdGL0Lkg0YLRg9GAXCIsXHJcbiAgICAgICAgICAgICAgICBcImRlbGV0ZV9pbl9jb21wZXRpdGlvbl9wbGFuXCI6IFwi0J3QtdCy0L7Qt9C80L7QttC90L4g0YPQtNCw0LvQuNGC0Ywg0YLRg9GALCDQv9GA0LjRgdGD0YLRgdGC0LLRg9GO0YnQuNC5INCyINC/0YDQvtCz0YDQsNC80LzQtSDRgdC+0YDQtdCy0L3QvtCy0LDQvdC40LlcIixcclxuICAgICAgICAgICAgICAgIFwiaW5pdF9maW5haWx6ZWRcIjogXCLQndC10LLQvtC30LzQvtC20L3QviDQv9C10YDQtdGB0L7Qt9C00LDRgtGMINGE0LjQvdCw0LvQuNC30LjRgNC+0LLQsNC90L3Ri9C5INGC0YPRgFwiLFxyXG4gICAgICAgICAgICAgICAgXCJpbnZhbGlkX2FkZF9hZnRlcl9pZFwiOiBcItCf0L7Qv9GL0YLQutCwINC00L7QsdCw0LjRgtGMINGC0YPRgCDQsiDQvdC10YHRg9GJ0LXRgdGC0LLRg9GO0YnQtdC1INC80LXRgdGC0L5cIixcclxuICAgICAgICAgICAgICAgIFwiaW52YWxpZF9zY29yaW5nX3N5c3RlbVwiOiBcItCS0YvQsdGA0LDQvdCwINC90LXQtNC+0L/Rg9GB0YLQuNC80LDRjyDRgdC40YHRgtC10LzQsCDRgdGD0LTQtdC50YHRgtCy0LBcIixcclxuICAgICAgICAgICAgICAgIFwibG9hZF90b19ub25fZW1wdHlcIjogKGQpID0+IFtcItCd0LXQstC+0LfQvNC+0LbQvdC+INC30LDQs9GA0YPQt9C40YLRjCDRgtGD0YDRiyDQtNC70Y8g0LTQuNGB0YbQuNC/0LvQuNC90YtcIiwgYNCU0LjRgdGG0LjQv9C70LjQvdCwICR7ZH0g0YPQttC1INGB0L7QtNC10YDQttC40YIg0YLRg9GA0YtgXSxcclxuICAgICAgICAgICAgICAgIFwibmV4dF9pc19maW5haWx6ZWRcIjogXCLQodC70LXQtNGD0Y7RidC40Lkg0YLRg9GAINC90LUg0LTQvtC70LbQtdC9INCx0YvRgtGMINGE0LjQvdCw0LvQuNC30LjRgNC+0LLQsNC9XCIsXHJcbiAgICAgICAgICAgICAgICBcIm5vX25leHRfdG91clwiOiBcItCU0LDQvdC90YvQuSDRgtGD0YAg0L/QvtGB0LvQtdC00L3QuNC5INCyINC/0YDQvtCz0YDQsNC80LzQtSDRgdC+0YDQtdCy0L3QvtCy0LDQvdC40LlcIixcclxuICAgICAgICAgICAgICAgIFwibm90X2luX2NvbXBldGl0aW9uX3BsYW5cIjogXCLQlNCw0L3QvdGL0Lkg0YLRg9GAINC90LUg0YHQvtC00LXRgNC20LjRgtGB0Y8g0LIg0L/RgNC+0LPRgNCw0LzQvNC1INGB0L7RgNC10LLQvdC+0LLQsNC90LjQuVwiLFxyXG4gICAgICAgICAgICAgICAgXCJwcmV2X25vdF9maW5haWx6ZWRcIjogXCLQn9GA0LXQtNGL0LTRg9GJ0LjQuSDRgtGD0YAg0LTQvtC70LbQtdC9INCx0YvRgtGMINGE0LjQvdCw0LvQuNC30LjRgNC+0LLQsNC9XCIsXHJcbiAgICAgICAgICAgICAgICBcInN0YXJ0X2ZpbmFsaXplZFwiOiBcItCd0LXQstC+0LfQvNC+0LbQvdC+INC30LDQv9GD0YHRgtC40YLRjCDRhNC40L3QsNC70LjQt9C40YDQvtCy0LDQvdC90YvQuSDRgtGD0YBcIixcclxuICAgICAgICAgICAgICAgIFwidXBkYXRlX2ZpbmFsaXplZFwiOiBcItCU0LvRjyDRhNC40L3QsNC70LjQt9C40YDQvtCy0LDQvdC90L7Qs9C+INGC0YPRgNCwINC90LUg0LTQvtC/0YPRgdC60LDQtdGC0YHRjyDQuNC30LzQtdC90LXQvdC40LUg0LrQstC+0YLRiyDQstGL0LLQvtC00LAsINGC0LjQv9CwINGC0YPRgNCwINC40LvQuCDRgdC40YHRgtC10LzRiyDRgdGD0LTQtdC50YHRgtCy0LBcIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZ2xvYmFsXCI6IHtcclxuICAgICAgICAgICAgXCJidXR0b25zXCI6IHtcclxuICAgICAgICAgICAgICAgIFwiYWRkXCI6IFwi0JTQvtCx0LDQstC40YLRjFwiLFxyXG4gICAgICAgICAgICAgICAgXCJjbG9zZVwiOiBcItCX0LDQutGA0YvRgtGMXCIsXHJcbiAgICAgICAgICAgICAgICBcImRlc2VsZWN0X2FsbFwiOiBcItCh0L3Rj9GC0Ywg0LLRgdC1XCIsXHJcbiAgICAgICAgICAgICAgICBcImVkaXRcIjogXCLQoNC10LTQsNC60YLQuNGA0L7QstCw0YLRjFwiLFxyXG4gICAgICAgICAgICAgICAgXCJkZWxldGVcIjogXCLQo9C00LDQu9C40YLRjFwiLFxyXG4gICAgICAgICAgICAgICAgXCJkaXNjYXJkXCI6IFwi0J7RgtC80LXQvdC40YLRjFwiLFxyXG4gICAgICAgICAgICAgICAgXCJsb2FkXCI6IFwi0JfQsNCz0YDRg9C30LjRgtGMXCIsXHJcbiAgICAgICAgICAgICAgICBcInNhdmVcIjogXCLQodC+0YXRgNCw0L3QuNGC0YxcIixcclxuICAgICAgICAgICAgICAgIFwic2VsZWN0X2FsbFwiOiBcItCS0YvQsdGA0LDRgtGMINCy0YHQtVwiLFxyXG4gICAgICAgICAgICAgICAgXCJzdWJtaXRcIjogXCLQodC+0YXRgNCw0L3QuNGC0YxcIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJsYWJlbHNcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJicm93c2VcIjogXCLQntCx0LfQvtGALi4uXCIsXHJcbiAgICAgICAgICAgICAgICBcImNvbm5lY3RpbmdcIjogXCLQn9C+0LTQutC70Y7Rh9C10L3QuNC1INC6INGB0LXRgtC4XCIsXHJcbiAgICAgICAgICAgICAgICBcImNvbm5lY3Rpb25fcHJvYmxlbVwiOiBcItCf0YDQvtCx0LvQtdC80Ysg0YEg0YHQtdGC0YzRjlwiLFxyXG4gICAgICAgICAgICAgICAgXCJ5ZXNcIjogXCLQlNCwXCIsXHJcbiAgICAgICAgICAgICAgICBcIm5vXCI6IFwi0J3QtdGCXCIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwibWVzc2FnZXNcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJjb25uZWN0aW9uX2Vycm9yXCI6IFwi0J/QvtGF0L7QttC1LCDQuNC80LXRjtGC0YHRjyDQv9GA0L7QsdC70LXQvNGLINGBINGB0LXRgtGM0Y5cIixcclxuICAgICAgICAgICAgICAgIFwiZXJyb3JfaGVhZGVyXCI6IFwi0J7RiNC40LHQutCwXCIsXHJcbiAgICAgICAgICAgICAgICBcInN1Y2Nlc3NcIjogXCLQntC/0LXRgNCw0YbQuNGPINGD0YHQv9C10YjQvdC+INC30LDQstC10YDRiNC10L3QsFwiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcInBocmFzZXNcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJoZWF0X25cIjogKG4pID0+IFwi0JfQsNGF0L7QtCDihJZcIiArIG4udG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgIFwianVkZ2VfblwiOiAobikgPT4gXCLQm9C40L3QtdC50L3Ri9C5INGB0YPQtNGM0Y8g4oSWXCIgKyBuLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICBcInBhcnRpY2lwYW50X25cIjogKG4sIG5hbWUsIG5fc3ApID0+XHJcbiAgICAgICAgICAgICAgICAgICAgKG5fc3AgPiAyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCLQpNC+0YDQvNC10LnRiNC9IOKEllwiICsgbi50b1N0cmluZygpICsgKG5hbWUgPyBcIjogXCIgKyBuYW1lIDogXCJcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiAobl9zcCA9PT0gMlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcItCf0LDRgNCwIOKEllwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwi0KPRh9Cw0YHRgtC90LjQuiDihJZcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApICsgbi50b1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJqdWRnaW5nXCI6IHtcclxuICAgICAgICAgICAgXCJidXR0b25zXCI6IHtcclxuICAgICAgICAgICAgICAgIFwiY29uZmlybV9zY29yZVwiOiBcItCX0LDRhNC40LrRgdC40YDQvtCy0LDRgtGMXCIsXHJcbiAgICAgICAgICAgICAgICBcImluaXRfdG91clwiOiBcItCf0LXRgNC10YHQvtC30LTQsNGC0Ywg0YLRg9GAXCIsXHJcbiAgICAgICAgICAgICAgICBcImZpbmFsaXplX3RvdXJcIjogXCLQpNC40L3QsNC70LjQt9C40YDQvtCy0LDRgtGMXCIsXHJcbiAgICAgICAgICAgICAgICBcInJlc2V0X2Fjcm9iYXRpY19vdmVycmlkZVwiOiBcItCh0LHRgNC+0YFcIixcclxuICAgICAgICAgICAgICAgIFwic2h1ZmZsZV9oZWF0c1wiOiBcItCf0LXRgNC10LzQtdGI0LDRgtGMINC30LDRhdC+0LTRi1wiLFxyXG4gICAgICAgICAgICAgICAgXCJzdGFydF90b3VyXCI6IFwi0J3QsNGH0LDRgtGMINGC0YPRgFwiLFxyXG4gICAgICAgICAgICAgICAgXCJzdG9wX3RvdXJcIjogXCLQntGB0YLQsNC90L7QstC40YLRjCDRgtGD0YBcIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJjb25maXJtc1wiOiB7XHJcbiAgICAgICAgICAgICAgICBcImZpbmFsaXplX3RvdXJcIjogXCLQktGLINC00LXQudGB0YLQstC40YLQtdC70YzQvdC+INGF0L7RgtC40YLQtSDRhNC40L3QsNC70LjQt9C40YDQvtCy0LDRgtGMINGN0YLQvtGCINGC0YPRgD9cIixcclxuICAgICAgICAgICAgICAgIFwiaW5pdF90b3VyXCI6IFwi0JLRiyDQtNC10LnRgdGC0LLQuNGC0LXQu9GM0L3QviDRhdC+0YLQuNGC0LUg0L/QtdGA0LXRgdC+0LfQtNCw0YLRjCDRjdGC0L7RgiDRgtGD0YA/XCIsXHJcbiAgICAgICAgICAgICAgICBcImxvYWRfcHJvZ3JhbVwiOiBcItCS0Ysg0LTQtdC50YHRgtCy0LjRgtC10LvRjNC90L4g0YXQvtGC0LjRgtC1INC/0LXRgNC10LfQsNCz0YDRg9C30LjRgtGMINC/0YDQvtCz0YDQsNC80LzRgyDQtNC70Y8g0Y3RgtC+0LPQviDRg9GH0LDRgdGC0L3QuNC60LA/XCIsXHJcbiAgICAgICAgICAgICAgICBcInNodWZmbGVfaGVhdHNcIjogXCLQktGLINC00LXQudGB0YLQstC40YLQtdC70YzQvdC+INGF0L7RgtC40YLQtSDQv9C10YDQtdC80LXRiNCw0YLRjCDQt9Cw0YXQvtC00Ys/XCIsXHJcbiAgICAgICAgICAgICAgICBcInN0b3BfdG91clwiOiBcItCS0Ysg0LTQtdC50YHRgtCy0LjRgtC10LvRjNC90L4g0YXQvtGC0LjRgtC1INC+0YHRgtCw0L3QvtCy0LjRgtGMINGN0YLQvtGCINGC0YPRgD9cIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJoZWFkZXJzXCI6IHtcclxuICAgICAgICAgICAgICAgIFwiYWNyb2JhdGljX292ZXJyaWRlc1wiOiBcItCa0L7RgNGA0LXQutGC0LjRgNC+0LLQutC4INCx0LDQt9C+0LLRi9GFINC+0YbQtdC90L7QuiDQsNC60YDQvtCx0LDRgtC40LrQuFwiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcImxhYmVsc1wiOiB7XHJcbiAgICAgICAgICAgICAgICBcImFjcm9fZGVzY3JpcHRpb25cIjogXCLQntC/0LjRgdCw0L3QuNC1INGC0YDRjtC60LBcIixcclxuICAgICAgICAgICAgICAgIFwiYWNyb19pZHhcIjogXCLihJYg0YLRgNGO0LrQsFwiLFxyXG4gICAgICAgICAgICAgICAgXCJhY3JvYmF0aWNzXCI6IFwi0JDQutGA0L7QsdCw0YLQuNC60LBcIixcclxuICAgICAgICAgICAgICAgIFwiY2x1YlwiOiBcItCa0LvRg9CxXCIsXHJcbiAgICAgICAgICAgICAgICBcImNvbmZpcm1lZFwiOiBcItCX0LDRhNC40LrRgdC40YDQvtCy0LDQvdC+XCIsXHJcbiAgICAgICAgICAgICAgICBcImhlYXRcIjogXCLQl9Cw0YXQvtC0XCIsXHJcbiAgICAgICAgICAgICAgICBcIm5ld19zY29yZVwiOiBcItCa0L7RgNGALlwiLFxyXG4gICAgICAgICAgICAgICAgXCJudW1iZXJcIjogXCLihJZcIixcclxuICAgICAgICAgICAgICAgIFwib2xkX3Njb3JlXCI6IFwi0JHQsNC30LBcIixcclxuICAgICAgICAgICAgICAgIFwicGFydGljaXBhbnRfbmFtZVwiOiBcItCj0YfQsNGB0YLQvdC40LpcIixcclxuICAgICAgICAgICAgICAgIFwicGVyZm9ybWVkXCI6IFwi0JJcIixcclxuICAgICAgICAgICAgICAgIFwidG90YWxfc2NvcmVcIjogXCLQodGD0LzQvNCwINCx0LDQu9C70L7QslwiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJtb2RlbHNcIjoge1xyXG4gICAgICAgICAgICBcImNsdWJcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwi0J3QsNC30LLQsNC90LjQtSDQutC70YPQsdCwXCIsXHJcbiAgICAgICAgICAgICAgICBcImNpdHlcIjogXCLQk9C+0YDQvtC0XCIsXHJcbiAgICAgICAgICAgICAgICBcImV4dGVybmFsX2lkXCI6IFwi0JLQvdC10YjQvdC40LkgSURcIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJjb21wZXRpdGlvblwiOiB7XHJcbiAgICAgICAgICAgICAgICBcImFjdGl2ZVwiOiBcItCQ0LrRgtC40LLQvdC+XCIsXHJcbiAgICAgICAgICAgICAgICBcImRhdGVcIjogXCLQlNCw0YLQsFwiLFxyXG4gICAgICAgICAgICAgICAgXCJpbmZvXCI6IFwi0JTQvtC/0L7Qu9C90LjRgtC10LvRjNC90LDRjyDQuNC90YTQvtGA0LzQsNGG0LjRjyDQtNC70Y8g0L/RgNC+0YLQvtC60L7Qu9CwXCIsXHJcbiAgICAgICAgICAgICAgICBcImluZm9faXRlbV90aXRsZVwiOiBcItCX0LDQs9C+0LvQvtCy0L7QulwiLFxyXG4gICAgICAgICAgICAgICAgXCJpbmZvX2l0ZW1fdmFsdWVcIjogXCLQl9C90LDRh9C10L3QuNC1XCIsXHJcbiAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCLQndCw0LfQstCw0L3QuNC1XCIsXHJcbiAgICAgICAgICAgICAgICBcInJ1bGVzX3NldFwiOiBcItCh0LjRgdGC0LXQvNCwINGB0YPQtNC10LnRgdGC0LLQsFwiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcImNvbXBldGl0aW9uX3BsYW5faXRlbVwiOiB7XHJcbiAgICAgICAgICAgICAgICBcImRpc2NpcGxpbmVcIjogXCLQlNC40YHRhtC40L/Qu9C40L3QsFwiLFxyXG4gICAgICAgICAgICAgICAgXCJlc3RpbWF0ZWRfYmVnaW5uaW5nXCI6IFwi0J3QsNGH0LDQu9C+XCIsXHJcbiAgICAgICAgICAgICAgICBcImVzdGltYXRlZF9kdXJhdGlvblwiOiBcItCU0LvQuNGC0LXQu9GM0L3QvtGB0YLRjFwiLFxyXG4gICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwi0J3QsNC30LLQsNC90LjQtVwiLFxyXG4gICAgICAgICAgICAgICAgXCJzcFwiOiBcItCf0YDQuNC+0YDQuNGC0LXRglwiLFxyXG4gICAgICAgICAgICAgICAgXCJ0b3VyXCI6IFwi0KLRg9GAXCIsXHJcbiAgICAgICAgICAgICAgICBcInZlcmJvc2VfbmFtZVwiOiBcItCd0LDQt9Cy0LDQvdC40LVcIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJkaXNjaXBsaW5lXCI6IHtcclxuICAgICAgICAgICAgICAgIFwiZGlzY2lwbGluZV9qdWRnZXNcIjogXCLQodGD0LTRjNC4XCIsXHJcbiAgICAgICAgICAgICAgICBcImV4dGVybmFsX2lkXCI6IFwi0JLQvdC10YjQvdC40LkgSURcIixcclxuICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcItCd0LDQt9Cy0LDQvdC40LUg0LTQuNGB0YbQuNC/0LvQuNC90YtcIixcclxuICAgICAgICAgICAgICAgIFwic3BcIjogXCLQn9GA0LjQvtGA0LjRgtC10YJcIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJkaXNjaXBsaW5lX2p1ZGdlXCI6IHtcclxuICAgICAgICAgICAgICAgIFwicm9sZXNcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwiYWNyb19qdWRnZVwiOiBcItCQXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJkYW5jZV9qdWRnZVwiOiBcIlRcIixcclxuICAgICAgICAgICAgICAgICAgICBcImhlYWRfanVkZ2VcIjogXCLQk9C7XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ0ZWNoX2p1ZGdlXCI6IFwi0KLQtdGFXCIsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgXCJyb2xlc19sZWdlbmRcIjogKFxyXG4gICAgICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJ3LTEwMFwiPjx0Ym9keT48dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ3LTI1XCI+0JPQuyDigJQg0LPQu9Cw0LLQvdGL0Lkg0YHRg9C00YzRjzwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ3LTI1XCI+0KIg4oCUINGB0YPQtNGM0Y8g0YLQsNC90YbQsDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ3LTI1XCI+0JAg4oCUINGB0YPQtNGM0Y8g0LDQutGA0L7QsdCw0YLQuNC60Lg8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidy0yNVwiPtCiZXgg4oCUINGC0LXRhdC90LjRh9C10YHQutC40Lkg0YHRg9C00YzRjzwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90cj48L3Rib2R5PjwvdGFibGU+XHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcImp1ZGdlXCI6IHtcclxuICAgICAgICAgICAgICAgIFwiY2F0ZWdvcnlcIjogXCLQmtCw0YLQtdCz0L7RgNC40Y9cIixcclxuICAgICAgICAgICAgICAgIFwiZXh0ZXJuYWxfaWRcIjogXCLQktC9LiBJRFwiLFxyXG4gICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwi0KQuINCYLiDQni5cIixcclxuICAgICAgICAgICAgICAgIFwibnVtYmVyXCI6IFwi0J3QvtC80LXRgFwiLFxyXG4gICAgICAgICAgICAgICAgXCJyb2xlXCI6IFwi0KDQvtC70Ywg0LIg0YHRg9C00LXQudGB0YLQstC1XCIsXHJcbiAgICAgICAgICAgICAgICBcInJvbGVfZGVzY3JpcHRpb25cIjogXCLQlNC+0LvQttC90L7RgdGC0YxcIixcclxuICAgICAgICAgICAgICAgIFwic3BcIjogXCLQn9GA0LjQvtGA0LjRgtC10YJcIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJwYXJ0aWNpcGFudFwiOiB7XHJcbiAgICAgICAgICAgICAgICBcImFjcm9fZGVzY3JpcHRpb25cIjogXCLQntC/0LjRgdCw0L3QuNC1INGC0YDRjtC60LBcIixcclxuICAgICAgICAgICAgICAgIFwiYWNyb19kZXNjcmlwdGlvbnNcIjogXCLQntC/0LjRgdCw0L3QuNC1INGC0YDRjtC60L7QslwiLFxyXG4gICAgICAgICAgICAgICAgXCJhY3JvX3Njb3JlXCI6IFwi0J7RhtC10L3QutCwXCIsXHJcbiAgICAgICAgICAgICAgICBcImFjcm9iYXRpY3NcIjogXCLQkNC60YDQvtCx0LDRgtC40LrQsFwiLFxyXG4gICAgICAgICAgICAgICAgXCJjbHViX25hbWVcIjogXCLQmtC70YPQsVwiLFxyXG4gICAgICAgICAgICAgICAgXCJjbHViX2NpdHlcIjogXCLQk9C+0YDQvtC0XCIsXHJcbiAgICAgICAgICAgICAgICBcImNvYWNoZXNcIjogXCLQotGA0LXQvdC10YDRi1wiLFxyXG4gICAgICAgICAgICAgICAgXCJkaXNjaXBsaW5lX25hbWVcIjogXCLQlNC40YHRhtC40L/Qu9C40L3QsFwiLFxyXG4gICAgICAgICAgICAgICAgXCJmaXJzdF9uYW1lXCI6IFwi0JjQvNGPXCIsXHJcbiAgICAgICAgICAgICAgICBcImdlbmRlclwiOiBcItCf0L7Qu1wiLFxyXG4gICAgICAgICAgICAgICAgXCJnZW5kZXJfZlwiOiBcItCWXCIsXHJcbiAgICAgICAgICAgICAgICBcImdlbmRlcl9tXCI6IFwi0JxcIixcclxuICAgICAgICAgICAgICAgIFwiZ2VuZXJhbF9pbmZvXCI6IFwi0J7RgdC90L7QstC90LDRjyDQuNC90YTQvtGA0LzQsNGG0LjRj1wiLFxyXG4gICAgICAgICAgICAgICAgXCJmb3JtYXRpb25fbmFtZVwiOiBcItCd0LDQt9Cy0LDQvdC40LUg0LrQvtC80LDQvdC00Ysg0YTQvtGA0LzQtdC50YjQvVwiLFxyXG4gICAgICAgICAgICAgICAgXCJsYXN0X25hbWVcIjogXCLQpNCw0LzQuNC70LjRj1wiLFxyXG4gICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwi0KPRh9Cw0YHRgtC90LjQulwiLFxyXG4gICAgICAgICAgICAgICAgXCJudW1iZXJcIjogXCLQndC+0LzQtdGAXCIsXHJcbiAgICAgICAgICAgICAgICBcInByb2dyYW1zXCI6IFwi0J/RgNC+0LPRgNCw0LzQvNGLXCIsXHJcbiAgICAgICAgICAgICAgICBcInNwb3J0c21hblwiOiBcItCh0L/QvtGA0YLRgdC80LXQvVwiLFxyXG4gICAgICAgICAgICAgICAgXCJzcG9ydHNtZW5cIjogXCLQodC/0L7RgNGC0YHQvNC10L3Ri1wiLFxyXG4gICAgICAgICAgICAgICAgXCJzcG9ydHNtZW5feWVhcl9vZl9iaXJ0aFwiOiBcItCTLtGALlwiLFxyXG4gICAgICAgICAgICAgICAgXCJzdWJzdGl0dXRlX25cIjogXCLQntGB0L0uXCIsXHJcbiAgICAgICAgICAgICAgICBcInN1YnN0aXR1dGVfeVwiOiBcItCX0LDQvy5cIixcclxuICAgICAgICAgICAgICAgIFwieWVhcl9vZl9iaXJ0aFwiOiBcItCT0L7QtCDRgNC+0LbQtNC10L3QuNGPXCIsXHJcbiAgICAgICAgICAgICAgICBcInlvYlwiOiBcItCTLtGALlwiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcInByb2dyYW1cIjoge1xyXG4gICAgICAgICAgICAgICAgXCJkZWZhdWx0X2ZvclwiOiBcItCf0L4g0YPQvNC+0LvRh9Cw0L3QuNGOXCIsXHJcbiAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCLQndCw0LfQstCw0L3QuNC1INC/0YDQvtCz0YDQsNC80LzRi1wiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcInRvdXJcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJkZWZhdWx0X3Byb2dyYW1cIjogXCLQkNC60YDQvtCx0LDRgtC40LrQsCDQv9C+INGD0LzQvtC70YfQsNC90LjRjlwiLFxyXG4gICAgICAgICAgICAgICAgXCJpc19ob3BlX3RvdXJcIjogXCLQotGD0YAgwqvQndCw0LTQtdC20LTRi8K7XCIsXHJcbiAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCLQndCw0LfQstCw0L3QuNC1INGC0YPRgNCwXCIsXHJcbiAgICAgICAgICAgICAgICBcIm51bV9hZHZhbmNlc1wiOiBcItCa0LLQvtGC0LAg0LLRi9Cy0L7QtNCwXCIsXHJcbiAgICAgICAgICAgICAgICBcInBhcnRpY2lwYW50c19wZXJfaGVhdFwiOiBcItCj0YfQsNGB0YLQvdC40LrQvtCyINCyINC30LDRhdC+0LTQtVwiLFxyXG4gICAgICAgICAgICAgICAgXCJzY29yaW5nX3N5c3RlbV9uYW1lXCI6IFwi0KHQuNGB0YLQtdC80LAg0YHRg9C00LXQudGB0YLQstCwXCIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcInNjcmVlbl9vcGVyYXRvclwiOiB7XHJcbiAgICAgICAgICAgIFwiYnV0dG9uc1wiOiB7XHJcbiAgICAgICAgICAgICAgICBcInJlc2V0X2hlYXRcIjogXCLQodCx0YDQvtGBINC90L7QvNC10YDQsCDQt9Cw0YXQvtC00LBcIixcclxuICAgICAgICAgICAgICAgIFwicmVzZXRfcGxhY2VcIjogXCLQodCx0YDQvtGBINC80LXRgdGC0LBcIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJoZWFkZXJzXCI6IHtcclxuICAgICAgICAgICAgICAgIFwiZGlzY2lwbGluZVwiOiBcItCU0LjRgdGG0LjQv9C70LjQvdCwXCIsXHJcbiAgICAgICAgICAgICAgICBcImhlYXRcIjogXCLQl9Cw0YXQvtC0XCIsXHJcbiAgICAgICAgICAgICAgICBcInBsYWNlc1wiOiBcItCc0LXRgdGC0LAg0LTQu9GPINCy0YvQstC+0LTQsFwiLFxyXG4gICAgICAgICAgICAgICAgXCJ0b3VyXCI6IFwi0KLRg9GAXCIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwibGFiZWxzXCI6IHtcclxuICAgICAgICAgICAgICAgIFwicGxhY2VcIjogXCLQvNC10YHRgtC+XCIsXHJcbiAgICAgICAgICAgICAgICBcImhlYXRcIjogXCLQt9Cw0YXQvtC0XCIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcInByZXNlbnRlclwiOiB7XHJcbiAgICAgICAgICAgIFwiaGVhZGVyc1wiOiB7XHJcbiAgICAgICAgICAgICAgICBcImNsdWJzXCI6IFwi0JrQu9GD0LHRiy3Rg9GH0LDRgdGC0L3QuNC60LhcIixcclxuICAgICAgICAgICAgICAgIFwiaGVhdHNcIjogXCLQl9Cw0YXQvtC00YtcIixcclxuICAgICAgICAgICAgICAgIFwiaW5mb1wiOiBcItCY0L3RhNC+0YDQvNCw0YbQuNGPXCIsXHJcbiAgICAgICAgICAgICAgICBcImp1ZGdlc1wiOiBcItCh0YPQtNGM0LhcIixcclxuICAgICAgICAgICAgICAgIFwicGxhblwiOiBcItCf0YDQvtCz0YDQsNC80LzQsFwiLFxyXG4gICAgICAgICAgICAgICAgXCJyZXN1bHRzXCI6IFwi0KDQtdC30YPQu9GM0YLQsNGC0YtcIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJsYWJlbHNcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJkaXNjaXBsaW5lXCI6IFwi0JTQuNGB0YbQuNC/0LvQuNC90LBcIixcclxuICAgICAgICAgICAgICAgIFwiZXN0aW1hdGVkX2JlZ2lubmluZ1wiOiBcItCd0LDRh9Cw0LvQvlwiLFxyXG4gICAgICAgICAgICAgICAgXCJlc3RpbWF0ZWRfZHVyYXRpb25cIjogXCLQlNC70LjRgi5cIixcclxuICAgICAgICAgICAgICAgIFwibm9fYWN0aXZlX3RvdXJcIjogXCLQndC10YIg0LDQutGC0LjQstC90L7Qs9C+INGC0YPRgNCwXCIsXHJcbiAgICAgICAgICAgICAgICBcInBsYWNlXCI6IFwi0LzQtdGB0YLQvlwiLFxyXG4gICAgICAgICAgICAgICAgXCJ0b3VyXCI6IFwi0KLRg9GAXCIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcInJlc3VsdHNcIjoge1xyXG4gICAgICAgICAgICBcImFsZXJ0c1wiOiB7XHJcbiAgICAgICAgICAgICAgICBcIm5vdF9maW5hbGl6ZWRcIjogXCLQlNCw0L3QvdGL0LUg0YDQtdC30YPQu9GM0YLQsNGC0Ysg0L3QtSDRj9Cy0LvRj9GO0YLRgdGPINC+0LrQvtC90YfQsNGC0LXQu9GM0L3Ri9C80LguXCIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwiYnV0dG9uc1wiOiB7XHJcbiAgICAgICAgICAgICAgICBcInByaW50XCI6IFwi0J/QtdGH0LDRgtGMXCIsXHJcbiAgICAgICAgICAgICAgICBcInNpbXBsZV92aWV3XCI6IFwi0KPQv9GA0L7RidC10L3QvdCw0Y8g0YLQsNCx0LvQuNGG0LBcIixcclxuICAgICAgICAgICAgICAgIFwidmVyYm9zZV92aWV3XCI6IFwi0J/QvtC00YDQvtCx0L3QsNGPINGC0LDQsdC70LjRhtCwXCIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcInN0YXJ0X3BhZ2VcIjoge1xyXG4gICAgICAgICAgICBcImhlYWRlcnNcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJzZWxlY3RfY29tcGV0aXRpb25cIjogXCLQktGL0LHQtdGA0LjRgtC1INGB0L7RgNC10LLQvdC+0LLQsNC90LjQtSDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRj1wiLFxyXG4gICAgICAgICAgICAgICAgXCJzZWxlY3Rfcm9sZVwiOiBcItCS0YvQsdC10YDQuNGC0LUg0YHQstC+0Y4g0YDQvtC70YxcIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJtZXNzYWdlc1wiOiB7XHJcbiAgICAgICAgICAgICAgICBcIm5vX2NvbXBldGl0aW9uc1wiOiBcItCd0LXRgiDQsNC60YLQuNCy0L3Ri9GFINGB0L7RgNC10LLQvdC+0LLQsNC90LjQuVwiLFxyXG4gICAgICAgICAgICAgICAgXCJjb21wZXRpdGlvbnNfbWFuYWdlbWVudF9saW5rXCI6IChsaW5rKSA9PiA8c3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICDQo9C/0YDQsNCy0LvQtdC90LjQtSDRgdC+0YDQtdCy0L3QvtCy0LDQvdC40Y/QvNC4INC90LDRhdC+0LTQuNGC0YHRjyDQv9C+INCw0LTRgNC10YHRgyZuYnNwO1xyXG4gICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9eyBsaW5rIH0+eyBsaW5rIH08L2E+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcInJvbGVzXCI6IHtcclxuICAgICAgICAgICAgICAgIFwiYWRtaW5pc3RyYXRvclwiOiBcItCQ0LTQvNC40L3QuNGB0YLRgNCw0YLQvtGAXCIsXHJcbiAgICAgICAgICAgICAgICBcInByZXNlbnRlclwiOiBcItCS0LXQtNGD0YnQuNC5XCIsXHJcbiAgICAgICAgICAgICAgICBcInNjcmVlblwiOiBcItCt0LrRgNCw0L1cIixcclxuICAgICAgICAgICAgICAgIFwic2NyZWVuX29wZXJhdG9yXCI6IFwi0J7Qv9C10YDQsNGC0L7RgCDRjdC60YDQsNC90LBcIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwidGFibGV0XCI6IHtcclxuICAgICAgICAgICAgXCJhbGVydHNcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJoYXNfdW5jb25maXJtZWRfc2NvcmVzXCI6IFwi0JjQvNC10Y7RgtGB0Y8g0L3QtdC30LDRhNC40LrRgdC40YDQvtCy0LDQvdC90YvQtSDQvtGG0LXQvdC60Lgg0YHRg9C00LXQuSDQsiDQv9C+0YHQu9C10LTQvdC10Lwg0LfQsNGF0L7QtNC1LlwiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcImJ1dHRvbnNcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJmaW5hbGl6ZV90b3VyXCI6IFwi0KTQuNC90LDQu9C40LfQuNGA0L7QstCw0YLRjCDRgtGD0YBcIixcclxuICAgICAgICAgICAgICAgIFwiZmluYWxpemVfdG91cl9hbmRfc3RhcnRfbmV4dFwiOiBcItCk0LjQvdCw0LvQuNC30LjRgNC+0LLQsNGC0Ywg0YLRg9GAINC4INC/0LXRgNC10LnRgtC4INC6INGB0LvQtdC00YPRjtGJ0LXQvNGDXCIsXHJcbiAgICAgICAgICAgICAgICBcIm5leHRfaGVhdFwiOiBcItCh0LvQtdC0LiDQt9Cw0YXQvtC0XCIsXHJcbiAgICAgICAgICAgICAgICBcIm5vdF9wZXJmb3JtZWRcIjogXCLQndC10LLRi9GF0L7QtCDQvdCwINC/0LvQvtGJ0LDQtNC60YNcIixcclxuICAgICAgICAgICAgICAgIFwicGVyZm9ybWVkXCI6IFwi0J7RgtC80LXQvdCwINC90LXQstGL0YXQvtC00LAg0L3QsCDQv9C70L7RidCw0LTQutGDXCIsXHJcbiAgICAgICAgICAgICAgICBcInByZXZfaGVhdFwiOiBcItCf0YDQtdC0LiDQt9Cw0YXQvtC0XCIsXHJcbiAgICAgICAgICAgICAgICBcInJlc2V0X3N0b3B3YXRjaFwiOiBcItCh0LHRgNC+0YFcIixcclxuICAgICAgICAgICAgICAgIFwic3RhcnRfc3RvcHdhdGNoXCI6IFwi0KHRgtCw0YDRglwiLFxyXG4gICAgICAgICAgICAgICAgXCJzdG9wX3N0b3B3YXRjaFwiOiBcItCh0YLQvtC/XCIsXHJcbiAgICAgICAgICAgICAgICBcInN0b3BfdG91clwiOiBcItCX0LDQstC10YDRiNC40YLRjCDRgtGD0YBcIixcclxuICAgICAgICAgICAgICAgIFwic3RvcF90b3VyX2FuZF9zdGFydF9uZXh0XCI6IFwi0JfQsNCy0LXRgNGI0LjRgtGMINGC0YPRgCDQuCDQv9C10YDQtdC50YLQuCDQuiDRgdC70LXQtNGD0Y7RidC10LzRgyDRgtGD0YDRg1wiLFxyXG4gICAgICAgICAgICAgICAgXCJ0b19zdGFydF9wYWdlXCI6IFwi0J3QsCDQs9C70LDQstC90YPRjlwiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcImNvbmZpcm1zXCI6IHtcclxuICAgICAgICAgICAgICAgIFwiZmluYWxpemVfdG91clwiOiBcItCS0Ysg0LTQtdC50YHRgtCy0LjRgtC10LvRjNC90L4g0YXQvtGC0LjRgtC1INGE0LjQvdCw0LvQuNC30LjRgNC+0LLQsNGC0Ywg0Y3RgtC+0YIg0YLRg9GAP1wiLFxyXG4gICAgICAgICAgICAgICAgXCJmaW5hbGl6ZV90b3VyX2FuZF9zdGFydF9uZXh0XCI6IFwi0JLRiyDQtNC10LnRgdGC0LLQuNGC0LXQu9GM0L3QviDRhdC+0YLQuNGC0LUg0YTQuNC90LDQu9C40LfQuNGA0L7QstCw0YLRjCDRjdGC0L7RgiDRgtGD0YAg0Lgg0L/QtdGA0LXQudGC0Lgg0Log0YHQu9C10LTRg9GO0YnQtdC80YMg0YLRg9GA0YM/XCIsXHJcbiAgICAgICAgICAgICAgICBcInN0b3BfdG91clwiOiBcItCS0Ysg0LTQtdC50YHRgtCy0LjRgtC10LvRjNC90L4g0YXQvtGC0LjRgtC1INC+0YHRgtCw0L3QvtCy0LjRgtGMINGN0YLQvtGCINGC0YPRgD9cIixcclxuICAgICAgICAgICAgICAgIFwic3RvcF90b3VyX2FuZF9zdGFydF9uZXh0XCI6IFwi0JLRiyDQtNC10LnRgdGC0LLQuNGC0LXQu9GM0L3QviDRhdC+0YLQuNGC0LUg0L/QtdGA0LXQudGC0Lgg0Log0YHQu9C10LTRg9GO0YnQtdC80YMg0YLRg9GA0YM/XCIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwiaGVhZGVyc1wiOiB7XHJcbiAgICAgICAgICAgICAgICBcImFjcm9fblwiOiAobikgPT4gXCLQkNC60YDQvtCx0LDRgtC40LrQsCDihJZcIiArIChuICsgMSksXHJcbiAgICAgICAgICAgICAgICBcImhlYXRcIjogXCLQl9Cw0YXQvtC0XCIsXHJcbiAgICAgICAgICAgICAgICBcInByZXNlbnRlclwiOiBcItCS0LXQtNGD0YnQuNC5XCIsXHJcbiAgICAgICAgICAgICAgICBcInNlbGVjdF9wYWdlXCI6IFwi0KHRgtGA0LDQvdC40YbQsFwiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcIm1lc3NhZ2VzXCI6IHtcclxuICAgICAgICAgICAgICAgIFwibm90X2p1ZGdpbmdfZGlzY2lwbGluZVwiOiBcItCS0Ysg0L3QtSDRg9GH0LDRgdGC0LLRg9C10YLQtSDQsiDRgdGD0LTQtdC50YHRgtCy0LUg0LTQsNC90L3QvtC5INC00LjRgdGG0LjQv9C70LjQvdGLXCIsXHJcbiAgICAgICAgICAgICAgICBcIm5vdF9qdWRnaW5nX3BhcnRpY2lwYW50XCI6IFwi0JLRiyDQvdC1INC+0YbQtdC90LjQstCw0LXRgtC1INGN0YLQvtCz0L4g0YPRh9Cw0YHRgtC90LjQutCwXCIsXHJcbiAgICAgICAgICAgICAgICBcIm5vdF9qdWRnaW5nX3RvdXJcIjogXCLQktGLINC90LUg0L7RhtC10L3QuNCy0LDQtdGC0LUg0Y3RgtC+0YIg0YLRg9GAXCIsXHJcbiAgICAgICAgICAgICAgICBcIm5vdF9wZXJmb3JtaW5nXCI6IFwi0J3QtSDQstGL0YHRgtGD0L/QsNC10YJcIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJwYWdlc1wiOiB7XHJcbiAgICAgICAgICAgICAgICBcImFjcm9iYXRpY3NcIjogXCLQkNC60YDQvtCx0LDRgtC40LrQsFwiLFxyXG4gICAgICAgICAgICAgICAgXCJhY3Rpb25zXCI6IFwi0JTQtdC50YHRgtCy0LjRj1wiLFxyXG4gICAgICAgICAgICAgICAgXCJkYW5jZVwiOiBcItCi0LDQvdC10YZcIixcclxuICAgICAgICAgICAgICAgIFwiaGVhdHNcIjogXCLQl9Cw0YXQvtC00YtcIixcclxuICAgICAgICAgICAgICAgIFwicmVzdWx0c1wiOiBcItCg0LXQt9GD0LvRjNGC0LDRgtGLXCIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgXCJzY29yaW5nX3N5c3RlbXNcIjoge1xyXG4gICAgICAgICAgICBcInJvc2ZhcnJcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJ0YWJsZXRcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwiYWNyb19qdWRnZVwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZmFsbF9kb3duXCI6IFwi0J/QsNC00LXQvdC40Y8gKC0zMClcIixcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIFwiZGFuY2VfanVkZ2VcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImFjcm9iYXRpY3NcIjogXCLQkNC60YDQvtCx0LDRgtC40LrQsFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImJpZ19taXN0YWtlc1wiOiBcItCR0L7Qu9GM0YjQuNC1INC+0YjQuNCx0LrQuCAoLTMwKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNvbXBvc2l0aW9uXCI6IFwi0JrQvtC80L/QvtC30LjRhtC40Y9cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkYW5jZV9maWdzXCI6IFwi0KLQsNC90YbQtdCy0LDQu9GM0L3Ri9C1INGE0LjQs9GD0YDRi1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImRhbmNlX3RlY2hcIjogXCLQotC10YXQvdC40LrQsCDRgtCw0L3RhtC10LLQsNC90LjRj1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImZvcm1fZmFsbF9kb3duXCI6IFwi0J/QsNC00LXQvdC40Y8gKC0zKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImZvcm1fbWlzdGFrZXNcIjogXCLQntGI0LjQsdC60LggKC0yKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImZvcm1fc21hbGxfbWlzdGFrZXNcIjogXCLQnNCw0LvQtdC90YzQutC40LUg0L7RiNC40LHQutC4ICgtMilcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmb3JtX2JpZ19taXN0YWtlc1wiOiBcItCR0L7Qu9GM0YjQuNC1INC+0YjQuNCx0LrQuCAoLTMpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZndfbWFuXCI6IFwi0J7RgdC90L7QstC90L7QuSDRhdC+0LQsINC/0LDRgNGC0L3RkdGAICjRgdCx0LDQstC60LAg0LIgJSlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmd193b21hblwiOiBcItCe0YHQvdC+0LLQvdC+0Lkg0YXQvtC0LCDQv9Cw0YDRgtC90ZHRgNGI0LAgKNGB0LHQsNCy0LrQsCDQsiAlKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImltcHJlc3Npb25cIjogXCLQntCx0YnQtdC1INCy0L/QtdGH0LDRgtC70LXQvdC40LVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJwb2ludHNcIjogXCLQntGG0LXQvdC60LBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzbWFsbF9taXN0YWtlc1wiOiBcItCc0LDQu9C10L3RjNC60LjQtSDQvtGI0LjQsdC60LggKC01KVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgXCJnbG9iYWxcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRvdGFsX3Njb3JlXCI6IFwi0KHRg9C80LzQsCDQsdCw0LvQu9C+0LJcIixcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIFwiaGVhZF9qdWRnZVwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYWNyb2JhdGljX292ZXJyaWRlc1wiOiBcItCa0L7RgNGA0LXQutGC0LjRgNC+0LLQutC4INCw0LrRgNC+0LHQsNGC0LjQutC4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYmxhY2tfY2FyZFwiOiBcIi0xMDBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkYW5jZV9qdWRnZV9zY29yZXNcIjogXCLQntGG0LXQvdC60Lgg0LvQuNC90LXQudC90YvRhSDRgdGD0LTQtdC5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwib2tcIjogXCJPS1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInBlbmFsdHlfdHlwZVwiOiBcItCo0YLRgNCw0YTQvdGL0LUg0YHQsNC90LrRhtC40LhcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJwcmV2aW91c19wZW5hbHRpZXNcIjogXCLQn9GA0LXQtNGL0LTRg9GJ0LjQtSDRiNGC0YDQsNGE0YtcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJyZWRfY2FyZFwiOiBcIi0zMFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInllbGxvd19jYXJkXCI6IFwiLTNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmb3JtX3llbGxvd19jYXJkXCI6IFwiLTVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmb3JtX3JlZF9jYXJkXCI6IFwiLTE1XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBcInRlY2hfanVkZ2VcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImp1bXBfc3RlcHNcIjogXCLQntGB0L3QvtCy0L3Ri9C1INGF0L7QtNGLXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwicmVzZXRfdG9fblwiOiAobikgPT4gXCLQodCx0YDQvtGBINC90LAgXCIgKyBuLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidGltaW5nXCI6IFwi0JTQu9C40YLQtdC70YzQvdC+0YHRgtGMXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBcInJlc3VsdHNcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwiYnJlYWtkb3duXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJhXCI6IFwiQVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImFjcm9fblwiOiAobikgPT4gXCJBXCIgKyBuLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYm1cIjogXCLQkdCeXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY1wiOiBcItCaXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGZcIjogXCLQotCkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZHRcIjogXCLQolRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmZFwiOiBcItCfXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZm1cIjogXCLQntCl0LxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmd1wiOiBcItCe0KXQtlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImlcIjogXCLQntCSXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibVwiOiBcItCe0YhcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJwXCI6IFwi0JxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzbVwiOiBcItCc0J5cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0XCI6IFwizqNcIixcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIFwiaGVhZGVyc1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwicGFydGljaXBhbnRzX2FkdmFuY2VkXCI6IFwi0J/RgNC+0YjQu9C4INCyINGB0LvQtdC00YPRjtGJ0LjQuSDRgtGD0YBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJ0aWNpcGFudHNfbm90X2FkdmFuY2VkXCI6IFwi0J3QtSDQv9GA0L7RiNC70Lgg0LIg0YHQu9C10LTRg9GO0YnQuNC5INGC0YPRgFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInBhcnRpY2lwYW50c19ub3RfcGVyZm9ybWVkXCI6IFwi0J3QtSDQstGL0YHRgtGD0L/QsNC70LhcIixcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIFwibGFiZWxzXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJhY3JvX3Njb3JlXCI6IFwi0KDQtdC30YPQu9GM0YLQsNGCINCw0LrRgNC+XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYWNyb2JhdGljc1wiOiBcItCQ0LrRgNC+0LHQsNGC0LjQutCwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYWNyb2JhdGljc192ZXJib3NlXCI6IFwi0JDQutGA0L7QsdCw0YLQuNC60LAgKNC30LDRj9Cy0LrQsC/RhNCw0LrRgilcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjYXJkXCI6IFwi0KjRgtGA0LDRhFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImZ3X3Njb3JlXCI6IFwi0KDQtdC30YPQu9GM0YLQsNGCINCi0J1cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmd19zY29yZV9zaG9ydFwiOiBcItCi0J1cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpbmZvXCI6IFwi0KPRh9Cw0YHRgtC90LjQuiwg0YDQtdC30YPQu9GM0YLQsNGCXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibmV4dF90b3VyXCI6IFwi0KHQu9C10LTRg9GO0YnQuNC5INGC0YPRgFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm5vdF9wZXJmb3JtZWRcIjogXCLQndC1INC/0YDQuNC90LjQvNCw0Lsg0YPRh9Cw0YHRgtC40LVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJudW1iZXJcIjogXCLihJZcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJ0aWNpcGFudF9jbHViXCI6IFwi0JrQu9GD0LFcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJ0aWNpcGFudF9jb2FjaGVzXCI6IFwi0KLRgNC10L3QtdGA0YtcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJ0aWNpcGFudF9uYW1lXCI6IFwi0KPRh9Cw0YHRgtC90LjQulwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInBlbmFsdHlcIjogXCLQqNGC0YDQsNGEINCz0LvQsNCy0L3QvtCz0L4g0YHRg9C00YzQuFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInBsYWNlXCI6IFwi0JzQtdGB0YLQvlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInNwb3J0c21lblwiOiBcItCh0L/QvtGA0YLRgdC80LXQvdGLXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3BvcnRzbWVuX3llYXJfb2ZfYmlydGhcIjogXCLQky7RgC5cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0b3RhbF9zY29yZVwiOiBcItCY0YLQvtCzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIFwic2NvcmluZ19zeXN0ZW1zX25hbWVzXCI6IHtcclxuICAgICAgICAgICAgXCJyb3NmYXJyXCI6IHtcclxuICAgICAgICAgICAgICAgIFwiYmFzZV9uYW1lXCI6IFwi0KDQvtGB0KTQkNCg0KBcIixcclxuICAgICAgICAgICAgICAgIFwiYWNyb1wiOiBcItCg0L7RgdCk0JDQoNCgLCDQsNC60YDQvtCx0LDRgtC40YfQtdGB0LrQuNC1INC/0YDQvtCz0YDQsNC80LzRi1wiLFxyXG4gICAgICAgICAgICAgICAgXCJhbV9maW5hbF9hY3JvXCI6IFwi0KDQvtGB0KTQkNCg0KAsIEEg0LggTSDQutC70LDRgdGB0YssINGE0LjQvdCw0LssINCw0LrRgNC+0LHQsNGC0LjQutCwXCIsXHJcbiAgICAgICAgICAgICAgICBcImFtX2ZpbmFsX2Z3XCI6IFwi0KDQvtGB0KTQkNCg0KAsIEEg0LggTSDQutC70LDRgdGB0YssINGE0LjQvdCw0LssINGC0LXRhdC90LjQutCwINC90L7Qs1wiLFxyXG4gICAgICAgICAgICAgICAgXCJmb3JtYXRpb25cIjogXCLQoNC+0YHQpNCQ0KDQoCwg0YTQvtGA0LzQtdC50YjQvSDQsdC10Lcg0LDQutGA0L7QsdCw0YLQuNC60LhcIixcclxuICAgICAgICAgICAgICAgIFwiZm9ybWF0aW9uX2Fjcm9cIjogXCLQoNC+0YHQpNCQ0KDQoCwg0YTQvtGA0LzQtdC50YjQvSDRgSDQsNC60YDQvtCx0LDRgtC40LrQvtC5XCIsXHJcbiAgICAgICAgICAgICAgICBcIm5vX2Fjcm9cIjogXCLQoNC+0YHQpNCQ0KDQoCwg0YLQsNC90YbQtdCy0LDQu9GM0L3Ri9C1INC/0YDQvtCz0YDQsNC80LzRi1wiLFxyXG4gICAgICAgICAgICAgICAgXCJzaW1wbGlmaWVkXCI6IFwi0KDQvtGB0KTQkNCg0KAsINGD0L/RgNC+0YnQtdC90L3QsNGPINGB0LjRgdGC0LXQvNCwICgx4oCTNDApXCIsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIFwianVkZ2Vfcm9sZXNcIjoge1xyXG4gICAgICAgICAgICBcIlwiOiBcIi1cIixcclxuICAgICAgICAgICAgXCJhY3JvX2p1ZGdlXCI6IFwi0KHRg9C00YzRjyDQsNC60YDQvtCx0LDRgtC40LrQuFwiLFxyXG4gICAgICAgICAgICBcImRhbmNlX2p1ZGdlXCI6IFwi0KHRg9C00YzRjyDRgtCw0L3RhtCwXCIsXHJcbiAgICAgICAgICAgIFwiaGVhZF9qdWRnZVwiOiBcItCT0LvQsNCy0L3Ri9C5INGB0YPQtNGM0Y9cIixcclxuICAgICAgICAgICAgXCJ0ZWNoX2p1ZGdlXCI6IFwi0KLQtdGF0L3QuNGH0LXRgdC60LjQuSDRgdGD0LTRjNGPXCIsXHJcbiAgICAgICAgfSxcclxuICAgIH07XHJcbiAgICBsZXQgcGF0aCA9IHNyYy5zcGxpdChcIi5cIik7XHJcbiAgICBsZXQgcGhyYXNlX3B0ciA9IFBIUkFTRVM7XHJcbiAgICBwYXRoLmZvckVhY2goKGNodW5rKSA9PiBwaHJhc2VfcHRyID0gcGhyYXNlX3B0cltjaHVua10pO1xyXG4gICAgaWYgKHR5cGVvZiBwaHJhc2VfcHRyID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuYWJsZSB0byBmaW5kIHRyYW5zbGF0aW9uIGZvciBcIiArIHNyYyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBwaHJhc2VfcHRyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICBsZXQgYXJncyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDE7IGlkeCA8IGFyZ3VtZW50cy5sZW5ndGg7ICsraWR4KSB7XHJcbiAgICAgICAgICAgIGFyZ3MucHVzaChhcmd1bWVudHNbaWR4XSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwaHJhc2VfcHRyKC4uLmFyZ3MpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBocmFzZV9wdHI7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgZ2V0UG9zc2libGVUb3VyTmFtZXMgPSAoKSA9PiBbXHJcbiAgICBcItCk0LjQvdCw0LtcIixcclxuICAgIFwi0KLRg9GAIMKr0J3QsNC00LXQttC00YvCu1wiLFxyXG4gICAgXCLQntGC0LHQvtGA0L7Rh9C90YvQuSDRgtGD0YBcIixcclxuICAgIFwiMS8yINGE0LjQvdCw0LvQsFwiLFxyXG4gICAgXCIxLzQg0YTQuNC90LDQu9CwXCIsXHJcbiAgICBcIjEvOCDRhNC40L3QsNC70LBcIixcclxuICAgIFwiMS8xNiDRhNC40L3QsNC70LBcIixcclxuICAgIFwi0KTQuNC90LDQuywg0YLQtdGF0L3QuNC60LAg0L3QvtCzXCIsXHJcbiAgICBcItCk0LjQvdCw0LssINCw0LrRgNC+0LHQsNGC0LjQutCwXCIsXHJcbl07XHJcbiIsImNsYXNzIFJ1bGVzU2V0TG9hZGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuX2xvYWRlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGxvYWQobW9kdWxlX25hbWUsIGRhdGEpIHtcclxuICAgICAgICBjb25zdCBLRVlTID0gW1widG91cl9yZXN1bHRzX3RhYmxlXzFcIiwgXCJ0b3VyX3Jlc3VsdHNfdGFibGVfMlwiLCBcInRvdXJfcmVzdWx0c190YWJsZV8yXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcImp1ZGdlX3RhYmxldFwiLCBcImFkbWluX3Njb3JlX2lucHV0XCJdO1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIEtFWVMpIHtcclxuICAgICAgICAgICAgaWYgKCEoa2V5IGluIGRhdGEpKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1vZHVsZSAke21vZHVsZV9uYW1lfSBkb2Vzbid0IGV4cG9ydCAke2tleX0gY2xhc3MuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpc1tgXyR7a2V5fWBdID0gZGF0YVtrZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9sb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBBZGRlZCBzY29yaW5nIHN5c3RlbTogJHttb2R1bGVfbmFtZX1gKTtcclxuICAgIH1cclxuXHJcbiAgICBfY2hlY2tJZkxvYWRlZCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2xvYWRlZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBzY29yaW5nIHN5c3RlbSB3YXMgbG9hZGVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgdG91cl9yZXN1bHRzX3RhYmxlXzEoKSB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJZkxvYWRlZCgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90b3VyX3Jlc3VsdHNfdGFibGVfMTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdG91cl9yZXN1bHRzX3RhYmxlXzIoKSB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJZkxvYWRlZCgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90b3VyX3Jlc3VsdHNfdGFibGVfMjtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdG91cl9yZXN1bHRzX3RhYmxlXzMoKSB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJZkxvYWRlZCgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90b3VyX3Jlc3VsdHNfdGFibGVfMztcclxuICAgIH1cclxuXHJcbiAgICBnZXQganVkZ2VfdGFibGV0KCkge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSWZMb2FkZWQoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fanVkZ2VfdGFibGV0O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBhZG1pbl9zY29yZV9pbnB1dCgpIHtcclxuICAgICAgICB0aGlzLl9jaGVja0lmTG9hZGVkKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkbWluX3Njb3JlX2lucHV0O1xyXG4gICAgfVxyXG59XHJcblxyXG52YXIgbG9hZGVyID0gbmV3IFJ1bGVzU2V0TG9hZGVyKCk7XHJcblxyXG53aW5kb3cucmVnaXN0ZXJSdWxlc1NldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgbG9hZGVyLmxvYWQoLi4uYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbG9hZGVyO1xyXG4iLCJpbXBvcnQgeyBfIH0gZnJvbSBcImwxMG4vbG9hZGVyXCI7XHJcbmltcG9ydCB7IHN0b3JhZ2UgfSBmcm9tIFwic2VydmVyL3N0b3JhZ2VcIjtcclxuaW1wb3J0IHsgc2hvd0Vycm9yIH0gZnJvbSBcInVpL2RpYWxvZ3NcIjtcclxuXHJcblxyXG5jbGFzcyBBcGlJbXBsIHtcclxuICAgIGNvbnN0cnVjdG9yKG1ldGhvZCwgZGF0YSkge1xyXG4gICAgICAgIHRoaXMubWV0aG9kID0gbWV0aG9kO1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5jYl9zdWNjZXNzID0gKCkgPT4ge307XHJcbiAgICAgICAgdGhpcy5jYl9lcnJvciA9IChtc2csIGNvZGUsIGFyZ3MpID0+IHNob3dFcnJvcihjb2RlID8gXyhjb2RlLCAuLi5hcmdzKSA6IG1zZyk7XHJcbiAgICAgICAgdGhpcy5jYl9mYWlsID0gKC4uLmRhdGEpID0+IGNvbnNvbGUuZXJyb3IoXCJBUEkgZmFpbFwiLCAuLi5kYXRhKTtcclxuICAgICAgICB0aGlzLmNiX2RvbmUgPSAoKSA9PiB7fTtcclxuICAgICAgICB0aGlzLnVwZGF0ZV9kYiA9ICgpID0+IHt9O1xyXG4gICAgfVxyXG4gICAgb25Eb25lKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhpcy5jYl9kb25lID0gY2FsbGJhY2s7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBvblN1Y2Nlc3MoY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLmNiX3N1Y2Nlc3MgPSBjYWxsYmFjaztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIG9uRXJyb3IoY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLmNiX2Vycm9yID0gY2FsbGJhY2s7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBvbkZhaWwoY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLmNiX2ZhaWwgPSBjYWxsYmFjaztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIGFkZFRvREIobW9kZWxfdHlwZSwgbW9kZWxfaWQsIHN0PXN0b3JhZ2UpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZV9kYiA9IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIHN0LmdldChtb2RlbF90eXBlKS5hZGQobW9kZWxfaWQsIHJlc3BvbnNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBzZW5kKCkge1xyXG4gICAgICAgIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICB4aHIub3BlbihcIlBPU1RcIiwgXCIvYXBpXCIsIHRydWUpO1xyXG4gICAgICAgIHhoci5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2JfZG9uZSgpO1xyXG4gICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyAhPT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNiX2ZhaWwoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgcmVzcG9uc2UgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2JfZmFpbCgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlX2RiKHJlc3BvbnNlLnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2Jfc3VjY2VzcyhyZXNwb25zZS5yZXNwb25zZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNiX2Vycm9yKHJlc3BvbnNlLm1lc3NhZ2UsIHJlc3BvbnNlLmNvZGUsIHJlc3BvbnNlLmFyZ3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB4aHIub25lcnJvciA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jYl9kb25lKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2JfZmFpbCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGV0IGRhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICBkYXRhLmFwcGVuZChcImNsaWVudF9pZFwiLCB3aW5kb3cuY2xpZW50X2lkKTtcclxuICAgICAgICBkYXRhLmFwcGVuZChcImRhdGFcIiwgSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhKSk7XHJcbiAgICAgICAgZGF0YS5hcHBlbmQoXCJtZXRob2RcIiwgdGhpcy5tZXRob2QpO1xyXG4gICAgICAgIHhoci5zZW5kKGRhdGEpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgdmFyIEFwaSA9ICguLi5hcmdzKSA9PiBuZXcgQXBpSW1wbCguLi5hcmdzKTtcclxuZXhwb3J0IGRlZmF1bHQgQXBpO1xyXG4iLCJpbXBvcnQgeyBzdG9yYWdlIH0gZnJvbSBcInNlcnZlci9zdG9yYWdlXCI7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25fc3RhdHVzIH0gZnJvbSBcInVpL2NvbXBvbmVudHNcIjtcclxuXHJcblxyXG5jbGFzcyBNZXNzYWdlRGlzcGF0Y2hlciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0ge307XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnNfY250ID0gMDtcclxuICAgICAgICB0aGlzLmNvbm5lY3QoKTtcclxuICAgIH1cclxuICAgIGNvbm5lY3QoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJDb25uZWN0aW5nIHRvIHdlYnNvY2tldC4uLlwiKTtcclxuICAgICAgICB0aGlzLndzID0gbmV3IFNvY2tKUyhcImh0dHA6Ly9cIiArIHdpbmRvdy5sb2NhdGlvbi5ob3N0ICsgXCIvd3NcIik7XHJcbiAgICAgICAgdGhpcy53cy5vbm9wZW4gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgY29ubmVjdGlvbl9zdGF0dXMuc2V0T2soKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb25uZWN0ZWQuXCIpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25NZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBbW1wicmVsb2FkX2RhdGFcIiwgbnVsbF1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbF91cGRhdGVzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0uYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLndzLm9uY2xvc2UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgY29ubmVjdGlvbl9zdGF0dXMuc2V0RmFpbCgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbm5lY3Rpb24gY2xvc2VkLlwiKTtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuY29ubmVjdC5iaW5kKHRoaXMpLCA1MDApO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IHRoaXMub25NZXNzYWdlLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcbiAgICBvbk1lc3NhZ2UobWVzc2FnZSkge1xyXG4gICAgICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZShtZXNzYWdlLmRhdGEpO1xyXG4gICAgICAgIGlmIChkYXRhW1wiY2xpZW50X2lkXCJdKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5jbGllbnRfaWQgPSBkYXRhW1wiY2xpZW50X2lkXCJdO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRhdGEubWVzc2FnZXMuZm9yRWFjaChmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgIGxldCBtc2dfdHlwZSA9IGRhdGFbMF07XHJcbiAgICAgICAgICAgIGxldCBtc2dfZGF0YSA9IGRhdGFbMV07XHJcbiAgICAgICAgICAgIGxldCBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVyc1ttc2dfdHlwZV0gfHwge307XHJcbiAgICAgICAgICAgIGlmIChtc2dfdHlwZSA9PT0gXCJmb3JjZV9yZWZyZXNoXCIpIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQodHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5saXN0ZW5lcnNbbXNnX3R5cGVdIHx8IHt9KS5mb3JFYWNoKChrZXkpID0+IGxpc3RlbmVyc1trZXldKG1zZ19kYXRhKSk7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICBsZXQgZGF0YV9jaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgZGF0YS5tb2RlbF91cGRhdGVzLmZvckVhY2goKG1vZGVsX2luZm8pID0+IHtcclxuICAgICAgICAgICAgZGF0YV9jaGFuZ2VkID0gc3RvcmFnZS51cGRhdGVNb2RlbChtb2RlbF9pbmZvLm1vZGVsLCBtb2RlbF9pbmZvLmlkLCBtb2RlbF9pbmZvLmRhdGEpIHx8IGRhdGFfY2hhbmdlZDtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoZGF0YV9jaGFuZ2VkKSB7XHJcbiAgICAgICAgICAgIGxldCBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVyc1tcImRiX3VwZGF0ZVwiXSB8fCB7fTtcclxuICAgICAgICAgICAgT2JqZWN0LmtleXMobGlzdGVuZXJzKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lcnNba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyc1trZXldKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldExpc3RlbmVySWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXJzX2NudCsrO1xyXG4gICAgfVxyXG4gICAgYWRkTGlzdGVuZXIobXNnX3R5cGVzLCBjYWxsYmFjaykge1xyXG4gICAgICAgIGxldCBpZCA9IHRoaXMuZ2V0TGlzdGVuZXJJZCgpO1xyXG4gICAgICAgIG1zZ190eXBlcy5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbihtc2dfdHlwZSkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMubGlzdGVuZXJzW21zZ190eXBlXSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnNbbXNnX3R5cGVdID0ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnNbbXNnX3R5cGVdW2lkXSA9IGNhbGxiYWNrO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgcmV0dXJuIGlkO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlTGlzdGVuZXIobGlzdGVuZXJfaWQpIHtcclxuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmxpc3RlbmVycykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMubGlzdGVuZXJzW2tleV1bbGlzdGVuZXJfaWRdO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5pZiAoIXdpbmRvdy5tZXNzYWdlX2Rpc3BhdGNoZXIpIHtcclxuICAgIHdpbmRvdy5tZXNzYWdlX2Rpc3BhdGNoZXIgPSBuZXcgTWVzc2FnZURpc3BhdGNoZXIoKTtcclxufVxyXG5leHBvcnQgdmFyIG1lc3NhZ2VfZGlzcGF0Y2hlciA9IHdpbmRvdy5tZXNzYWdlX2Rpc3BhdGNoZXI7XHJcbiIsImNsYXNzIFJlZiB7XHJcbiAgICBjb25zdHJ1Y3RvcihzdG9yYWdlLCBtb2RlbF9uYW1lLCBpZCkge1xyXG4gICAgICAgIHRoaXMubW9kZWxfbmFtZSA9IG1vZGVsX25hbWU7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMuc3RvcmFnZSA9IHN0b3JhZ2U7XHJcbiAgICB9XHJcbiAgICBnZXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5nZXQodGhpcy5tb2RlbF9uYW1lKS5ieV9pZCh0aGlzLmlkKTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgTW9kZWwge1xyXG4gICAgY29uc3RydWN0b3Ioc3RvcmFnZSwgaWQsIG1vZGVsX3N0b3JhZ2UpIHtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5fX3N0b3JhZ2UgPSBzdG9yYWdlO1xyXG4gICAgICAgIHRoaXMuX19rZXlfdHlwZXMgPSB7fTtcclxuICAgICAgICB0aGlzLl9fbW9kZWxfc3RvcmFnZSA9IG1vZGVsX3N0b3JhZ2U7XHJcbiAgICB9XHJcbiAgICBhZGRCYWNrUmVmKGtleSwgcmVmKSB7XHJcbiAgICAgICAgdGhpc1trZXldID0gcmVmO1xyXG4gICAgICAgIHRoaXMuX19rZXlfdHlwZXNba2V5XSA9IFwiXlwiO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGRhdGEsIGNyZWF0ZT10cnVlKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaWR4IGluIGRhdGEpIGlmIChkYXRhLmhhc093blByb3BlcnR5KGlkeCkpIHtcclxuICAgICAgICAgICAgaWYgKGlkeC5jaGFyQXQoMCkgPT09IFwiKlwiIHx8IGlkeC5jaGFyQXQoMCkgPT09IFwiXlwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNyZWF0ZSAmJiB0eXBlb2YgdGhpc1tpZHguc2xpY2UoMSldID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlkeC5jaGFyQXQoMCkgPT09IFwiKlwiKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQga2V5ID0gaWR4LnNsaWNlKDEpO1xyXG4gICAgICAgICAgICAgICAgdGhpc1trZXldID0gW11cclxuICAgICAgICAgICAgICAgIGxldCBiYWNrX3JlZiA9IG5ldyBSZWYodGhpcy5fX3N0b3JhZ2UsIHRoaXMuX19tb2RlbF9zdG9yYWdlLm1vZGVsX25hbWUsIHRoaXMuaWQpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGJhY2tfcmVmX2tleSA9IGRhdGFbaWR4XS5iYWNrX3JlZjtcclxuICAgICAgICAgICAgICAgIGRhdGFbaWR4XS5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKG5lc3RlZF9kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXN0ZWRfZGF0YS5kYXRhID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19zdG9yYWdlLmdldChuZXN0ZWRfZGF0YS5tb2RlbCkuYWRkKG5lc3RlZF9kYXRhLmlkLCBuZXN0ZWRfZGF0YS5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlZiA9IG5ldyBSZWYodGhpcy5fX3N0b3JhZ2UsIG5lc3RlZF9kYXRhLm1vZGVsLCBuZXN0ZWRfZGF0YS5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVmLmdldCgpLmFkZEJhY2tSZWYoYmFja19yZWZfa2V5LCBiYWNrX3JlZik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1trZXldLnB1c2gocmVmKTtcclxuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9fa2V5X3R5cGVzW2tleV0gPSBcIipcIjtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChpZHguY2hhckF0KDApID09PSBcIl5cIikge1xyXG4gICAgICAgICAgICAgICAgbGV0IGtleSA9IGlkeC5zbGljZSgxKTtcclxuICAgICAgICAgICAgICAgIGxldCBuZXN0ZWRfZGF0YSA9IGRhdGFbaWR4XTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmVzdGVkX2RhdGEgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fc3RvcmFnZS5nZXQobmVzdGVkX2RhdGEubW9kZWwpLmFkZChuZXN0ZWRfZGF0YS5pZCwgbmVzdGVkX2RhdGEuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzW2tleV0gPSBuZXcgUmVmKHRoaXMuX19zdG9yYWdlLCBuZXN0ZWRfZGF0YS5tb2RlbCwgbmVzdGVkX2RhdGEuaWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fX2tleV90eXBlc1trZXldID0gXCJeXCI7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzW2lkeF0gPSBkYXRhW2lkeF07XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9fa2V5X3R5cGVzW2lkeF0gPSBcIlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2VyaWFsaXplKHNjaGVtYSkge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSB7fVxyXG4gICAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLl9fa2V5X3R5cGVzKSBpZiAodGhpcy5fX2tleV90eXBlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5fX2tleV90eXBlc1trZXldKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCIqXCI6XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5IGluIHNjaGVtYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gdGhpc1trZXldLm1hcChmdW5jdGlvbihyZWYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZi5nZXQoKS5zZXJpYWxpemUoc2NoZW1hW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJeXCI6XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5IGluIHNjaGVtYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gdGhpc1trZXldLmdldCgpLnNlcmlhbGl6ZShzY2hlbWFba2V5XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gdGhpc1trZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlc3VsdC5pZCA9IHRoaXMuaWRcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBNb2RlbHNTdG9yYWdlIHtcclxuICAgIGNvbnN0cnVjdG9yKHN0b3JhZ2UsIG1vZGVsX25hbWUpIHtcclxuICAgICAgICB0aGlzLm1vZGVsX25hbWUgPSBtb2RlbF9uYW1lO1xyXG4gICAgICAgIHRoaXMubW9kZWxzID0ge307XHJcbiAgICAgICAgdGhpcy5zdG9yYWdlID0gc3RvcmFnZTtcclxuICAgIH1cclxuICAgIGFkZChpZCwgZGF0YSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5tb2RlbHNbaWRdID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWxzW2lkXSA9IG5ldyBNb2RlbCh0aGlzLnN0b3JhZ2UsIGlkLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tb2RlbHNbaWRdLnVwZGF0ZShkYXRhKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZShpZCwgZGF0YSkge1xyXG4gICAgICAgIGlmICh0aGlzLm1vZGVsc1tpZF0pIHtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbHNbaWRdLnVwZGF0ZShkYXRhLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBieV9pZChpZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1vZGVsc1tpZF07XHJcbiAgICB9XHJcbiAgICBhbGwoKSB7XHJcbiAgICAgICAgbGV0IGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzLm1vZGVscyk7XHJcbiAgICAgICAgcmV0dXJuIGtleXMubWFwKGZ1bmN0aW9uKGtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlbHNba2V5XTtcclxuICAgICAgICB9LmJpbmQodGhpcykpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFN0b3JhZ2Uge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlbF9zdG9yYWdlcyA9IHt9XHJcbiAgICAgICAgdGhpcy5kb21haW5zID0ge31cclxuICAgIH1cclxuICAgIGdldERvbWFpbihkb21haW4pIHtcclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuZG9tYWluc1tkb21haW5dID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZG9tYWluc1tkb21haW5dID0gbmV3IFN0b3JhZ2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9tYWluc1tkb21haW5dO1xyXG4gICAgfVxyXG4gICAgZGVsRG9tYWluKGRvbWFpbikge1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLmRvbWFpbnNbZG9tYWluXTtcclxuICAgIH1cclxuICAgIGdldChtb2RlbF9uYW1lKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm1vZGVsX3N0b3JhZ2VzW21vZGVsX25hbWVdID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWxfc3RvcmFnZXNbbW9kZWxfbmFtZV0gPSBuZXcgTW9kZWxzU3RvcmFnZSh0aGlzLCBtb2RlbF9uYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kZWxfc3RvcmFnZXNbbW9kZWxfbmFtZV07XHJcbiAgICB9XHJcbiAgICBkZWwobW9kZWxfbmFtZSkge1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLm1vZGVsX3N0b3JhZ2VzW21vZGVsX25hbWVdO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlTW9kZWwobW9kZWxfdHlwZSwgbW9kZWxfaWQsIGRhdGEpIHtcclxuICAgICAgICBsZXQgZGF0YV9jaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMubW9kZWxfc3RvcmFnZXNbbW9kZWxfdHlwZV0pIHtcclxuICAgICAgICAgICAgZGF0YV9jaGFuZ2VkID0gdGhpcy5nZXQobW9kZWxfdHlwZSkuYWRkKG1vZGVsX2lkLCBkYXRhKSB8fCBkYXRhX2NoYW5nZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuZG9tYWlucykuZm9yRWFjaCgoa2V5KSA9PlxyXG4gICAgICAgICAgICBkYXRhX2NoYW5nZWQgPSB0aGlzLmRvbWFpbnNba2V5XS51cGRhdGVNb2RlbCguLi5hcmd1bWVudHMpIHx8IGRhdGFfY2hhbmdlZCk7XHJcbiAgICAgICAgLy8gcmV0dXJuIGRhdGFfY2hhbmdlZDtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHZhciBzdG9yYWdlID0gbmV3IFN0b3JhZ2UoKVxyXG4iLCJpbXBvcnQgeyBfIH0gZnJvbSBcImwxMG4vbG9hZGVyXCI7XHJcbmltcG9ydCB7IGNsb25lIH0gZnJvbSBcImNvbW1vbi90b29sc1wiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBEaXNjaXBsaW5lc0NvbnRyb2xzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIG9uQ2hhbmdlID0gKHByb3BlcnR5X25hbWUsIHZhbHVlKSA9PiB7XHJcbiAgICAgICAgbGV0IGNvbmZpZyA9IGNsb25lKHRoaXMucHJvcHMuY29uZmlnKTtcclxuICAgICAgICBjb25maWdbcHJvcGVydHlfbmFtZV0gPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKGNvbmZpZyk7XHJcbiAgICB9XHJcbiAgICByZW5kZXJDbHVicygpIHtcclxuICAgICAgICBpZiAoIXRoaXMucHJvcHMuY2x1YnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8Q2hlY2tib3hlc1NldFxyXG4gICAgICAgICAgICAgICAgICAgIG1rZXk9XCJjbHVic1wiXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM9eyB0aGlzLnByb3BzLmNsdWJzIH1cclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXM9eyB0aGlzLnByb3BzLmNvbmZpZy5jbHVicyB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLm9uQ2hhbmdlIH0gLz5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2VyXCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9sc1wiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC02XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveGVzU2V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBta2V5PVwiZGlzY2lwbGluZXNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM9eyB0aGlzLnByb3BzLmRpc2NpcGxpbmVzIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcz17IHRoaXMucHJvcHMuY29uZmlnLmRpc2NpcGxpbmVzIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsgdGhpcy5vbkNoYW5nZSB9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyQ2x1YnMoKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5jdXN0b21fY29udHJvbHMubWFwKGluZm8gPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb250cm9sc0NoZWNrYm94XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXsgaW5mby5rZXkgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1rZXk9eyBpbmZvLmtleSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9eyBpbmZvLmxhYmVsIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17IHRoaXMucHJvcHMuY29uZmlnW2luZm8ua2V5XSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLm9uQ2hhbmdlIH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgQ2hlY2tib3hlc1NldCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBzZXRBbGwodmFsdWUpIHtcclxuICAgICAgICBsZXQgbmV3X3ZhbHVlcyA9IGNsb25lKHRoaXMucHJvcHMudmFsdWVzKTtcclxuICAgICAgICBPYmplY3Qua2V5cyhuZXdfdmFsdWVzKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgIG5ld192YWx1ZXNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UodGhpcy5wcm9wcy5ta2V5LCBuZXdfdmFsdWVzKTtcclxuICAgIH1cclxuICAgIG9uQ2JDaGFuZ2UgPSAoaWQsIHZhbHVlKSA9PiB7XHJcbiAgICAgICAgbGV0IG5ld192YWx1ZXMgPSBjbG9uZSh0aGlzLnByb3BzLnZhbHVlcyk7XHJcbiAgICAgICAgbmV3X3ZhbHVlc1tpZF0gPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHRoaXMucHJvcHMubWtleSwgbmV3X3ZhbHVlcyk7XHJcbiAgICB9XHJcbiAgICBvblNlbGVjdEFsbCA9IChlKSA9PiB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHRoaXMuc2V0QWxsKHRydWUpO1xyXG4gICAgfVxyXG4gICAgb25EZXNlbGVjdEFsbCA9IChlKSA9PiB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHRoaXMuc2V0QWxsKGZhbHNlKTtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgeyB0aGlzLnByb3BzLml0ZW1zLm1hcCh4ID0+XHJcbiAgICAgICAgICAgICAgICAgICAgPENvbnRyb2xzQ2hlY2tib3hcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXsgeC5pZCB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1rZXk9eyB4LmlkIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9eyB4Lm5hbWUgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17IHRoaXMucHJvcHMudmFsdWVzW3guaWRdIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLm9uQ2JDaGFuZ2UgfSAvPlxyXG4gICAgICAgICAgICAgICAgKSB9XHJcbiAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIG9uQ2xpY2s9eyB0aGlzLm9uU2VsZWN0QWxsIH0+eyBfKFwiZ2xvYmFsLmJ1dHRvbnMuc2VsZWN0X2FsbFwiKSB9PC9hPlxyXG4gICAgICAgICAgICAgICAgJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7XHJcbiAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIG9uQ2xpY2s9eyB0aGlzLm9uRGVzZWxlY3RBbGwgfT57IF8oXCJnbG9iYWwuYnV0dG9ucy5kZXNlbGVjdF9hbGxcIikgfTwvYT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgQ29udHJvbHNDaGVja2JveCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBvbkNoYW5nZSA9IGUgPT4ge1xyXG4gICAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UodGhpcy5wcm9wcy5ta2V5LCBlLnRhcmdldC5jaGVja2VkKTtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN3aXRjaFwiPlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXsgdGhpcy5wcm9wcy52YWx1ZSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsgdGhpcy5vbkNoYW5nZSB9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnByb3BzLmxhYmVsIH1cclxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgXyB9IGZyb20gXCJsMTBuL2xvYWRlclwiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBMb2FkZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiA8dGFibGUgc3R5bGU9e3sgXCJoZWlnaHRcIjogXCIxMDAlXCIsIFwid2lkdGhcIjogXCIxMDAlXCIgfX0+PHRib2R5Pjx0cj5cclxuICAgICAgICAgICAgPHRkIHN0eWxlPXt7IFwidGV4dEFsaWduXCI6IFwiY2VudGVyXCIgfX0+XHJcbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi9zdGF0aWMvaW1nL2FqYXgtbG9hZGVyLmdpZlwiIC8+XHJcbiAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgPC90cj48L3Rib2R5PjwvdGFibGU+XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIENvbm5lY3Rpb25TdGF0dXNNb2NrIHtcclxuICAgIHNldE9rKCkge31cclxuICAgIHNldEZhaWwoKSB7fVxyXG59XHJcblxyXG5jbGFzcyBDb25uZWN0aW9uU3RhdHVzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIFwiY29ubmVjdGVkXCI6IG51bGwsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgICAgIHRoaXMuc3RvcEludGVydmFsKCk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgaW5pdCgpIHtcclxuICAgICAgICBsZXQgZWxlbWVudCA9IHdpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbm5lY3Rpb25fc3RhdHVzXCIpO1xyXG4gICAgICAgIGlmIChlbGVtZW50ICYmICFlbGVtZW50Lmhhc0NoaWxkTm9kZXMoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gUmVhY3RET00ucmVuZGVyKFxyXG4gICAgICAgICAgICAgICAgPENvbm5lY3Rpb25TdGF0dXMgLz4sXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgQ29ubmVjdGlvblN0YXR1c01vY2soKTtcclxuICAgIH1cclxuICAgIHN0YXJ0SW50ZXJ2YWwoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgdGljazogIXRoaXMuc3RhdGUudGljayxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSwgNzUwKTtcclxuICAgIH1cclxuICAgIHN0b3BJbnRlcnZhbCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XHJcbiAgICAgICAgdGhpcy5pbnRlcnZhbCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBzZXRPaygpIHtcclxuICAgICAgICB0aGlzLnN0b3BJbnRlcnZhbCgpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBjb25uZWN0ZWQ6IHRydWUsIHRpY2s6IGZhbHNlIH0pO1xyXG4gICAgfVxyXG4gICAgc2V0RmFpbCgpIHtcclxuICAgICAgICB0aGlzLnN0YXJ0SW50ZXJ2YWwoKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgY29ubmVjdGVkOiBmYWxzZSB9KTtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5jb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiY29ubmVjdGlvbi1zdGF0dXMgb2tcIj48L2Rpdj5cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuY29ubmVjdGVkID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbm5lY3Rpb24tc3RhdHVzIGFsZXJ0LXdhcm5pbmdcIj5cclxuICAgICAgICAgICAgICAgICAgICB7IF8oXCJnbG9iYWwubGFiZWxzLmNvbm5lY3RpbmdcIikgfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9eyBcImNvbm5lY3Rpb24tc3RhdHVzIGFsZXJ0LWRhbmdlclwiICsgKHRoaXMuc3RhdGUudGljayA/IFwiIHRpY2tcIiA6IFwiXCIpIH0+XHJcbiAgICAgICAgICAgICAgICAgICAgeyBfKFwiZ2xvYmFsLmxhYmVscy5jb25uZWN0aW9uX3Byb2JsZW1cIikgfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgY29ubmVjdGlvbl9zdGF0dXMgPSBDb25uZWN0aW9uU3RhdHVzLmluaXQoKTtcclxuIiwiaW1wb3J0IHsgXyB9IGZyb20gXCJsMTBuL2xvYWRlclwiO1xyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaG93RXJyb3IobXNnKSB7XHJcbiAgICBsZXQgdGl0bGUgPSAodHlwZW9mIG1zZyA9PT0gXCJvYmplY3RcIikgPyBtc2dbMF0gOiBfKFwiZ2xvYmFsLm1lc3NhZ2VzLmVycm9yX2hlYWRlclwiKTtcclxuICAgIGxldCB0ZXh0ID0gKHR5cGVvZiBtc2cgPT09IFwib2JqZWN0XCIpID8gbXNnWzFdIDogbXNnO1xyXG4gICAgc3dhbCh7XHJcbiAgICAgICAgdGl0bGU6IHRpdGxlLFxyXG4gICAgICAgIHRleHQ6IHRleHQsXHJcbiAgICAgICAgdHlwZTogXCJlcnJvclwiLFxyXG4gICAgICAgIGFuaW1hdGlvbjogZmFsc2UsXHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNob3dDb25maXJtKG1lc3NhZ2UsIGFjdGlvbiwgY2xvc2Vfb25fY29uZmlybT1mYWxzZSkge1xyXG4gICAgcmV0dXJuIHN3YWwoe1xyXG4gICAgICAgIHRpdGxlOiBtZXNzYWdlLFxyXG4gICAgICAgIGFuaW1hdGlvbjogZmFsc2UsXHJcbiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSxcclxuICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogXyhcImdsb2JhbC5sYWJlbHMueWVzXCIpLFxyXG4gICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IF8oXCJnbG9iYWwubGFiZWxzLm5vXCIpLFxyXG4gICAgICAgIGNsb3NlT25Db25maXJtOiBjbG9zZV9vbl9jb25maXJtLFxyXG4gICAgfSwgYWN0aW9uKTtcclxufVxyXG4iLCJleHBvcnQgY2xhc3MgUHJpbnRhYmxlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhlYWRlcjogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICAgIHRpdGxlMTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICAgIHRpdGxlMjogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICAgIHRpdGxlMzogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICAgIGJvZHk6IFJlYWN0LlByb3BUeXBlcy5ub2RlLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBzZW5kRGVsdGFzOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZmV0Y2hQcmludGFibGVEYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYm9keS5pbm5lckhUTUw7XG4gICAgfVxuICAgIHJlbmRlckhlYWRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuaGVhZGVyID8gPGRpdiBjbGFzc05hbWU9XCJwLWhlYWRlclwiPnsgdGhpcy5wcm9wcy5oZWFkZXIgfTwvZGl2PiA6IG51bGw7XG4gICAgfVxuICAgIHJlbmRlclRpdGxlMSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMudGl0bGUxID8gPGgxPnsgdGhpcy5wcm9wcy50aXRsZTEgfTwvaDE+IDogbnVsbDtcbiAgICB9XG4gICAgcmVuZGVyVGl0bGUyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy50aXRsZTIgPyA8aDI+eyB0aGlzLnByb3BzLnRpdGxlMiB9PC9oMj4gOiBudWxsO1xuICAgIH1cbiAgICByZW5kZXJUaXRsZTMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLnRpdGxlMyA/IDxoMz57IHRoaXMucHJvcHMudGl0bGUzIH08L2gzPiA6IG51bGw7XG4gICAgfVxuICAgIHJlbmRlckJvZHkoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC1jb250ZW50XCJcbiAgICAgICAgICAgICAgICByZWY9eyBlID0+IHRoaXMuX2JvZHkgPSBlIH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMuYm9keSB9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInByaW50YWJsZVwiPlxuICAgICAgICAgICAgeyB0aGlzLnJlbmRlckhlYWRlcigpIH1cbiAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJUaXRsZTEoKSB9XG4gICAgICAgICAgICB7IHRoaXMucmVuZGVyVGl0bGUyKCkgfVxuICAgICAgICAgICAgeyB0aGlzLnJlbmRlclRpdGxlMygpIH1cbiAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJCb2R5KCkgfVxuICAgICAgICA8L2Rpdj5cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBfIH0gZnJvbSBcImwxMG4vbG9hZGVyXCI7XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG9uVG91Y2hPckNsaWNrKGhhbmRsZXIpIHtcclxuICAgIGxldCBmID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICByZXR1cm4gaGFuZGxlcihldmVudCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBvblRvdWNoU3RhcnQ6IGYsXHJcbiAgICAgICAgb25DbGljazogZixcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG9uVG91Y2hFbmRPckNsaWNrKGhhbmRsZXIsIHByZXZlbnRfZGVmYXVsdCkge1xyXG4gICAgbGV0IF9oYW5kbGVyID0gKCkgPT4ge307XHJcbiAgICBsZXQgZGlzdGFuY2UgPSAwO1xyXG4gICAgbGV0IGxhdGVzdF9wb3MgPSBbMCwgMF07XHJcbiAgICBsZXQgZmlyZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgcmV0dXJuIF9oYW5kbGVyKCk7XHJcbiAgICB9XHJcbiAgICBsZXQgZGlzY2FyZCA9ICgpID0+IHtcclxuICAgICAgICBfaGFuZGxlciA9ICgpID0+IHt9O1xyXG4gICAgfVxyXG4gICAgbGV0IG1vdmUgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBsZXQgY3VycmVudF9wb3MgPSBbZXZlbnQudG91Y2hlc1swXS5wYWdlWCwgZXZlbnQudG91Y2hlc1swXS5wYWdlWV07XHJcbiAgICAgICAgbGV0IHNxciA9ICh4KSA9PiB4ICogeDtcclxuICAgICAgICBkaXN0YW5jZSArPSBNYXRoLnNxcnQoc3FyKGN1cnJlbnRfcG9zWzBdIC0gbGF0ZXN0X3Bvc1swXSkgKyBzcXIoY3VycmVudF9wb3NbMV0gLSBsYXRlc3RfcG9zWzFdKSk7XHJcbiAgICAgICAgbGF0ZXN0X3BvcyA9IGN1cnJlbnRfcG9zO1xyXG4gICAgICAgIGlmIChkaXN0YW5jZSA+IDIwKSB7XHJcbiAgICAgICAgICAgIGRpc2NhcmQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsZXQgc3RhcnQgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBfaGFuZGxlciA9IGhhbmRsZXI7XHJcbiAgICAgICAgZGlzdGFuY2UgPSAwO1xyXG4gICAgICAgIGxhdGVzdF9wb3MgPSBbZXZlbnQudG91Y2hlc1swXS5wYWdlWCwgZXZlbnQudG91Y2hlc1swXS5wYWdlWV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG9uVG91Y2hTdGFydDogc3RhcnQsXHJcbiAgICAgICAgb25Ub3VjaEVuZDogZmlyZSxcclxuICAgICAgICBvblRvdWNoTW92ZTogbW92ZSxcclxuICAgICAgICBvblRvdWNoQ2FuY2VsOiBkaXNjYXJkLFxyXG4gICAgICAgIG9uQ2xpY2s6IGhhbmRsZXIsXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTbGlkZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgc3RhdGljIGdldCBwcm9wVHlwZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZG9uZTogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgICAgICAgICAgIGRvbmVUZXh0OiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgICAgICAgICBzbGlkZVRleHQ6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICAgICAgICAgIG9uQWN0aXZhdGU6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogMCxcclxuICAgICAgICAgICAgdG91Y2g6IGZhbHNlLFxyXG4gICAgICAgICAgICBmaW5pc2hlZDogZmFsc2UsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnBpbiA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBjb21wb25lbnRXaWxsVXBkYXRlKG5leHRQcm9wcykge1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9wcy5kb25lICYmIG5leHRQcm9wcy5kb25lKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgZmluaXNoZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpc0ZyZWUoKSB7XHJcbiAgICAgICAgcmV0dXJuICF0aGlzLnN0YXRlLnRvdWNoICYmICF0aGlzLnByb3BzLmRvbmUgJiYgIXRoaXMuc3RhdGUuZmluaXNoZWQ7XHJcbiAgICB9XHJcbiAgICBnZXRPdXRlclRleHRPcGFjaXR5KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmZpbmlzaGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgdmFsdWUgPSBNYXRoLm1pbihNYXRoLm1heCgxMDAgLSB0aGlzLnN0YXRlLnBvc2l0aW9uLCAwKSwgMTAwKTtcclxuICAgICAgICByZXR1cm4gKHZhbHVlIC8gMTAwKS50b0ZpeGVkKDMpO1xyXG4gICAgfVxyXG4gICAgZ2V0RWxlbWVudE9mZnNldChlbGVtZW50KSB7XHJcbiAgICAgICAgbGV0IHJlcyA9IDA7XHJcbiAgICAgICAgd2hpbGUgKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmVzICs9IGVsZW1lbnQub2Zmc2V0TGVmdCB8fCAwO1xyXG4gICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG4gICAgZ2V0VG91Y2goZXZlbnQpIHtcclxuICAgICAgICBsZXQgdG91Y2ggPSBldmVudC50b3VjaGVzWzBdO1xyXG4gICAgICAgIGxldCBwYXJlbnQgPSBldmVudC50YXJnZXQucGFyZW50Tm9kZTtcclxuICAgICAgICByZXR1cm4gdG91Y2gucGFnZVggLSB0aGlzLmdldEVsZW1lbnRPZmZzZXQocGFyZW50KTtcclxuICAgIH1cclxuICAgIGdldFJlbGF0aXZlVG91Y2goZXZlbnQpIHtcclxuICAgICAgICBsZXQgdG91Y2ggPSBldmVudC50b3VjaGVzWzBdO1xyXG4gICAgICAgIGxldCBwYXJlbnQgPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgcmV0dXJuIHRvdWNoLnBhZ2VYIC0gdGhpcy5nZXRFbGVtZW50T2Zmc2V0KHBhcmVudCk7XHJcbiAgICB9XHJcbiAgICBnZXRTbGlkZXJQb3MoZXZlbnQpIHtcclxuICAgICAgICBsZXQgcG9zID0gdGhpcy5nZXRUb3VjaChldmVudCkgLSB0aGlzLnBpbjtcclxuICAgICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgocG9zLCAwKSwgMjAwKTtcclxuICAgIH1cclxuICAgIG9uQ2xpY2sgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5maW5pc2hlZCB8fCB0aGlzLnByb3BzLmRvbmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgcG9zaXNpb246IDIwMCxcclxuICAgICAgICAgICAgdG91Y2g6IGZhbHNlLFxyXG4gICAgICAgICAgICBmaW5pc2hlZDogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnByb3BzLm9uQWN0aXZhdGUoKTtcclxuICAgIH1cclxuICAgIG9uVG91Y2hTdGFydCA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZmluaXNoZWQgfHwgdGhpcy5wcm9wcy5kb25lKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5waW4gPSB0aGlzLmdldFJlbGF0aXZlVG91Y2goZXZlbnQpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5nZXRTbGlkZXJQb3MoZXZlbnQpLFxyXG4gICAgICAgICAgICB0b3VjaDogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIG9uVG91Y2hNb3ZlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5maW5pc2hlZCB8fCB0aGlzLnByb3BzLmRvbmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgcG9zaXRpb246IHRoaXMuZ2V0U2xpZGVyUG9zKGV2ZW50KSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIG9uVG91Y2hFbmQgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmZpbmlzaGVkIHx8IHRoaXMucHJvcHMuZG9uZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnBvc2l0aW9uID09PSAyMDApIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogMCxcclxuICAgICAgICAgICAgICAgIGZpbmlzaGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgdG91Y2g6IGZhbHNlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkFjdGl2YXRlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogMCxcclxuICAgICAgICAgICAgICAgIHRvdWNoOiBmYWxzZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInNsaWRlciBub3NlbGVjdFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17XCJpbm5lclwiICsgKHRoaXMuaXNGcmVlKCkgPyBcIiBmcmVlXCIgOiBcIlwiKX1cclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGxlZnQ6ICh0aGlzLnByb3BzLmRvbmUgfHwgdGhpcy5zdGF0ZS5maW5pc2hlZCkgPyBcIjIwMHB4XCIgOiB0aGlzLnN0YXRlLnBvc2l0aW9uICsgXCJweFwiIH19XHJcbiAgICAgICAgICAgICAgICBvblRvdWNoU3RhcnQ9eyB0aGlzLm9uVG91Y2hTdGFydCB9XHJcbiAgICAgICAgICAgICAgICBvblRvdWNoTW92ZT17IHRoaXMub25Ub3VjaE1vdmUgfVxyXG4gICAgICAgICAgICAgICAgb25Ub3VjaEVuZD17IHRoaXMub25Ub3VjaEVuZCB9XHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsgdGhpcy5vbkNsaWNrIH1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAg4oaSXHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICB7IHRoaXMucHJvcHMuZG9uZVxyXG4gICAgICAgICAgICAgICAgPyA8c3BhblxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiBcInJnYigxMDAsMTAwLDEwMClcIiB9fVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17IFwiZG9uZS10ZXh0XCIgfVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5kb25lVGV4dCB9XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA6IDxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6IFwicmdiYSgxMDAsMTAwLDEwMCxcIiArIHRoaXMuZ2V0T3V0ZXJUZXh0T3BhY2l0eSgpICsgXCIpXCIgfX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9eyBcInNsaWRlLXRleHRcIiArICh0aGlzLmlzRnJlZSgpID8gXCIgZnJlZVwiIDogXCJcIikgfVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5zbGlkZVRleHQgfVxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgVGFibGV0U2VsZWN0b3JJbnB1dCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzdHlsZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcclxuICAgICAgICAgICAgY2hvaWNlczogUmVhY3QuUHJvcFR5cGVzLmFycmF5LmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIHJvd1NpemU6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXHJcbiAgICAgICAgICAgIGFjdGl2ZTogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcclxuICAgICAgICAgICAgb25WYWx1ZVVwZGF0ZTogUmVhY3QuUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZ2V0QnV0dG9uc0NvdW50KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnN0eWxlID09PSBcImdyaWRcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5yb3dTaXplO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5jaG9pY2VzLmxlbmd0aDtcclxuICAgIH1cclxuICAgIG9uQ2xpY2sobikge1xyXG4gICAgICAgIHRoaXMucHJvcHMub25WYWx1ZVVwZGF0ZShuKTtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gW107XHJcbiAgICAgICAgdGhpcy5wcm9wcy5jaG9pY2VzLmZvckVhY2goKGVsLCBpZHgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGtleSA9IGVsWzBdO1xyXG4gICAgICAgICAgICBsZXQgdGV4dCA9IGVsWzFdO1xyXG4gICAgICAgICAgICBsZXQgYWN0aXZlX2NsYXNzX25hbWUgPSAodGhpcy5wcm9wcy52YWx1ZSA9PT0ga2V5KSA/IFwiIGFjdGl2ZVwiIDogXCJcIjtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goXHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXsga2V5IH1cclxuICAgICAgICAgICAgICAgICAgICB7Li4ub25Ub3VjaE9yQ2xpY2sodGhpcy5vbkNsaWNrLmJpbmQodGhpcywga2V5KSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXsgXCJ0YnRuIHNjb3JlLWJ0blwiICsgYWN0aXZlX2NsYXNzX25hbWUgfVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIHt0ZXh0fVxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+KTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuc3R5bGUgPT09IFwiZ3JpZFwiICYmIChpZHggKyAxKSAlIHRoaXMucHJvcHMucm93U2l6ZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goPGJyIGtleT17IFwiYnJcIiArIGlkeCB9IC8+KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGV0IGxheW91dF9jbGFzcyA9ICh0aGlzLnByb3BzLnN0eWxlICE9PSBcInR3by1saW5lc1wiKSA/IFwic2VsZWN0b3ItbGF5b3V0XCIgOiBcInNlbGVjdG9yLWxheW91dC0ycm93c1wiO1xyXG4gICAgICAgIGxldCBzZWxlY3RlZF9jbGFzcyA9IHRoaXMucHJvcHMudmFsdWUgPT09IG51bGwgPyBcIlwiIDogXCIgc2VsZWN0ZWRcIlxyXG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17XCJzY29yaW5nLWxheW91dCBcIiArIGxheW91dF9jbGFzcyArIHNlbGVjdGVkX2NsYXNzICsgXCIgbi1cIiArIHRoaXMuZ2V0QnV0dG9uc0NvdW50KCkudG9TdHJpbmcoKSB9PnsgcmVzdWx0IH08L2Rpdj5cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFRhYmxldEludGVnZXJTZWxlY3RJbnB1dCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBtaW46IFJlYWN0LlByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgbWF4OiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGNyZWF0ZUFycmF5KG1pbiwgbWF4KSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGlkeCA9IG1pbjsgaWR4IDw9IG1heDsgKytpZHgpIHtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goW2lkeCwgaWR4LnRvU3RyaW5nKCldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8VGFibGV0U2VsZWN0b3JJbnB1dFxyXG4gICAgICAgICAgICAgICAgY2hvaWNlcz17IHRoaXMuY3JlYXRlQXJyYXkodGhpcy5wcm9wcy5taW4sIHRoaXMucHJvcHMubWF4KSB9XHJcbiAgICAgICAgICAgICAgICB7IC4uLnRoaXMucHJvcHMgfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFRhYmxldFBvaW50NVNlbGVjdElucHV0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG1pbjogUmVhY3QuUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICBtYXg6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgY3JlYXRlQXJyYXkobWluLCBtYXgpIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gTWF0aC5yb3VuZCgyICogbWluKTsgaWR4IDw9IE1hdGgucm91bmQoMiAqIG1heCk7ICsraWR4KSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKFtpZHggLyAyLCAoaWR4ICUgMikgPyAoaWR4IC8gMikudG9GaXhlZCgxKSA6IE1hdGguZmxvb3IoaWR4IC8gMikudG9TdHJpbmcoKV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxUYWJsZXRTZWxlY3RvcklucHV0XHJcbiAgICAgICAgICAgICAgICBjaG9pY2VzPXsgdGhpcy5jcmVhdGVBcnJheSh0aGlzLnByb3BzLm1pbiwgdGhpcy5wcm9wcy5tYXgpIH1cclxuICAgICAgICAgICAgICAgIHsgLi4udGhpcy5wcm9wcyB9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVGFibGV0SW50ZWdlcklucHV0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHZhbHVlOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIG9uVmFsdWVVcGRhdGU6IFJlYWN0LlByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIHNlbmREZWx0YXM6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRQcm9wcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzZW5kRGVsdGFzOiBmYWxzZSxcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvbk1pbnVzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnNlbmREZWx0YXMpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5vblZhbHVlVXBkYXRlKHtcImRlbHRhXCI6IC0xfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5vblZhbHVlVXBkYXRlKHRoaXMucHJvcHMudmFsdWUgLSAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvblBsdXMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc2VuZERlbHRhcykge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uVmFsdWVVcGRhdGUoe1wiZGVsdGFcIjogMX0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25WYWx1ZVVwZGF0ZSh0aGlzLnByb3BzLnZhbHVlICsgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGFibGV0LWludGVnZXItaW5wdXRcIj5cclxuICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YnRuIGJ0bi1taW51c1wiXHJcbiAgICAgICAgICAgICAgICAgICAgey4uLm9uVG91Y2hPckNsaWNrKHRoaXMub25NaW51cy5iaW5kKHRoaXMpKX1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAmbWludXM7XHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidmFsdWVcIj5cclxuICAgICAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMudmFsdWUgfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGJ0biBidG4tcGx1c1wiXHJcbiAgICAgICAgICAgICAgICAgICAgey4uLm9uVG91Y2hPckNsaWNrKHRoaXMub25QbHVzLmJpbmQodGhpcykpfVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICtcclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBUYWJsZXRBY3JvT3ZlcnJpZGVJbnB1dCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB2YWx1ZTogUmVhY3QuUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICBvcmlnaW5hbF92YWx1ZTogUmVhY3QuUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICBzZW5kX2RlbHRhczogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXHJcbiAgICAgICAgICAgIG9uVmFsdWVVcGRhdGU6IFJlYWN0LlByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBnZXQgZGVmYXVsdFByb3BzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHNlbmRfZGVsdGFzOiBmYWxzZSxcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvbk1pbnVzID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnNlbmRfZGVsdGFzKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25WYWx1ZVVwZGF0ZSh7XCJkZWx0YVwiOiAtMC41fSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5vblZhbHVlVXBkYXRlKE1hdGgubWF4KHRoaXMucHJvcHMudmFsdWUgLSAwLjUsIDApKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvblBsdXMgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc2VuZF9kZWx0YXMpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5vblZhbHVlVXBkYXRlKHtcImRlbHRhXCI6IDAuNX0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25WYWx1ZVVwZGF0ZShNYXRoLm1pbih0aGlzLnByb3BzLnZhbHVlICsgMC41LCB0aGlzLnByb3BzLm9yaWdpbmFsX3ZhbHVlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25aZXJvID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMucHJvcHMub25WYWx1ZVVwZGF0ZSgwKTtcclxuICAgIH1cclxuICAgIG9uUmVzdG9yZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnByb3BzLm9uVmFsdWVVcGRhdGUodGhpcy5wcm9wcy5vcmlnaW5hbF92YWx1ZSk7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgbGV0IHZhbHVlX2NoYW5nZWQgPSBNYXRoLmFicyh0aGlzLnByb3BzLnZhbHVlIC0gdGhpcy5wcm9wcy5vcmlnaW5hbF92YWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0YWJsZXQtYWNyby1vdmVycmlkZS1pbnB1dFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXR0b25zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YnRuIGJ0bi16ZXJvXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyB0aGlzLnByb3BzLnZhbHVlIDwgMC4wNSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsuLi5vblRvdWNoT3JDbGljayh0aGlzLm9uWmVybyl9XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICDihpMwXHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YnRuIGJ0bi1yZXN0b3JlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyB2YWx1ZV9jaGFuZ2VkIDwgMC4wNSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsuLi5vblRvdWNoT3JDbGljayh0aGlzLm9uUmVzdG9yZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICDihpFcclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRidG4gYnRuLW1pbnVzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyB0aGlzLnByb3BzLnZhbHVlIDwgMC4wNSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsuLi5vblRvdWNoT3JDbGljayh0aGlzLm9uTWludXMpfVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJm1pbnVzO1xyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGJ0biBidG4tcGx1c1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXsgdGhpcy5wcm9wcy5vcmlnaW5hbF92YWx1ZSA8IHRoaXMucHJvcHMudmFsdWUgKyAwLjA1IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgey4uLm9uVG91Y2hPckNsaWNrKHRoaXMub25QbHVzKX1cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICtcclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ2YWx1ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHsgdmFsdWVfY2hhbmdlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGAke3RoaXMucHJvcHMub3JpZ2luYWxfdmFsdWUudG9GaXhlZCgxKX0g4oaSICR7dGhpcy5wcm9wcy52YWx1ZS50b0ZpeGVkKDEpfWBcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLnByb3BzLnZhbHVlLnRvRml4ZWQoMSkgfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxudmFyIHN0b3B3YXRjaGVzID0ge307XHJcblxyXG5leHBvcnQgY2xhc3MgU3RvcFdhdGNoIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHNjb3JlX2lkOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0gc3RvcHdhdGNoZXNbdGhpcy5wcm9wcy5zY29yZV9pZF0gfHwge1xyXG4gICAgICAgICAgICBhY3RpdmU6IGZhbHNlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICAgICAgc3RyX3ZhbHVlOiBcIjA6MDBcIixcclxuICAgICAgICAgICAgaW50ZXJ2YWw6IG51bGwsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5hY3RpdmUpIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5pbnRlcnZhbCA9IHNldEludGVydmFsKHRoaXMudGljay5iaW5kKHRoaXMpLCAxMCk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0L25vLWRpcmVjdC1tdXRhdGlvbi1zdGF0ZVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5zdGF0ZS5pbnRlcnZhbCk7XHJcbiAgICAgICAgc3RvcHdhdGNoZXNbdGhpcy5wcm9wcy5zY29yZV9pZF0gPSB0aGlzLnN0YXRlO1xyXG4gICAgfVxyXG4gICAgbm93KCkge1xyXG4gICAgICAgIHJldHVybiAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xyXG4gICAgfVxyXG4gICAgdG9nZ2xlKCkge1xyXG4gICAgICAgIHRoaXMuc3RhdGUuYWN0aXZlID8gdGhpcy5zdG9wKCkgOiB0aGlzLnN0YXJ0KCk7XHJcbiAgICB9XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgYWN0aXZlOiB0cnVlLFxyXG4gICAgICAgICAgICBzdGFydF9hdDogdGhpcy5ub3coKSAtIHRoaXMuc3RhdGUudmFsdWUsXHJcbiAgICAgICAgICAgIGludGVydmFsOiBzZXRJbnRlcnZhbCh0aGlzLnRpY2suYmluZCh0aGlzKSwgMTApLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgc3RvcCgpIHtcclxuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuc3RhdGUuaW50ZXJ2YWwpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBhY3RpdmU6IGZhbHNlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSgpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmVzZXQoKSB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnN0YXRlLmludGVydmFsKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgYWN0aXZlOiBmYWxzZSxcclxuICAgICAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB2YWx1ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5hY3RpdmVcclxuICAgICAgICAgICAgPyAodGhpcy5ub3coKSAtIHRoaXMuc3RhdGUuc3RhcnRfYXQpXHJcbiAgICAgICAgICAgIDogdGhpcy5zdGF0ZS52YWx1ZTtcclxuICAgIH1cclxuICAgIHRpY2soKSB7XHJcbiAgICAgICAgdmFyIG5ld192YWx1ZSA9IHRoaXMudmFsdWUoKTtcclxuICAgICAgICBpZiAobmV3X3ZhbHVlICE9PSB0aGlzLnN0YXRlLnZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUoKSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcGFkKG51bSwgc2l6ZSkge1xyXG4gICAgICAgIHZhciBzID0gXCIwMDAwXCIgKyBudW0udG9TdHJpbmcoKTtcclxuICAgICAgICByZXR1cm4gcy5zdWJzdHIocy5sZW5ndGggLSBzaXplKTtcclxuICAgIH1cclxuICAgIGdldFN0clZhbHVlKCkge1xyXG4gICAgICAgIHZhciB2YWwgPSB0aGlzLnZhbHVlKCk7XHJcbiAgICAgICAgdmFyIG0gPSAwLCBzID0gMDtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XHJcbiAgICAgICAgbSA9IE1hdGguZmxvb3IodmFsIC8gKDYwICogMTAwMCkpO1xyXG4gICAgICAgIHZhbCAlPSA2MCAqIDEwMDA7XHJcbiAgICAgICAgcyA9IE1hdGguZmxvb3IodmFsIC8gMTAwMCk7XHJcbiAgICAgICAgcmV0dXJuIG0udG9TdHJpbmcoKSArICc6JyArIHRoaXMucGFkKHMsIDIpO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3RvcHdhdGNoXCI+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGJ0biBidG4tcmVzZXQgaWdub3JlLXJlYWRvbmx5XCJcclxuICAgICAgICAgICAgICAgICAgICB7Li4ub25Ub3VjaE9yQ2xpY2sodGhpcy5yZXNldC5iaW5kKHRoaXMpKX1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICB7IF8oXCJ0YWJsZXQuYnV0dG9ucy5yZXNldF9zdG9wd2F0Y2hcIikgfVxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXsgXCJ0YnRuIGJ0bi10b2dnbGUgaWdub3JlLXJlYWRvbmx5XCIgKyAodGhpcy5zdGF0ZS5hY3RpdmUgPyBcIiBhY3RpdmVcIiA6IFwiXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICB7Li4ub25Ub3VjaE9yQ2xpY2sodGhpcy50b2dnbGUuYmluZCh0aGlzKSl9XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnN0YXRlLmFjdGl2ZSA/IF8oXCJ0YWJsZXQuYnV0dG9ucy5zdG9wX3N0b3B3YXRjaFwiKSA6IF8oXCJ0YWJsZXQuYnV0dG9ucy5zdGFydF9zdG9wd2F0Y2hcIikgfVxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRpbWVcIj5cclxuICAgICAgICAgICAgICAgICAgICB7IHRoaXMuZ2V0U3RyVmFsdWUoKSB9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcbiJdfQ==
