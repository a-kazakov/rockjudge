(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/*!
 * sweetalert2 v6.6.2
 * Released under the MIT License.
 */
(function (global, factory) {
	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
	typeof define === 'function' && define.amd ? define(factory) :
	(global.Sweetalert2 = factory());
}(this, (function () { 'use strict';

var defaultParams = {
  title: '',
  titleText: '',
  text: '',
  html: '',
  type: null,
  customClass: '',
  target: 'body',
  animation: true,
  allowOutsideClick: true,
  allowEscapeKey: true,
  allowEnterKey: true,
  showConfirmButton: true,
  showCancelButton: false,
  preConfirm: null,
  confirmButtonText: 'OK',
  confirmButtonColor: '#3085d6',
  confirmButtonClass: null,
  cancelButtonText: 'Cancel',
  cancelButtonColor: '#aaa',
  cancelButtonClass: null,
  buttonsStyling: true,
  reverseButtons: false,
  focusCancel: false,
  showCloseButton: false,
  showLoaderOnConfirm: false,
  imageUrl: null,
  imageWidth: null,
  imageHeight: null,
  imageClass: null,
  timer: null,
  width: 500,
  padding: 20,
  background: '#fff',
  input: null,
  inputPlaceholder: '',
  inputValue: '',
  inputOptions: {},
  inputAutoTrim: true,
  inputClass: null,
  inputAttributes: {},
  inputValidator: null,
  progressSteps: [],
  currentProgressStep: null,
  progressStepsDistance: '40px',
  onOpen: null,
  onClose: null
};

var swalPrefix = 'swal2-';

var prefix = function prefix(items) {
  var result = {};
  for (var i in items) {
    result[items[i]] = swalPrefix + items[i];
  }
  return result;
};

var swalClasses = prefix(['container', 'shown', 'iosfix', 'modal', 'overlay', 'fade', 'show', 'hide', 'noanimation', 'close', 'title', 'content', 'buttonswrapper', 'confirm', 'cancel', 'icon', 'image', 'input', 'file', 'range', 'select', 'radio', 'checkbox', 'textarea', 'inputerror', 'validationerror', 'progresssteps', 'activeprogressstep', 'progresscircle', 'progressline', 'loading', 'styled']);

var iconTypes = prefix(['success', 'warning', 'info', 'question', 'error']);

/*
 * Set hover, active and focus-states for buttons (source: http://www.sitepoint.com/javascript-generate-lighter-darker-color)
 */
var colorLuminance = function colorLuminance(hex, lum) {
  // Validate hex string
  hex = String(hex).replace(/[^0-9a-f]/gi, '');
  if (hex.length < 6) {
    hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];
  }
  lum = lum || 0;

  // Convert to decimal and change luminosity
  var rgb = '#';
  for (var i = 0; i < 3; i++) {
    var c = parseInt(hex.substr(i * 2, 2), 16);
    c = Math.round(Math.min(Math.max(0, c + c * lum), 255)).toString(16);
    rgb += ('00' + c).substr(c.length);
  }

  return rgb;
};

var uniqueArray = function uniqueArray(arr) {
  var result = [];
  for (var i in arr) {
    if (result.indexOf(arr[i]) === -1) {
      result.push(arr[i]);
    }
  }
  return result;
};

/* global MouseEvent */

// Remember state in cases where opening and handling a modal will fiddle with it.
var states = {
  previousWindowKeyDown: null,
  previousActiveElement: null,
  previousBodyPadding: null
};

/*
 * Add modal + overlay to DOM
 */
var init = function init(params) {
  if (typeof document === 'undefined') {
    console.error('SweetAlert2 requires document to initialize');
    return;
  }

  var container = document.createElement('div');
  container.className = swalClasses.container;
  container.innerHTML = sweetHTML;

  var targetElement = document.querySelector(params.target);
  if (!targetElement) {
    console.warn('SweetAlert2: Can\'t find the target "' + params.target + '"');
    targetElement = document.body;
  }
  targetElement.appendChild(container);

  var modal = getModal();
  var input = getChildByClass(modal, swalClasses.input);
  var file = getChildByClass(modal, swalClasses.file);
  var range = modal.querySelector('.' + swalClasses.range + ' input');
  var rangeOutput = modal.querySelector('.' + swalClasses.range + ' output');
  var select = getChildByClass(modal, swalClasses.select);
  var checkbox = modal.querySelector('.' + swalClasses.checkbox + ' input');
  var textarea = getChildByClass(modal, swalClasses.textarea);

  input.oninput = function () {
    sweetAlert.resetValidationError();
  };

  input.onkeydown = function (event) {
    setTimeout(function () {
      if (event.keyCode === 13 && params.allowEnterKey) {
        event.stopPropagation();
        sweetAlert.clickConfirm();
      }
    }, 0);
  };

  file.onchange = function () {
    sweetAlert.resetValidationError();
  };

  range.oninput = function () {
    sweetAlert.resetValidationError();
    rangeOutput.value = range.value;
  };

  range.onchange = function () {
    sweetAlert.resetValidationError();
    range.previousSibling.value = range.value;
  };

  select.onchange = function () {
    sweetAlert.resetValidationError();
  };

  checkbox.onchange = function () {
    sweetAlert.resetValidationError();
  };

  textarea.oninput = function () {
    sweetAlert.resetValidationError();
  };

  return modal;
};

/*
 * Manipulate DOM
 */

var sweetHTML = ('\n <div role="dialog" aria-labelledby="' + swalClasses.title + '" aria-describedby="' + swalClasses.content + '" class="' + swalClasses.modal + '" tabindex="-1">\n   <ul class="' + swalClasses.progresssteps + '"></ul>\n   <div class="' + swalClasses.icon + ' ' + iconTypes.error + '">\n     <span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span>\n   </div>\n   <div class="' + swalClasses.icon + ' ' + iconTypes.question + '">?</div>\n   <div class="' + swalClasses.icon + ' ' + iconTypes.warning + '">!</div>\n   <div class="' + swalClasses.icon + ' ' + iconTypes.info + '">i</div>\n   <div class="' + swalClasses.icon + ' ' + iconTypes.success + '">\n     <div class="swal2-success-circular-line-left"></div>\n     <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n     <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n     <div class="swal2-success-circular-line-right"></div>\n   </div>\n   <img class="' + swalClasses.image + '">\n   <h2 class="' + swalClasses.title + '" id="' + swalClasses.title + '"></h2>\n   <div id="' + swalClasses.content + '" class="' + swalClasses.content + '"></div>\n   <input class="' + swalClasses.input + '">\n   <input type="file" class="' + swalClasses.file + '">\n   <div class="' + swalClasses.range + '">\n     <output></output>\n     <input type="range">\n   </div>\n   <select class="' + swalClasses.select + '"></select>\n   <div class="' + swalClasses.radio + '"></div>\n   <label for="' + swalClasses.checkbox + '" class="' + swalClasses.checkbox + '">\n     <input type="checkbox">\n   </label>\n   <textarea class="' + swalClasses.textarea + '"></textarea>\n   <div class="' + swalClasses.validationerror + '"></div>\n   <div class="' + swalClasses.buttonswrapper + '">\n     <button type="button" class="' + swalClasses.confirm + '">OK</button>\n     <button type="button" class="' + swalClasses.cancel + '">Cancel</button>\n   </div>\n   <button type="button" class="' + swalClasses.close + '" aria-label="Close this dialog">&times;</button>\n </div>\n').replace(/(^|\n)\s*/g, '');

var getContainer = function getContainer() {
  return document.body.querySelector('.' + swalClasses.container);
};

var getModal = function getModal() {
  return getContainer() ? getContainer().querySelector('.' + swalClasses.modal) : null;
};

var getIcons = function getIcons() {
  var modal = getModal();
  return modal.querySelectorAll('.' + swalClasses.icon);
};

var elementByClass = function elementByClass(className) {
  return getContainer() ? getContainer().querySelector('.' + className) : null;
};

var getTitle = function getTitle() {
  return elementByClass(swalClasses.title);
};

var getContent = function getContent() {
  return elementByClass(swalClasses.content);
};

var getImage = function getImage() {
  return elementByClass(swalClasses.image);
};

var getButtonsWrapper = function getButtonsWrapper() {
  return elementByClass(swalClasses.buttonswrapper);
};

var getProgressSteps = function getProgressSteps() {
  return elementByClass(swalClasses.progresssteps);
};

var getValidationError = function getValidationError() {
  return elementByClass(swalClasses.validationerror);
};

var getConfirmButton = function getConfirmButton() {
  return elementByClass(swalClasses.confirm);
};

var getCancelButton = function getCancelButton() {
  return elementByClass(swalClasses.cancel);
};

var getCloseButton = function getCloseButton() {
  return elementByClass(swalClasses.close);
};

var getFocusableElements = function getFocusableElements(focusCancel) {
  var buttons = [getConfirmButton(), getCancelButton()];
  if (focusCancel) {
    buttons.reverse();
  }
  var focusableElements = buttons.concat(Array.prototype.slice.call(getModal().querySelectorAll('button, input:not([type=hidden]), textarea, select, a, *[tabindex]:not([tabindex="-1"])')));
  return uniqueArray(focusableElements);
};

var hasClass = function hasClass(elem, className) {
  if (elem.classList) {
    return elem.classList.contains(className);
  }
  return false;
};

var focusInput = function focusInput(input) {
  input.focus();

  // place cursor at end of text in text input
  if (input.type !== 'file') {
    // http://stackoverflow.com/a/2345915/1331425
    var val = input.value;
    input.value = '';
    input.value = val;
  }
};

var addClass = function addClass(elem, className) {
  if (!elem || !className) {
    return;
  }
  var classes = className.split(/\s+/).filter(Boolean);
  classes.forEach(function (className) {
    elem.classList.add(className);
  });
};

var removeClass = function removeClass(elem, className) {
  if (!elem || !className) {
    return;
  }
  var classes = className.split(/\s+/).filter(Boolean);
  classes.forEach(function (className) {
    elem.classList.remove(className);
  });
};

var getChildByClass = function getChildByClass(elem, className) {
  for (var i = 0; i < elem.childNodes.length; i++) {
    if (hasClass(elem.childNodes[i], className)) {
      return elem.childNodes[i];
    }
  }
};

var show = function show(elem, display) {
  if (!display) {
    display = 'block';
  }
  elem.style.opacity = '';
  elem.style.display = display;
};

var hide = function hide(elem) {
  elem.style.opacity = '';
  elem.style.display = 'none';
};

var empty = function empty(elem) {
  while (elem.firstChild) {
    elem.removeChild(elem.firstChild);
  }
};

// borrowed from jqeury $(elem).is(':visible') implementation
var isVisible = function isVisible(elem) {
  return elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length;
};

var removeStyleProperty = function removeStyleProperty(elem, property) {
  if (elem.style.removeProperty) {
    elem.style.removeProperty(property);
  } else {
    elem.style.removeAttribute(property);
  }
};

var fireClick = function fireClick(node) {
  if (!isVisible(node)) {
    return false;
  }

  // Taken from http://www.nonobtrusive.com/2011/11/29/programatically-fire-crossbrowser-click-event-with-javascript/
  // Then fixed for today's Chrome browser.
  if (typeof MouseEvent === 'function') {
    // Up-to-date approach
    var mevt = new MouseEvent('click', {
      view: window,
      bubbles: false,
      cancelable: true
    });
    node.dispatchEvent(mevt);
  } else if (document.createEvent) {
    // Fallback
    var evt = document.createEvent('MouseEvents');
    evt.initEvent('click', false, false);
    node.dispatchEvent(evt);
  } else if (document.createEventObject) {
    node.fireEvent('onclick');
  } else if (typeof node.onclick === 'function') {
    node.onclick();
  }
};

var animationEndEvent = function () {
  var testEl = document.createElement('div');
  var transEndEventNames = {
    'WebkitAnimation': 'webkitAnimationEnd',
    'OAnimation': 'oAnimationEnd oanimationend',
    'msAnimation': 'MSAnimationEnd',
    'animation': 'animationend'
  };
  for (var i in transEndEventNames) {
    if (transEndEventNames.hasOwnProperty(i) && testEl.style[i] !== undefined) {
      return transEndEventNames[i];
    }
  }

  return false;
}();

// Reset previous window keydown handler and focued element
var resetPrevState = function resetPrevState() {
  window.onkeydown = states.previousWindowKeyDown;
  if (states.previousActiveElement && states.previousActiveElement.focus) {
    var x = window.scrollX;
    var y = window.scrollY;
    states.previousActiveElement.focus();
    if (x && y) {
      // IE has no scrollX/scrollY support
      window.scrollTo(x, y);
    }
  }
};

// Measure width of scrollbar
// https://github.com/twbs/bootstrap/blob/master/js/modal.js#L279-L286
var measureScrollbar = function measureScrollbar() {
  var supportsTouch = 'ontouchstart' in window || navigator.msMaxTouchPoints;
  if (supportsTouch) {
    return 0;
  }
  var scrollDiv = document.createElement('div');
  scrollDiv.style.width = '50px';
  scrollDiv.style.height = '50px';
  scrollDiv.style.overflow = 'scroll';
  document.body.appendChild(scrollDiv);
  var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;
  document.body.removeChild(scrollDiv);
  return scrollbarWidth;
};

// JavaScript Debounce Function
// Simplivied version of https://davidwalsh.name/javascript-debounce-function
var debounce = function debounce(func, wait) {
  var timeout = void 0;
  return function () {
    var later = function later() {
      timeout = null;
      func();
    };
    clearTimeout(timeout);
    timeout = setTimeout(later, wait);
  };
};

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
  return typeof obj;
} : function (obj) {
  return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
};





















var _extends = Object.assign || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];

    for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }

  return target;
};

var modalParams = _extends({}, defaultParams);
var queue = [];
var swal2Observer = void 0;

/*
 * Set type, text and actions on modal
 */
var setParameters = function setParameters(params) {
  var modal = getModal() || init(params);

  for (var param in params) {
    if (!defaultParams.hasOwnProperty(param) && param !== 'extraParams') {
      console.warn('SweetAlert2: Unknown parameter "' + param + '"');
    }
  }

  // Set modal width
  modal.style.width = typeof params.width === 'number' ? params.width + 'px' : params.width;

  modal.style.padding = params.padding + 'px';
  modal.style.background = params.background;
  var successIconParts = modal.querySelectorAll('[class^=swal2-success-circular-line], .swal2-success-fix');
  for (var i = 0; i < successIconParts.length; i++) {
    successIconParts[i].style.background = params.background;
  }

  var title = getTitle();
  var content = getContent();
  var buttonsWrapper = getButtonsWrapper();
  var confirmButton = getConfirmButton();
  var cancelButton = getCancelButton();
  var closeButton = getCloseButton();

  // Title
  if (params.titleText) {
    title.innerText = params.titleText;
  } else {
    title.innerHTML = params.title.split('\n').join('<br>');
  }

  // Content
  if (params.text || params.html) {
    if (_typeof(params.html) === 'object') {
      content.innerHTML = '';
      if (0 in params.html) {
        for (var _i = 0; _i in params.html; _i++) {
          content.appendChild(params.html[_i].cloneNode(true));
        }
      } else {
        content.appendChild(params.html.cloneNode(true));
      }
    } else if (params.html) {
      content.innerHTML = params.html;
    } else if (params.text) {
      content.textContent = params.text;
    }
    show(content);
  } else {
    hide(content);
  }

  // Close button
  if (params.showCloseButton) {
    show(closeButton);
  } else {
    hide(closeButton);
  }

  // Custom Class
  modal.className = swalClasses.modal;
  if (params.customClass) {
    addClass(modal, params.customClass);
  }

  // Progress steps
  var progressStepsContainer = getProgressSteps();
  var currentProgressStep = parseInt(params.currentProgressStep === null ? sweetAlert.getQueueStep() : params.currentProgressStep, 10);
  if (params.progressSteps.length) {
    show(progressStepsContainer);
    empty(progressStepsContainer);
    if (currentProgressStep >= params.progressSteps.length) {
      console.warn('SweetAlert2: Invalid currentProgressStep parameter, it should be less than progressSteps.length ' + '(currentProgressStep like JS arrays starts from 0)');
    }
    params.progressSteps.forEach(function (step, index) {
      var circle = document.createElement('li');
      addClass(circle, swalClasses.progresscircle);
      circle.innerHTML = step;
      if (index === currentProgressStep) {
        addClass(circle, swalClasses.activeprogressstep);
      }
      progressStepsContainer.appendChild(circle);
      if (index !== params.progressSteps.length - 1) {
        var line = document.createElement('li');
        addClass(line, swalClasses.progressline);
        line.style.width = params.progressStepsDistance;
        progressStepsContainer.appendChild(line);
      }
    });
  } else {
    hide(progressStepsContainer);
  }

  // Icon
  var icons = getIcons();
  for (var _i2 = 0; _i2 < icons.length; _i2++) {
    hide(icons[_i2]);
  }
  if (params.type) {
    var validType = false;
    for (var iconType in iconTypes) {
      if (params.type === iconType) {
        validType = true;
        break;
      }
    }
    if (!validType) {
      console.error('SweetAlert2: Unknown alert type: ' + params.type);
      return false;
    }
    var icon = modal.querySelector('.' + swalClasses.icon + '.' + iconTypes[params.type]);
    show(icon);

    // Animate icon
    if (params.animation) {
      switch (params.type) {
        case 'success':
          addClass(icon, 'swal2-animate-success-icon');
          addClass(icon.querySelector('.swal2-success-line-tip'), 'swal2-animate-success-line-tip');
          addClass(icon.querySelector('.swal2-success-line-long'), 'swal2-animate-success-line-long');
          break;
        case 'error':
          addClass(icon, 'swal2-animate-error-icon');
          addClass(icon.querySelector('.swal2-x-mark'), 'swal2-animate-x-mark');
          break;
        default:
          break;
      }
    }
  }

  // Custom image
  var image = getImage();
  if (params.imageUrl) {
    image.setAttribute('src', params.imageUrl);
    show(image);

    if (params.imageWidth) {
      image.setAttribute('width', params.imageWidth);
    } else {
      image.removeAttribute('width');
    }

    if (params.imageHeight) {
      image.setAttribute('height', params.imageHeight);
    } else {
      image.removeAttribute('height');
    }

    image.className = swalClasses.image;
    if (params.imageClass) {
      addClass(image, params.imageClass);
    }
  } else {
    hide(image);
  }

  // Cancel button
  if (params.showCancelButton) {
    cancelButton.style.display = 'inline-block';
  } else {
    hide(cancelButton);
  }

  // Confirm button
  if (params.showConfirmButton) {
    removeStyleProperty(confirmButton, 'display');
  } else {
    hide(confirmButton);
  }

  // Buttons wrapper
  if (!params.showConfirmButton && !params.showCancelButton) {
    hide(buttonsWrapper);
  } else {
    show(buttonsWrapper);
  }

  // Edit text on cancel and confirm buttons
  confirmButton.innerHTML = params.confirmButtonText;
  cancelButton.innerHTML = params.cancelButtonText;

  // Set buttons to selected background colors
  if (params.buttonsStyling) {
    confirmButton.style.backgroundColor = params.confirmButtonColor;
    cancelButton.style.backgroundColor = params.cancelButtonColor;
  }

  // Add buttons custom classes
  confirmButton.className = swalClasses.confirm;
  addClass(confirmButton, params.confirmButtonClass);
  cancelButton.className = swalClasses.cancel;
  addClass(cancelButton, params.cancelButtonClass);

  // Buttons styling
  if (params.buttonsStyling) {
    addClass(confirmButton, swalClasses.styled);
    addClass(cancelButton, swalClasses.styled);
  } else {
    removeClass(confirmButton, swalClasses.styled);
    removeClass(cancelButton, swalClasses.styled);

    confirmButton.style.backgroundColor = confirmButton.style.borderLeftColor = confirmButton.style.borderRightColor = '';
    cancelButton.style.backgroundColor = cancelButton.style.borderLeftColor = cancelButton.style.borderRightColor = '';
  }

  // CSS animation
  if (params.animation === true) {
    removeClass(modal, swalClasses.noanimation);
  } else {
    addClass(modal, swalClasses.noanimation);
  }
};

/*
 * Animations
 */
var openModal = function openModal(animation, onComplete) {
  var container = getContainer();
  var modal = getModal();

  if (animation) {
    addClass(modal, swalClasses.show);
    addClass(container, swalClasses.fade);
    removeClass(modal, swalClasses.hide);
  } else {
    removeClass(modal, swalClasses.fade);
  }
  show(modal);

  // scrolling is 'hidden' until animation is done, after that 'auto'
  container.style.overflowY = 'hidden';
  if (animationEndEvent && !hasClass(modal, swalClasses.noanimation)) {
    modal.addEventListener(animationEndEvent, function swalCloseEventFinished() {
      modal.removeEventListener(animationEndEvent, swalCloseEventFinished);
      container.style.overflowY = 'auto';
    });
  } else {
    container.style.overflowY = 'auto';
  }

  addClass(document.documentElement, swalClasses.shown);
  addClass(document.body, swalClasses.shown);
  addClass(container, swalClasses.shown);
  fixScrollbar();
  iOSfix();
  states.previousActiveElement = document.activeElement;
  if (onComplete !== null && typeof onComplete === 'function') {
    setTimeout(function () {
      onComplete(modal);
    });
  }
};

var fixScrollbar = function fixScrollbar() {
  // for queues, do not do this more than once
  if (states.previousBodyPadding !== null) {
    return;
  }
  // if the body has overflow
  if (document.body.scrollHeight > window.innerHeight) {
    // add padding so the content doesn't shift after removal of scrollbar
    states.previousBodyPadding = document.body.style.paddingRight;
    document.body.style.paddingRight = measureScrollbar() + 'px';
  }
};

var undoScrollbar = function undoScrollbar() {
  if (states.previousBodyPadding !== null) {
    document.body.style.paddingRight = states.previousBodyPadding;
    states.previousBodyPadding = null;
  }
};

// Fix iOS scrolling http://stackoverflow.com/q/39626302/1331425
var iOSfix = function iOSfix() {
  var iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
  if (iOS && !hasClass(document.body, swalClasses.iosfix)) {
    var offset = document.body.scrollTop;
    document.body.style.top = offset * -1 + 'px';
    addClass(document.body, swalClasses.iosfix);
  }
};

var undoIOSfix = function undoIOSfix() {
  if (hasClass(document.body, swalClasses.iosfix)) {
    var offset = parseInt(document.body.style.top, 10);
    removeClass(document.body, swalClasses.iosfix);
    document.body.style.top = '';
    document.body.scrollTop = offset * -1;
  }
};

// SweetAlert entry point
var sweetAlert = function sweetAlert() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  if (args[0] === undefined) {
    console.error('SweetAlert2 expects at least 1 attribute!');
    return false;
  }

  var params = _extends({}, modalParams);

  switch (_typeof(args[0])) {
    case 'string':
      params.title = args[0];
      params.html = args[1];
      params.type = args[2];

      break;

    case 'object':
      _extends(params, args[0]);
      params.extraParams = args[0].extraParams;

      if (params.input === 'email' && params.inputValidator === null) {
        params.inputValidator = function (email) {
          return new Promise(function (resolve, reject) {
            var emailRegex = /^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
            if (emailRegex.test(email)) {
              resolve();
            } else {
              reject('Invalid email address');
            }
          });
        };
      }

      if (params.input === 'url' && params.inputValidator === null) {
        params.inputValidator = function (url) {
          return new Promise(function (resolve, reject) {
            var urlRegex = /^(https?:\/\/)?([\da-z.-]+)\.([a-z.]{2,6})([/\w .-]*)*\/?$/;
            if (urlRegex.test(url)) {
              resolve();
            } else {
              reject('Invalid URL');
            }
          });
        };
      }
      break;

    default:
      console.error('SweetAlert2: Unexpected type of argument! Expected "string" or "object", got ' + _typeof(args[0]));
      return false;
  }

  setParameters(params);

  var container = getContainer();
  var modal = getModal();

  return new Promise(function (resolve, reject) {
    // Close on timer
    if (params.timer) {
      modal.timeout = setTimeout(function () {
        sweetAlert.closeModal(params.onClose);
        reject('timer');
      }, params.timer);
    }

    // Get input element by specified type or, if type isn't specified, by params.input
    var getInput = function getInput(inputType) {
      inputType = inputType || params.input;
      if (!inputType) {
        return null;
      }
      switch (inputType) {
        case 'select':
        case 'textarea':
        case 'file':
          return getChildByClass(modal, swalClasses[inputType]);
        case 'checkbox':
          return modal.querySelector('.' + swalClasses.checkbox + ' input');
        case 'radio':
          return modal.querySelector('.' + swalClasses.radio + ' input:checked') || modal.querySelector('.' + swalClasses.radio + ' input:first-child');
        case 'range':
          return modal.querySelector('.' + swalClasses.range + ' input');
        default:
          return getChildByClass(modal, swalClasses.input);
      }
    };

    // Get the value of the modal input
    var getInputValue = function getInputValue() {
      var input = getInput();
      if (!input) {
        return null;
      }
      switch (params.input) {
        case 'checkbox':
          return input.checked ? 1 : 0;
        case 'radio':
          return input.checked ? input.value : null;
        case 'file':
          return input.files.length ? input.files[0] : null;
        default:
          return params.inputAutoTrim ? input.value.trim() : input.value;
      }
    };

    // input autofocus
    if (params.input) {
      setTimeout(function () {
        var input = getInput();
        if (input) {
          focusInput(input);
        }
      }, 0);
    }

    var confirm = function confirm(value) {
      if (params.showLoaderOnConfirm) {
        sweetAlert.showLoading();
      }

      if (params.preConfirm) {
        params.preConfirm(value, params.extraParams).then(function (preConfirmValue) {
          sweetAlert.closeModal(params.onClose);
          resolve(preConfirmValue || value);
        }, function (error) {
          sweetAlert.hideLoading();
          if (error) {
            sweetAlert.showValidationError(error);
          }
        });
      } else {
        sweetAlert.closeModal(params.onClose);
        resolve(value);
      }
    };

    // Mouse interactions
    var onButtonEvent = function onButtonEvent(event) {
      var e = event || window.event;
      var target = e.target || e.srcElement;
      var confirmButton = getConfirmButton();
      var cancelButton = getCancelButton();
      var targetedConfirm = confirmButton && (confirmButton === target || confirmButton.contains(target));
      var targetedCancel = cancelButton && (cancelButton === target || cancelButton.contains(target));

      switch (e.type) {
        case 'mouseover':
        case 'mouseup':
          if (params.buttonsStyling) {
            if (targetedConfirm) {
              confirmButton.style.backgroundColor = colorLuminance(params.confirmButtonColor, -0.1);
            } else if (targetedCancel) {
              cancelButton.style.backgroundColor = colorLuminance(params.cancelButtonColor, -0.1);
            }
          }
          break;
        case 'mouseout':
          if (params.buttonsStyling) {
            if (targetedConfirm) {
              confirmButton.style.backgroundColor = params.confirmButtonColor;
            } else if (targetedCancel) {
              cancelButton.style.backgroundColor = params.cancelButtonColor;
            }
          }
          break;
        case 'mousedown':
          if (params.buttonsStyling) {
            if (targetedConfirm) {
              confirmButton.style.backgroundColor = colorLuminance(params.confirmButtonColor, -0.2);
            } else if (targetedCancel) {
              cancelButton.style.backgroundColor = colorLuminance(params.cancelButtonColor, -0.2);
            }
          }
          break;
        case 'click':
          // Clicked 'confirm'
          if (targetedConfirm && sweetAlert.isVisible()) {
            sweetAlert.disableButtons();
            if (params.input) {
              var inputValue = getInputValue();

              if (params.inputValidator) {
                sweetAlert.disableInput();
                params.inputValidator(inputValue, params.extraParams).then(function () {
                  sweetAlert.enableButtons();
                  sweetAlert.enableInput();
                  confirm(inputValue);
                }, function (error) {
                  sweetAlert.enableButtons();
                  sweetAlert.enableInput();
                  if (error) {
                    sweetAlert.showValidationError(error);
                  }
                });
              } else {
                confirm(inputValue);
              }
            } else {
              confirm(true);
            }

            // Clicked 'cancel'
          } else if (targetedCancel && sweetAlert.isVisible()) {
            sweetAlert.disableButtons();
            sweetAlert.closeModal(params.onClose);
            reject('cancel');
          }
          break;
        default:
      }
    };

    var buttons = modal.querySelectorAll('button');
    for (var i = 0; i < buttons.length; i++) {
      buttons[i].onclick = onButtonEvent;
      buttons[i].onmouseover = onButtonEvent;
      buttons[i].onmouseout = onButtonEvent;
      buttons[i].onmousedown = onButtonEvent;
    }

    // Closing modal by close button
    getCloseButton().onclick = function () {
      sweetAlert.closeModal(params.onClose);
      reject('close');
    };

    // Closing modal by overlay click
    container.onclick = function (e) {
      if (e.target !== container) {
        return;
      }
      if (params.allowOutsideClick) {
        sweetAlert.closeModal(params.onClose);
        reject('overlay');
      }
    };

    var buttonsWrapper = getButtonsWrapper();
    var confirmButton = getConfirmButton();
    var cancelButton = getCancelButton();

    // Reverse buttons (Confirm on the right side)
    if (params.reverseButtons) {
      confirmButton.parentNode.insertBefore(cancelButton, confirmButton);
    } else {
      confirmButton.parentNode.insertBefore(confirmButton, cancelButton);
    }

    // Focus handling
    var setFocus = function setFocus(index, increment) {
      var focusableElements = getFocusableElements(params.focusCancel);
      // search for visible elements and select the next possible match
      for (var _i3 = 0; _i3 < focusableElements.length; _i3++) {
        index = index + increment;

        // rollover to first item
        if (index === focusableElements.length) {
          index = 0;

          // go to last item
        } else if (index === -1) {
          index = focusableElements.length - 1;
        }

        // determine if element is visible
        var el = focusableElements[index];
        if (isVisible(el)) {
          return el.focus();
        }
      }
    };

    var handleKeyDown = function handleKeyDown(event) {
      var e = event || window.event;
      var keyCode = e.keyCode || e.which;

      if ([9, 13, 32, 27, 37, 38, 39, 40].indexOf(keyCode) === -1) {
        // Don't do work on keys we don't care about.
        return;
      }

      var targetElement = e.target || e.srcElement;

      var focusableElements = getFocusableElements(params.focusCancel);
      var btnIndex = -1; // Find the button - note, this is a nodelist, not an array.
      for (var _i4 = 0; _i4 < focusableElements.length; _i4++) {
        if (targetElement === focusableElements[_i4]) {
          btnIndex = _i4;
          break;
        }
      }

      // TAB
      if (keyCode === 9) {
        if (!e.shiftKey) {
          // Cycle to the next button
          setFocus(btnIndex, 1);
        } else {
          // Cycle to the prev button
          setFocus(btnIndex, -1);
        }
        e.stopPropagation();
        e.preventDefault();

        // ARROWS - switch focus between buttons
      } else if (keyCode === 37 || keyCode === 38 || keyCode === 39 || keyCode === 40) {
        // focus Cancel button if Confirm button is currently focused
        if (document.activeElement === confirmButton && isVisible(cancelButton)) {
          cancelButton.focus();
          // and vice versa
        } else if (document.activeElement === cancelButton && isVisible(confirmButton)) {
          confirmButton.focus();
        }

        // ENTER/SPACE
      } else if (keyCode === 13 || keyCode === 32) {
        if (btnIndex === -1 && params.allowEnterKey) {
          // ENTER/SPACE clicked outside of a button.
          if (params.focusCancel) {
            fireClick(cancelButton, e);
          } else {
            fireClick(confirmButton, e);
          }
          e.stopPropagation();
          e.preventDefault();
        }

        // ESC
      } else if (keyCode === 27 && params.allowEscapeKey === true) {
        sweetAlert.closeModal(params.onClose);
        reject('esc');
      }
    };

    states.previousWindowKeyDown = window.onkeydown;
    window.onkeydown = handleKeyDown;

    // Loading state
    if (params.buttonsStyling) {
      confirmButton.style.borderLeftColor = params.confirmButtonColor;
      confirmButton.style.borderRightColor = params.confirmButtonColor;
    }

    /**
     * Show spinner instead of Confirm button and disable Cancel button
     */
    sweetAlert.showLoading = sweetAlert.enableLoading = function () {
      show(buttonsWrapper);
      show(confirmButton, 'inline-block');
      addClass(buttonsWrapper, swalClasses.loading);
      addClass(modal, swalClasses.loading);
      confirmButton.disabled = true;
      cancelButton.disabled = true;
    };

    /**
     * Show spinner instead of Confirm button and disable Cancel button
     */
    sweetAlert.hideLoading = sweetAlert.disableLoading = function () {
      if (!params.showConfirmButton) {
        hide(confirmButton);
        if (!params.showCancelButton) {
          hide(getButtonsWrapper());
        }
      }
      removeClass(buttonsWrapper, swalClasses.loading);
      removeClass(modal, swalClasses.loading);
      confirmButton.disabled = false;
      cancelButton.disabled = false;
    };

    sweetAlert.getTitle = function () {
      return getTitle();
    };
    sweetAlert.getContent = function () {
      return getContent();
    };
    sweetAlert.getInput = function () {
      return getInput();
    };
    sweetAlert.getImage = function () {
      return getImage();
    };
    sweetAlert.getButtonsWrapper = function () {
      return getButtonsWrapper();
    };
    sweetAlert.getConfirmButton = function () {
      return getConfirmButton();
    };
    sweetAlert.getCancelButton = function () {
      return getCancelButton();
    };

    sweetAlert.enableButtons = function () {
      confirmButton.disabled = false;
      cancelButton.disabled = false;
    };

    sweetAlert.disableButtons = function () {
      confirmButton.disabled = true;
      cancelButton.disabled = true;
    };

    sweetAlert.enableConfirmButton = function () {
      confirmButton.disabled = false;
    };

    sweetAlert.disableConfirmButton = function () {
      confirmButton.disabled = true;
    };

    sweetAlert.enableInput = function () {
      var input = getInput();
      if (!input) {
        return false;
      }
      if (input.type === 'radio') {
        var radiosContainer = input.parentNode.parentNode;
        var radios = radiosContainer.querySelectorAll('input');
        for (var _i5 = 0; _i5 < radios.length; _i5++) {
          radios[_i5].disabled = false;
        }
      } else {
        input.disabled = false;
      }
    };

    sweetAlert.disableInput = function () {
      var input = getInput();
      if (!input) {
        return false;
      }
      if (input && input.type === 'radio') {
        var radiosContainer = input.parentNode.parentNode;
        var radios = radiosContainer.querySelectorAll('input');
        for (var _i6 = 0; _i6 < radios.length; _i6++) {
          radios[_i6].disabled = true;
        }
      } else {
        input.disabled = true;
      }
    };

    // Set modal min-height to disable scrolling inside the modal
    sweetAlert.recalculateHeight = debounce(function () {
      var modal = getModal();
      if (!modal) {
        return;
      }
      var prevState = modal.style.display;
      modal.style.minHeight = '';
      show(modal);
      modal.style.minHeight = modal.scrollHeight + 1 + 'px';
      modal.style.display = prevState;
    }, 50);

    // Show block with validation error
    sweetAlert.showValidationError = function (error) {
      var validationError = getValidationError();
      validationError.innerHTML = error;
      show(validationError);

      var input = getInput();
      if (input) {
        focusInput(input);
        addClass(input, swalClasses.inputerror);
      }
    };

    // Hide block with validation error
    sweetAlert.resetValidationError = function () {
      var validationError = getValidationError();
      hide(validationError);
      sweetAlert.recalculateHeight();

      var input = getInput();
      if (input) {
        removeClass(input, swalClasses.inputerror);
      }
    };

    sweetAlert.getProgressSteps = function () {
      return params.progressSteps;
    };

    sweetAlert.setProgressSteps = function (progressSteps) {
      params.progressSteps = progressSteps;
      setParameters(params);
    };

    sweetAlert.showProgressSteps = function () {
      show(getProgressSteps());
    };

    sweetAlert.hideProgressSteps = function () {
      hide(getProgressSteps());
    };

    sweetAlert.enableButtons();
    sweetAlert.hideLoading();
    sweetAlert.resetValidationError();

    // inputs
    var inputTypes = ['input', 'file', 'range', 'select', 'radio', 'checkbox', 'textarea'];
    var input = void 0;
    for (var _i7 = 0; _i7 < inputTypes.length; _i7++) {
      var inputClass = swalClasses[inputTypes[_i7]];
      var inputContainer = getChildByClass(modal, inputClass);
      input = getInput(inputTypes[_i7]);

      // set attributes
      if (input) {
        for (var j in input.attributes) {
          if (input.attributes.hasOwnProperty(j)) {
            var attrName = input.attributes[j].name;
            if (attrName !== 'type' && attrName !== 'value') {
              input.removeAttribute(attrName);
            }
          }
        }
        for (var attr in params.inputAttributes) {
          input.setAttribute(attr, params.inputAttributes[attr]);
        }
      }

      // set class
      inputContainer.className = inputClass;
      if (params.inputClass) {
        addClass(inputContainer, params.inputClass);
      }

      hide(inputContainer);
    }

    var populateInputOptions = void 0;
    switch (params.input) {
      case 'text':
      case 'email':
      case 'password':
      case 'number':
      case 'tel':
      case 'url':
        input = getChildByClass(modal, swalClasses.input);
        input.value = params.inputValue;
        input.placeholder = params.inputPlaceholder;
        input.type = params.input;
        show(input);
        break;
      case 'file':
        input = getChildByClass(modal, swalClasses.file);
        input.placeholder = params.inputPlaceholder;
        input.type = params.input;
        show(input);
        break;
      case 'range':
        var range = getChildByClass(modal, swalClasses.range);
        var rangeInput = range.querySelector('input');
        var rangeOutput = range.querySelector('output');
        rangeInput.value = params.inputValue;
        rangeInput.type = params.input;
        rangeOutput.value = params.inputValue;
        show(range);
        break;
      case 'select':
        var select = getChildByClass(modal, swalClasses.select);
        select.innerHTML = '';
        if (params.inputPlaceholder) {
          var placeholder = document.createElement('option');
          placeholder.innerHTML = params.inputPlaceholder;
          placeholder.value = '';
          placeholder.disabled = true;
          placeholder.selected = true;
          select.appendChild(placeholder);
        }
        populateInputOptions = function populateInputOptions(inputOptions) {
          for (var optionValue in inputOptions) {
            var option = document.createElement('option');
            option.value = optionValue;
            option.innerHTML = inputOptions[optionValue];
            if (params.inputValue === optionValue) {
              option.selected = true;
            }
            select.appendChild(option);
          }
          show(select);
          select.focus();
        };
        break;
      case 'radio':
        var radio = getChildByClass(modal, swalClasses.radio);
        radio.innerHTML = '';
        populateInputOptions = function populateInputOptions(inputOptions) {
          for (var radioValue in inputOptions) {
            var radioInput = document.createElement('input');
            var radioLabel = document.createElement('label');
            var radioLabelSpan = document.createElement('span');
            radioInput.type = 'radio';
            radioInput.name = swalClasses.radio;
            radioInput.value = radioValue;
            if (params.inputValue === radioValue) {
              radioInput.checked = true;
            }
            radioLabelSpan.innerHTML = inputOptions[radioValue];
            radioLabel.appendChild(radioInput);
            radioLabel.appendChild(radioLabelSpan);
            radioLabel.for = radioInput.id;
            radio.appendChild(radioLabel);
          }
          show(radio);
          var radios = radio.querySelectorAll('input');
          if (radios.length) {
            radios[0].focus();
          }
        };
        break;
      case 'checkbox':
        var checkbox = getChildByClass(modal, swalClasses.checkbox);
        var checkboxInput = getInput('checkbox');
        checkboxInput.type = 'checkbox';
        checkboxInput.value = 1;
        checkboxInput.id = swalClasses.checkbox;
        checkboxInput.checked = Boolean(params.inputValue);
        var label = checkbox.getElementsByTagName('span');
        if (label.length) {
          checkbox.removeChild(label[0]);
        }
        label = document.createElement('span');
        label.innerHTML = params.inputPlaceholder;
        checkbox.appendChild(label);
        show(checkbox);
        break;
      case 'textarea':
        var textarea = getChildByClass(modal, swalClasses.textarea);
        textarea.value = params.inputValue;
        textarea.placeholder = params.inputPlaceholder;
        show(textarea);
        break;
      case null:
        break;
      default:
        console.error('SweetAlert2: Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "' + params.input + '"');
        break;
    }

    if (params.input === 'select' || params.input === 'radio') {
      if (params.inputOptions instanceof Promise) {
        sweetAlert.showLoading();
        params.inputOptions.then(function (inputOptions) {
          sweetAlert.hideLoading();
          populateInputOptions(inputOptions);
        });
      } else if (_typeof(params.inputOptions) === 'object') {
        populateInputOptions(params.inputOptions);
      } else {
        console.error('SweetAlert2: Unexpected type of inputOptions! Expected object or Promise, got ' + _typeof(params.inputOptions));
      }
    }

    openModal(params.animation, params.onOpen);

    // Focus the first element (input or button)
    if (params.allowEnterKey) {
      setFocus(-1, 1);
    } else {
      if (document.activeElement) {
        document.activeElement.blur();
      }
    }

    // fix scroll
    getContainer().scrollTop = 0;

    // Observe changes inside the modal and adjust height
    if (typeof MutationObserver !== 'undefined' && !swal2Observer) {
      swal2Observer = new MutationObserver(sweetAlert.recalculateHeight);
      swal2Observer.observe(modal, { childList: true, characterData: true, subtree: true });
    }
  });
};

/*
 * Global function to determine if swal2 modal is shown
 */
sweetAlert.isVisible = function () {
  return !!getModal();
};

/*
 * Global function for chaining sweetAlert modals
 */
sweetAlert.queue = function (steps) {
  queue = steps;
  var resetQueue = function resetQueue() {
    queue = [];
    document.body.removeAttribute('data-swal2-queue-step');
  };
  var queueResult = [];
  return new Promise(function (resolve, reject) {
    (function step(i, callback) {
      if (i < queue.length) {
        document.body.setAttribute('data-swal2-queue-step', i);

        sweetAlert(queue[i]).then(function (result) {
          queueResult.push(result);
          step(i + 1, callback);
        }, function (dismiss) {
          resetQueue();
          reject(dismiss);
        });
      } else {
        resetQueue();
        resolve(queueResult);
      }
    })(0);
  });
};

/*
 * Global function for getting the index of current modal in queue
 */
sweetAlert.getQueueStep = function () {
  return document.body.getAttribute('data-swal2-queue-step');
};

/*
 * Global function for inserting a modal to the queue
 */
sweetAlert.insertQueueStep = function (step, index) {
  if (index && index < queue.length) {
    return queue.splice(index, 0, step);
  }
  return queue.push(step);
};

/*
 * Global function for deleting a modal from the queue
 */
sweetAlert.deleteQueueStep = function (index) {
  if (typeof queue[index] !== 'undefined') {
    queue.splice(index, 1);
  }
};

/*
 * Global function to close sweetAlert
 */
sweetAlert.close = sweetAlert.closeModal = function (onComplete) {
  var container = getContainer();
  var modal = getModal();
  if (!modal) {
    return;
  }
  removeClass(modal, swalClasses.show);
  addClass(modal, swalClasses.hide);
  clearTimeout(modal.timeout);

  resetPrevState();

  var removeModalAndResetState = function removeModalAndResetState() {
    if (container.parentNode) {
      container.parentNode.removeChild(container);
    }
    removeClass(document.documentElement, swalClasses.shown);
    removeClass(document.body, swalClasses.shown);
    undoScrollbar();
    undoIOSfix();
  };

  // If animation is supported, animate
  if (animationEndEvent && !hasClass(modal, swalClasses.noanimation)) {
    modal.addEventListener(animationEndEvent, function swalCloseEventFinished() {
      modal.removeEventListener(animationEndEvent, swalCloseEventFinished);
      if (hasClass(modal, swalClasses.hide)) {
        removeModalAndResetState();
      }
    });
  } else {
    // Otherwise, remove immediately
    removeModalAndResetState();
  }
  if (onComplete !== null && typeof onComplete === 'function') {
    setTimeout(function () {
      onComplete(modal);
    });
  }
};

/*
 * Global function to click 'Confirm' button
 */
sweetAlert.clickConfirm = function () {
  return getConfirmButton().click();
};

/*
 * Global function to click 'Cancel' button
 */
sweetAlert.clickCancel = function () {
  return getCancelButton().click();
};

/**
 * Set default params for each popup
 * @param {Object} userParams
 */
sweetAlert.setDefaults = function (userParams) {
  if (!userParams || (typeof userParams === 'undefined' ? 'undefined' : _typeof(userParams)) !== 'object') {
    return console.error('SweetAlert2: the argument for setDefaults() is required and has to be a object');
  }

  for (var param in userParams) {
    if (!defaultParams.hasOwnProperty(param) && param !== 'extraParams') {
      console.warn('SweetAlert2: Unknown parameter "' + param + '"');
      delete userParams[param];
    }
  }

  _extends(modalParams, userParams);
};

/**
 * Reset default params for each popup
 */
sweetAlert.resetDefaults = function () {
  modalParams = _extends({}, defaultParams);
};

sweetAlert.noop = function () {};

sweetAlert.version = '6.6.2';

sweetAlert.default = sweetAlert;

return sweetAlert;

})));
if (window.Sweetalert2) window.sweetAlert = window.swal = window.Sweetalert2;

},{}],2:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = closeDialog;

var _sweetalert = require("sweetalert2");

var _sweetalert2 = _interopRequireDefault(_sweetalert);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function closeDialog() {
    _sweetalert2.default.close();
}

},{"sweetalert2":1}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = showConfirm;

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _sweetalert = require("sweetalert2");

var _sweetalert2 = _interopRequireDefault(_sweetalert);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function showConfirm(message, action) {
    return (0, _sweetalert2.default)({
        title: Array.isArray(message) ? message[0] : message,
        text: Array.isArray(message) ? message[1] : null,
        showCancelButton: true,
        confirmButtonText: (0, _l10n2.default)("global.labels.yes"),
        cancelButtonText: (0, _l10n2.default)("global.labels.no")
    }).then(action);
}

},{"l10n":99,"sweetalert2":1}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = makeClassName;
function makeClassName(data) {
    return Object.keys(data).filter(function (cn) {
        return data[cn];
    }).join(" ");
}

},{}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _makeClassName = require("common/makeClassName");

var _makeClassName2 = _interopRequireDefault(_makeClassName);

var _onTouchOrClick = require("./onTouchOrClick");

var _onTouchOrClick2 = _interopRequireDefault(_onTouchOrClick);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var IntegerInput = function (_React$PureComponent) {
    _inherits(IntegerInput, _React$PureComponent);

    function IntegerInput() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, IntegerInput);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = IntegerInput.__proto__ || Object.getPrototypeOf(IntegerInput)).call.apply(_ref, [this].concat(args))), _this), _this.handleMinus = function () {
            if (_this.props.readOnly) {
                return;
            }
            if (_this.props.sendDeltas) {
                _this.props.onChange({ "delta": -1 });
            } else {
                _this.props.onChange(_this.props.value - 1);
            }
        }, _this.handlePlus = function () {
            if (_this.props.readOnly) {
                return;
            }
            if (_this.props.sendDeltas) {
                _this.props.onChange({ "delta": 1 });
            } else {
                _this.props.onChange(_this.props.value + 1);
            }
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(IntegerInput, [{
        key: "getClassName",
        value: function getClassName() {
            return (0, _makeClassName2.default)({
                "IntegerInput": true,
                "read-only": this.props.readOnly
            });
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: this.getClassName() },
                React.createElement(
                    "button",
                    _extends({
                        className: "tbtn btn-minus"
                    }, (0, _onTouchOrClick2.default)(this.handleMinus)),
                    "\u2212"
                ),
                React.createElement(
                    "div",
                    { className: "value" },
                    this.props.value
                ),
                React.createElement(
                    "button",
                    _extends({
                        className: "tbtn btn-plus"
                    }, (0, _onTouchOrClick2.default)(this.handlePlus)),
                    "+"
                )
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                readOnly: PT.bool,
                sendDeltas: PT.bool,
                value: PT.number.isRequired,
                onChange: PT.func.isRequired
            };
        }
    }, {
        key: "defaultProps",
        get: function get() {
            return {
                readOnly: false,
                sendDeltas: false
            };
        }
    }]);

    return IntegerInput;
}(React.PureComponent);

exports.default = IntegerInput;


IntegerInput.displayName = "tablet_ui_IntegerInput";

},{"./onTouchOrClick":11,"common/makeClassName":4}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _SelectorInput = require("./SelectorInput");

var _SelectorInput2 = _interopRequireDefault(_SelectorInput);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var NumberSelectorInput = function (_React$PureComponent) {
    _inherits(NumberSelectorInput, _React$PureComponent);

    function NumberSelectorInput() {
        _classCallCheck(this, NumberSelectorInput);

        return _possibleConstructorReturn(this, (NumberSelectorInput.__proto__ || Object.getPrototypeOf(NumberSelectorInput)).apply(this, arguments));
    }

    _createClass(NumberSelectorInput, [{
        key: "makeChoices",
        value: function makeChoices(min, max, step, decimal_size) {
            var result = [];
            for (var value = min; value <= max; value += step) {
                var text = value.toFixed(decimal_size);
                result.push([Number(text), text]);
            }
            return result;
        }
    }, {
        key: "render",
        value: function render() {
            var _props = this.props,
                min = _props.min,
                max = _props.max,
                step = _props.step,
                decimalSize = _props.decimalSize,
                other_props = _objectWithoutProperties(_props, ["min", "max", "step", "decimalSize"]);

            return React.createElement(_SelectorInput2.default, _extends({
                choices: this.makeChoices(min, max, step, decimalSize)
            }, other_props));
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                max: PT.number.isRequired,
                min: PT.number.isRequired,
                step: PT.number,
                decimalSize: PT.number
            };
        }
    }, {
        key: "defaultProps",
        get: function get() {
            return {
                step: 1,
                decimalSize: 0
            };
        }
    }]);

    return NumberSelectorInput;
}(React.PureComponent);

exports.default = NumberSelectorInput;


NumberSelectorInput.displayName = "tablet_ui_NumberSelectorInput";

},{"./SelectorInput":8}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _onTouchOrClick = require("../onTouchOrClick");

var _onTouchOrClick2 = _interopRequireDefault(_onTouchOrClick);

var _makeClassName = require("common/makeClassName");

var _makeClassName2 = _interopRequireDefault(_makeClassName);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Item = function (_React$PureComponent) {
    _inherits(Item, _React$PureComponent);

    function Item() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, Item);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Item.__proto__ || Object.getPrototypeOf(Item)).call.apply(_ref, [this].concat(args))), _this), _this.handleClick = function () {
            if (_this.props.readOnly) {
                return;
            }
            _this.props.onClick(_this.props.value);
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(Item, [{
        key: "getClassName",
        value: function getClassName() {
            return (0, _makeClassName2.default)({
                "tbtn": true,
                "score-btn": true,
                "active": this.props.active,
                "read-only": this.props.readOnly
            });
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "button",
                _extends({
                    className: this.getClassName()
                }, (0, _onTouchOrClick2.default)(this.handleClick)),
                this.props.text
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                active: PT.bool.isRequired,
                readOnly: PT.bool.isRequired,
                text: PT.string.isRequired,
                value: PT.oneOfType([PT.string.isRequired, PT.number.isRequired, PT.bool.isRequired]),
                onClick: PT.func.isRequired
            };
        }
    }]);

    return Item;
}(React.PureComponent);

exports.default = Item;


Item.displayName = "tablet_ui_SelectorInput_Item";

},{"../onTouchOrClick":11,"common/makeClassName":4}],8:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _makeClassName2 = require("common/makeClassName");

var _makeClassName3 = _interopRequireDefault(_makeClassName2);

var _Item = require("./Item");

var _Item2 = _interopRequireDefault(_Item);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var SelectorInput = function (_React$PureComponent) {
    _inherits(SelectorInput, _React$PureComponent);

    function SelectorInput() {
        _classCallCheck(this, SelectorInput);

        return _possibleConstructorReturn(this, (SelectorInput.__proto__ || Object.getPrototypeOf(SelectorInput)).apply(this, arguments));
    }

    _createClass(SelectorInput, [{
        key: "getButtonsCount",
        value: function getButtonsCount() {
            if (this.props.style === "grid") {
                return this.props.rowSize;
            }
            return this.props.choices.length;
        }
    }, {
        key: "getClassName",
        value: function getClassName() {
            return (0, _makeClassName3.default)(_defineProperty({
                "SelectorInput": true,
                "one-row": this.props.style !== "two-lines",
                "two-rows": this.props.style === "two-lines",
                "selected": this.props.value !== null
            }, "n-" + this.getButtonsCount(), true));
        }
    }, {
        key: "renderRows",
        value: function renderRows() {
            var result = [];
            for (var idx = 0; idx < this.props.choices.length; ++idx) {
                if (this.props.style === "grid" && idx !== 0 && idx % this.props.rowSize === 0) {
                    result.push(React.createElement("br", { key: "br" + idx }));
                }

                var _props$choices$idx = _slicedToArray(this.props.choices[idx], 2),
                    value = _props$choices$idx[0],
                    text = _props$choices$idx[1];

                result.push(React.createElement(_Item2.default, {
                    active: value === this.props.value,
                    key: idx,
                    readOnly: this.props.readOnly,
                    text: text,
                    value: value,
                    onClick: this.props.onChange
                }));
            }
            return result;
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: this.getClassName() },
                this.renderRows()
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                choices: PT.arrayOf(PT.arrayOf(PT.oneOfType([PT.string.isRequired, PT.number.isRequired, PT.bool.isRequired]))).isRequired,
                readOnly: PT.bool,
                rowSize: PT.number,
                style: PT.oneOf(["grid", "one-line", "two-lines"]),
                value: PT.oneOfType([PT.string.isRequired, PT.number.isRequired, PT.bool.isRequired]),
                onChange: PT.func.isRequired
            };
        }
    }, {
        key: "defaultProps",
        get: function get() {
            return {
                readOnly: false,
                rowSize: 10,
                style: "one-line"
            };
        }
    }]);

    return SelectorInput;
}(React.PureComponent);

exports.default = SelectorInput;


SelectorInput.displayName = "tablet_ui_SelectorInput";

},{"./Item":7,"common/makeClassName":4}],9:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _makeClassName = require("common/makeClassName");

var _makeClassName2 = _interopRequireDefault(_makeClassName);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Slider = function (_React$PureComponent) {
    _inherits(Slider, _React$PureComponent);

    _createClass(Slider, null, [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                done: PT.bool.isRequired,
                doneText: PT.string.isRequired,
                slideText: PT.string.isRequired,
                onActivate: PT.func.isRequired
            };
        }
    }]);

    function Slider(props) {
        _classCallCheck(this, Slider);

        var _this = _possibleConstructorReturn(this, (Slider.__proto__ || Object.getPrototypeOf(Slider)).call(this, props));

        _this.handleClick = function () {
            if (_this.state.finished || _this.props.done) {
                return;
            }
            _this.setState({
                posision: 200,
                touch: false,
                finished: true
            });
            _this.props.onActivate();
        };

        _this.handleTouchStart = function (event) {
            event.preventDefault();
            if (_this.state.finished || _this.props.done) {
                return;
            }
            _this.pin = _this.getRelativeTouch(event);
            _this.setState({
                position: _this.getSliderPos(event),
                touch: true
            });
        };

        _this.handleTouchMove = function (event) {
            event.preventDefault();
            if (_this.state.finished || _this.props.done) {
                return;
            }
            _this.setState({
                position: _this.getSliderPos(event)
            });
        };

        _this.handleTouchEnd = function (event) {
            event.preventDefault();
            if (_this.state.finished || _this.props.done) {
                return;
            }
            if (_this.state.position === 200) {
                _this.setState({
                    position: 0,
                    finished: true,
                    touch: false
                });
                _this.props.onActivate();
            } else {
                _this.setState({
                    position: 0,
                    touch: false
                });
            }
        };

        _this.state = {
            position: 0,
            touch: false,
            finished: false
        };
        _this.pin = null;
        return _this;
    }

    _createClass(Slider, [{
        key: "componentWillUpdate",
        value: function componentWillUpdate(nextProps) {
            if (!this.props.done && nextProps.done) {
                this.setState({
                    finished: false
                });
            }
        }
    }, {
        key: "isFree",
        value: function isFree() {
            return !this.state.touch && !this.props.done && !this.state.finished;
        }
    }, {
        key: "getOuterTextOpacity",
        value: function getOuterTextOpacity() {
            if (this.state.finished) {
                return 0;
            }
            var value = Math.min(Math.max(100 - this.state.position, 0), 100);
            return (value / 100).toFixed(3);
        }
    }, {
        key: "getElementOffset",
        value: function getElementOffset(element) {
            var res = 0;
            while (element) {
                res += element.offsetLeft || 0;
                element = element.parentNode;
            }
            return res;
        }
    }, {
        key: "getTouch",
        value: function getTouch(event) {
            var touch = event.touches[0];
            var parent = event.target.parentNode;
            return touch.pageX - this.getElementOffset(parent);
        }
    }, {
        key: "getRelativeTouch",
        value: function getRelativeTouch(event) {
            var touch = event.touches[0];
            var parent = event.target;
            return touch.pageX - this.getElementOffset(parent);
        }
    }, {
        key: "getSliderPos",
        value: function getSliderPos(event) {
            var pos = this.getTouch(event) - this.pin;
            return Math.min(Math.max(pos, 0), 200);
        }
    }, {
        key: "renderText",
        value: function renderText() {
            if (this.props.done) {
                return React.createElement(
                    "span",
                    {
                        className: "done-text",
                        style: { color: "rgb(100,100,100)" }
                    },
                    this.props.doneText
                );
            } else {
                return React.createElement(
                    "span",
                    {
                        className: (0, _makeClassName2.default)({ "slide-text": true, "free": this.isFree() }),
                        style: { color: "rgba(100,100,100," + this.getOuterTextOpacity() + ")" }
                    },
                    this.props.slideText
                );
            }
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "Slider" },
                React.createElement(
                    "div",
                    { className: (0, _makeClassName2.default)({ "inner": true, "free": this.isFree() }),
                        style: { left: this.props.done || this.state.finished ? "200px" : this.state.position + "px" },
                        onClick: this.handleClick,
                        onTouchEnd: this.handleTouchEnd,
                        onTouchMove: this.handleTouchMove,
                        onTouchStart: this.handleTouchStart
                    },
                    "\u2192"
                ),
                this.renderText()
            );
        }
    }]);

    return Slider;
}(React.PureComponent);

exports.default = Slider;


Slider.displayName = "tablet_ui_Slider";

},{"common/makeClassName":4}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = onTouchEndOrClick;
function onTouchEndOrClick(handler) {
    var _handler = function _handler() {};
    var distance = 0;
    var latest_pos = [0, 0];
    var fire = function fire(event) {
        event.preventDefault();
        return _handler();
    };
    var discard = function discard() {
        _handler = function _handler() {};
    };
    var move = function move(event) {
        var current_pos = [event.touches[0].pageX, event.touches[0].pageY];
        var sqr = function sqr(x) {
            return x * x;
        };
        distance += Math.sqrt(sqr(current_pos[0] - latest_pos[0]) + sqr(current_pos[1] - latest_pos[1]));
        latest_pos = current_pos;
        if (distance > 20) {
            discard();
        }
    };
    var start = function start(event) {
        _handler = handler;
        distance = 0;
        latest_pos = [event.touches[0].pageX, event.touches[0].pageY];
    };
    return {
        onTouchStart: start,
        onTouchEnd: fire,
        onTouchMove: move,
        onTouchCancel: discard,
        onClick: handler
    };
}

},{}],11:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = onTouchOrClick;
function prevent(e) {
    e.preventDefault();
}

function onTouchOrClick(handler) {
    var f = function f(event) {
        event.preventDefault();
        return handler(event);
    };
    return {
        onTouchStart: f,
        onClick: f,
        onTouchEnd: prevent
    };
}

},{}],12:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GeneralEditor = require("./GeneralEditor");

var _GeneralEditor2 = _interopRequireDefault(_GeneralEditor);

var _genScale = require("./genScale");

var _genScale2 = _interopRequireDefault(_genScale);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DanceScore = function (_React$PureComponent) {
    _inherits(DanceScore, _React$PureComponent);

    function DanceScore() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, DanceScore);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = DanceScore.__proto__ || Object.getPrototypeOf(DanceScore)).call.apply(_ref, [this].concat(args))), _this), _this.handleSubmission = function (data) {
            var reductions = _this.props.score.data.raw_data.reductions.slice(); // clone
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = Object.keys(data)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var key = _step.value;

                    if (key[0] === "A") {
                        var s_val = data[key];
                        reductions[parseInt(key.slice(1))] = s_val === "" ? -1 : parseInt(s_val);
                    }
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }

            _this.props.onSubmit({
                reductions: reductions,
                mistakes: parseInt(data.mistakes)
            });
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(DanceScore, [{
        key: "makeField",
        value: function makeField(key, label, scale) {
            var value = this.props.score.data.raw_data[key];
            return {
                key: key,
                label: label + ":",
                options: scale,
                defaultValue: value === null ? "" : value.toString()
            };
        }
    }, {
        key: "render",
        value: function render() {
            var _this2 = this;

            var fields = this.props.score.data.raw_data.reductions.map(function (red, idx) {
                return {
                    key: "A" + idx,
                    label: "A" + (idx + 1) + ":",
                    options: (0, _genScale2.default)("?reduction"),
                    defaultValue: _this2.props.score.data.raw_data.reductions[idx] === null ? "" : _this2.props.score.data.raw_data.reductions[idx].toString()
                };
            });
            fields.push(this.makeField("mistakes", "FD", (0, _genScale2.default)("numbers", { max: 100 })));
            return React.createElement(_GeneralEditor2.default, {
                fields: fields,
                readOnly: this.props.readOnly,
                onDiscard: this.props.onDiscard,
                onSubmit: this.handleSubmission
            });
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                score: PT.shape({
                    data: PT.shape({
                        raw_data: PT.shape({
                            reductions: PT.arrayOf(PT.number),
                            mistakes: PT.number
                        }).isRequired
                    }).isRequired
                }).isRequired,
                readOnly: PT.bool.isRequired,
                onDiscard: PT.func.isRequired,
                onSubmit: PT.func.isRequired
            };
        }
    }]);

    return DanceScore;
}(React.PureComponent);

exports.default = DanceScore;


DanceScore.displayName = "rules_sets_rosfarr_AdminScoreInput_Editor_DanceScore";

},{"./GeneralEditor":18,"./genScale":23}],13:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ConfirmationButton = function (_React$PureComponent) {
    _inherits(ConfirmationButton, _React$PureComponent);

    function ConfirmationButton() {
        _classCallCheck(this, ConfirmationButton);

        return _possibleConstructorReturn(this, (ConfirmationButton.__proto__ || Object.getPrototypeOf(ConfirmationButton)).apply(this, arguments));
    }

    _createClass(ConfirmationButton, [{
        key: "getClassName",
        value: function getClassName() {
            var result = "confirmation-button";
            result += this.props.confirmed ? " confirmed" : " not-confirmed";
            return result;
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "button",
                {
                    className: this.getClassName(),
                    type: "button",
                    onClick: this.props.onConfirmationToggle
                },
                this.props.confirmed ? (0, _l10n2.default)("admin.buttons.unconfirm_score") : (0, _l10n2.default)("admin.buttons.confirm_score")
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                confirmed: PT.bool.isRequired,
                onConfirmationToggle: PT.func.isRequired
            };
        }
    }]);

    return ConfirmationButton;
}(React.PureComponent);

exports.default = ConfirmationButton;


ConfirmationButton.displayName = "rules_sets_rosfarr_AdminScoreInput_Editor_ConfirmationButton";

},{"l10n":99}],14:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GeneralEditor = require("./GeneralEditor");

var _GeneralEditor2 = _interopRequireDefault(_GeneralEditor);

var _genScale = require("./genScale");

var _genScale2 = _interopRequireDefault(_genScale);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DanceScore = function (_React$PureComponent) {
    _inherits(DanceScore, _React$PureComponent);

    function DanceScore() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, DanceScore);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = DanceScore.__proto__ || Object.getPrototypeOf(DanceScore)).call.apply(_ref, [this].concat(args))), _this), _this.handleSubmission = function (data) {
            _this.props.onSubmit({
                fw_woman: data["fw_woman"] === "" ? null : parseFloat(data.fw_woman),
                fw_man: data["fw_man"] === "" ? null : parseFloat(data.fw_man),
                dance_figs: data["dance_figs"] === "" ? null : parseFloat(data.dance_figs),
                composition: data["composition"] === "" ? null : parseFloat(data.composition),
                small_mistakes: parseInt(data.small_mistakes),
                big_mistakes: parseInt(data.big_mistakes)
            });
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(DanceScore, [{
        key: "makeField",
        value: function makeField(key, label, scale) {
            var float = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;

            var value = this.props.score.data.raw_data[key];
            return {
                key: key,
                label: label + ":",
                options: scale,
                defaultValue: value === null ? "" : float ? value.toFixed(1) : value.toString()
            };
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(_GeneralEditor2.default, {
                fields: [this.makeField("fw_woman", "FW", (0, _genScale2.default)("?reduction")), this.makeField("fw_man", "FM", (0, _genScale2.default)("?reduction")), this.makeField("dance_figs", "DF", (0, _genScale2.default)("?numbers", { max: 10, step: 0.5 }), true), this.makeField("composition", "C", (0, _genScale2.default)("?numbers", { max: 10, step: 0.5 }), true), this.makeField("small_mistakes", "SM", (0, _genScale2.default)("numbers", { max: 100 })), this.makeField("big_mistakes", "BM", (0, _genScale2.default)("numbers", { max: 100 }))],
                readOnly: this.props.readOnly,
                onDiscard: this.props.onDiscard,
                onSubmit: this.handleSubmission
            });
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                score: PT.shape({
                    data: PT.shape({
                        raw_data: PT.shape({
                            fw_woman: PT.number,
                            fw_man: PT.number,
                            dance_figs: PT.number,
                            composition: PT.number,
                            small_mistakes: PT.number,
                            big_mistakes: PT.number
                        }).isRequired
                    }).isRequired
                }).isRequired,
                readOnly: PT.bool.isRequired,
                onDiscard: PT.func.isRequired,
                onSubmit: PT.func.isRequired
            };
        }
    }]);

    return DanceScore;
}(React.PureComponent);

exports.default = DanceScore;


DanceScore.displayName = "rules_sets_rosfarr_AdminScoreInput_Editor_DanceScore";

},{"./GeneralEditor":18,"./genScale":23}],15:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GeneralEditor = require("./GeneralEditor");

var _GeneralEditor2 = _interopRequireDefault(_GeneralEditor);

var _genScale = require("./genScale");

var _genScale2 = _interopRequireDefault(_genScale);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var FormationScore = function (_React$PureComponent) {
    _inherits(FormationScore, _React$PureComponent);

    function FormationScore() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, FormationScore);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = FormationScore.__proto__ || Object.getPrototypeOf(FormationScore)).call.apply(_ref, [this].concat(args))), _this), _this.handleSubmission = function (data) {
            _this.props.onSubmit({
                acrobatics: data["acrobatics"] === "" ? null : parseFloat(data.acrobatics),
                dance_tech: data["dance_tech"] === "" ? null : parseFloat(data.dance_tech),
                dance_figs: data["dance_figs"] === "" ? null : parseFloat(data.dance_figs),
                impression: data["impression"] === "" ? null : parseFloat(data.impression),
                big_mistakes: parseInt(data.big_mistakes),
                small_mistakes: parseInt(data.small_mistakes)
            });
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(FormationScore, [{
        key: "makeField",
        value: function makeField(key, label, scale) {
            var float = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;

            var value = this.props.score.data.raw_data[key];
            return {
                key: key,
                label: label + ":",
                options: scale,
                defaultValue: value === null ? "" : float ? value.toFixed(1) : value.toString()
            };
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(_GeneralEditor2.default, {
                fields: [this.makeField("acrobatics", "A", (0, _genScale2.default)("?numbers", { max: 10, step: 0.5 }), true), this.makeField("dance_tech", "DT", (0, _genScale2.default)("?numbers", { max: 10, step: 0.5 }), true), this.makeField("dance_figs", "DF", (0, _genScale2.default)("?numbers", { max: 10, step: 0.5 }), true), this.makeField("impression", "I", (0, _genScale2.default)("?numbers", { max: 10, step: 0.5 }), true), this.makeField("small_mistakes", "SM", (0, _genScale2.default)("numbers", { max: 100 })), this.makeField("big_mistakes", "BM", (0, _genScale2.default)("numbers", { max: 100 }))],
                readOnly: this.props.readOnly,
                onDiscard: this.props.onDiscard,
                onSubmit: this.handleSubmission
            });
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                score: PT.shape({
                    data: PT.shape({
                        raw_data: PT.shape({
                            acrobatics: PT.number,
                            dance_tech: PT.number,
                            dance_figs: PT.number,
                            impression: PT.number,
                            small_mistakes: PT.number,
                            big_mistakes: PT.number
                        }).isRequired
                    }).isRequired
                }).isRequired,
                readOnly: PT.bool.isRequired,
                onDiscard: PT.func.isRequired,
                onSubmit: PT.func.isRequired
            };
        }
    }]);

    return FormationScore;
}(React.PureComponent);

exports.default = FormationScore;


FormationScore.displayName = "rules_sets_rosfarr_AdminScoreInput_Editor_FormationScore";

},{"./GeneralEditor":18,"./genScale":23}],16:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GeneralEditor = require("./GeneralEditor");

var _GeneralEditor2 = _interopRequireDefault(_GeneralEditor);

var _genScale = require("./genScale");

var _genScale2 = _interopRequireDefault(_genScale);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var FormationScore = function (_React$PureComponent) {
    _inherits(FormationScore, _React$PureComponent);

    function FormationScore() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, FormationScore);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = FormationScore.__proto__ || Object.getPrototypeOf(FormationScore)).call.apply(_ref, [this].concat(args))), _this), _this.handleSubmission = function (data) {
            _this.props.onSubmit({
                dance_tech: data["dance_tech"] === "" ? null : parseFloat(data.dance_tech),
                dance_figs: data["dance_figs"] === "" ? null : parseFloat(data.dance_figs),
                impression: data["impression"] === "" ? null : parseFloat(data.impression),
                mistakes: parseInt(data.mistakes)
            });
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(FormationScore, [{
        key: "makeField",
        value: function makeField(key, label, scale) {
            var float = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;

            var value = this.props.score.data.raw_data[key];
            return {
                key: key,
                label: label + ":",
                options: scale,
                defaultValue: value === null ? "" : float ? value.toFixed(1) : value.toString()
            };
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(_GeneralEditor2.default, {
                fields: [this.makeField("dance_tech", "DT", (0, _genScale2.default)("?numbers", { max: 10, step: 0.5 }), true), this.makeField("dance_figs", "DF", (0, _genScale2.default)("?numbers", { max: 10, step: 0.5 }), true), this.makeField("impression", "I", (0, _genScale2.default)("?numbers", { max: 10, step: 0.5 }), true), this.makeField("mistakes", "M", (0, _genScale2.default)("numbers", { max: 100 }))],
                readOnly: this.props.readOnly,
                onDiscard: this.props.onDiscard,
                onSubmit: this.handleSubmission
            });
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                score: PT.shape({
                    data: PT.shape({
                        raw_data: PT.shape({
                            dance_tech: PT.number,
                            dance_figs: PT.number,
                            impression: PT.number,
                            mistakes: PT.number
                        }).isRequired
                    }).isRequired
                }).isRequired,
                readOnly: PT.bool.isRequired,
                onDiscard: PT.func.isRequired,
                onSubmit: PT.func.isRequired
            };
        }
    }]);

    return FormationScore;
}(React.PureComponent);

exports.default = FormationScore;


FormationScore.displayName = "rules_sets_rosfarr_AdminScoreInput_Editor_FormationScore";

},{"./GeneralEditor":18,"./genScale":23}],17:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Item = function (_React$PureComponent) {
    _inherits(Item, _React$PureComponent);

    function Item() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, Item);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Item.__proto__ || Object.getPrototypeOf(Item)).call.apply(_ref, [this].concat(args))), _this), _this.handleChange = function (event) {
            _this.props.onChange(_this.props.field.key, event.target.value);
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(Item, [{
        key: "renderValue",
        value: function renderValue() {
            var _this2 = this;

            if (this.props.readOnly) {
                return React.createElement(
                    "div",
                    { className: "score-value" },
                    React.createElement(
                        "div",
                        { className: "read-only" },
                        this.props.field.options.find(function (o) {
                            return o[0] === _this2.props.value;
                        })[1]
                    )
                );
            }
            return React.createElement(
                "div",
                { className: "score-value" },
                React.createElement(
                    "select",
                    {
                        value: this.props.value,
                        onChange: this.handleChange
                    },
                    this.props.field.options.map(function (option) {
                        var _option = _slicedToArray(option, 2),
                            value = _option[0],
                            label = _option[1];

                        return React.createElement(
                            "option",
                            { key: value, value: value },
                            label
                        );
                    })
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "item" },
                React.createElement(
                    "div",
                    { className: "score-label" },
                    this.props.field.label
                ),
                this.renderValue()
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                field: PT.shape({
                    label: PT.string.isRequired,
                    key: PT.string.isRequired,
                    options: PT.arrayOf(PT.arrayOf(PT.string.isRequired).isRequired).isRequired
                }).isRequired,
                readOnly: PT.bool.isRequired,
                value: PT.string.isRequired,
                onChange: PT.func.isRequired
            };
        }
    }]);

    return Item;
}(React.PureComponent);

exports.default = Item;


Item.displayName = "rules_sets_rosfarr_AdminScoreInput_Editor_GeneralEditor_Item";

},{}],18:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _Item = require("./Item");

var _Item2 = _interopRequireDefault(_Item);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var GeneralEditor = function (_React$PureComponent) {
    _inherits(GeneralEditor, _React$PureComponent);

    _createClass(GeneralEditor, null, [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                fields: PT.arrayOf(PT.shape({
                    key: PT.string.isRequired,
                    label: PT.string.isRequired,
                    options: PT.arrayOf(PT.arrayOf(PT.string.isRequired).isRequired).isRequired,
                    defaultValue: PT.string.isRequired
                }).isRequired).isRequired,
                readOnly: PT.bool.isRequired,
                onDiscard: PT.func.isRequired,
                onSubmit: PT.func.isRequired
            };
        }
    }]);

    function GeneralEditor(props) {
        _classCallCheck(this, GeneralEditor);

        var _this = _possibleConstructorReturn(this, (GeneralEditor.__proto__ || Object.getPrototypeOf(GeneralEditor)).call(this, props));

        _this.handleChange = function (key, value) {
            var values = Object.assign({}, _this.state.values);
            values[key] = value;
            _this.setState({ values: values });
        };

        _this.handleDiscardClick = function (event) {
            event.stopPropagation();
            _this.props.onDiscard();
        };

        _this.handleSubmission = function (event) {
            event.preventDefault();
            _this.props.onSubmit(_this.state.values);
        };

        var initial_values = {};
        var _iteratorNormalCompletion = true;
        var _didIteratorError = false;
        var _iteratorError = undefined;

        try {
            for (var _iterator = _this.props.fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                var f = _step.value;

                initial_values[f.key] = f.defaultValue;
            }
        } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
        } finally {
            try {
                if (!_iteratorNormalCompletion && _iterator.return) {
                    _iterator.return();
                }
            } finally {
                if (_didIteratorError) {
                    throw _iteratorError;
                }
            }
        }

        _this.state = {
            values: initial_values
        };
        return _this;
    }

    _createClass(GeneralEditor, [{
        key: "renderButtons",
        value: function renderButtons() {
            if (this.props.readOnly) {
                return React.createElement(
                    "div",
                    { className: "buttons" },
                    React.createElement(
                        "button",
                        {
                            className: "btn btn-primary",
                            type: "button",
                            onClick: this.handleDiscardClick
                        },
                        (0, _l10n2.default)("global.buttons.close")
                    )
                );
            }
            return React.createElement(
                "div",
                { className: "buttons" },
                React.createElement(
                    "button",
                    {
                        className: "submit-button",
                        type: "submit"
                    },
                    (0, _l10n2.default)("global.buttons.submit")
                ),
                "\xA0",
                React.createElement(
                    "button",
                    {
                        className: "discard-button",
                        type: "button",
                        onClick: this.handleDiscardClick
                    },
                    (0, _l10n2.default)("global.buttons.discard")
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            var _this2 = this;

            return React.createElement(
                "form",
                {
                    className: "score-editor",
                    onSubmit: this.handleSubmission
                },
                React.createElement(
                    "div",
                    { className: "fields" },
                    this.props.fields.map(function (f) {
                        var read_only = _this2.props.readOnly || f.readOnly || false;
                        return React.createElement(_Item2.default, {
                            field: f,
                            key: f.key,
                            readOnly: read_only,
                            value: read_only ? f.defaultValue : _this2.state.values[f.key],
                            onChange: _this2.handleChange
                        });
                    })
                ),
                this.renderButtons()
            );
        }
    }]);

    return GeneralEditor;
}(React.PureComponent);

exports.default = GeneralEditor;


GeneralEditor.displayName = "rules_sets_rosfarr_AdminScoreInput_Editor_GeneralEditor";

},{"./Item":17,"l10n":99}],19:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GeneralEditor = require("./GeneralEditor");

var _GeneralEditor2 = _interopRequireDefault(_GeneralEditor);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var HeadJudgeScore = function (_React$PureComponent) {
    _inherits(HeadJudgeScore, _React$PureComponent);

    function HeadJudgeScore() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, HeadJudgeScore);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = HeadJudgeScore.__proto__ || Object.getPrototypeOf(HeadJudgeScore)).call.apply(_ref, [this].concat(args))), _this), _this.handleSubmission = function (data) {
            _this.props.onSubmit({
                card: data.card,
                nexttour: data.nexttour === "true"
            });
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(HeadJudgeScore, [{
        key: "makeField",
        value: function makeField(key, label, scale) {
            var value = this.props.score.data.raw_data[key];
            return {
                key: key,
                label: label + ":",
                options: scale,
                defaultValue: value === null ? "" : value.toString()
            };
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(_GeneralEditor2.default, {
                fields: [this.makeField("card", "C", [["OK", "OK"], ["YC", "YC"], ["RC", "RC"]]), this.makeField("nexttour", "NT", [["false", "No"], ["true", "Yes"]])],
                readOnly: this.props.readOnly,
                onDiscard: this.props.onDiscard,
                onSubmit: this.handleSubmission
            });
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                score: PT.shape({
                    data: PT.shape({
                        raw_data: PT.shape({
                            penalty: PT.number,
                            card: PT.oneOf(["OK", "YC", "RC"]).isRequired
                        }).isRequired
                    }).isRequired
                }).isRequired,
                readOnly: PT.bool.isRequired,
                onDiscard: PT.func.isRequired,
                onSubmit: PT.func.isRequired
            };
        }
    }]);

    return HeadJudgeScore;
}(React.PureComponent);

exports.default = HeadJudgeScore;


HeadJudgeScore.displayName = "rules_sets_rosfarr_AdminScoreInput_Editor_HeadJudgeScore";

},{"./GeneralEditor":18}],20:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GeneralEditor = require("./GeneralEditor");

var _GeneralEditor2 = _interopRequireDefault(_GeneralEditor);

var _genScale = require("./genScale");

var _genScale2 = _interopRequireDefault(_genScale);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var SimplifiedScore = function (_React$PureComponent) {
    _inherits(SimplifiedScore, _React$PureComponent);

    function SimplifiedScore() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, SimplifiedScore);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = SimplifiedScore.__proto__ || Object.getPrototypeOf(SimplifiedScore)).call.apply(_ref, [this].concat(args))), _this), _this.handleSubmission = function (data) {
            _this.props.onSubmit({
                points: data["points"] === "" ? null : parseInt(data.points)
            });
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(SimplifiedScore, [{
        key: "makeField",
        value: function makeField(key, label, scale) {
            var value = this.props.score.data.raw_data[key];
            return {
                key: key,
                label: label + ":",
                options: scale,
                defaultValue: value === null ? "" : value.toString()
            };
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(_GeneralEditor2.default, {
                fields: [this.makeField("points", "S", (0, _genScale2.default)("?numbers", { min: 1, max: 40 }))],
                readOnly: this.props.readOnly,
                onDiscard: this.props.onDiscard,
                onSubmit: this.handleSubmission
            });
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                score: PT.shape({
                    data: PT.shape({
                        raw_data: PT.shape({
                            points: PT.number
                        }).isRequired
                    }).isRequired
                }).isRequired,
                readOnly: PT.bool.isRequired,
                onDiscard: PT.func.isRequired,
                onSubmit: PT.func.isRequired
            };
        }
    }]);

    return SimplifiedScore;
}(React.PureComponent);

exports.default = SimplifiedScore;


SimplifiedScore.displayName = "rules_sets_rosfarr_AdminScoreInput_Editor_SimplifiedScore";

},{"./GeneralEditor":18,"./genScale":23}],21:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GeneralEditor = require("./GeneralEditor");

var _GeneralEditor2 = _interopRequireDefault(_GeneralEditor);

var _genScale = require("./genScale");

var _genScale2 = _interopRequireDefault(_genScale);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var SoloScore = function (_React$PureComponent) {
    _inherits(SoloScore, _React$PureComponent);

    function SoloScore() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, SoloScore);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = SoloScore.__proto__ || Object.getPrototypeOf(SoloScore)).call.apply(_ref, [this].concat(args))), _this), _this.handleSubmission = function (data) {
            _this.props.onSubmit({
                fw: data["fw"] === "" ? null : parseInt(data.fw),
                dance_figs: data["dance_figs"] === "" ? null : parseFloat(data.dance_figs),
                composition: data["composition"] === "" ? null : parseFloat(data.composition),
                small_mistakes: parseInt(data.small_mistakes),
                big_mistakes: parseInt(data.big_mistakes)
            });
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(SoloScore, [{
        key: "makeField",
        value: function makeField(key, label, scale) {
            var float = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;

            var value = this.props.score.data.raw_data[key];
            return {
                key: key,
                label: label + ":",
                options: scale,
                defaultValue: value === null ? "" : float ? value.toFixed(1) : value.toString()
            };
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(_GeneralEditor2.default, {
                fields: [this.makeField("fw", "FW", (0, _genScale2.default)("?reduction")), this.makeField("dance_figs", "DF", (0, _genScale2.default)("?numbers", { max: 10, step: 0.5 }), true), this.makeField("composition", "C", (0, _genScale2.default)("?numbers", { max: 10, step: 0.5 }), true), this.makeField("small_mistakes", "SM", (0, _genScale2.default)("numbers", { max: 100 })), this.makeField("big_mistakes", "BM", (0, _genScale2.default)("numbers", { max: 100 }))],
                readOnly: this.props.readOnly,
                onDiscard: this.props.onDiscard,
                onSubmit: this.handleSubmission
            });
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                score: PT.shape({
                    data: PT.shape({
                        raw_data: PT.shape({
                            fw: PT.number,
                            dance_figs: PT.number,
                            composition: PT.number,
                            small_mistakes: PT.number,
                            big_mistakes: PT.number
                        }).isRequired
                    }).isRequired
                }).isRequired,
                readOnly: PT.bool.isRequired,
                onDiscard: PT.func.isRequired,
                onSubmit: PT.func.isRequired
            };
        }
    }]);

    return SoloScore;
}(React.PureComponent);

exports.default = SoloScore;


SoloScore.displayName = "rules_sets_rosfarr_AdminScoreInput_Editor_SoloScore";

},{"./GeneralEditor":18,"./genScale":23}],22:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GeneralEditor = require("./GeneralEditor");

var _GeneralEditor2 = _interopRequireDefault(_GeneralEditor);

var _genScale = require("./genScale");

var _genScale2 = _interopRequireDefault(_genScale);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TechJudgeScore = function (_React$PureComponent) {
    _inherits(TechJudgeScore, _React$PureComponent);

    function TechJudgeScore() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, TechJudgeScore);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = TechJudgeScore.__proto__ || Object.getPrototypeOf(TechJudgeScore)).call.apply(_ref, [this].concat(args))), _this), _this.handleSubmission = function (data) {
            _this.props.onSubmit({
                card: data.card === "" ? null : data.card,
                jump_steps: parseInt(data.jump_steps)
            });
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(TechJudgeScore, [{
        key: "makeField",
        value: function makeField(key, label, scale) {
            var read_only = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;

            var value = this.props.score.data.raw_data[key];
            return {
                key: key,
                label: label + ":",
                options: scale,
                defaultValue: value === null ? "" : value.toString(),
                readOnly: read_only
            };
        }
    }, {
        key: "pad",
        value: function pad(num, size) {
            var s = "0000" + num;
            return s.substr(s.length - size);
        }
    }, {
        key: "getTime",
        value: function getTime() {
            var val = this.props.score.data.raw_data.time;
            if (val === null) {
                return "";
            }
            var m = 0,
                s = 0;
            m = Math.floor(val / 60);
            val %= 60;
            s = Math.floor(val);
            return m + ":" + this.pad(s, 2);
        }
    }, {
        key: "render",
        value: function render() {
            var time_field = this.props.score.data.raw_data.time === null ? [["", ""]] : [[this.props.score.data.raw_data.time.toString(), this.getTime()]];
            return React.createElement(_GeneralEditor2.default, {
                fields: [this.makeField("card", "C", [["", ""], ["OK", "OK"], ["YC", "YC"], ["RC", "RC"]]), this.makeField("jump_steps", "JS", (0, _genScale2.default)("numbers", { max: 100 })), this.makeField("time", "T", time_field, true)],
                readOnly: this.props.readOnly,
                onDiscard: this.props.onDiscard,
                onSubmit: this.handleSubmission
            });
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                score: PT.shape({
                    data: PT.shape({
                        raw_data: PT.shape({
                            jump_steps: PT.number.isRequired,
                            card: PT.oneOf(["OK", "YC", "RC"]),
                            time: PT.number
                        }).isRequired
                    }).isRequired
                }).isRequired,
                readOnly: PT.bool.isRequired,
                onDiscard: PT.func.isRequired,
                onSubmit: PT.func.isRequired
            };
        }
    }]);

    return TechJudgeScore;
}(React.PureComponent);

exports.default = TechJudgeScore;


TechJudgeScore.displayName = "rules_sets_rosfarr_AdminScoreInput_Editor_TechJudgeScore";

},{"./GeneralEditor":18,"./genScale":23}],23:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
function genScale(type, user_params) {
    var optional = type[0] === "?";
    if (optional) {
        type = type.slice(1);
    }
    var result = [];
    switch (type) {
        case "reduction":
            result = [100, 75, 50, 25, 10, 5, 0].map(function (s) {
                return [s.toString(), "-" + s + "%"];
            });
            break;
        case "numbers":
            {
                var params = Object.assign({
                    min: 0,
                    max: 10,
                    step: 1
                }, user_params);
                var fraction_size = Math.abs(params.step - Math.round(params.step)) < 1e-5 ? 0 : 1;
                for (var score = params.min; score < params.max + 1e-5; score += params.step) {
                    var str = score.toFixed(fraction_size);
                    result.push([str, str]);
                }
                break;
            }
        default:
            console.error("Unknown scale type: " + type);
    }
    if (optional) {
        result = [["", ""]].concat(result);
    }
    return result;
}

exports.default = genScale;

},{}],24:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _getScoringType = require("common/getScoringType");

var _getScoringType2 = _interopRequireDefault(_getScoringType);

var _ConfirmationButton = require("./ConfirmationButton");

var _ConfirmationButton2 = _interopRequireDefault(_ConfirmationButton);

var _AcroScore = require("./AcroScore");

var _AcroScore2 = _interopRequireDefault(_AcroScore);

var _DanceScore = require("./DanceScore");

var _DanceScore2 = _interopRequireDefault(_DanceScore);

var _FormationScore = require("./FormationScore");

var _FormationScore2 = _interopRequireDefault(_FormationScore);

var _FormationAcroScore = require("./FormationAcroScore");

var _FormationAcroScore2 = _interopRequireDefault(_FormationAcroScore);

var _SimplifiedScore = require("./SimplifiedScore");

var _SimplifiedScore2 = _interopRequireDefault(_SimplifiedScore);

var _SoloScore = require("./SoloScore");

var _SoloScore2 = _interopRequireDefault(_SoloScore);

var _HeadJudgeScore = require("./HeadJudgeScore");

var _HeadJudgeScore2 = _interopRequireDefault(_HeadJudgeScore);

var _TechJudgeScore = require("./TechJudgeScore");

var _TechJudgeScore2 = _interopRequireDefault(_TechJudgeScore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Editor = function (_React$PureComponent) {
    _inherits(Editor, _React$PureComponent);

    function Editor() {
        _classCallCheck(this, Editor);

        return _possibleConstructorReturn(this, (Editor.__proto__ || Object.getPrototypeOf(Editor)).apply(this, arguments));
    }

    _createClass(Editor, [{
        key: "renderBody",
        value: function renderBody(scoring_type) {
            var score_props = {
                score: this.props.score,
                readOnly: this.props.readOnly,
                onSubmit: this.props.onSubmit,
                onDiscard: this.props.onDiscard
            };
            switch (scoring_type) {
                case "acro":
                    return React.createElement(_AcroScore2.default, score_props);
                case "dance":
                    return React.createElement(_DanceScore2.default, score_props);
                case "formation":
                    return React.createElement(_FormationScore2.default, score_props);
                case "formation_acro":
                    return React.createElement(_FormationAcroScore2.default, score_props);
                case "simplified":
                    return React.createElement(_SimplifiedScore2.default, score_props);
                case "solo":
                    return React.createElement(_SoloScore2.default, score_props);
                case "head":
                    return React.createElement(_HeadJudgeScore2.default, score_props);
                case "tech":
                    return React.createElement(_TechJudgeScore2.default, score_props);
                default:
                    console.error("Unknown scoring type: " + scoring_type);
            }
        }
    }, {
        key: "renderConfirmationButton",
        value: function renderConfirmationButton(scoring_type) {
            if (this.props.readOnly || scoring_type === "head") {
                return null;
            }
            return React.createElement(_ConfirmationButton2.default, {
                confirmed: this.props.score.confirmed,
                onConfirmationToggle: this.props.onConfirmationToggle
            });
        }
    }, {
        key: "render",
        value: function render() {
            var scoring_type = (0, _getScoringType2.default)(this.props.disciplineJudge, this.props.tour.scoring_system_name);
            return React.createElement(
                "div",
                { className: "AdminScoreInput" },
                this.renderBody(scoring_type),
                this.renderConfirmationButton(scoring_type)
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                disciplineJudge: PT.object.isRequired,
                readOnly: PT.bool.isRequired,
                score: PT.object.isRequired,
                tour: PT.shape({
                    scoring_system_name: PT.string.isRequired
                }).isRequired,
                onConfirmationToggle: PT.func.isRequired,
                onDiscard: PT.func.isRequired,
                onSubmit: PT.func.isRequired
            };
        }
    }]);

    return Editor;
}(React.PureComponent);

exports.default = Editor;


Editor.displayName = "rules_sets_rosfarr_AdminScoreInput_Editor";

},{"./AcroScore":12,"./ConfirmationButton":13,"./DanceScore":14,"./FormationAcroScore":15,"./FormationScore":16,"./HeadJudgeScore":19,"./SimplifiedScore":20,"./SoloScore":21,"./TechJudgeScore":22,"common/getScoringType":97}],25:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _Editor = require("./Editor");

var _Editor2 = _interopRequireDefault(_Editor);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var AdminScoreInput = function (_React$PureComponent) {
    _inherits(AdminScoreInput, _React$PureComponent);

    function AdminScoreInput() {
        _classCallCheck(this, AdminScoreInput);

        return _possibleConstructorReturn(this, (AdminScoreInput.__proto__ || Object.getPrototypeOf(AdminScoreInput)).apply(this, arguments));
    }

    _createClass(AdminScoreInput, [{
        key: "render",
        value: function render() {
            if (!this.props.editing) {
                if (this.props.disciplineJudge.role === "head_judge") {
                    var result = this.props.score.data.raw_data.penalty === null ? "" : this.props.score.data.total_score;
                    if (this.props.score.data.raw_data.nexttour) {
                        result += "/NT";
                    }
                    return React.createElement(
                        "span",
                        null,
                        result
                    );
                }
                if (this.props.disciplineJudge.role === "tech_judge") {
                    return React.createElement(
                        "span",
                        null,
                        this.props.score.data.total_score
                    );
                }
                return React.createElement(
                    "span",
                    null,
                    this.props.score.data.total_score.toFixed(2)
                );
            } else {
                return React.createElement(_Editor2.default, {
                    disciplineJudge: this.props.disciplineJudge,
                    readOnly: this.props.readOnly,
                    score: this.props.score,
                    tour: this.props.tour,
                    onConfirmationToggle: this.props.onConfirmationToggle,
                    onDiscard: this.props.onDiscard,
                    onSubmit: this.props.onSubmit
                });
            }
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                disciplineJudge: PT.shape({
                    role: PT.string.isRequired
                }).isRequired,
                editing: PT.bool.isRequired,
                readOnly: PT.bool.isRequired,
                score: PT.shape({
                    data: PT.shape({
                        raw_data: PT.object.isRequired,
                        total_score: PT.oneOfType([PT.number.isRequired, PT.string.isRequired]).isRequired
                    }).isRequired
                }).isRequired,
                tour: PT.object.isRequired,
                onConfirmationToggle: PT.func.isRequired,
                onDiscard: PT.func.isRequired,
                onSubmit: PT.func.isRequired
            };
        }
    }]);

    return AdminScoreInput;
}(React.PureComponent);

exports.default = AdminScoreInput;


AdminScoreInput.displayName = "rules_sets_rosfarr_AdminScoreInput";

},{"./Editor":24}],26:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DisciplineResultsTable = function (_React$PureComponent) {
    _inherits(DisciplineResultsTable, _React$PureComponent);

    function DisciplineResultsTable() {
        _classCallCheck(this, DisciplineResultsTable);

        return _possibleConstructorReturn(this, (DisciplineResultsTable.__proto__ || Object.getPrototypeOf(DisciplineResultsTable)).apply(this, arguments));
    }

    _createClass(DisciplineResultsTable, [{
        key: "renderRowHeader",
        value: function renderRowHeader(prev_row, next_row) {
            var need_render = typeof prev_row === "undefined" || prev_row.tour.id !== next_row.tour.id;
            if (!need_render) {
                return null;
            }
            return React.createElement(
                "tr",
                { key: "H" + next_row.run.id },
                React.createElement(
                    "th",
                    { className: "tour-name", colSpan: "6" },
                    React.createElement(
                        "p",
                        { className: "text-center" },
                        next_row.tour.name
                    )
                )
            );
        }
    }, {
        key: "renderRow",
        value: function renderRow(row) {
            var p = row.run.participant;
            return React.createElement(
                "tr",
                { key: "R" + row.run.id },
                React.createElement(
                    "td",
                    { className: "w-8 place" },
                    React.createElement(
                        "p",
                        { className: "text-center" },
                        row.run.disqualified ? (0, _l10n2.default)("results.labels.dq") : row.place === null ? "" : row.place
                    )
                ),
                React.createElement(
                    "td",
                    { className: "w-8 number" },
                    React.createElement(
                        "p",
                        { className: "text-center" },
                        p.number
                    )
                ),
                React.createElement(
                    "td",
                    { className: "w-36", colSpan: "2" },
                    React.createElement(
                        "table",
                        { className: "sportsmen" },
                        React.createElement(
                            "tbody",
                            null,
                            p.formation_name ? React.createElement(
                                "tr",
                                null,
                                React.createElement(
                                    "th",
                                    { colSpan: "2" },
                                    React.createElement(
                                        "p",
                                        { className: "text-left" },
                                        p.formation_name
                                    )
                                )
                            ) : null,
                            p.sportsmen.map(function (s, idx) {
                                return React.createElement(
                                    "tr",
                                    { key: idx },
                                    React.createElement(
                                        "td",
                                        { className: "w-75" },
                                        React.createElement(
                                            "p",
                                            null,
                                            s.last_name + " " + s.first_name,
                                            s.substitute ? React.createElement(
                                                "i",
                                                null,
                                                " (",
                                                (0, _l10n2.default)("results.labels.sub"),
                                                ".)"
                                            ) : null
                                        )
                                    ),
                                    React.createElement(
                                        "td",
                                        { className: "w-25" },
                                        React.createElement(
                                            "p",
                                            { className: "text-center" },
                                            s.year_of_birth
                                        )
                                    )
                                );
                            })
                        )
                    )
                ),
                React.createElement(
                    "td",
                    { className: "w-24 club" },
                    React.createElement(
                        "p",
                        null,
                        p.club.name
                    )
                ),
                React.createElement(
                    "td",
                    { className: "w-24 coaches" },
                    React.createElement(
                        "p",
                        null,
                        p.coaches.split(",").map(function (c) {
                            return [c.trim(), React.createElement("br", { key: "X" })];
                        })
                    )
                )
            );
        }
    }, {
        key: "renderRows",
        value: function renderRows() {
            var result = [];
            var table = this.props.table;
            for (var i = 0; i < table.length; ++i) {
                var header = this.renderRowHeader(table[i - 1], table[i]);
                if (header !== null) {
                    result.push(header);
                }
                result.push(this.renderRow(table[i]));
            }
            return result;
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "DisciplineResultsTable" },
                React.createElement(
                    "table",
                    { className: "bordered-table" },
                    React.createElement(
                        "thead",
                        null,
                        React.createElement(
                            "tr",
                            null,
                            React.createElement(
                                "th",
                                { className: "w-8" },
                                React.createElement(
                                    "p",
                                    null,
                                    (0, _l10n2.default)("results.labels.place")
                                )
                            ),
                            React.createElement(
                                "th",
                                { className: "w-8" },
                                React.createElement(
                                    "p",
                                    null,
                                    (0, _l10n2.default)("results.labels.number")
                                )
                            ),
                            React.createElement(
                                "th",
                                { className: "w-27" },
                                React.createElement(
                                    "p",
                                    null,
                                    (0, _l10n2.default)("results.labels.sportsmen")
                                )
                            ),
                            React.createElement(
                                "th",
                                { className: "w-9" },
                                React.createElement(
                                    "p",
                                    null,
                                    (0, _l10n2.default)("results.labels.sportsmen_year_of_birth")
                                )
                            ),
                            React.createElement(
                                "th",
                                { className: "w-24" },
                                React.createElement(
                                    "p",
                                    null,
                                    (0, _l10n2.default)("results.labels.participant_club")
                                )
                            ),
                            React.createElement(
                                "th",
                                { className: "w-24" },
                                React.createElement(
                                    "p",
                                    null,
                                    (0, _l10n2.default)("results.labels.participant_coaches")
                                )
                            )
                        )
                    ),
                    React.createElement(
                        "tbody",
                        null,
                        this.renderRows()
                    )
                )
            );
        }
    }], [{
        key: "transformDocx",
        value: function transformDocx(docx) {
            docx.addStyle(".tour-name", "background", "#ddd").addStyle(".bordered-table .sportsmen td, .bordered-table .sportsmen th", "border", "none").addStyle(".bordered-table .sportsmen td, .bordered-table .sportsmen th", "padding", "0").addStyle(".sportsmen", "width", "100%");
        }
    }, {
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                table: PT.arrayOf(PT.shape({
                    place: PT.number,
                    run: PT.shape({
                        participant: PT.shape({
                            number: PT.number.isRequired,
                            coaches: PT.string.isRequired,
                            sportsmen: PT.arrayOf(PT.shape({
                                last_name: PT.string.isRequired,
                                first_name: PT.string.isRequired,
                                year_of_birth: PT.number.isRequired,
                                substitute: PT.bool.isRequired
                            })),
                            club: PT.shape({
                                city: PT.string.isRequired,
                                name: PT.string.isRequired
                            }).isRequired
                        }).isRequired
                    }).isRequired,
                    tour: PT.shape({
                        name: PT.string.isRequired
                    }).isRequired
                }).isRequired).isRequired
            };
        }
    }]);

    return DisciplineResultsTable;
}(React.PureComponent);

exports.default = DisciplineResultsTable;


DisciplineResultsTable.displayName = "rules_sets_rosfarr_DisciplineResultsTable";

},{"l10n":99}],27:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.setup = setup;
var Api = exports.Api = null;
var message_dispatcher = exports.message_dispatcher = null;
var storage = exports.storage = null;
var TourResultsLoader = exports.TourResultsLoader = null;
var DisciplineResultsLoader = exports.DisciplineResultsLoader = null;

function setup(data) {
    exports.Api = Api = data.Api;
    exports.message_dispatcher = message_dispatcher = data.message_dispatcher;
    exports.storage = storage = data.storage;
    exports.TourResultsLoader = TourResultsLoader = data.TourResultsLoader;
    exports.DisciplineResultsLoader = DisciplineResultsLoader = data.DisciplineResultsLoader;
}

},{}],28:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _GeneralScale = require("JudgeTablet/GeneralScale");

var _GeneralScale2 = _interopRequireDefault(_GeneralScale);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Element = function (_React$PureComponent) {
    _inherits(Element, _React$PureComponent);

    function Element() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, Element);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Element.__proto__ || Object.getPrototypeOf(Element)).call.apply(_ref, [this].concat(args))), _this), _this.handleChange = function (value) {
            _this.props.onAcroReductionUpdate(_this.props.acroIdx, value);
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(Element, [{
        key: "render",
        value: function render() {
            return React.createElement(_GeneralScale2.default, {
                header: (0, _l10n2.default)("tablet.acro_judge.acro_n", this.props.acroIdx),
                readOnly: this.props.readOnly,
                scale: "reduction",
                value: this.props.reduction,
                onChange: this.handleChange
            });
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                acroIdx: PT.number.isRequired,
                readOnly: PT.bool.isRequired,
                reduction: PT.number,
                onAcroReductionUpdate: PT.func.isRequired
            };
        }
    }]);

    return Element;
}(React.PureComponent);

exports.default = Element;

},{"JudgeTablet/GeneralScale":48,"l10n":99}],29:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _Element = require("./Element");

var _Element2 = _interopRequireDefault(_Element);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Elements = function (_React$PureComponent) {
    _inherits(Elements, _React$PureComponent);

    function Elements() {
        _classCallCheck(this, Elements);

        return _possibleConstructorReturn(this, (Elements.__proto__ || Object.getPrototypeOf(Elements)).apply(this, arguments));
    }

    _createClass(Elements, [{
        key: "render",
        value: function render() {
            var _this2 = this;

            return React.createElement(
                "div",
                null,
                this.props.reductions.map(function (reduction, acro_idx) {
                    return React.createElement(_Element2.default, {
                        acroIdx: acro_idx,
                        key: acro_idx,
                        readOnly: _this2.props.readOnly,
                        reduction: reduction,
                        onAcroReductionUpdate: _this2.props.onAcroReductionUpdate
                    });
                })
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                readOnly: PT.bool.isRequired,
                reductions: PT.array.isRequired,
                onAcroReductionUpdate: PT.func.isRequired
            };
        }
    }]);

    return Elements;
}(React.PureComponent);

exports.default = Elements;

},{"./Element":28}],30:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _IntegerInput = require("tablet_ui/IntegerInput");

var _IntegerInput2 = _interopRequireDefault(_IntegerInput);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Mistakes = function (_React$PureComponent) {
    _inherits(Mistakes, _React$PureComponent);

    function Mistakes() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, Mistakes);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Mistakes.__proto__ || Object.getPrototypeOf(Mistakes)).call.apply(_ref, [this].concat(args))), _this), _this.handleChange = function (value) {
            _this.props.onScoreUpdate("mistakes", value);
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(Mistakes, [{
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "mistakes" },
                React.createElement(
                    "h3",
                    null,
                    (0, _l10n2.default)("tablet.acro_judge.fall_down")
                ),
                React.createElement(_IntegerInput2.default, {
                    readOnly: this.props.readOnly,
                    value: this.props.mistakes,
                    onChange: this.handleChange
                })
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                mistakes: PT.number.isRequired,
                readOnly: PT.bool.isRequired,
                onScoreUpdate: PT.func.isRequired
            };
        }
    }]);

    return Mistakes;
}(React.PureComponent);

exports.default = Mistakes;

},{"l10n":99,"tablet_ui/IntegerInput":5}],31:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _Elements = require("./Elements");

var _Elements2 = _interopRequireDefault(_Elements);

var _Mistakes = require("./Mistakes");

var _Mistakes2 = _interopRequireDefault(_Mistakes);

var _TotalScore = require("JudgeTablet/TotalScore");

var _TotalScore2 = _interopRequireDefault(_TotalScore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ScoringLayout = function (_React$PureComponent) {
    _inherits(ScoringLayout, _React$PureComponent);

    function ScoringLayout() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, ScoringLayout);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ScoringLayout.__proto__ || Object.getPrototypeOf(ScoringLayout)).call.apply(_ref, [this].concat(args))), _this), _this.handleAcroReductionUpdate = function (acro_idx, value) {
            var reductions = _this.props.scoreData.reductions.map(function () {
                return null;
            });
            reductions[acro_idx] = value;
            _this.props.onScoreUpdate("reductions", reductions);
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(ScoringLayout, [{
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                null,
                React.createElement(_Elements2.default, {
                    readOnly: this.props.readOnly,
                    reductions: this.props.scoreData.reductions,
                    onAcroReductionUpdate: this.handleAcroReductionUpdate
                }),
                React.createElement(_Mistakes2.default, {
                    mistakes: this.props.scoreData.mistakes,
                    readOnly: this.props.readOnly,
                    onScoreUpdate: this.props.onScoreUpdate
                }),
                React.createElement(_TotalScore2.default, {
                    score: this.props.score
                })
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                readOnly: PT.bool.isRequired,
                score: PT.object.isRequired,
                scoreData: PT.shape({
                    reductions: PT.any.isRequired,
                    mistakes: PT.any.isRequired
                }).isRequired,
                onScoreUpdate: PT.func.isRequired
            };
        }
    }]);

    return ScoringLayout;
}(React.PureComponent);

exports.default = ScoringLayout;

},{"./Elements":29,"./Mistakes":30,"JudgeTablet/TotalScore":77}],32:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GeneralLayout = require("JudgeTablet/GeneralLayout");

var _GeneralLayout2 = _interopRequireDefault(_GeneralLayout);

var _ScoringLayout = require("./ScoringLayout");

var _ScoringLayout2 = _interopRequireDefault(_ScoringLayout);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var AcrobaticsLayout = function (_React$PureComponent) {
    _inherits(AcrobaticsLayout, _React$PureComponent);

    function AcrobaticsLayout() {
        _classCallCheck(this, AcrobaticsLayout);

        return _possibleConstructorReturn(this, (AcrobaticsLayout.__proto__ || Object.getPrototypeOf(AcrobaticsLayout)).apply(this, arguments));
    }

    _createClass(AcrobaticsLayout, [{
        key: "render",
        value: function render() {
            return React.createElement(_GeneralLayout2.default, _extends({
                layoutClass: _ScoringLayout2.default
            }, this.props));
        }
    }]);

    return AcrobaticsLayout;
}(React.PureComponent);

exports.default = AcrobaticsLayout;

},{"./ScoringLayout":31,"JudgeTablet/GeneralLayout":47}],33:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _makeClassName = require("common/makeClassName");

var _makeClassName2 = _interopRequireDefault(_makeClassName);

var _Slider = require("tablet_ui/Slider");

var _Slider2 = _interopRequireDefault(_Slider);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ConfirmationButton = function (_React$PureComponent) {
    _inherits(ConfirmationButton, _React$PureComponent);

    function ConfirmationButton() {
        _classCallCheck(this, ConfirmationButton);

        return _possibleConstructorReturn(this, (ConfirmationButton.__proto__ || Object.getPrototypeOf(ConfirmationButton)).apply(this, arguments));
    }

    _createClass(ConfirmationButton, [{
        key: "getClassName",
        value: function getClassName() {
            return (0, _makeClassName2.default)({
                "confirm": true,
                "hidden": !this.props.canConfirm
            });
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: this.getClassName() },
                React.createElement(_Slider2.default, {
                    done: this.props.confirmed,
                    doneText: (0, _l10n2.default)("tablet.global.confirmed"),
                    slideText: (0, _l10n2.default)("tablet.global.confirm_score"),
                    onActivate: this.props.onConfirm
                })
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                canConfirm: PT.bool.isRequired,
                confirmed: PT.bool.isRequired,
                onConfirm: PT.func.isRequired
            };
        }
    }, {
        key: "defaultProps",
        get: function get() {
            return {
                canConfirm: true
            };
        }
    }]);

    return ConfirmationButton;
}(React.PureComponent);

exports.default = ConfirmationButton;

},{"common/makeClassName":4,"l10n":99,"tablet_ui/Slider":9}],34:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _IntegerInput = require("tablet_ui/IntegerInput");

var _IntegerInput2 = _interopRequireDefault(_IntegerInput);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Mistakes = function (_React$PureComponent) {
    _inherits(Mistakes, _React$PureComponent);

    function Mistakes() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, Mistakes);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Mistakes.__proto__ || Object.getPrototypeOf(Mistakes)).call.apply(_ref, [this].concat(args))), _this), _this.handleSmallMistakesChange = function (value) {
            _this.props.onScoreUpdate("small_mistakes", value);
        }, _this.handleBigMistakesChange = function (value) {
            _this.props.onScoreUpdate("big_mistakes", value);
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(Mistakes, [{
        key: "render",
        value: function render() {
            return React.createElement(
                "table",
                { className: "mistakes full-width" },
                React.createElement(
                    "tbody",
                    null,
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "td",
                            null,
                            React.createElement(
                                "h3",
                                null,
                                (0, _l10n2.default)("tablet.dance_judge.small_mistakes")
                            ),
                            React.createElement(_IntegerInput2.default, {
                                readOnly: this.props.readOnly,
                                value: this.props.scoreData.small_mistakes,
                                onChange: this.handleSmallMistakesChange
                            })
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement(
                                "h3",
                                null,
                                (0, _l10n2.default)("tablet.dance_judge.big_mistakes")
                            ),
                            React.createElement(_IntegerInput2.default, {
                                readOnly: this.props.readOnly,
                                value: this.props.scoreData.big_mistakes,
                                onChange: this.handleBigMistakesChange
                            })
                        )
                    )
                )
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                readOnly: PT.bool.isRequired,
                scoreData: PT.shape({
                    small_mistakes: PT.number.isRequired,
                    big_mistakes: PT.number.isRequired
                }).isRequired,
                onScoreUpdate: PT.func.isRequired
            };
        }
    }]);

    return Mistakes;
}(React.PureComponent);

exports.default = Mistakes;

},{"l10n":99,"tablet_ui/IntegerInput":5}],35:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _Mistakes = require("./Mistakes");

var _Mistakes2 = _interopRequireDefault(_Mistakes);

var _GeneralScale = require("JudgeTablet/GeneralScale");

var _GeneralScale2 = _interopRequireDefault(_GeneralScale);

var _TotalScore = require("JudgeTablet/TotalScore");

var _TotalScore2 = _interopRequireDefault(_TotalScore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ScoringLayout = function (_React$PureComponent) {
    _inherits(ScoringLayout, _React$PureComponent);

    function ScoringLayout() {
        _classCallCheck(this, ScoringLayout);

        return _possibleConstructorReturn(this, (ScoringLayout.__proto__ || Object.getPrototypeOf(ScoringLayout)).apply(this, arguments));
    }

    _createClass(ScoringLayout, [{
        key: "renderPart",
        value: function renderPart(code, scale) {
            var additional_props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

            return React.createElement(_GeneralScale2.default, _extends({
                code: code,
                header: (0, _l10n2.default)("tablet.dance_judge." + code),
                readOnly: this.props.readOnly,
                scale: scale,
                value: this.props.scoreData[code],
                onChange: this.props.onScoreUpdate
            }, additional_props));
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                null,
                this.renderPart("fw_woman", "reduction"),
                this.renderPart("fw_man", "reduction"),
                this.renderPart("dance_figs", "point5", { min: 0, max: 10, step: 0.5 }),
                this.renderPart("composition", "point5", { min: 0, max: 10, step: 0.5 }),
                React.createElement(_Mistakes2.default, {
                    readOnly: this.props.readOnly,
                    scoreData: this.props.scoreData,
                    onScoreUpdate: this.props.onScoreUpdate
                }),
                React.createElement(_TotalScore2.default, {
                    score: this.props.score
                })
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                readOnly: PT.bool.isRequired,
                score: PT.object.isRequired,
                scoreData: PT.object.isRequired,
                onScoreUpdate: PT.func.isRequired
            };
        }
    }]);

    return ScoringLayout;
}(React.PureComponent);

exports.default = ScoringLayout;

},{"./Mistakes":34,"JudgeTablet/GeneralScale":48,"JudgeTablet/TotalScore":77,"l10n":99}],36:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GeneralLayout = require("JudgeTablet/GeneralLayout");

var _GeneralLayout2 = _interopRequireDefault(_GeneralLayout);

var _ScoringLayout = require("./ScoringLayout");

var _ScoringLayout2 = _interopRequireDefault(_ScoringLayout);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DancingLayout = function (_React$PureComponent) {
    _inherits(DancingLayout, _React$PureComponent);

    function DancingLayout() {
        _classCallCheck(this, DancingLayout);

        return _possibleConstructorReturn(this, (DancingLayout.__proto__ || Object.getPrototypeOf(DancingLayout)).apply(this, arguments));
    }

    _createClass(DancingLayout, [{
        key: "render",
        value: function render() {
            return React.createElement(_GeneralLayout2.default, _extends({
                layoutClass: _ScoringLayout2.default
            }, this.props));
        }
    }]);

    return DancingLayout;
}(React.PureComponent);

exports.default = DancingLayout;

},{"./ScoringLayout":35,"JudgeTablet/GeneralLayout":47}],37:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _onTouchOrClick = require("tablet_ui/onTouchOrClick");

var _onTouchOrClick2 = _interopRequireDefault(_onTouchOrClick);

var _makeClassName = require("common/makeClassName");

var _makeClassName2 = _interopRequireDefault(_makeClassName);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Button = function (_React$PureComponent) {
    _inherits(Button, _React$PureComponent);

    function Button() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, Button);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Button.__proto__ || Object.getPrototypeOf(Button)).call.apply(_ref, [this].concat(args))), _this), _this.handleClick = function () {
            _this.props.onClick(_this.props.mkey);
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(Button, [{
        key: "getClassName",
        value: function getClassName() {
            return (0, _makeClassName2.default)({
                "btn": true,
                "active": this.props.active
            });
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "button",
                _extends({
                    className: this.getClassName()
                }, (0, _onTouchOrClick2.default)(this.handleClick)),
                this.props.label
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                active: PT.bool.isRequired,
                label: PT.string.isRequired,
                mkey: PT.any.isRequired,
                onClick: PT.func.isRequired
            };
        }
    }]);

    return Button;
}(React.PureComponent);

exports.default = Button;

},{"common/makeClassName":4,"tablet_ui/onTouchOrClick":11}],38:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var FooterItem = function (_React$PureComponent) {
    _inherits(FooterItem, _React$PureComponent);

    function FooterItem() {
        _classCallCheck(this, FooterItem);

        return _possibleConstructorReturn(this, (FooterItem.__proto__ || Object.getPrototypeOf(FooterItem)).apply(this, arguments));
    }

    _createClass(FooterItem, [{
        key: "render",
        value: function render() {
            return null;
        }
    }]);

    return FooterItem;
}(React.PureComponent);

exports.default = FooterItem;

},{}],39:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _Button = require("./Button");

var _Button2 = _interopRequireDefault(_Button);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Footer = function (_React$PureComponent) {
    _inherits(Footer, _React$PureComponent);

    function Footer() {
        _classCallCheck(this, Footer);

        return _possibleConstructorReturn(this, (Footer.__proto__ || Object.getPrototypeOf(Footer)).apply(this, arguments));
    }

    _createClass(Footer, [{
        key: "render",
        value: function render() {
            var _this2 = this;

            return React.createElement(
                "footer",
                null,
                React.Children.map(this.props.children, function (btn) {
                    return React.createElement(_Button2.default, _extends({
                        active: _this2.props.value === btn.props.mkey,
                        key: btn.props.mkey,
                        onClick: _this2.props.onChange
                    }, btn.props));
                })
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                children: PT.node.isRequired,
                value: PT.any.isRequired,
                onChange: PT.func.isRequired
            };
        }
    }]);

    return Footer;
}(React.PureComponent);

exports.default = Footer;


Footer.displayName = "rules_sets_rosfarr_JudgeTablet_Footer";

},{"./Button":37}],40:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _IntegerInput = require("tablet_ui/IntegerInput");

var _IntegerInput2 = _interopRequireDefault(_IntegerInput);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Mistakes = function (_React$PureComponent) {
    _inherits(Mistakes, _React$PureComponent);

    function Mistakes() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, Mistakes);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Mistakes.__proto__ || Object.getPrototypeOf(Mistakes)).call.apply(_ref, [this].concat(args))), _this), _this.handleSmallMistakesChange = function (value) {
            _this.props.onScoreUpdate("small_mistakes", value);
        }, _this.handleBigMistakesChange = function (value) {
            _this.props.onScoreUpdate("big_mistakes", value);
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(Mistakes, [{
        key: "render",
        value: function render() {
            return React.createElement(
                "table",
                { className: "mistakes full-width" },
                React.createElement(
                    "tbody",
                    null,
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "td",
                            null,
                            React.createElement(
                                "h3",
                                null,
                                (0, _l10n2.default)("tablet.dance_judge.form_small_mistakes")
                            ),
                            React.createElement(_IntegerInput2.default, {
                                readOnly: this.props.readOnly,
                                value: this.props.scoreData.small_mistakes,
                                onChange: this.handleSmallMistakesChange
                            })
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement(
                                "h3",
                                null,
                                (0, _l10n2.default)("tablet.dance_judge.form_big_mistakes")
                            ),
                            React.createElement(_IntegerInput2.default, {
                                readOnly: this.props.readOnly,
                                value: this.props.scoreData.big_mistakes,
                                onChange: this.handleBigMistakesChange
                            })
                        )
                    )
                )
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                readOnly: PT.bool.isRequired,
                scoreData: PT.shape({
                    small_mistakes: PT.number.isRequired,
                    big_mistakes: PT.number.isRequired
                }).isRequired,
                onScoreUpdate: PT.func.isRequired
            };
        }
    }]);

    return Mistakes;
}(React.PureComponent);

exports.default = Mistakes;

},{"l10n":99,"tablet_ui/IntegerInput":5}],41:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _Mistakes = require("./Mistakes");

var _Mistakes2 = _interopRequireDefault(_Mistakes);

var _GeneralScale = require("JudgeTablet/GeneralScale");

var _GeneralScale2 = _interopRequireDefault(_GeneralScale);

var _TotalScore = require("JudgeTablet/TotalScore");

var _TotalScore2 = _interopRequireDefault(_TotalScore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ScoringLayout = function (_React$PureComponent) {
    _inherits(ScoringLayout, _React$PureComponent);

    function ScoringLayout() {
        _classCallCheck(this, ScoringLayout);

        return _possibleConstructorReturn(this, (ScoringLayout.__proto__ || Object.getPrototypeOf(ScoringLayout)).apply(this, arguments));
    }

    _createClass(ScoringLayout, [{
        key: "renderPart",
        value: function renderPart(code, scale) {
            var additional_props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

            return React.createElement(_GeneralScale2.default, _extends({
                code: code,
                header: (0, _l10n2.default)("tablet.dance_judge." + code),
                readOnly: this.props.readOnly,
                scale: scale,
                value: this.props.scoreData[code],
                onChange: this.props.onScoreUpdate
            }, additional_props));
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                null,
                this.renderPart("acrobatics", "point5", { min: 0, max: 10 }),
                this.renderPart("dance_tech", "point5", { min: 0, max: 10 }),
                this.renderPart("dance_figs", "point5", { min: 0, max: 10 }),
                this.renderPart("impression", "point5", { min: 0, max: 10 }),
                React.createElement(_Mistakes2.default, {
                    readOnly: this.props.readOnly,
                    scoreData: this.props.scoreData,
                    onScoreUpdate: this.props.onScoreUpdate
                }),
                React.createElement(_TotalScore2.default, {
                    readOnly: this.props.readOnly,
                    score: this.props.score
                })
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                readOnly: PT.bool.isRequired,
                score: PT.object.isRequired,
                scoreData: PT.object.isRequired,
                onScoreUpdate: PT.func.isRequired
            };
        }
    }]);

    return ScoringLayout;
}(React.PureComponent);

exports.default = ScoringLayout;

},{"./Mistakes":40,"JudgeTablet/GeneralScale":48,"JudgeTablet/TotalScore":77,"l10n":99}],42:[function(require,module,exports){
arguments[4][36][0].apply(exports,arguments)
},{"./ScoringLayout":41,"JudgeTablet/GeneralLayout":47,"dup":36}],43:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _IntegerInput = require("tablet_ui/IntegerInput");

var _IntegerInput2 = _interopRequireDefault(_IntegerInput);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Mistakes = function (_React$PureComponent) {
    _inherits(Mistakes, _React$PureComponent);

    function Mistakes() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, Mistakes);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Mistakes.__proto__ || Object.getPrototypeOf(Mistakes)).call.apply(_ref, [this].concat(args))), _this), _this.handleChange = function (value) {
            _this.props.onScoreUpdate("mistakes", value);
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(Mistakes, [{
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "mistakes" },
                React.createElement(
                    "h3",
                    null,
                    (0, _l10n2.default)("tablet.dance_judge.form_mistakes")
                ),
                React.createElement(_IntegerInput2.default, {
                    readOnly: this.props.readOnly,
                    value: this.props.scoreData.mistakes,
                    onChange: this.handleChange
                })
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                readOnly: PT.bool.isRequired,
                scoreData: PT.shape({
                    mistakes: PT.number.isRequired
                }).isRequired,
                onScoreUpdate: PT.func.isRequired
            };
        }
    }]);

    return Mistakes;
}(React.PureComponent);

exports.default = Mistakes;

},{"l10n":99,"tablet_ui/IntegerInput":5}],44:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _Mistakes = require("./Mistakes");

var _Mistakes2 = _interopRequireDefault(_Mistakes);

var _GeneralScale = require("JudgeTablet/GeneralScale");

var _GeneralScale2 = _interopRequireDefault(_GeneralScale);

var _TotalScore = require("JudgeTablet/TotalScore");

var _TotalScore2 = _interopRequireDefault(_TotalScore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ScoringLayout = function (_React$PureComponent) {
    _inherits(ScoringLayout, _React$PureComponent);

    function ScoringLayout() {
        _classCallCheck(this, ScoringLayout);

        return _possibleConstructorReturn(this, (ScoringLayout.__proto__ || Object.getPrototypeOf(ScoringLayout)).apply(this, arguments));
    }

    _createClass(ScoringLayout, [{
        key: "renderPart",
        value: function renderPart(code, scale) {
            var additional_props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

            return React.createElement(_GeneralScale2.default, _extends({
                code: code,
                header: (0, _l10n2.default)("tablet.dance_judge." + code),
                readOnly: this.props.readOnly,
                scale: scale,
                value: this.props.scoreData[code],
                onChange: this.props.onScoreUpdate
            }, additional_props));
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                null,
                this.renderPart("dance_tech", "point5", { min: 0, max: 10 }),
                this.renderPart("dance_figs", "point5", { min: 0, max: 10 }),
                this.renderPart("impression", "point5", { min: 0, max: 10 }),
                React.createElement(_Mistakes2.default, {
                    readOnly: this.props.readOnly,
                    scoreData: this.props.scoreData,
                    onScoreUpdate: this.props.onScoreUpdate
                }),
                React.createElement(_TotalScore2.default, {
                    score: this.props.score
                })
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                readOnly: PT.bool.isRequired,
                score: PT.object.isRequired,
                scoreData: PT.object.isRequired,
                onScoreUpdate: PT.func.isRequired
            };
        }
    }]);

    return ScoringLayout;
}(React.PureComponent);

exports.default = ScoringLayout;

},{"./Mistakes":43,"JudgeTablet/GeneralScale":48,"JudgeTablet/TotalScore":77,"l10n":99}],45:[function(require,module,exports){
arguments[4][36][0].apply(exports,arguments)
},{"./ScoringLayout":44,"JudgeTablet/GeneralLayout":47,"dup":36}],46:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Participant = function (_React$PureComponent) {
    _inherits(Participant, _React$PureComponent);

    function Participant() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, Participant);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Participant.__proto__ || Object.getPrototypeOf(Participant)).call.apply(_ref, [this].concat(args))), _this), _this.handleScoreUpdate = function (key, value) {
            if (_this.props.score.confirmed) {
                return;
            }
            var score_data = {};
            score_data[key] = value;
            _this.props.onScoreUpdate(_this.props.score.id, score_data);
        }, _this.handleAcroReductionUpdate = function (acro_idx, value) {
            if (_this.props.score.confirmed) {
                return;
            }
            var reductions = _this.props.score.data.raw_data.reductions.map(function () {
                return null;
            });
            reductions[acro_idx] = value;
            _this.onScoreUpdate("reductions", reductions);
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(Participant, [{
        key: "renderScoringLayout",
        value: function renderScoringLayout() {
            var score_data = this.props.score.data.raw_data;
            var ScoringComponent = this.props.layoutClass;
            if (this.props.score === null) {
                return React.createElement("div", null);
            }
            return React.createElement(ScoringComponent, {
                readOnly: this.props.score.confirmed,
                score: this.props.score,
                scoreData: score_data,
                onScoreUpdate: this.handleScoreUpdate
            });
        }
    }, {
        key: "renderNotOkStatusMessage",
        value: function renderNotOkStatusMessage() {
            return React.createElement(
                "div",
                { className: "not-performing" },
                this.props.run.status === "NP" ? (0, _l10n2.default)("tablet.global.not_performing") : (0, _l10n2.default)("tablet.global.disqualified")
            );
        }
    }, {
        key: "render",
        value: function render() {
            var header = (0, _l10n2.default)("global.phrases.participant_n", this.props.run.participant.number, this.props.run.participant.name, this.props.run.participant.sportsmen.length);
            return React.createElement(
                "div",
                { className: "layout-participant" },
                React.createElement(
                    "h2",
                    null,
                    header
                ),
                this.props.run.status === "OK" ? this.renderScoringLayout() : this.renderNotOkStatusMessage()
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                disciplineJudge: PT.shape({
                    id: PT.number.isRequired
                }).isRequired,
                layoutClass: PT.func.isRequired,
                run: PT.shape({
                    status: PT.oneOf(["OK", "NP", "DQ"]).isRequired,
                    participant: PT.shape({
                        number: PT.number.isRequired,
                        name: PT.string.isRequired,
                        sportsmen: PT.array.isRequired
                    }).isRequired
                }).isRequired,
                score: PT.shape({
                    id: PT.number.isRequired,
                    confirmed: PT.bool.isRequired,
                    data: PT.shape({
                        raw_data: PT.object.isRequired
                    }).isRequired,
                    discipline_judge_id: PT.number.isRequired
                }).isRequired,
                onScoreUpdate: PT.func.isRequired
            };
        }
    }]);

    return Participant;
}(React.PureComponent);

exports.default = Participant;

},{"l10n":99}],47:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _Header = require("JudgeTablet/Header");

var _Header2 = _interopRequireDefault(_Header);

var _Grid = require("JudgeTablet/Grid");

var _Grid2 = _interopRequireDefault(_Grid);

var _Participant = require("./Participant");

var _Participant2 = _interopRequireDefault(_Participant);

var _ConfirmationButton = require("JudgeTablet/ConfirmationButton");

var _ConfirmationButton2 = _interopRequireDefault(_ConfirmationButton);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var GeneralLayout = function (_React$PureComponent) {
    _inherits(GeneralLayout, _React$PureComponent);

    _createClass(GeneralLayout, null, [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                disciplineJudge: PT.shape({
                    id: PT.number.isRequired,
                    judge: PT.object.isRequired
                }).isRequired,
                layoutClass: PT.func.isRequired,
                tour: PT.shape({
                    id: PT.number.isRequired,
                    runs: PT.arrayOf(PT.shape({
                        heat: PT.number.isRequired,
                        status: PT.oneOf(["OK", "NP", "DQ"]).isRequired,
                        scores: PT.arrayOf(PT.shape({
                            discipline_judge_id: PT.number.isRequired
                        }).isRequired).isRequired
                    }).isRequired).isRequired
                }).isRequired,
                onHeatConfirm: PT.func.isRequired,
                onScoreConfirm: PT.func.isRequired,
                onScoreUpdate: PT.func.isRequired
            };
        }
    }]);

    function GeneralLayout(props) {
        _classCallCheck(this, GeneralLayout);

        var _this = _possibleConstructorReturn(this, (GeneralLayout.__proto__ || Object.getPrototypeOf(GeneralLayout)).call(this, props));

        _this.handleConfirm = function () {
            _this.props.onHeatConfirm(_this.state.heat);
        };

        _this.setHeat = function (heat) {
            return _this.setState({ heat: heat });
        };

        _this.updateHeat = function (delta) {
            return _this.setHeat(_this.state.heat + delta);
        };

        _this.handlePrevHeatClick = function () {
            return _this.updateHeat(-1);
        };

        _this.handleNextHeatClick = function () {
            return _this.updateHeat(1);
        };

        _this.state = {
            heat: _this.getFirstNonConfirmedHeat()
        };
        _this.setupCache();
        return _this;
    }

    _createClass(GeneralLayout, [{
        key: "componentWillReceiveProps",
        value: function componentWillReceiveProps(next_props) {
            if (next_props.tour.id !== this.props.tour.id) {
                var prev_props = this.props;
                this.props = next_props;
                this.setState({
                    heat: this.getFirstNonConfirmedHeat()
                });
                this.props = prev_props;
            }
        }
    }, {
        key: "canConfirm",
        value: function canConfirm() {
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = this.scores.values()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var score = _step.value;

                    var score_data = score.data.raw_data;
                    if (score.confirmed) {
                        continue;
                    }
                    var _iteratorNormalCompletion2 = true;
                    var _didIteratorError2 = false;
                    var _iteratorError2 = undefined;

                    try {
                        for (var _iterator2 = Object.keys(score_data)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                            var key = _step2.value;

                            var value = score_data[key];
                            if (Array.isArray(value)) {
                                if (value.filter(function (a) {
                                    return a === null;
                                }).length !== 0) {
                                    return false;
                                }
                            } else {
                                if (value === null) {
                                    return false;
                                }
                            }
                        }
                    } catch (err) {
                        _didIteratorError2 = true;
                        _iteratorError2 = err;
                    } finally {
                        try {
                            if (!_iteratorNormalCompletion2 && _iterator2.return) {
                                _iterator2.return();
                            }
                        } finally {
                            if (_didIteratorError2) {
                                throw _iteratorError2;
                            }
                        }
                    }
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }

            return true;
        }
    }, {
        key: "getFirstNonConfirmedHeat",
        value: function getFirstNonConfirmedHeat() {
            var _iteratorNormalCompletion3 = true;
            var _didIteratorError3 = false;
            var _iteratorError3 = undefined;

            try {
                for (var _iterator3 = this.props.tour.runs[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
                    var run = _step3.value;
                    var _iteratorNormalCompletion4 = true;
                    var _didIteratorError4 = false;
                    var _iteratorError4 = undefined;

                    try {
                        for (var _iterator4 = run.scores[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
                            var score = _step4.value;

                            if (score.discipline_judge_id === this.props.disciplineJudge.id && !score.confirmed && run.status === "OK") {
                                return run.heat;
                            }
                        }
                    } catch (err) {
                        _didIteratorError4 = true;
                        _iteratorError4 = err;
                    } finally {
                        try {
                            if (!_iteratorNormalCompletion4 && _iterator4.return) {
                                _iterator4.return();
                            }
                        } finally {
                            if (_didIteratorError4) {
                                throw _iteratorError4;
                            }
                        }
                    }
                }
            } catch (err) {
                _didIteratorError3 = true;
                _iteratorError3 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion3 && _iterator3.return) {
                        _iterator3.return();
                    }
                } finally {
                    if (_didIteratorError3) {
                        throw _iteratorError3;
                    }
                }
            }

            return this.heats_count || Math.max.apply(Math, [1].concat(_toConsumableArray(this.props.tour.runs.map(function (run) {
                return run.heat;
            }))));
        }
    }, {
        key: "getScores",
        value: function getScores() {
            var result = new Map();
            var _iteratorNormalCompletion5 = true;
            var _didIteratorError5 = false;
            var _iteratorError5 = undefined;

            try {
                for (var _iterator5 = this.runs[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {
                    var run = _step5.value;

                    result.set(run.id, null);
                    var _iteratorNormalCompletion6 = true;
                    var _didIteratorError6 = false;
                    var _iteratorError6 = undefined;

                    try {
                        for (var _iterator6 = run.scores[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {
                            var score = _step6.value;

                            if (score.discipline_judge_id === this.props.disciplineJudge.id) {
                                result.set(run.id, score);
                                break;
                            }
                        }
                    } catch (err) {
                        _didIteratorError6 = true;
                        _iteratorError6 = err;
                    } finally {
                        try {
                            if (!_iteratorNormalCompletion6 && _iterator6.return) {
                                _iterator6.return();
                            }
                        } finally {
                            if (_didIteratorError6) {
                                throw _iteratorError6;
                            }
                        }
                    }
                }
            } catch (err) {
                _didIteratorError5 = true;
                _iteratorError5 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion5 && _iterator5.return) {
                        _iterator5.return();
                    }
                } finally {
                    if (_didIteratorError5) {
                        throw _iteratorError5;
                    }
                }
            }

            return result;
        }
    }, {
        key: "setupCache",
        value: function setupCache() {
            var _this2 = this;

            this.heats_count = Math.max.apply(Math, [1].concat(_toConsumableArray(this.props.tour.runs.map(function (run) {
                return run.heat;
            }))));
            this.runs = this.props.tour.runs.filter(function (run) {
                return run.heat === _this2.state.heat;
            });
            this.first_non_confirmed_heat = this.getFirstNonConfirmedHeat();
            this.scores = this.getScores();
        }
    }, {
        key: "render",
        value: function render() {
            var _this3 = this;

            this.setupCache();
            return React.createElement(
                "div",
                { className: "rosfarr-JudgeTablet GeneralLayout" },
                React.createElement(_Header2.default, {
                    heat: this.state.heat,
                    heatsCount: this.heats_count,
                    judge: this.props.disciplineJudge.judge,
                    maxHeat: this.first_non_confirmed_heat,
                    tour: this.props.tour,
                    onNextHeatClick: this.handleNextHeatClick,
                    onPrevHeatClick: this.handlePrevHeatClick
                }),
                React.createElement(
                    "div",
                    { className: "body" },
                    React.createElement(
                        _Grid2.default,
                        null,
                        this.runs.map(function (run) {
                            return React.createElement(_Participant2.default, {
                                disciplineJudge: _this3.props.disciplineJudge,
                                key: run.id,
                                layoutClass: _this3.props.layoutClass,
                                run: run,
                                score: _this3.scores.get(run.id),
                                onScoreConfirm: _this3.props.onScoreConfirm,
                                onScoreUpdate: _this3.props.onScoreUpdate
                            });
                        })
                    ),
                    React.createElement(_ConfirmationButton2.default, {
                        canConfirm: this.canConfirm(),
                        confirmed: Array.from(this.scores.values()).every(function (s) {
                            return s.confirmed;
                        }),
                        key: this.state.heat,
                        onConfirm: this.handleConfirm
                    })
                )
            );
        }
    }]);

    return GeneralLayout;
}(React.PureComponent);

exports.default = GeneralLayout;

},{"./Participant":46,"JudgeTablet/ConfirmationButton":33,"JudgeTablet/Grid":49,"JudgeTablet/Header":63}],48:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _NumberSelectorInput = require("tablet_ui/NumberSelectorInput");

var _NumberSelectorInput2 = _interopRequireDefault(_NumberSelectorInput);

var _SelectorInput = require("tablet_ui/SelectorInput");

var _SelectorInput2 = _interopRequireDefault(_SelectorInput);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var GeneralScale = function (_React$PureComponent) {
    _inherits(GeneralScale, _React$PureComponent);

    function GeneralScale() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, GeneralScale);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = GeneralScale.__proto__ || Object.getPrototypeOf(GeneralScale)).call.apply(_ref, [this].concat(args))), _this), _this.handleChange = function (value) {
            if (_this.props.code !== null) {
                _this.props.onChange(_this.props.code, value);
            } else {
                _this.props.onChange(value);
            }
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(GeneralScale, [{
        key: "renderHeader",
        value: function renderHeader() {
            if (this.props.header === null) {
                return null;
            }
            return React.createElement(
                "h3",
                null,
                this.props.header
            );
        }
    }, {
        key: "renderBody",
        value: function renderBody() {
            // eslint-disable-next-line no-unused-vars
            var _props = this.props,
                scale = _props.scale,
                onChange = _props.onChange,
                other_props = _objectWithoutProperties(_props, ["scale", "onChange"]);

            switch (scale) {
                case "point5":
                    return React.createElement(_NumberSelectorInput2.default, _extends({
                        decimalSize: 1,
                        step: 0.5,
                        style: "two-lines",
                        onChange: this.handleChange
                    }, other_props));
                case "integer":
                    return React.createElement(_NumberSelectorInput2.default, _extends({
                        style: "two-lines",
                        onChange: this.handleChange
                    }, other_props));
                case "grid":
                    return React.createElement(_NumberSelectorInput2.default, _extends({
                        style: "grid",
                        onChange: this.handleChange
                    }, other_props));
                case "reduction":
                    return React.createElement(_SelectorInput2.default, _extends({
                        choices: this.POSSIBLIE_REDUCTIONS,
                        style: "one-line",
                        onChange: this.handleChange
                    }, other_props));
                default:
                    console.error("Unknowd scale type: " + scale);
                    return null;
            }
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                null,
                this.renderHeader(),
                this.renderBody()
            );
        }
    }, {
        key: "POSSIBLIE_REDUCTIONS",
        get: function get() {
            return [[100, "-100%"], [75, "-75%"], [50, "-50%"], [25, "-25%"], [10, "-10%"], [5, "-5%"], [0, "-0%"]];
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                code: PT.any,
                header: PT.string,
                scale: PT.oneOf(["point5", "integer", "grid", "reduction"]).isRequired,
                onChange: PT.func.isRequired
            };
        }
    }, {
        key: "defaultProps",
        get: function get() {
            return {
                code: null,
                header: null
            };
        }
    }]);

    return GeneralScale;
}(React.PureComponent);

exports.default = GeneralScale;

},{"tablet_ui/NumberSelectorInput":6,"tablet_ui/SelectorInput":8}],49:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Grid = function (_React$PureComponent) {
    _inherits(Grid, _React$PureComponent);

    function Grid() {
        _classCallCheck(this, Grid);

        return _possibleConstructorReturn(this, (Grid.__proto__ || Object.getPrototypeOf(Grid)).apply(this, arguments));
    }

    _createClass(Grid, [{
        key: "getMaxWidth",
        value: function getMaxWidth() {
            var line_size = this.two_rows ? Math.floor((this.children.length + 1) / 2 + 0.001) : this.children.length;
            return 600 * line_size + "px";
        }
    }, {
        key: "setupCache",
        value: function setupCache() {
            this.children = Array.isArray(this.props.children) ? this.props.children : [this.props.children];
            this.two_rows = this.children.length >= 4;
            this.width_value = this.two_rows ? 99.9 / (this.children.length + 1) * 2 : 99.9 / this.children.length;
            this.width = this.width_value.toFixed(5) + "%";
            this.max_width = this.getMaxWidth();
            this.asym_layout = this.two_rows && this.children.length % 2 === 0;
        }
    }, {
        key: "renderRow",
        value: function renderRow(elements, is_second_row) {
            var _this2 = this;

            if (elements === null) {
                return null;
            }
            var row_width = (elements.length * this.width_value).toFixed(5) + "%";
            var class_name = "grid-row";
            if (!this.asym_layout) {
                class_name += " align-center";
            } else if (is_second_row) {
                class_name += " align-right";
            } else {
                class_name += " align-left";
            }
            return React.createElement(
                "table",
                { className: class_name, style: { width: row_width } },
                React.createElement(
                    "tbody",
                    null,
                    React.createElement(
                        "tr",
                        null,
                        elements.map(function (e, idx) {
                            return React.createElement(
                                "td",
                                {
                                    className: "item",
                                    key: idx,
                                    style: { width: _this2.width }
                                },
                                e
                            );
                        })
                    )
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            this.setupCache();
            var class_name = this.two_rows ? "Grid two-rows" : "Grid";
            var first_row = this.two_rows ? this.children.filter(function (x, idx) {
                return idx % 2 === 0;
            }) : this.children;
            var second_row = this.two_rows ? this.children.filter(function (x, idx) {
                return idx % 2 === 1;
            }) : null;
            return React.createElement(
                "div",
                { className: class_name, style: { maxWidth: this.max_width } },
                this.renderRow(first_row, false),
                this.renderRow(second_row, true)
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                children: PT.node.isRequired
            };
        }
    }]);

    return Grid;
}(React.PureComponent);

exports.default = Grid;

},{}],50:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _onTouchOrClick = require("tablet_ui/onTouchOrClick");

var _onTouchOrClick2 = _interopRequireDefault(_onTouchOrClick);

var _showConfirm = require("common/dialogs/showConfirm");

var _showConfirm2 = _interopRequireDefault(_showConfirm);

var _closeDialog = require("common/dialogs/closeDialog");

var _closeDialog2 = _interopRequireDefault(_closeDialog);

var _HostModules = require("HostModules");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ActionsPage = function (_React$PureComponent) {
    _inherits(ActionsPage, _React$PureComponent);

    function ActionsPage() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, ActionsPage);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ActionsPage.__proto__ || Object.getPrototypeOf(ActionsPage)).call.apply(_ref, [this].concat(args))), _this), _this.stopTour = function () {
            (0, _showConfirm2.default)((0, _l10n2.default)("tablet.confirms.stop_tour"), function () {
                if (_this.props.tour) {
                    (0, _HostModules.Api)("tour.stop", {
                        tour_id: _this.props.tour.id
                    }).onSuccess(_closeDialog2.default).send();
                }
            });
        }, _this.finalizeTour = function () {
            (0, _showConfirm2.default)((0, _l10n2.default)("tablet.confirms.finalize_tour"), function () {
                if (_this.props.tour) {
                    (0, _HostModules.Api)("tour.finalize", {
                        tour_id: _this.props.tour.id
                    }).onSuccess(_closeDialog2.default).send();
                }
            });
        }, _this.stopTourAndStartNext = function () {
            (0, _showConfirm2.default)((0, _l10n2.default)("tablet.confirms.stop_tour_and_start_next"), function () {
                if (_this.props.tour) {
                    var tour_id = _this.props.tour.id;
                    (0, _HostModules.Api)("tour.stop", { tour_id: tour_id }).onSuccess(function () {
                        (0, _HostModules.Api)("tour.start_next_after", {
                            tour_id: tour_id
                        }).onSuccess(_closeDialog2.default).send();
                    }).send();
                }
            });
        }, _this.finalizeTourAndStartNext = function () {
            (0, _showConfirm2.default)((0, _l10n2.default)("tablet.confirms.finalize_tour_and_start_next"), function () {
                if (_this.props.tour) {
                    var tour_id = _this.props.tour.id;
                    (0, _HostModules.Api)("tour.finalize", {
                        tour_id: tour_id
                    }).onSuccess(function () {
                        (0, _HostModules.Api)("tour.start_next_after", {
                            tour_id: tour_id
                        }).onSuccess(_closeDialog2.default).send();
                    }).send();
                }
            });
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(ActionsPage, [{
        key: "hasUnconfirmedScores",
        value: function hasUnconfirmedScores() {
            var runs = this.props.tour.runs;
            if (runs.length === 0) {
                return false;
            }
            var latest_heat = runs[runs.length - 1].heat;
            if (latest_heat === runs[0].heat) {
                return false;
            }
            var latest_runs = runs.filter(function (r) {
                return r.heat === latest_heat;
            });
            var prev_runs = runs.filter(function (r) {
                return r.heat === latest_heat - 1;
            });
            var scores = new Map();
            var process_run = function process_run(run, type) {
                var _iteratorNormalCompletion = true;
                var _didIteratorError = false;
                var _iteratorError = undefined;

                try {
                    for (var _iterator = run.scores[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                        var score = _step.value;

                        var dj_id = score.discipline_judge_id;
                        if (!scores.has(dj_id)) {
                            scores.set(dj_id, {
                                latest: 0,
                                prev: 0
                            });
                        }
                        if (score.confirmed) {
                            ++scores.get(dj_id)[type];
                        }
                    }
                } catch (err) {
                    _didIteratorError = true;
                    _iteratorError = err;
                } finally {
                    try {
                        if (!_iteratorNormalCompletion && _iterator.return) {
                            _iterator.return();
                        }
                    } finally {
                        if (_didIteratorError) {
                            throw _iteratorError;
                        }
                    }
                }
            };
            var _iteratorNormalCompletion2 = true;
            var _didIteratorError2 = false;
            var _iteratorError2 = undefined;

            try {
                for (var _iterator2 = latest_runs[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                    var run = _step2.value;

                    process_run(run, "latest");
                }
            } catch (err) {
                _didIteratorError2 = true;
                _iteratorError2 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion2 && _iterator2.return) {
                        _iterator2.return();
                    }
                } finally {
                    if (_didIteratorError2) {
                        throw _iteratorError2;
                    }
                }
            }

            var _iteratorNormalCompletion3 = true;
            var _didIteratorError3 = false;
            var _iteratorError3 = undefined;

            try {
                for (var _iterator3 = prev_runs[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
                    var _run = _step3.value;

                    process_run(_run, "prev");
                }
            } catch (err) {
                _didIteratorError3 = true;
                _iteratorError3 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion3 && _iterator3.return) {
                        _iterator3.return();
                    }
                } finally {
                    if (_didIteratorError3) {
                        throw _iteratorError3;
                    }
                }
            }

            var _iteratorNormalCompletion4 = true;
            var _didIteratorError4 = false;
            var _iteratorError4 = undefined;

            try {
                for (var _iterator4 = scores.values()[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
                    var stats = _step4.value;

                    if (stats.prev > 0 && stats.latest < latest_runs.length) {
                        return true;
                    }
                }
            } catch (err) {
                _didIteratorError4 = true;
                _iteratorError4 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion4 && _iterator4.return) {
                        _iterator4.return();
                    }
                } finally {
                    if (_didIteratorError4) {
                        throw _iteratorError4;
                    }
                }
            }

            return false;
        }
    }, {
        key: "renderWarning",
        value: function renderWarning() {
            if (!this.hasUnconfirmedScores()) {
                return null;
            }
            return React.createElement(
                "div",
                { className: "warning" },
                React.createElement(
                    "div",
                    { className: "content" },
                    (0, _l10n2.default)("tablet.alerts.has_unconfirmed_scores")
                )
            );
        }
    }, {
        key: "renderButton",
        value: function renderButton(code, callback) {
            return React.createElement(
                "button",
                _extends({
                    type: "button"
                }, (0, _onTouchOrClick2.default)(callback)),
                (0, _l10n2.default)("tablet.buttons." + code)
            );
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "body actions" },
                this.renderWarning(),
                this.renderButton("stop_tour", this.stopTour),
                this.renderButton("finalize_tour", this.finalizeTour),
                this.renderButton("stop_tour_and_start_next", this.stopTourAndStartNext),
                this.renderButton("finalize_tour_and_start_next", this.finalizeTourAndStartNext)
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                tour: PT.shape({
                    id: PT.number.isRequired,
                    runs: PT.arrayOf(PT.shape({
                        heat: PT.number.isRequired,
                        scores: PT.arrayOf(PT.shape({
                            discipline_judge_id: PT.number.isRequired,
                            confirmed: PT.bool.isRequired
                        }).isRequired).isRequired
                    }).isRequired).isRequired
                })
            };
        }
    }]);

    return ActionsPage;
}(React.PureComponent);

exports.default = ActionsPage;

},{"HostModules":27,"common/dialogs/closeDialog":2,"common/dialogs/showConfirm":3,"l10n":99,"tablet_ui/onTouchOrClick":11}],51:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ActobaticOverrides = function (_React$PureComponent) {
    _inherits(ActobaticOverrides, _React$PureComponent);

    function ActobaticOverrides() {
        _classCallCheck(this, ActobaticOverrides);

        return _possibleConstructorReturn(this, (ActobaticOverrides.__proto__ || Object.getPrototypeOf(ActobaticOverrides)).apply(this, arguments));
    }

    _createClass(ActobaticOverrides, [{
        key: "getAcrobaticOverrides",
        value: function getAcrobaticOverrides() {
            return this.props.run.acrobatics.map(function (acro, idx) {
                return { idx: idx + 1, acrobatic: acro };
            }).filter(function (acro) {
                return acro.acrobatic.original_score !== acro.acrobatic.score;
            });
        }
    }, {
        key: "render",
        value: function render() {
            var acrobatic_overrides = this.getAcrobaticOverrides();
            if (acrobatic_overrides.length === 0) {
                return null;
            }
            return React.createElement(
                "div",
                { className: "acrobatic-overrides" },
                React.createElement("div", { className: "spacer" }),
                React.createElement(
                    "h3",
                    null,
                    (0, _l10n2.default)("tablet.head_judge.acrobatic_overrides")
                ),
                React.createElement(
                    "table",
                    null,
                    React.createElement(
                        "tbody",
                        null,
                        acrobatic_overrides.map(function (acro) {
                            return React.createElement(
                                "tr",
                                { key: acro.idx },
                                React.createElement(
                                    "td",
                                    { className: "w-5 idx" },
                                    acro.idx
                                ),
                                React.createElement(
                                    "td",
                                    { className: "description" },
                                    acro.acrobatic.description
                                ),
                                React.createElement(
                                    "td",
                                    { className: "w-10 original-score" },
                                    acro.acrobatic.original_score.toFixed(1)
                                ),
                                React.createElement(
                                    "td",
                                    { className: "w-5 arrow" },
                                    "\u2192"
                                ),
                                React.createElement(
                                    "td",
                                    { className: "w-10 score" },
                                    acro.acrobatic.score.toFixed(1)
                                )
                            );
                        })
                    )
                )
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                run: PT.shape({
                    acrobatics: PT.arrayOf(PT.shape({
                        acrobatic: PT.shape({
                            original_score: PT.number.isRequired,
                            score: PT.number.isRequired
                        }).isRequired
                    }).isRequired).isRequired
                }).isRequired
            };
        }
    }]);

    return ActobaticOverrides;
}(React.PureComponent);

exports.default = ActobaticOverrides;

},{"l10n":99}],52:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _SelectorInput = require("tablet_ui/SelectorInput");

var _SelectorInput2 = _interopRequireDefault(_SelectorInput);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var CardInput = function (_React$PureComponent) {
    _inherits(CardInput, _React$PureComponent);

    function CardInput() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, CardInput);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = CardInput.__proto__ || Object.getPrototypeOf(CardInput)).call.apply(_ref, [this].concat(args))), _this), _this.handleChange = function (value) {
            _this.props.onScoreUpdate("card", value);
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(CardInput, [{
        key: "render",
        value: function render() {
            var cards = [["OK", (0, _l10n2.default)("tablet.head_judge.ok")], ["YC", (0, _l10n2.default)("tablet.head_judge.yellow_card")], ["RC", (0, _l10n2.default)("tablet.head_judge.red_card")]];
            return React.createElement(
                "div",
                null,
                React.createElement(
                    "h3",
                    null,
                    (0, _l10n2.default)("tablet.head_judge.card")
                ),
                React.createElement(_SelectorInput2.default, {
                    choices: cards,
                    value: this.props.score.data.raw_data.card,
                    onChange: this.handleChange
                })
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                score: PT.shape({
                    data: PT.shape({
                        raw_data: PT.shape({
                            card: PT.string
                        }).isRequired
                    }).isRequired
                }).isRequired,
                scoringSystemName: PT.string.isRequired,
                onScoreUpdate: PT.func.isRequired
            };
        }
    }]);

    return CardInput;
}(React.PureComponent);

exports.default = CardInput;

},{"l10n":99,"tablet_ui/SelectorInput":8}],53:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _VerboseJudgeScore = require("common/VerboseJudgeScore");

var _VerboseJudgeScore2 = _interopRequireDefault(_VerboseJudgeScore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Item = function (_React$PureComponent) {
    _inherits(Item, _React$PureComponent);

    function Item() {
        _classCallCheck(this, Item);

        return _possibleConstructorReturn(this, (Item.__proto__ || Object.getPrototypeOf(Item)).apply(this, arguments));
    }

    _createClass(Item, [{
        key: "renderVerboseScore",
        value: function renderVerboseScore() {
            if (!this.props.showVerbose) {
                return null;
            }
            return React.createElement(
                "div",
                { className: "verbose-score" },
                React.createElement(
                    "div",
                    { className: "judge-name" },
                    this.props.judge.name
                ),
                React.createElement(_VerboseJudgeScore2.default, {
                    disciplineJudge: this.props.disciplineJudge,
                    score: this.props.score,
                    tour: this.props.tour
                }),
                React.createElement("div", { className: "triangle" })
            );
        }
    }, {
        key: "render",
        value: function render() {
            var confirmed = this.props.score && this.props.score.confirmed;
            return React.createElement(
                "td",
                { className: confirmed ? "confirmed" : "" },
                this.props.score ? this.props.score.data.total_score.toFixed(2) : "",
                this.renderVerboseScore()
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                disciplineJudge: PT.object.isRequired,
                judge: PT.shape({
                    name: PT.string.isRequired
                }).isRequired,
                score: PT.shape({
                    confirmed: PT.bool.isRequired,
                    data: PT.shape({
                        total_score: PT.number.isRequired
                    }).isRequired
                }).isRequired,
                showVerbose: PT.bool.isRequired,
                tour: PT.object.isRequired
            };
        }
    }]);

    return Item;
}(React.PureComponent);

exports.default = Item;

},{"common/VerboseJudgeScore":95}],54:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _Item = require("./Item");

var _Item2 = _interopRequireDefault(_Item);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var LineJudgeScore = function (_React$PureComponent) {
    _inherits(LineJudgeScore, _React$PureComponent);

    _createClass(LineJudgeScore, null, [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                disciplineJudges: PT.arrayOf(PT.shape({
                    role: PT.string.isRequired
                }).isRequired).isRequired,
                run: PT.shape({
                    scores: PT.arrayOf(PT.shape({
                        discipline_judge_id: PT.number.isRequired
                    }).isRequired).isRequired
                }).isRequired,
                tour: PT.object.isRequired
            };
        }
    }]);

    function LineJudgeScore(props) {
        _classCallCheck(this, LineJudgeScore);

        var _this = _possibleConstructorReturn(this, (LineJudgeScore.__proto__ || Object.getPrototypeOf(LineJudgeScore)).call(this, props));

        _this.makeScoresRowRef = function (ref) {
            return _this._scores_row = ref;
        };

        _this.handleShowVerboseScore = function (event) {
            event.preventDefault();
            var position_obj = event.touches ? event.touches[0] : event;
            var target = _this._scores_row;
            var rect = target.getBoundingClientRect();
            var offset = position_obj.clientX - rect.left;
            var selected_idx = Math.floor(offset / (target.offsetWidth / _this.scores.length));
            _this.setState({
                verboseIdx: selected_idx
            });
        };

        _this.handleHideVerboseScore = function (event) {
            event.preventDefault();
            _this.setState({ verboseIdx: null });
        };

        _this.state = {
            verboseIdx: null
        };
        return _this;
    }

    _createClass(LineJudgeScore, [{
        key: "setupCache",
        value: function setupCache() {
            var _this2 = this;

            this.line_judges = this.props.disciplineJudges.filter(function (dj) {
                return ["dance_judge", "acro_judge"].includes(dj.role);
            });
            this.line_judges_index = new Map(this.line_judges.map(function (dj) {
                return [dj.id, dj];
            }));
            this.scores = this.props.run.scores.filter(function (score) {
                return _this2.line_judges_index.has(score.discipline_judge_id);
            });
        }
    }, {
        key: "renderNumbers",
        value: function renderNumbers() {
            var _this3 = this;

            return this.scores.map(function (score) {
                var dj = _this3.line_judges_index.get(score.discipline_judge_id);
                return React.createElement(
                    "td",
                    { key: score.id },
                    "" + dj.judge.number + (dj.role === "acro_judge" ? " (A)" : "")
                );
            });
        }
    }, {
        key: "renderScores",
        value: function renderScores() {
            var _this4 = this;

            return this.scores.map(function (score, idx) {
                var dj = _this4.line_judges_index.get(score.discipline_judge_id);
                return React.createElement(_Item2.default, {
                    disciplineJudge: dj,
                    judge: dj.judge,
                    key: dj.id,
                    score: score,
                    showVerbose: _this4.state.verboseIdx === idx,
                    tour: _this4.props.tour
                });
            });
        }
    }, {
        key: "render",
        value: function render() {
            this.setupCache();
            return React.createElement(
                "div",
                null,
                React.createElement(
                    "h3",
                    null,
                    (0, _l10n2.default)("tablet.head_judge.dance_judge_scores")
                ),
                React.createElement(
                    "table",
                    { className: "line-judge-scores" },
                    React.createElement(
                        "tbody",
                        null,
                        React.createElement(
                            "tr",
                            { className: "numbers" },
                            this.renderNumbers()
                        ),
                        React.createElement(
                            "tr",
                            {
                                className: "scores",
                                ref: this.makeScoresRowRef,
                                onMouseMove: this.handleShowVerboseScore,
                                onMouseOut: this.handleHideVerboseScore,
                                onMouseUp: this.handleHideVerboseScore,
                                onTouchCancel: this.handleHideVerboseScore,
                                onTouchEnd: this.handleHideVerboseScore,
                                onTouchMove: this.handleShowVerboseScore,
                                onTouchStart: this.handleShowVerboseScore
                            },
                            this.renderScores()
                        )
                    )
                )
            );
        }
    }]);

    return LineJudgeScore;
}(React.PureComponent);

exports.default = LineJudgeScore;

},{"./Item":53,"l10n":99}],55:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var PreviousCards = function (_React$PureComponent) {
    _inherits(PreviousCards, _React$PureComponent);

    function PreviousCards() {
        _classCallCheck(this, PreviousCards);

        return _possibleConstructorReturn(this, (PreviousCards.__proto__ || Object.getPrototypeOf(PreviousCards)).apply(this, arguments));
    }

    _createClass(PreviousCards, [{
        key: "render",
        value: function render() {
            if (!this.props.run.inherited_data.cards || this.props.run.inherited_data.cards.length === 0) {
                return React.createElement("div", null);
            }
            return React.createElement(
                "div",
                null,
                React.createElement(
                    "h3",
                    null,
                    (0, _l10n2.default)("tablet.head_judge.previous_cards")
                ),
                React.createElement(
                    "table",
                    { className: "full-width" },
                    React.createElement(
                        "tbody",
                        null,
                        this.props.run.inherited_data.cards.map(function (d, idx) {
                            return React.createElement(
                                "tr",
                                { key: idx },
                                React.createElement(
                                    "td",
                                    { className: "w-10 text-center" },
                                    React.createElement(
                                        "strong",
                                        null,
                                        (0, _l10n2.default)("results.cards.short_" + d.card)
                                    )
                                ),
                                React.createElement(
                                    "td",
                                    null,
                                    d.tour
                                )
                            );
                        })
                    )
                )
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                run: PT.shape({
                    inherited_data: PT.shape({
                        cards: PT.arrayOf(PT.shape({
                            tour: PT.string.isRequired,
                            card: PT.string.isRequired
                        }).isRequired) }).isRequired
                }).isRequired
            };
        }
    }]);

    return PreviousCards;
}(React.PureComponent);

exports.default = PreviousCards;

},{"l10n":99}],56:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _onTouchEndOrClick = require("tablet_ui/onTouchEndOrClick");

var _onTouchEndOrClick2 = _interopRequireDefault(_onTouchEndOrClick);

var _HostModules = require("HostModules");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var StatusSwitch = function (_React$PureComponent) {
    _inherits(StatusSwitch, _React$PureComponent);

    function StatusSwitch() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, StatusSwitch);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = StatusSwitch.__proto__ || Object.getPrototypeOf(StatusSwitch)).call.apply(_ref, [this].concat(args))), _this), _this.handleSetStatusOK = function () {
            return _this.changeStatus("OK");
        }, _this.handleSetStatusNP = function () {
            return _this.changeStatus("NP");
        }, _this.handleSetStatusDQ = function () {
            return _this.changeStatus("DQ");
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(StatusSwitch, [{
        key: "changeStatus",
        value: function changeStatus(new_status) {
            (0, _HostModules.Api)("run.set_status", {
                run_id: this.props.run.id,
                status: new_status
            }).send();
        }
    }, {
        key: "renderButton",
        value: function renderButton() {
            if (this.props.run.status === "NP") {
                return React.createElement(
                    "button",
                    _extends({
                        className: "performed",
                        type: "button"
                    }, (0, _onTouchEndOrClick2.default)(this.handleSetStatusOK)),
                    (0, _l10n2.default)("tablet.global.discard_not_performed")
                );
            }
            if (this.props.run.status === "DQ") {
                return React.createElement(
                    "button",
                    _extends({
                        className: "not-disqualified",
                        type: "button"
                    }, (0, _onTouchEndOrClick2.default)(this.handleSetStatusOK)),
                    (0, _l10n2.default)("tablet.global.discard_disqualified")
                );
            }
            return React.createElement(
                "div",
                null,
                React.createElement(
                    "button",
                    _extends({
                        className: "not-performed",
                        type: "button"
                    }, (0, _onTouchEndOrClick2.default)(this.handleSetStatusNP)),
                    (0, _l10n2.default)("tablet.global.mark_not_performed")
                ),
                "\xA0",
                React.createElement(
                    "button",
                    _extends({
                        className: "disqualified",
                        type: "button"
                    }, (0, _onTouchEndOrClick2.default)(this.handleSetStatusDQ)),
                    (0, _l10n2.default)("tablet.global.mark_disqualified")
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "status-switch" },
                this.renderButton()
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                run: PT.shape({
                    id: PT.number.isRequired,
                    status: PT.oneOf(["OK", "NP", "DQ"]).isRequired,
                    disqualified: PT.bool.isRequired
                }).isRequired
            };
        }
    }]);

    return StatusSwitch;
}(React.PureComponent);

exports.default = StatusSwitch;

},{"HostModules":27,"l10n":99,"tablet_ui/onTouchEndOrClick":10}],57:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _makeClassName = require("common/makeClassName");

var _makeClassName2 = _interopRequireDefault(_makeClassName);

var _VerboseJudgeScore = require("common/VerboseJudgeScore");

var _VerboseJudgeScore2 = _interopRequireDefault(_VerboseJudgeScore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Item = function (_React$PureComponent) {
    _inherits(Item, _React$PureComponent);

    function Item() {
        _classCallCheck(this, Item);

        return _possibleConstructorReturn(this, (Item.__proto__ || Object.getPrototypeOf(Item)).apply(this, arguments));
    }

    _createClass(Item, [{
        key: "renderVerboseScore",
        value: function renderVerboseScore() {
            if (!this.props.showVerbose) {
                return null;
            }
            return React.createElement(
                "div",
                { className: "verbose-score" },
                React.createElement(
                    "div",
                    { className: "judge-name" },
                    this.props.judge.name
                ),
                React.createElement(_VerboseJudgeScore2.default, {
                    disciplineJudge: this.props.disciplineJudge,
                    score: this.props.score,
                    tour: this.props.tour
                }),
                React.createElement("div", { className: "triangle" })
            );
        }
    }, {
        key: "getClassName",
        value: function getClassName() {
            var total_score = this.props.score ? this.props.score.data.total_score : 0;
            return (0, _makeClassName2.default)({
                "confirmed": this.props.score && this.props.score.confirmed,
                "green": total_score === "OK",
                "yellow": total_score === "YC",
                "red": total_score === "RC"
            });
        }
    }, {
        key: "render",
        value: function render() {
            var is_formation = ["rosfarr.formation", "rosfarr.formation_acro"].includes(this.props.tour.scoring_system_name);
            var cards = is_formation ? {
                "OK": (0, _l10n2.default)("tablet.tech_judge.ok"),
                "YC": (0, _l10n2.default)("tablet.tech_judge.form_yellow_card"),
                "RC": (0, _l10n2.default)("tablet.tech_judge.form_red_card")
            } : {
                "OK": (0, _l10n2.default)("tablet.tech_judge.ok"),
                "YC": (0, _l10n2.default)("tablet.tech_judge.yellow_card"),
                "RC": (0, _l10n2.default)("tablet.tech_judge.red_card")
            };
            return React.createElement(
                "td",
                { className: this.getClassName() },
                this.props.score && this.props.score.data.raw_data.card ? cards[this.props.score.data.raw_data.card] : "",
                this.renderVerboseScore()
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                disciplineJudge: PT.object.isRequired,
                judge: PT.shape({
                    name: PT.string.isRequired
                }).isRequired,
                score: PT.shape({
                    confirmed: PT.bool.isRequired,
                    data: PT.shape({
                        raw_data: PT.shape({
                            card: PT.string
                        }).isRequired,
                        total_score: PT.oneOfType([PT.number.isRequired, PT.string.isRequired]).isRequired
                    }).isRequired
                }).isRequired,
                showVerbose: PT.bool.isRequired,
                tour: PT.object.isRequired
            };
        }
    }]);

    return Item;
}(React.PureComponent);

exports.default = Item;


Item.displayName = "rules_sets_rosfarr_JudgeTablet_HeadJudgeLayout_HeatsPage_ScoringLayout_TechJudgesScores_Item";

},{"common/VerboseJudgeScore":95,"common/makeClassName":4,"l10n":99}],58:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _Item = require("./Item");

var _Item2 = _interopRequireDefault(_Item);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TechJudgeScore = function (_React$PureComponent) {
    _inherits(TechJudgeScore, _React$PureComponent);

    _createClass(TechJudgeScore, null, [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                disciplineJudges: PT.arrayOf(PT.shape({
                    role: PT.string.isRequired
                }).isRequired).isRequired,
                run: PT.shape({
                    scores: PT.arrayOf(PT.shape({
                        discipline_judge_id: PT.number.isRequired
                    }).isRequired).isRequired
                }).isRequired,
                tour: PT.object.isRequired
            };
        }
    }]);

    function TechJudgeScore(props) {
        _classCallCheck(this, TechJudgeScore);

        var _this = _possibleConstructorReturn(this, (TechJudgeScore.__proto__ || Object.getPrototypeOf(TechJudgeScore)).call(this, props));

        _this.makeScoresRowRef = function (ref) {
            return _this._scores_row = ref;
        };

        _this.handleShowVerboseScore = function (event) {
            event.preventDefault();
            var position_obj = event.touches ? event.touches[0] : event;
            var target = _this._scores_row;
            var rect = target.getBoundingClientRect();
            var offset = position_obj.clientX - rect.left;
            var selected_idx = Math.floor(offset / (target.offsetWidth / _this.scores.length));
            _this.setState({
                verboseIdx: selected_idx
            });
        };

        _this.handleHideVerboseScore = function (event) {
            event.preventDefault();
            _this.setState({ verboseIdx: null });
        };

        _this.state = {
            verboseIdx: null
        };
        return _this;
    }

    _createClass(TechJudgeScore, [{
        key: "setupCache",
        value: function setupCache() {
            var _this2 = this;

            this.tech_judges = this.props.disciplineJudges.filter(function (dj) {
                return dj.role === "tech_judge";
            });
            this.tech_judges_index = new Map(this.tech_judges.map(function (dj) {
                return [dj.id, dj];
            }));
            this.scores = this.props.run.scores.filter(function (score) {
                return _this2.tech_judges_index.has(score.discipline_judge_id);
            });
        }
    }, {
        key: "getStyle",
        value: function getStyle() {
            return {
                maxWidth: 150 * this.tech_judges.length + "px"
            };
        }
    }, {
        key: "renderNumbers",
        value: function renderNumbers() {
            var _this3 = this;

            return this.scores.map(function (score) {
                var dj = _this3.tech_judges_index.get(score.discipline_judge_id);
                return React.createElement(
                    "td",
                    { key: score.id },
                    dj.judge.number
                );
            });
        }
    }, {
        key: "renderScores",
        value: function renderScores() {
            var _this4 = this;

            return this.scores.map(function (score, idx) {
                var dj = _this4.tech_judges_index.get(score.discipline_judge_id);
                return React.createElement(_Item2.default, {
                    disciplineJudge: dj,
                    judge: dj.judge,
                    key: dj.id,
                    score: score,
                    showVerbose: _this4.state.verboseIdx === idx,
                    tour: _this4.props.tour
                });
            });
        }
    }, {
        key: "render",
        value: function render() {
            this.setupCache();
            if (this.tech_judges.length === 0) {
                return React.createElement("div", null);
            }
            return React.createElement(
                "div",
                null,
                React.createElement(
                    "h3",
                    null,
                    (0, _l10n2.default)("tablet.head_judge.tech_judge_scores")
                ),
                React.createElement(
                    "table",
                    { className: "tech-judge-scores", style: this.getStyle() },
                    React.createElement(
                        "tbody",
                        null,
                        React.createElement(
                            "tr",
                            { className: "numbers" },
                            this.renderNumbers()
                        ),
                        React.createElement(
                            "tr",
                            {
                                className: "scores",
                                ref: this.makeScoresRowRef,
                                onMouseMove: this.handleShowVerboseScore,
                                onMouseOut: this.handleHideVerboseScore,
                                onMouseUp: this.handleHideVerboseScore,
                                onTouchCancel: this.handleHideVerboseScore,
                                onTouchEnd: this.handleHideVerboseScore,
                                onTouchMove: this.handleShowVerboseScore,
                                onTouchStart: this.handleShowVerboseScore
                            },
                            this.renderScores()
                        )
                    )
                )
            );
        }
    }]);

    return TechJudgeScore;
}(React.PureComponent);

exports.default = TechJudgeScore;

},{"./Item":57,"l10n":99}],59:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _CardInput = require("./CardInput");

var _CardInput2 = _interopRequireDefault(_CardInput);

var _TechJudgesScores = require("./TechJudgesScores");

var _TechJudgesScores2 = _interopRequireDefault(_TechJudgesScores);

var _LineJudgesScores = require("./LineJudgesScores");

var _LineJudgesScores2 = _interopRequireDefault(_LineJudgesScores);

var _AcrobaticOverrides = require("./AcrobaticOverrides");

var _AcrobaticOverrides2 = _interopRequireDefault(_AcrobaticOverrides);

var _PreviousCards = require("./PreviousCards");

var _PreviousCards2 = _interopRequireDefault(_PreviousCards);

var _StatusSwitch = require("./StatusSwitch");

var _StatusSwitch2 = _interopRequireDefault(_StatusSwitch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ScoringLayout = function (_React$PureComponent) {
    _inherits(ScoringLayout, _React$PureComponent);

    function ScoringLayout() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, ScoringLayout);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ScoringLayout.__proto__ || Object.getPrototypeOf(ScoringLayout)).call.apply(_ref, [this].concat(args))), _this), _this.handleScoreUpdate = function (key, value) {
            var score_data = {};
            score_data[key] = value;
            _this.props.onScoreUpdate(_this.score.id, score_data);
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(ScoringLayout, [{
        key: "getScore",
        value: function getScore() {
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = this.props.run.scores[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var score = _step.value;

                    if (score.discipline_judge_id === this.props.disciplineJudge.id) {
                        return score;
                    }
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }

            return null;
        }
    }, {
        key: "setupCache",
        value: function setupCache() {
            this.score = this.getScore();
        }
    }, {
        key: "render",
        value: function render() {
            this.setupCache();
            if (this.score === null) {
                return React.createElement("div", null);
            }
            var header = (0, _l10n2.default)("global.phrases.participant_n", this.props.run.participant.number, this.props.run.participant.name, this.props.run.participant.sportsmen.length);
            if (this.props.run.status !== "OK") {
                return React.createElement(
                    "div",
                    { className: "layout-participant" },
                    React.createElement(
                        "h2",
                        null,
                        header
                    ),
                    React.createElement(_StatusSwitch2.default, {
                        run: this.props.run
                    })
                );
            }
            return React.createElement(
                "div",
                { className: "layout-participant" },
                React.createElement(
                    "h2",
                    null,
                    header
                ),
                React.createElement(_CardInput2.default, {
                    score: this.score,
                    scoringSystemName: this.props.tour.scoring_system_name,
                    onScoreUpdate: this.handleScoreUpdate
                }),
                React.createElement(_PreviousCards2.default, {
                    run: this.props.run
                }),
                React.createElement("div", { className: "spacer" }),
                React.createElement(_TechJudgesScores2.default, {
                    disciplineJudges: this.props.tour.discipline.discipline_judges,
                    run: this.props.run,
                    tour: this.props.tour
                }),
                React.createElement(_LineJudgesScores2.default, {
                    disciplineJudges: this.props.tour.discipline.discipline_judges,
                    run: this.props.run,
                    tour: this.props.tour
                }),
                React.createElement(_AcrobaticOverrides2.default, {
                    run: this.props.run
                }),
                React.createElement(_StatusSwitch2.default, {
                    run: this.props.run
                })
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                disciplineJudge: PT.shape({
                    id: PT.number.isRequired
                }).isRequired,
                run: PT.shape({
                    status: PT.oneOf(["OK", "NP", "DQ"]).isRequired,
                    participant: PT.shape({
                        number: PT.number.isRequired,
                        name: PT.string.isRequired,
                        sportsmen: PT.array.isRequired
                    }).isRequired,
                    scores: PT.arrayOf(PT.shape({
                        discipline_judge_id: PT.number.isRequired
                    }).isRequired).isRequired
                }).isRequired,
                tour: PT.shape({
                    scoring_system_name: PT.string.isRequired,
                    discipline: PT.shape({
                        discipline_judges: PT.array.isRequired
                    }).isRequired
                }).isRequired,
                onScoreUpdate: PT.func.isRequired
            };
        }
    }]);

    return ScoringLayout;
}(React.PureComponent);

exports.default = ScoringLayout;

},{"./AcrobaticOverrides":51,"./CardInput":52,"./LineJudgesScores":54,"./PreviousCards":55,"./StatusSwitch":56,"./TechJudgesScores":58,"l10n":99}],60:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _Grid = require("JudgeTablet/Grid");

var _Grid2 = _interopRequireDefault(_Grid);

var _ScoringLayout = require("./ScoringLayout");

var _ScoringLayout2 = _interopRequireDefault(_ScoringLayout);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var HeatsPage = function (_React$PureComponent) {
    _inherits(HeatsPage, _React$PureComponent);

    function HeatsPage() {
        _classCallCheck(this, HeatsPage);

        return _possibleConstructorReturn(this, (HeatsPage.__proto__ || Object.getPrototypeOf(HeatsPage)).apply(this, arguments));
    }

    _createClass(HeatsPage, [{
        key: "setupCache",
        value: function setupCache() {
            var _this2 = this;

            this.runs = this.props.tour.runs.filter(function (run) {
                return run.heat === _this2.props.heat;
            });
        }
    }, {
        key: "renderScores",
        value: function renderScores() {
            var _this3 = this;

            return this.runs.map(function (run) {
                return React.createElement(_ScoringLayout2.default, {
                    disciplineJudge: _this3.props.disciplineJudge,
                    key: run.id,
                    run: run,
                    tour: _this3.props.tour,
                    onScoreUpdate: _this3.props.onScoreUpdate
                });
            });
        }
    }, {
        key: "render",
        value: function render() {
            this.setupCache();
            return React.createElement(
                "div",
                { className: "body heats" },
                React.createElement(
                    _Grid2.default,
                    null,
                    this.renderScores()
                )
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                disciplineJudge: PT.object.isRequired,
                heat: PT.number.isRequired,
                tour: PT.object.isRequired,
                onScoreUpdate: PT.func.isRequired
            };
        }
    }]);

    return HeatsPage;
}(React.PureComponent);

exports.default = HeatsPage;

},{"./ScoringLayout":59,"JudgeTablet/Grid":49}],61:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _HostModules = require("HostModules");

var _ResultsTable = require("ResultsTable2");

var _ResultsTable2 = _interopRequireDefault(_ResultsTable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ResultsPage = function (_React$PureComponent) {
    _inherits(ResultsPage, _React$PureComponent);

    function ResultsPage() {
        _classCallCheck(this, ResultsPage);

        return _possibleConstructorReturn(this, (ResultsPage.__proto__ || Object.getPrototypeOf(ResultsPage)).apply(this, arguments));
    }

    _createClass(ResultsPage, [{
        key: "render",


        // Initialization

        value: function render() {
            return React.createElement(
                "div",
                { className: "body results" },
                React.createElement(_HostModules.TourResultsLoader, {
                    renderer: _ResultsTable2.default,
                    tourId: this.props.tour.id
                })
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                tour: PT.shape({
                    id: PT.number.isRequired
                }).isRequired
            };
        }
    }]);

    return ResultsPage;
}(React.PureComponent);

exports.default = ResultsPage;

},{"HostModules":27,"ResultsTable2":83}],62:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _Header = require("JudgeTablet/Header");

var _Header2 = _interopRequireDefault(_Header);

var _Footer = require("JudgeTablet/Footer");

var _Footer2 = _interopRequireDefault(_Footer);

var _FooterItem = require("JudgeTablet/Footer/FooterItem");

var _FooterItem2 = _interopRequireDefault(_FooterItem);

var _HeatsPage = require("./HeatsPage");

var _HeatsPage2 = _interopRequireDefault(_HeatsPage);

var _ResultsPage = require("./ResultsPage");

var _ResultsPage2 = _interopRequireDefault(_ResultsPage);

var _ActionsPage = require("./ActionsPage");

var _ActionsPage2 = _interopRequireDefault(_ActionsPage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var HeadJudgeLayout = function (_React$PureComponent) {
    _inherits(HeadJudgeLayout, _React$PureComponent);

    _createClass(HeadJudgeLayout, null, [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                disciplineJudge: PT.shape({
                    judge: PT.object.isRequired
                }).isRequired,
                tour: PT.shape({
                    id: PT.number.isRequired,
                    runs: PT.arrayOf(PT.shape({
                        heat: PT.number.isRequired
                    })).isRequired
                }).isRequired,
                onScoreUpdate: PT.func.isRequired
            };
        }
    }]);

    function HeadJudgeLayout(props) {
        _classCallCheck(this, HeadJudgeLayout);

        var _this = _possibleConstructorReturn(this, (HeadJudgeLayout.__proto__ || Object.getPrototypeOf(HeadJudgeLayout)).call(this, props));

        _this.setHeat = function (heat) {
            return _this.setState({ heat: heat });
        };

        _this.updateHeat = function (delta) {
            return _this.setHeat(_this.state.heat + delta);
        };

        _this.handlePrevHeatClick = function () {
            return _this.updateHeat(-1);
        };

        _this.handleNextHeatClick = function () {
            return _this.updateHeat(1);
        };

        _this.handlePageChange = function (page) {
            return _this.setState({ page: page });
        };

        _this.state = {
            heat: 1,
            page: "heats"
        };
        return _this;
    }

    _createClass(HeadJudgeLayout, [{
        key: "componentWillReceiveProps",
        value: function componentWillReceiveProps(next_props) {
            if (next_props.tour.id !== this.props.tour.id) {
                this.setState({
                    heat: 1,
                    page: "heats"
                });
            }
        }
    }, {
        key: "getHeatsCount",
        value: function getHeatsCount() {
            return Math.max.apply(Math, [1].concat(_toConsumableArray(this.props.tour.runs.map(function (run) {
                return run.heat;
            }))));
        }
    }, {
        key: "renderHeats",
        value: function renderHeats() {
            return React.createElement(_HeatsPage2.default, {
                disciplineJudge: this.props.disciplineJudge,
                heat: this.state.heat,
                tour: this.props.tour,
                onScoreUpdate: this.props.onScoreUpdate
            });
        }
    }, {
        key: "renderResults",
        value: function renderResults() {
            return React.createElement(_ResultsPage2.default, {
                tour: this.props.tour
            });
        }
    }, {
        key: "renderActions",
        value: function renderActions() {
            return React.createElement(_ActionsPage2.default, {
                tour: this.props.tour
            });
        }
    }, {
        key: "renderHeader",
        value: function renderHeader() {
            var heats_count = this.getHeatsCount();
            return React.createElement(_Header2.default, {
                heat: this.state.heat,
                heatsCount: heats_count,
                hideHeatsButtons: this.state.page !== "heats",
                judge: this.props.disciplineJudge.judge,
                maxHeat: heats_count,
                tour: this.props.tour,
                onNextHeatClick: this.handleNextHeatClick,
                onPrevHeatClick: this.handlePrevHeatClick
            });
        }
    }, {
        key: "renderBody",
        value: function renderBody() {
            switch (this.state.page) {
                case "heats":
                    return this.renderHeats();
                case "results":
                    return this.renderResults();
                case "actions":
                    return this.renderActions();
            }
        }
    }, {
        key: "renderFooter",
        value: function renderFooter() {
            return React.createElement(
                _Footer2.default,
                {
                    value: this.state.page,
                    onChange: this.handlePageChange
                },
                React.createElement(_FooterItem2.default, {
                    label: (0, _l10n2.default)("tablet.pages.heats"),
                    mkey: "heats"
                }),
                React.createElement(_FooterItem2.default, {
                    label: (0, _l10n2.default)("tablet.pages.results"),
                    mkey: "results"
                }),
                React.createElement(_FooterItem2.default, {
                    label: (0, _l10n2.default)("tablet.pages.actions"),
                    mkey: "actions"
                })
            );
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "rosfarr-JudgeTablet HeadJudgeLayout" },
                this.renderHeader(),
                this.renderBody(),
                this.renderFooter()
            );
        }
    }]);

    return HeadJudgeLayout;
}(React.PureComponent);

exports.default = HeadJudgeLayout;

},{"./ActionsPage":50,"./HeatsPage":60,"./ResultsPage":61,"JudgeTablet/Footer":39,"JudgeTablet/Footer/FooterItem":38,"JudgeTablet/Header":63,"l10n":99}],63:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _onTouchEndOrClick = require("tablet_ui/onTouchEndOrClick");

var _onTouchEndOrClick2 = _interopRequireDefault(_onTouchEndOrClick);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Header = function (_React$PureComponent) {
    _inherits(Header, _React$PureComponent);

    function Header() {
        _classCallCheck(this, Header);

        return _possibleConstructorReturn(this, (Header.__proto__ || Object.getPrototypeOf(Header)).apply(this, arguments));
    }

    _createClass(Header, [{
        key: "renderPrevHeatButton",
        value: function renderPrevHeatButton() {
            if (this.props.hideHeatsButtons || this.props.heat <= 1) {
                return React.createElement("div", { className: "button-container" });
            }
            return React.createElement(
                "div",
                { className: "button-container left" },
                React.createElement(
                    "button",
                    (0, _onTouchEndOrClick2.default)(this.props.onPrevHeatClick),
                    (0, _l10n2.default)("tablet.buttons.prev_heat")
                )
            );
        }
    }, {
        key: "renderNextHeatButton",
        value: function renderNextHeatButton() {
            if (this.props.hideHeatsButtons || this.props.heat >= this.props.maxHeat) {
                return React.createElement("div", { className: "button-container" });
            }
            return React.createElement(
                "div",
                { className: "button-container right" },
                React.createElement(
                    "button",
                    (0, _onTouchEndOrClick2.default)(this.props.onNextHeatClick),
                    (0, _l10n2.default)("tablet.buttons.next_heat")
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            var judge_number = this.props.judge.role_description || (0, _l10n2.default)("global.phrases.judge_n", this.props.judge.number);
            return React.createElement(
                "header",
                null,
                this.renderPrevHeatButton(),
                React.createElement(
                    "div",
                    { className: "data" },
                    React.createElement(
                        "div",
                        { className: "box" },
                        React.createElement(
                            "h1",
                            null,
                            judge_number
                        ),
                        React.createElement(
                            "h2",
                            null,
                            this.props.judge.name
                        )
                    ),
                    React.createElement(
                        "div",
                        { className: "box" },
                        React.createElement(
                            "h1",
                            null,
                            this.props.tour.discipline.name
                        ),
                        React.createElement(
                            "h2",
                            null,
                            this.props.tour.name,
                            "\xA0\xA0\xA0\xA0\xA0\xA0\xA0",
                            (0, _l10n2.default)("tablet.global.heat_number", this.props.heat, this.props.heatsCount)
                        )
                    )
                ),
                this.renderNextHeatButton()
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                heat: PT.number.isRequired,
                heatsCount: PT.number.isRequired,
                hideHeatsButtons: PT.bool,
                judge: PT.shape({
                    name: PT.string.isRequired,
                    role_description: PT.string,
                    number: PT.string.isRequired
                }).isRequired,
                maxHeat: PT.number.isRequired,
                tour: PT.shape({
                    name: PT.string.isRequired,
                    discipline: PT.shape({
                        name: PT.string.isRequired
                    }).isRequired
                }).isRequired,
                onNextHeatClick: PT.func.isRequired,
                onPrevHeatClick: PT.func.isRequired
            };
        }
    }, {
        key: "defaultProps",
        get: function get() {
            return {
                hideHeatsButtons: false
            };
        }
    }]);

    return Header;
}(React.PureComponent);

exports.default = Header;

},{"l10n":99,"tablet_ui/onTouchEndOrClick":10}],64:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GeneralScale = require("JudgeTablet/GeneralScale");

var _GeneralScale2 = _interopRequireDefault(_GeneralScale);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ScoringLayout = function (_React$PureComponent) {
    _inherits(ScoringLayout, _React$PureComponent);

    function ScoringLayout() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, ScoringLayout);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ScoringLayout.__proto__ || Object.getPrototypeOf(ScoringLayout)).call.apply(_ref, [this].concat(args))), _this), _this.handleChange = function (value) {
            _this.props.onScoreUpdate("points", value);
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(ScoringLayout, [{
        key: "render",
        value: function render() {
            return React.createElement(_GeneralScale2.default, {
                max: 40,
                min: 1,
                readOnly: this.props.readOnly,
                rowSize: 10,
                scale: "grid",
                value: this.props.scoreData.points,
                onChange: this.handleChange
            });
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                readOnly: PT.bool.isRequired,
                scoreData: PT.shape({
                    points: PT.number
                }).isRequired,
                onScoreUpdate: PT.func.isRequired
            };
        }
    }]);

    return ScoringLayout;
}(React.PureComponent);

exports.default = ScoringLayout;

},{"JudgeTablet/GeneralScale":48}],65:[function(require,module,exports){
arguments[4][36][0].apply(exports,arguments)
},{"./ScoringLayout":64,"JudgeTablet/GeneralLayout":47,"dup":36}],66:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _IntegerInput = require("tablet_ui/IntegerInput");

var _IntegerInput2 = _interopRequireDefault(_IntegerInput);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Mistakes = function (_React$PureComponent) {
    _inherits(Mistakes, _React$PureComponent);

    function Mistakes() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, Mistakes);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Mistakes.__proto__ || Object.getPrototypeOf(Mistakes)).call.apply(_ref, [this].concat(args))), _this), _this.handleSmallMistakesChange = function (value) {
            _this.props.onScoreUpdate("small_mistakes", value);
        }, _this.handleBigMistakesChange = function (value) {
            _this.props.onScoreUpdate("big_mistakes", value);
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(Mistakes, [{
        key: "render",
        value: function render() {
            return React.createElement(
                "table",
                { className: "mistakes full-width" },
                React.createElement(
                    "tbody",
                    null,
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "td",
                            null,
                            React.createElement(
                                "h3",
                                null,
                                (0, _l10n2.default)("tablet.dance_judge.small_mistakes")
                            ),
                            React.createElement(_IntegerInput2.default, {
                                readOnly: this.props.readOnly,
                                value: this.props.scoreData.small_mistakes,
                                onChange: this.handleSmallMistakesChange
                            })
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement(
                                "h3",
                                null,
                                (0, _l10n2.default)("tablet.dance_judge.big_mistakes")
                            ),
                            React.createElement(_IntegerInput2.default, {
                                readOnly: this.props.readOnly,
                                value: this.props.scoreData.big_mistakes,
                                onChange: this.handleBigMistakesChange
                            })
                        )
                    )
                )
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                readOnly: PT.bool.isRequired,
                scoreData: PT.shape({
                    small_mistakes: PT.number.isRequired,
                    big_mistakes: PT.number.isRequired
                }).isRequired,
                onScoreUpdate: PT.func.isRequired
            };
        }
    }]);

    return Mistakes;
}(React.PureComponent);

exports.default = Mistakes;

},{"l10n":99,"tablet_ui/IntegerInput":5}],67:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _Mistakes = require("./Mistakes");

var _Mistakes2 = _interopRequireDefault(_Mistakes);

var _GeneralScale = require("JudgeTablet/GeneralScale");

var _GeneralScale2 = _interopRequireDefault(_GeneralScale);

var _TotalScore = require("JudgeTablet/TotalScore");

var _TotalScore2 = _interopRequireDefault(_TotalScore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ScoringLayout = function (_React$PureComponent) {
    _inherits(ScoringLayout, _React$PureComponent);

    function ScoringLayout() {
        _classCallCheck(this, ScoringLayout);

        return _possibleConstructorReturn(this, (ScoringLayout.__proto__ || Object.getPrototypeOf(ScoringLayout)).apply(this, arguments));
    }

    _createClass(ScoringLayout, [{
        key: "renderPart",
        value: function renderPart(code, scale) {
            var additional_props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

            return React.createElement(_GeneralScale2.default, _extends({
                code: code,
                header: (0, _l10n2.default)("tablet.dance_judge." + code),
                readOnly: this.props.readOnly,
                scale: scale,
                value: this.props.scoreData[code],
                onChange: this.props.onScoreUpdate
            }, additional_props));
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                null,
                this.renderPart("fw", "reduction"),
                this.renderPart("dance_figs", "point5", { min: 0, max: 10, step: 0.5 }),
                this.renderPart("composition", "point5", { min: 0, max: 10, step: 0.5 }),
                React.createElement(_Mistakes2.default, {
                    readOnly: this.props.readOnly,
                    scoreData: this.props.scoreData,
                    onScoreUpdate: this.props.onScoreUpdate
                }),
                React.createElement(_TotalScore2.default, {
                    score: this.props.score
                })
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                readOnly: PT.bool.isRequired,
                score: PT.object.isRequired,
                scoreData: PT.object.isRequired,
                onScoreUpdate: PT.func.isRequired
            };
        }
    }]);

    return ScoringLayout;
}(React.PureComponent);

exports.default = ScoringLayout;

},{"./Mistakes":66,"JudgeTablet/GeneralScale":48,"JudgeTablet/TotalScore":77,"l10n":99}],68:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GeneralLayout = require("JudgeTablet/GeneralLayout");

var _GeneralLayout2 = _interopRequireDefault(_GeneralLayout);

var _ScoringLayout = require("./ScoringLayout");

var _ScoringLayout2 = _interopRequireDefault(_ScoringLayout);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var SoloLayout = function (_React$PureComponent) {
    _inherits(SoloLayout, _React$PureComponent);

    function SoloLayout() {
        _classCallCheck(this, SoloLayout);

        return _possibleConstructorReturn(this, (SoloLayout.__proto__ || Object.getPrototypeOf(SoloLayout)).apply(this, arguments));
    }

    _createClass(SoloLayout, [{
        key: "render",
        value: function render() {
            return React.createElement(_GeneralLayout2.default, _extends({
                layoutClass: _ScoringLayout2.default
            }, this.props));
        }
    }]);

    return SoloLayout;
}(React.PureComponent);

exports.default = SoloLayout;

},{"./ScoringLayout":67,"JudgeTablet/GeneralLayout":47}],69:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _OverrideInput = require("./OverrideInput");

var _OverrideInput2 = _interopRequireDefault(_OverrideInput);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Element = function (_React$PureComponent) {
    _inherits(Element, _React$PureComponent);

    function Element() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, Element);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Element.__proto__ || Object.getPrototypeOf(Element)).call.apply(_ref, [this].concat(args))), _this), _this.handleChange = function (value) {
            _this.props.onAcroOverride(_this.props.idx, value);
        }, _this.formatDescriptionChunk = function (text, idx) {
            if (text === "") {
                return null;
            }
            return idx % 2 === 0 ? React.createElement(
                "span",
                { key: idx },
                text
            ) : React.createElement(
                "span",
                { className: "highlight", key: idx },
                text
            );
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(Element, [{
        key: "renderDescription",
        value: function renderDescription() {
            var chunks = this.props.acro.description.split("_");
            if (chunks.length % 2 === 0) {
                return this.props.acro.description;
            }
            return chunks.map(this.formatDescriptionChunk);
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "tech-judge-acro" },
                React.createElement(
                    "div",
                    { className: "controls" },
                    React.createElement(_OverrideInput2.default, {
                        originalValue: this.props.acro.original_score,
                        readOnly: this.props.readOnly,
                        value: this.props.acro.score,
                        onChange: this.handleChange
                    })
                ),
                React.createElement(
                    "div",
                    { className: "description" },
                    this.renderDescription()
                ),
                React.createElement("div", { className: "clearfix" })
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                acro: PT.shape({
                    score: PT.number.isRequired,
                    original_score: PT.number.isRequired,
                    description: PT.string.isRequired
                }).isRequired,
                idx: PT.number.isRequired,
                readOnly: PT.bool.isRequired,
                onAcroOverride: PT.func.isRequired
            };
        }
    }]);

    return Element;
}(React.PureComponent);

exports.default = Element;

},{"./OverrideInput":70}],70:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _onTouchOrClick = require("tablet_ui/onTouchOrClick");

var _onTouchOrClick2 = _interopRequireDefault(_onTouchOrClick);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var OverrideInput = function (_React$PureComponent) {
    _inherits(OverrideInput, _React$PureComponent);

    function OverrideInput() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, OverrideInput);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = OverrideInput.__proto__ || Object.getPrototypeOf(OverrideInput)).call.apply(_ref, [this].concat(args))), _this), _this.handleMinus = function () {
            if (_this.props.readOnly) {
                return;
            }
            _this.props.onChange(Math.max(_this.props.value - 0.5, 0));
        }, _this.handlePlus = function () {
            if (_this.props.readOnly) {
                return;
            }
            _this.props.onChange(Math.min(_this.props.value + 0.5, _this.props.originalValue));
        }, _this.handleZero = function () {
            if (_this.props.readOnly) {
                return;
            }
            _this.props.onChange(0);
        }, _this.handleRestore = function () {
            if (_this.props.readOnly) {
                return;
            }
            _this.props.onChange(_this.props.originalValue);
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(OverrideInput, [{
        key: "render",
        value: function render() {
            var value_changed = Math.abs(this.props.value - this.props.originalValue);
            return React.createElement(
                "div",
                { className: "tablet-acro-override-input" },
                React.createElement(
                    "div",
                    { className: "buttons" },
                    React.createElement(
                        "button",
                        _extends({
                            className: "btn-zero",
                            disabled: this.props.value < 0.05 || this.props.readOnly
                        }, (0, _onTouchOrClick2.default)(this.handleZero)),
                        "\u21930"
                    ),
                    React.createElement(
                        "button",
                        _extends({
                            className: "btn-restore",
                            disabled: value_changed < 0.05 || this.props.readOnly
                        }, (0, _onTouchOrClick2.default)(this.handleRestore)),
                        "\u2191"
                    ),
                    React.createElement(
                        "button",
                        _extends({
                            className: "btn-minus",
                            disabled: this.props.value < 0.05 || this.props.readOnly
                        }, (0, _onTouchOrClick2.default)(this.handleMinus)),
                        "\u2212"
                    ),
                    React.createElement(
                        "button",
                        _extends({
                            className: "btn-plus",
                            disabled: this.props.originalValue < this.props.value + 0.05 || this.props.readOnly
                        }, (0, _onTouchOrClick2.default)(this.handlePlus)),
                        "+"
                    )
                ),
                React.createElement(
                    "div",
                    { className: "value" },
                    value_changed ? this.props.originalValue.toFixed(1) + " \u2192 " + this.props.value.toFixed(1) : this.props.value.toFixed(1)
                )
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                originalValue: PT.number.isRequired,
                readOnly: PT.bool.isRequired,
                value: PT.number.isRequired,
                onChange: PT.func.isRequired
            };
        }
    }]);

    return OverrideInput;
}(React.PureComponent);

exports.default = OverrideInput;


OverrideInput.displayName = "rules_sets_rosfarr_JudgeTablet_TechJudgeLayout_AcroPage_ScoringLayout_OverrideInput";

},{"tablet_ui/onTouchOrClick":11}],71:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _HostModules = require("HostModules");

var _Element = require("./Element");

var _Element2 = _interopRequireDefault(_Element);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ScoringLayout = function (_React$PureComponent) {
    _inherits(ScoringLayout, _React$PureComponent);

    function ScoringLayout() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, ScoringLayout);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ScoringLayout.__proto__ || Object.getPrototypeOf(ScoringLayout)).call.apply(_ref, [this].concat(args))), _this), _this.handleAcroOverride = function (acro_idx, value) {
            if (_this.props.score.confirmed) {
                return;
            }
            (0, _HostModules.Api)("acrobatic_override.set", {
                run_id: _this.props.run.id,
                acrobatic_idx: acro_idx,
                score: value
            }).send();
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(ScoringLayout, [{
        key: "renderScoringLayout",
        value: function renderScoringLayout() {
            var _this2 = this;

            return React.createElement(
                "div",
                null,
                this.props.run.acrobatics.map(function (acro, idx) {
                    return React.createElement(_Element2.default, {
                        acro: acro,
                        idx: idx,
                        key: idx,
                        readOnly: _this2.props.score.confirmed,
                        onAcroOverride: _this2.handleAcroOverride
                    });
                })
            );
        }
    }, {
        key: "renderNotOkStatusMessage",
        value: function renderNotOkStatusMessage() {
            return React.createElement(
                "div",
                { className: "not-performing" },
                this.props.run.status === "NP" ? (0, _l10n2.default)("tablet.global.not_performing") : (0, _l10n2.default)("tablet.global.disqualified")
            );
        }
    }, {
        key: "render",
        value: function render() {
            if (this.props.score === null) {
                return React.createElement("div", null);
            }
            var header = (0, _l10n2.default)("global.phrases.participant_n", this.props.run.participant.number, this.props.run.participant.name, this.props.run.participant.sportsmen.length);
            return React.createElement(
                "div",
                { className: "layout-participant" },
                React.createElement(
                    "h2",
                    null,
                    header
                ),
                this.props.run.status === "OK" ? this.renderScoringLayout() : this.renderNotOkStatusMessage()
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                disciplineJudge: PT.shape({
                    id: PT.number.isRequired
                }).isRequired,
                run: PT.shape({
                    id: PT.number.isRequired,
                    status: PT.oneOf(["OK", "NP", "DQ"]).isRequired,
                    acrobatics: PT.arrayOf(PT.object.isRequired).isRequired,
                    participant: PT.shape({
                        number: PT.number.isRequired,
                        name: PT.string.isRequired,
                        sportsmen: PT.array.isRequired
                    }).isRequired
                }).isRequired,
                score: PT.shape({
                    confirmed: PT.bool.isRequired,
                    id: PT.number.isRequired,
                    data: PT.object.isRequired
                }).isRequired,
                onScoreConfirm: PT.func.isRequired
            };
        }
    }]);

    return ScoringLayout;
}(React.PureComponent);

exports.default = ScoringLayout;

},{"./Element":69,"HostModules":27,"l10n":99}],72:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _Grid = require("JudgeTablet/Grid");

var _Grid2 = _interopRequireDefault(_Grid);

var _ScoringLayout = require("./ScoringLayout");

var _ScoringLayout2 = _interopRequireDefault(_ScoringLayout);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var AcroPage = function (_React$PureComponent) {
    _inherits(AcroPage, _React$PureComponent);

    function AcroPage() {
        _classCallCheck(this, AcroPage);

        return _possibleConstructorReturn(this, (AcroPage.__proto__ || Object.getPrototypeOf(AcroPage)).apply(this, arguments));
    }

    _createClass(AcroPage, [{
        key: "renderScores",
        value: function renderScores() {
            var _this2 = this;

            return this.props.runs.map(function (run) {
                return React.createElement(_ScoringLayout2.default, {
                    disciplineJudge: _this2.props.disciplineJudge,
                    key: run.id,
                    run: run,
                    score: _this2.props.scores.get(run.id),
                    tour: _this2.props.tour,
                    onScoreConfirm: _this2.props.onScoreConfirm
                });
            });
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                _Grid2.default,
                null,
                this.renderScores()
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                disciplineJudge: PT.object.isRequired,
                runs: PT.arrayOf(PT.shape({
                    id: PT.number.isRequired
                }).isRequired).isRequired,
                scores: PT.instanceOf(Map).isRequired,
                tour: PT.object.isRequired,
                onScoreConfirm: PT.func.isRequired
            };
        }
    }]);

    return AcroPage;
}(React.PureComponent);

exports.default = AcroPage;

},{"./ScoringLayout":71,"JudgeTablet/Grid":49}],73:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _SelectorInput = require("tablet_ui/SelectorInput");

var _SelectorInput2 = _interopRequireDefault(_SelectorInput);

var _IntegerInput = require("tablet_ui/IntegerInput");

var _IntegerInput2 = _interopRequireDefault(_IntegerInput);

var _PreviousCards = require("JudgeTablet/HeadJudgeLayout/HeatsPage/ScoringLayout/PreviousCards");

var _PreviousCards2 = _interopRequireDefault(_PreviousCards);

var _StopWatch = require("./StopWatch");

var _StopWatch2 = _interopRequireDefault(_StopWatch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ScoringLayout = function (_React$PureComponent) {
    _inherits(ScoringLayout, _React$PureComponent);

    function ScoringLayout() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, ScoringLayout);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ScoringLayout.__proto__ || Object.getPrototypeOf(ScoringLayout)).call.apply(_ref, [this].concat(args))), _this), _this.handleScoreChange = function (part, value) {
            var data = {};
            data[part] = value;
            _this.props.onScoreUpdate(_this.props.score.id, data);
        }, _this.handleJumpStepsChange = function (value) {
            return _this.handleScoreChange("jump_steps", value);
        }, _this.handleTimeChange = function (value) {
            return _this.handleScoreChange("time", value);
        }, _this.handleCardChange = function (value) {
            return _this.handleScoreChange("card", value);
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(ScoringLayout, [{
        key: "genOnScoreUpdate",
        value: function genOnScoreUpdate(score_part) {
            var _this2 = this;

            return function (new_value) {
                return _this2.onScoreUpdate(score_part, new_value);
            };
        }
    }, {
        key: "renderScoringLayout",
        value: function renderScoringLayout() {
            var score = this.props.score.data;
            var cards = ["rosfarr.formation", "rosfarr.formation_acro"].includes(this.props.tour.scoring_system_name) ? [[null, ""], ["OK", (0, _l10n2.default)("tablet.tech_judge.ok")], ["YC", (0, _l10n2.default)("tablet.tech_judge.form_yellow_card")], ["RC", (0, _l10n2.default)("tablet.tech_judge.form_red_card")]] : [[null, ""], ["OK", (0, _l10n2.default)("tablet.tech_judge.ok")], ["YC", (0, _l10n2.default)("tablet.tech_judge.yellow_card")], ["RC", (0, _l10n2.default)("tablet.tech_judge.red_card")]];
            return React.createElement(
                "div",
                null,
                React.createElement(
                    "h3",
                    null,
                    (0, _l10n2.default)("tablet.tech_judge.card_type")
                ),
                React.createElement(_SelectorInput2.default, {
                    choices: cards,
                    readOnly: this.props.score.confirmed,
                    value: score.raw_data.card,
                    onChange: this.handleCardChange
                }),
                React.createElement(_PreviousCards2.default, {
                    run: this.props.run
                }),
                React.createElement("div", { className: "spacer" }),
                React.createElement(
                    "div",
                    { className: "jump-steps" },
                    React.createElement(
                        "h3",
                        null,
                        (0, _l10n2.default)("tablet.tech_judge.jump_steps")
                    ),
                    React.createElement(_IntegerInput2.default, {
                        sendDeltas: true,
                        readOnly: this.props.score.confirmed,
                        value: score.raw_data.jump_steps,
                        onChange: this.handleJumpStepsChange
                    }),
                    React.createElement("div", { className: "spacer" })
                ),
                React.createElement(
                    "div",
                    { className: "timing" },
                    React.createElement(
                        "h3",
                        null,
                        (0, _l10n2.default)("tablet.tech_judge.timing")
                    ),
                    React.createElement(_StopWatch2.default, {
                        readOnly: this.props.score.confirmed,
                        scoreId: this.props.score.id,
                        value: score.raw_data.time,
                        onChange: this.handleTimeChange
                    })
                ),
                React.createElement("div", { className: "clearfix" })
            );
        }
    }, {
        key: "renderNotOkStatusMessage",
        value: function renderNotOkStatusMessage() {
            return React.createElement(
                "div",
                { className: "not-performing" },
                this.props.run.status === "NP" ? (0, _l10n2.default)("tablet.global.not_performing") : (0, _l10n2.default)("tablet.global.disqualified")
            );
        }
    }, {
        key: "render",
        value: function render() {
            if (this.props.score === null) {
                return React.createElement("div", null);
            }
            var header = (0, _l10n2.default)("global.phrases.participant_n", this.props.run.participant.number, this.props.run.participant.name, this.props.run.participant.sportsmen.length);
            return React.createElement(
                "div",
                { className: "layout-participant" },
                React.createElement(
                    "h2",
                    null,
                    header
                ),
                this.props.run.status === "OK" ? this.renderScoringLayout() : this.renderNotOkStatusMessage()
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                disciplineJudge: PT.shape({
                    id: PT.number.isRequired
                }).isRequired,
                run: PT.shape({
                    status: PT.oneOf(["OK", "NP", "DQ"]).isRequired,
                    participant: PT.shape({
                        number: PT.number.isRequired,
                        name: PT.string.isRequired,
                        sportsmen: PT.array.isRequired
                    }).isRequired
                }).isRequired,
                score: PT.shape({
                    confirmed: PT.bool.isRequired,
                    id: PT.number.isRequired,
                    data: PT.object.isRequired
                }).isRequired,
                tour: PT.shape({
                    scoring_system_name: PT.string.isRequired
                }).isRequired,
                onScoreUpdate: PT.func.isRequired
            };
        }
    }]);

    return ScoringLayout;
}(React.PureComponent);

exports.default = ScoringLayout;

},{"./StopWatch":74,"JudgeTablet/HeadJudgeLayout/HeatsPage/ScoringLayout/PreviousCards":55,"l10n":99,"tablet_ui/IntegerInput":5,"tablet_ui/SelectorInput":8}],74:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _makeClassName = require("common/makeClassName");

var _makeClassName2 = _interopRequireDefault(_makeClassName);

var _onTouchOrClick = require("tablet_ui/onTouchOrClick");

var _onTouchOrClick2 = _interopRequireDefault(_onTouchOrClick);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var stopwatches = {};

var StopWatch = function (_React$PureComponent) {
    _inherits(StopWatch, _React$PureComponent);

    _createClass(StopWatch, null, [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                scoreId: PT.number.isRequired,
                value: PT.number,
                onChange: PT.func.isRequired,
                readOnly: PT.bool
            };
        }
    }, {
        key: "defaultProps",
        get: function get() {
            return {
                readOnly: false
            };
        }
    }]);

    function StopWatch(props) {
        _classCallCheck(this, StopWatch);

        var _this = _possibleConstructorReturn(this, (StopWatch.__proto__ || Object.getPrototypeOf(StopWatch)).call(this, props));

        _this.handleToggle = function () {
            if (_this.state.active) {
                _this.stop();
            } else {
                _this.start();
            }
        };

        _this.handleReset = function () {
            clearInterval(_this.state.interval);
            _this.setState({
                active: false,
                value: 0
            });
        };

        _this.handleTick = function () {
            var new_value = _this.value();
            if (new_value !== _this.state.value) {
                _this.setState({
                    value: _this.value()
                });
            }
        };

        _this.handleMinus10 = function () {
            return _this.modStart(-10);
        };

        _this.handleMinus1 = function () {
            return _this.modStart(-1);
        };

        _this.handlePlus1 = function () {
            return _this.modStart(1);
        };

        _this.handlePlus10 = function () {
            return _this.modStart(10);
        };

        _this.handleTimeSubmission = function () {
            if (_this.props.readOnly) {
                return;
            }
            _this.props.onChange(Math.floor(_this.state.value / 1000));
        };

        _this.handleTimeDiscard = function () {
            if (_this.props.readOnly) {
                return;
            }
            _this.props.onChange(null);
        };

        var state = stopwatches[_this.props.scoreId] || {
            active: false,
            value: 0,
            interval: null
        };
        if (state.active) {
            state.interval = setInterval(_this.handleTick, 10);
        }
        _this.state = state;
        return _this;
    }

    _createClass(StopWatch, [{
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
            clearInterval(this.state.interval);
            stopwatches[this.props.scoreId] = this.state;
        }
    }, {
        key: "now",
        value: function now() {
            return new Date().getTime();
        }
    }, {
        key: "start",
        value: function start() {
            this.setState({
                active: true,
                start_at: this.now() - this.state.value,
                interval: setInterval(this.handleTick, 10)
            });
        }
    }, {
        key: "stop",
        value: function stop() {
            clearInterval(this.state.interval);
            this.setState({
                active: false,
                value: this.value()
            });
        }
    }, {
        key: "modStart",
        value: function modStart(delta) {
            this.setState({
                start_at: Math.min(this.state.start_at - 1000 * delta, this.now()),
                value: Math.max(0, this.state.value + 1000 * delta)
            });
        }
    }, {
        key: "value",
        value: function value() {
            return this.state.active ? this.now() - this.state.start_at : this.state.value;
        }
    }, {
        key: "pad",
        value: function pad(num, size) {
            var s = "0000" + num;
            return s.substr(s.length - size);
        }
    }, {
        key: "getStrValue",
        value: function getStrValue() {
            var val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;

            val = val === null ? this.value() : val;
            var m = 0,
                s = 0;
            m = Math.floor(val / (60 * 1000));
            val %= 60 * 1000;
            s = Math.floor(val / 1000);
            return m + ":" + this.pad(s, 2);
        }
    }, {
        key: "getToggleButtonClassName",
        value: function getToggleButtonClassName() {
            return (0, _makeClassName2.default)({
                "tbtn": true,
                "btn-toggle": true,
                "ignore-readonly": true,
                "active": this.state.active
            });
        }
    }, {
        key: "getClassName",
        value: function getClassName() {
            return (0, _makeClassName2.default)({
                "stopwatch": true,
                "read-only": this.props.readOnly
            });
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: this.getClassName() },
                React.createElement(
                    "button",
                    _extends({
                        className: this.getToggleButtonClassName()
                    }, (0, _onTouchOrClick2.default)(this.handleToggle)),
                    this.state.active ? (0, _l10n2.default)("tablet.buttons.stop_stopwatch") : (0, _l10n2.default)("tablet.buttons.start_stopwatch")
                ),
                React.createElement(
                    "button",
                    _extends({
                        className: "tbtn btn-reset ignore-readonly"
                    }, (0, _onTouchOrClick2.default)(this.handleReset)),
                    (0, _l10n2.default)("tablet.buttons.reset_stopwatch")
                ),
                React.createElement(
                    "button",
                    _extends({
                        className: "tbtn btn-ctl ignore-readonly"
                    }, (0, _onTouchOrClick2.default)(this.handleMinus10)),
                    "\u221210"
                ),
                React.createElement(
                    "button",
                    _extends({
                        className: "tbtn btn-ctl ignore-readonly"
                    }, (0, _onTouchOrClick2.default)(this.handleMinus1)),
                    "\u22121"
                ),
                React.createElement(
                    "div",
                    { className: "time" },
                    this.getStrValue()
                ),
                React.createElement(
                    "button",
                    _extends({
                        className: "tbtn btn-ctl ignore-readonly"
                    }, (0, _onTouchOrClick2.default)(this.handlePlus1)),
                    "+1"
                ),
                React.createElement(
                    "button",
                    _extends({
                        className: "tbtn btn-ctl ignore-readonly"
                    }, (0, _onTouchOrClick2.default)(this.handlePlus10)),
                    "+10"
                ),
                React.createElement(
                    "button",
                    _extends({
                        className: "tbtn btn-submit-time"
                    }, (0, _onTouchOrClick2.default)(this.handleTimeSubmission)),
                    (0, _l10n2.default)("tablet.buttons.submit_time")
                ),
                this.props.value === null ? null : React.createElement(
                    "button",
                    _extends({
                        className: "tbtn btn-discard-time"
                    }, (0, _onTouchOrClick2.default)(this.handleTimeDiscard)),
                    (0, _l10n2.default)("tablet.buttons.discard_time")
                ),
                React.createElement(
                    "div",
                    { className: "server-time" },
                    (0, _l10n2.default)("tablet.tech_judge.server_time", this.props.value === null ? null : this.getStrValue(this.props.value * 1000))
                )
            );
        }
    }]);

    return StopWatch;
}(React.PureComponent);

exports.default = StopWatch;

},{"common/makeClassName":4,"l10n":99,"tablet_ui/onTouchOrClick":11}],75:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _Grid = require("JudgeTablet/Grid");

var _Grid2 = _interopRequireDefault(_Grid);

var _ScoringLayout = require("./ScoringLayout");

var _ScoringLayout2 = _interopRequireDefault(_ScoringLayout);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DancingPage = function (_React$PureComponent) {
    _inherits(DancingPage, _React$PureComponent);

    function DancingPage() {
        _classCallCheck(this, DancingPage);

        return _possibleConstructorReturn(this, (DancingPage.__proto__ || Object.getPrototypeOf(DancingPage)).apply(this, arguments));
    }

    _createClass(DancingPage, [{
        key: "renderScores",
        value: function renderScores() {
            var _this2 = this;

            return this.props.runs.map(function (run) {
                return React.createElement(_ScoringLayout2.default, {
                    disciplineJudge: _this2.props.disciplineJudge,
                    key: run.id,
                    run: run,
                    score: _this2.props.scores.get(run.id),
                    tour: _this2.props.tour,
                    onScoreUpdate: _this2.props.onScoreUpdate
                });
            });
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                _Grid2.default,
                null,
                this.renderScores()
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                disciplineJudge: PT.object.isRequired,
                runs: PT.arrayOf(PT.shape({
                    id: PT.number.isRequired
                }).isRequired).isRequired,
                scores: PT.instanceOf(Map).isRequired,
                tour: PT.object.isRequired,
                onScoreUpdate: PT.func.isRequired
            };
        }
    }]);

    return DancingPage;
}(React.PureComponent);

exports.default = DancingPage;

},{"./ScoringLayout":73,"JudgeTablet/Grid":49}],76:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _Header = require("JudgeTablet/Header");

var _Header2 = _interopRequireDefault(_Header);

var _Footer = require("JudgeTablet/Footer");

var _Footer2 = _interopRequireDefault(_Footer);

var _FooterItem = require("JudgeTablet/Footer/FooterItem");

var _FooterItem2 = _interopRequireDefault(_FooterItem);

var _ConfirmationButton = require("JudgeTablet/ConfirmationButton");

var _ConfirmationButton2 = _interopRequireDefault(_ConfirmationButton);

var _DancingPage = require("./DancingPage");

var _DancingPage2 = _interopRequireDefault(_DancingPage);

var _AcroPage = require("./AcroPage");

var _AcroPage2 = _interopRequireDefault(_AcroPage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TechJudgeLayout = function (_React$PureComponent) {
    _inherits(TechJudgeLayout, _React$PureComponent);

    _createClass(TechJudgeLayout, null, [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                disciplineJudge: PT.shape({
                    id: PT.number.isRequired,
                    judge: PT.object.isRequired
                }).isRequired,
                tour: PT.shape({
                    id: PT.number.isRequired,
                    scoring_system_name: PT.string.isRequired,
                    runs: PT.arrayOf(PT.shape({
                        heat: PT.number.isRequired,
                        status: PT.oneOf(["OK", "NP", "DQ"]).isRequired,
                        scores: PT.arrayOf(PT.shape({
                            discipline_judge_id: PT.number.isRequired
                        }).isRequired).isRequired
                    }).isRequired).isRequired
                }).isRequired,
                onHeatConfirm: PT.func.isRequired,
                onScoreUpdate: PT.func.isRequired
            };
        }
    }]);

    function TechJudgeLayout(props) {
        _classCallCheck(this, TechJudgeLayout);

        var _this = _possibleConstructorReturn(this, (TechJudgeLayout.__proto__ || Object.getPrototypeOf(TechJudgeLayout)).call(this, props));

        _this.setHeat = function (heat) {
            return _this.setState({ heat: heat });
        };

        _this.updateHeat = function (delta) {
            return _this.setHeat(_this.state.heat + delta);
        };

        _this.handlePrevHeatClick = function () {
            return _this.updateHeat(-1);
        };

        _this.handleNextHeatClick = function () {
            return _this.updateHeat(1);
        };

        _this.handlePageChange = function (page) {
            return _this.setState({ page: page });
        };

        _this.handleConfirm = function () {
            _this.props.onHeatConfirm(_this.state.heat);
        };

        _this.state = {
            heat: _this.getFirstNonConfirmedHeat(),
            page: "dancing"
        };
        return _this;
    }

    _createClass(TechJudgeLayout, [{
        key: "componentWillReceiveProps",
        value: function componentWillReceiveProps(next_props) {
            if (next_props.tour.id !== this.props.tour.id) {
                var prev_props = this.props;
                this.props = next_props;
                this.setState({
                    heat: this.getFirstNonConfirmedHeat(),
                    page: "dancing"
                });
                this.props = prev_props;
            }
        }
    }, {
        key: "getFirstNonConfirmedHeat",
        value: function getFirstNonConfirmedHeat() {
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = this.props.tour.runs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var run = _step.value;
                    var _iteratorNormalCompletion2 = true;
                    var _didIteratorError2 = false;
                    var _iteratorError2 = undefined;

                    try {
                        for (var _iterator2 = run.scores[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                            var score = _step2.value;

                            if (score.discipline_judge_id === this.props.disciplineJudge.id && !score.confirmed && run.status === "OK") {
                                return run.heat;
                            }
                        }
                    } catch (err) {
                        _didIteratorError2 = true;
                        _iteratorError2 = err;
                    } finally {
                        try {
                            if (!_iteratorNormalCompletion2 && _iterator2.return) {
                                _iterator2.return();
                            }
                        } finally {
                            if (_didIteratorError2) {
                                throw _iteratorError2;
                            }
                        }
                    }
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }

            return this.heats_count || Math.max.apply(Math, [1].concat(_toConsumableArray(this.props.tour.runs.map(function (run) {
                return run.heat;
            }))));
        }
    }, {
        key: "getScores",
        value: function getScores() {
            var result = new Map();
            var _iteratorNormalCompletion3 = true;
            var _didIteratorError3 = false;
            var _iteratorError3 = undefined;

            try {
                for (var _iterator3 = this.runs[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
                    var run = _step3.value;

                    result.set(run.id, null);
                    var _iteratorNormalCompletion4 = true;
                    var _didIteratorError4 = false;
                    var _iteratorError4 = undefined;

                    try {
                        for (var _iterator4 = run.scores[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
                            var score = _step4.value;

                            if (score.discipline_judge_id === this.props.disciplineJudge.id) {
                                result.set(run.id, score);
                                break;
                            }
                        }
                    } catch (err) {
                        _didIteratorError4 = true;
                        _iteratorError4 = err;
                    } finally {
                        try {
                            if (!_iteratorNormalCompletion4 && _iterator4.return) {
                                _iterator4.return();
                            }
                        } finally {
                            if (_didIteratorError4) {
                                throw _iteratorError4;
                            }
                        }
                    }
                }
            } catch (err) {
                _didIteratorError3 = true;
                _iteratorError3 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion3 && _iterator3.return) {
                        _iterator3.return();
                    }
                } finally {
                    if (_didIteratorError3) {
                        throw _iteratorError3;
                    }
                }
            }

            return result;
        }
    }, {
        key: "setupCache",
        value: function setupCache() {
            var _this2 = this;

            this.heats_count = Math.max.apply(Math, [1].concat(_toConsumableArray(this.props.tour.runs.map(function (run) {
                return run.heat;
            }))));
            this.runs = this.props.tour.runs.filter(function (run) {
                return run.heat === _this2.state.heat;
            });
            this.first_non_confirmed_heat = this.getFirstNonConfirmedHeat();
            this.scores = this.getScores();
        }
    }, {
        key: "renderDancing",
        value: function renderDancing() {
            return React.createElement(_DancingPage2.default, {
                disciplineJudge: this.props.disciplineJudge,
                runs: this.runs,
                scores: this.scores,
                tour: this.props.tour,
                onScoreUpdate: this.props.onScoreUpdate
            });
        }
    }, {
        key: "renderAcro",
        value: function renderAcro() {
            return React.createElement(_AcroPage2.default, {
                disciplineJudge: this.props.disciplineJudge,
                runs: this.runs,
                scores: this.scores,
                tour: this.props.tour,
                onScoreUpdate: this.props.onScoreUpdate
            });
        }
    }, {
        key: "renderHeader",
        value: function renderHeader() {
            var heats_count = this.heats_count;
            return React.createElement(_Header2.default, {
                heat: this.state.heat,
                heatsCount: heats_count,
                judge: this.props.disciplineJudge.judge,
                maxHeat: this.first_non_confirmed_heat,
                tour: this.props.tour,
                onNextHeatClick: this.handleNextHeatClick,
                onPrevHeatClick: this.handlePrevHeatClick
            });
        }
    }, {
        key: "renderBody",
        value: function renderBody() {
            switch (this.state.page) {
                case "dancing":
                    return this.renderDancing();
                case "acro":
                    return this.renderAcro();
            }
        }
    }, {
        key: "renderFooter",
        value: function renderFooter() {
            if (["rosfarr.acro", "rosfarr.am_qual", "rosfarr.am_final_acro"].indexOf(this.props.tour.scoring_system_name) < 0) {
                return null;
            }
            return React.createElement(
                _Footer2.default,
                { value: this.state.page, onChange: this.handlePageChange },
                React.createElement(_FooterItem2.default, {
                    label: (0, _l10n2.default)("tablet.pages.dancing"),
                    mkey: "dancing"
                }),
                React.createElement(_FooterItem2.default, {
                    label: (0, _l10n2.default)("tablet.pages.acro"),
                    mkey: "acro"
                })
            );
        }
    }, {
        key: "render",
        value: function render() {
            this.setupCache();
            return React.createElement(
                "div",
                { className: "rosfarr-JudgeTablet TechJudgeLayout" },
                this.renderHeader(),
                React.createElement(
                    "div",
                    { className: "body" },
                    this.renderBody(),
                    React.createElement(_ConfirmationButton2.default, {
                        canConfirm: true,
                        confirmed: Array.from(this.scores.values()).every(function (s) {
                            return s.confirmed;
                        }),
                        key: this.state.heat,
                        onConfirm: this.handleConfirm
                    })
                ),
                this.renderFooter()
            );
        }
    }]);

    return TechJudgeLayout;
}(React.PureComponent);

exports.default = TechJudgeLayout;

},{"./AcroPage":72,"./DancingPage":75,"JudgeTablet/ConfirmationButton":33,"JudgeTablet/Footer":39,"JudgeTablet/Footer/FooterItem":38,"JudgeTablet/Header":63,"l10n":99}],77:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TotalScore = function (_React$PureComponent) {
    _inherits(TotalScore, _React$PureComponent);

    function TotalScore() {
        _classCallCheck(this, TotalScore);

        return _possibleConstructorReturn(this, (TotalScore.__proto__ || Object.getPrototypeOf(TotalScore)).apply(this, arguments));
    }

    _createClass(TotalScore, [{
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                { className: "total-score" },
                (0, _l10n2.default)("tablet.global.total_score"),
                ": ",
                this.props.score.data.total_score
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                score: PT.shape({
                    data: PT.shape({
                        total_score: PT.number.isRequired
                    }).isRequired
                }).isRequired
            };
        }
    }]);

    return TotalScore;
}(React.PureComponent);

exports.default = TotalScore;


TotalScore.displayName = "rules_sets_rosfarr_JudgeTablet_TotalScore";

},{"l10n":99}],78:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _getScoringType = require("common/getScoringType");

var _getScoringType2 = _interopRequireDefault(_getScoringType);

var _AcrobaticsLayout = require("./AcrobaticsLayout");

var _AcrobaticsLayout2 = _interopRequireDefault(_AcrobaticsLayout);

var _DanceLayout = require("./DanceLayout");

var _DanceLayout2 = _interopRequireDefault(_DanceLayout);

var _FormationLayout = require("./FormationLayout");

var _FormationLayout2 = _interopRequireDefault(_FormationLayout);

var _FormationAcroLayout = require("./FormationAcroLayout");

var _FormationAcroLayout2 = _interopRequireDefault(_FormationAcroLayout);

var _SimplifiedLayout = require("./SimplifiedLayout");

var _SimplifiedLayout2 = _interopRequireDefault(_SimplifiedLayout);

var _SoloLayout = require("./SoloLayout");

var _SoloLayout2 = _interopRequireDefault(_SoloLayout);

var _HeadJudgeLayout = require("./HeadJudgeLayout");

var _HeadJudgeLayout2 = _interopRequireDefault(_HeadJudgeLayout);

var _TechJudgeLayout = require("./TechJudgeLayout");

var _TechJudgeLayout2 = _interopRequireDefault(_TechJudgeLayout);

var _HostModules = require("HostModules");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var JudgeTablet = function (_React$PureComponent) {
    _inherits(JudgeTablet, _React$PureComponent);

    function JudgeTablet() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, JudgeTablet);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = JudgeTablet.__proto__ || Object.getPrototypeOf(JudgeTablet)).call.apply(_ref, [this].concat(args))), _this), _this.handleScoreUpdate = function (score_id, new_score) {
            var request = {
                score_data: new_score,
                force: false
            };
            (0, _HostModules.Api)("score.set", { score_id: score_id, data: request }).send();
        }, _this.handleScoreConfirm = function (score_id) {
            (0, _HostModules.Api)("score.confirm", { score_id: score_id }).send();
        }, _this.handleHeatConfirm = function (heat) {
            (0, _HostModules.Api)("tour.confirm_heat", {
                tour_id: _this.props.tour.id,
                discipline_judge_id: _this.props.disciplineJudge.id,
                heat: heat
            }).send();
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(JudgeTablet, [{
        key: "render",
        value: function render() {
            var scoring_type = (0, _getScoringType2.default)(this.props.disciplineJudge, this.props.tour.scoring_system_name);
            var LayoutClass = JudgeTablet.LAYOUTS[scoring_type];
            if (!LayoutClass) {
                return React.createElement(
                    "div",
                    null,
                    "Not implemented!"
                );
            }
            return React.createElement(
                "div",
                { className: "rosfarr-JudgeTablet" },
                React.createElement(LayoutClass, {
                    disciplineJudge: this.props.disciplineJudge,
                    tour: this.props.tour,
                    onHeatConfirm: this.handleHeatConfirm,
                    onScoreConfirm: this.handleScoreConfirm,
                    onScoreUpdate: this.handleScoreUpdate
                })
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                disciplineJudge: PT.object.isRequired,
                tour: PT.shape({
                    id: PT.number.isRequired,
                    scoring_system_name: PT.string.isRequired
                }).isRequired
            };
        }
    }]);

    return JudgeTablet;
}(React.PureComponent);

JudgeTablet.LAYOUTS = {
    "acro": _AcrobaticsLayout2.default,
    "dance": _DanceLayout2.default,
    "formation": _FormationLayout2.default,
    "formation_acro": _FormationAcroLayout2.default,
    "simplified": _SimplifiedLayout2.default,
    "solo": _SoloLayout2.default,
    "head": _HeadJudgeLayout2.default,
    "tech": _TechJudgeLayout2.default
};
exports.default = JudgeTablet;

},{"./AcrobaticsLayout":32,"./DanceLayout":36,"./FormationAcroLayout":42,"./FormationLayout":45,"./HeadJudgeLayout":62,"./SimplifiedLayout":65,"./SoloLayout":68,"./TechJudgeLayout":76,"HostModules":27,"common/getScoringType":97}],79:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _getParticipantDisplay = require("common/getParticipantDisplay");

var _getParticipantDisplay2 = _interopRequireDefault(_getParticipantDisplay);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Row = function (_React$PureComponent) {
    _inherits(Row, _React$PureComponent);

    function Row() {
        _classCallCheck(this, Row);

        return _possibleConstructorReturn(this, (Row.__proto__ || Object.getPrototypeOf(Row)).apply(this, arguments));
    }

    _createClass(Row, [{
        key: "getCard",
        value: function getCard() {
            if (this.props.row.run.status !== "OK") {
                return "";
            }
            var card = this.props.row.run.verbose_total_score.card;
            return (0, _l10n2.default)("results.cards." + card, this.props.isFormation);
        }
    }, {
        key: "getPlace",
        value: function getPlace() {
            return this.props.row.run.disqualified ? null : this.props.row.place;
        }
    }, {
        key: "renderTotalScoreCell",
        value: function renderTotalScoreCell() {
            if (!this.props.showTotalScore) {
                return null;
            }
            var content = "";
            if (this.props.row.run.status === "OK") {
                content = React.createElement(
                    "span",
                    null,
                    React.createElement(
                        "strong",
                        null,
                        this.props.row.run.verbose_total_score.primary_score.toFixed(2)
                    ),
                    "\xA0",
                    "/ ",
                    this.props.row.run.verbose_total_score.secondary_score.toFixed(2)
                );
            }
            return React.createElement(
                "td",
                { className: "w-18 score" },
                React.createElement(
                    "p",
                    { className: "text-center" },
                    content
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "tr",
                null,
                React.createElement(
                    "td",
                    { className: "w-7 place" },
                    React.createElement(
                        "p",
                        { className: "text-center" },
                        this.getPlace()
                    )
                ),
                React.createElement(
                    "td",
                    { className: "w-6 number" },
                    React.createElement(
                        "p",
                        { className: "text-center" },
                        this.props.row.run.participant.number
                    )
                ),
                React.createElement(
                    "td",
                    { className: "w-30 participant" },
                    (0, _getParticipantDisplay2.default)(this.props.row.run.participant)
                ),
                React.createElement(
                    "td",
                    { className: "club" },
                    React.createElement(
                        "p",
                        null,
                        this.props.row.run.participant.club.name
                    )
                ),
                this.renderTotalScoreCell(),
                React.createElement(
                    "td",
                    { className: "w-8 card" },
                    React.createElement(
                        "p",
                        { className: "text-center" },
                        this.getCard()
                    )
                )
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                disciplineJudgesMap: PT.instanceOf(Map).isRequired,
                isFormation: PT.bool.isRequired,
                row: PT.shape({
                    place: PT.number,
                    run: PT.shape({
                        status: PT.oneOf(["OK", "NP", "DQ"]).isRequired,
                        disqualified: PT.bool.isRequired,
                        participant: PT.shape({
                            number: PT.number.isRequired,
                            club: PT.shape({
                                name: PT.string.isRequired
                            }).isRequired
                        }).isRequired,
                        scores: PT.arrayOf(PT.shape({
                            discipline_judge_id: PT.number.isRequired
                        }).isRequired).isRequired,
                        verbose_total_score: PT.shape({
                            card: PT.oneOf(["OK", "YC", "RC"]),
                            total_penalty: PT.number,
                            primary_score: PT.number,
                            secondary_score: PT.number,
                            previous_tour: PT.shape({
                                primary_score: PT.number,
                                secondary_score: PT.number
                            })
                        })
                    }).isRequired
                }).isRequired,
                showTotalScore: PT.bool.isRequired
            };
        }
    }]);

    return Row;
}(React.PureComponent);

exports.default = Row;


Row.displayName = "rules_sets_rosfarr_ResultsTable1_Row";

},{"common/getParticipantDisplay":96,"l10n":99}],80:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _Row = require("./Row");

var _Row2 = _interopRequireDefault(_Row);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ResultsTable1 = function (_React$PureComponent) {
    _inherits(ResultsTable1, _React$PureComponent);

    function ResultsTable1() {
        _classCallCheck(this, ResultsTable1);

        return _possibleConstructorReturn(this, (ResultsTable1.__proto__ || Object.getPrototypeOf(ResultsTable1)).apply(this, arguments));
    }

    _createClass(ResultsTable1, [{
        key: "getRowStatus",
        value: function getRowStatus(row) {
            if (!row) {
                return "none";
            }
            if (row.run.status !== "OK") {
                return row.run.status;
            }
            return row.advances ? "advanced" : "not_advanced";
        }
    }, {
        key: "getStatusHeader",
        value: function getStatusHeader(row_status) {
            return (0, _l10n2.default)("results.headers.participants_" + row_status);
        }
    }, {
        key: "renderAdvancesHeader",
        value: function renderAdvancesHeader(prev_row, next_row, has_next_tour, n_cols) {
            var prev_status = this.getRowStatus(prev_row);
            var next_status = this.getRowStatus(next_row);
            if (prev_status === next_status) {
                return null;
            }
            if (!["NP", "DQ"].includes(next_status) && !has_next_tour) {
                return null;
            }
            return React.createElement(
                "tr",
                { key: "AH" + next_row.run.id },
                React.createElement(
                    "th",
                    { className: "advances-header", colSpan: n_cols },
                    React.createElement(
                        "p",
                        { className: "text-left" },
                        this.getStatusHeader(next_status)
                    )
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            var has_next_tour = this.props.tour.next_tour_id !== null;
            var is_formation = ["rosfarr.formation", "rosfarr.formation_acro"].includes(this.props.tour.scoring_system_name);
            var show_total_score = !is_formation;
            var djs_map = new Map(this.props.tour.discipline.discipline_judges.map(function (dj) {
                return [dj.id, dj];
            }));
            var rows = [];
            for (var idx = 0; idx < this.props.table.length; ++idx) {
                rows.push(this.renderAdvancesHeader(this.props.table[idx - 1], this.props.table[idx], has_next_tour, 5 + show_total_score));
                var row = this.props.table[idx];
                rows.push(React.createElement(_Row2.default, {
                    disciplineJudgesMap: djs_map,
                    isFormation: is_formation,
                    key: row.run.id,
                    row: row,
                    showTotalScore: show_total_score
                }));
            }
            return React.createElement(
                "div",
                { className: "ResultsTable1" },
                React.createElement(
                    "table",
                    { className: "bordered-table" },
                    React.createElement(
                        "thead",
                        null,
                        React.createElement(
                            "tr",
                            null,
                            React.createElement(
                                "th",
                                { className: "w-7 place" },
                                React.createElement(
                                    "p",
                                    null,
                                    (0, _l10n2.default)("results.labels.place")
                                )
                            ),
                            React.createElement(
                                "th",
                                { className: "w-6 number" },
                                React.createElement(
                                    "p",
                                    null,
                                    (0, _l10n2.default)("results.labels.number")
                                )
                            ),
                            React.createElement(
                                "th",
                                { className: "w-30 participant" },
                                React.createElement(
                                    "p",
                                    null,
                                    (0, _l10n2.default)("results.labels.participant_name")
                                )
                            ),
                            React.createElement(
                                "th",
                                { className: "club" },
                                React.createElement(
                                    "p",
                                    null,
                                    (0, _l10n2.default)("results.labels.participant_club")
                                )
                            ),
                            show_total_score ? React.createElement(
                                "th",
                                { className: "w-18 score" },
                                React.createElement(
                                    "p",
                                    null,
                                    (0, _l10n2.default)("results.labels.total_score")
                                )
                            ) : null,
                            React.createElement(
                                "th",
                                { className: "w-8 card" },
                                React.createElement(
                                    "p",
                                    { className: "text-center" },
                                    (0, _l10n2.default)("results.labels.card")
                                )
                            )
                        )
                    ),
                    React.createElement(
                        "tbody",
                        null,
                        rows
                    )
                )
            );
        }
    }], [{
        key: "transformDocx",
        value: function transformDocx(docx) {
            docx.addStyle(".bordered-table", "font-size", "12pt").addStyle(".advances-header", "background-color", "#ddd");
        }
    }, {
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                table: PT.arrayOf(PT.shape({
                    advances: PT.bool.isRequired,
                    run: PT.shape({
                        id: PT.number.isRequired,
                        status: PT.oneOf(["OK", "NP", "DQ"]).isRequired
                    }).isRequired
                }).isRequired).isRequired,
                tour: PT.shape({
                    scoring_system_name: PT.string.isRequired,
                    next_tour_id: PT.number,
                    discipline: PT.shape({
                        discipline_judges: PT.arrayOf(PT.shape({
                            role: PT.string.isRequired
                        }).isRequired).isRequired
                    }).isRequired
                }).isRequired
            };
        }
    }]);

    return ResultsTable1;
}(React.PureComponent);

exports.default = ResultsTable1;


ResultsTable1.displayName = "rules_sets_rosfarr_ResultsTable1";

},{"./Row":79,"l10n":99}],81:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var ColumnsWidths = function () {
    function ColumnsWidths(n_judges, has_total_score) {
        _classCallCheck(this, ColumnsWidths);

        this.judge_width = Math.round((has_total_score ? 55 : 65) / (n_judges + 1));
        this.total_score_width = has_total_score ? 14 : 0;
        this.place_width = 6;
        this.number_width = 3;
        this.name_width = 100 - this.judge_width * (n_judges + 1) - this.total_score_width - this.place_width - this.number_width;
    }

    _createClass(ColumnsWidths, [{
        key: "genPlaceStyle",
        value: function genPlaceStyle() {
            return {
                width: this.place_width + "%"
            };
        }
    }, {
        key: "genNumberStyle",
        value: function genNumberStyle() {
            return {
                width: this.number_width + "%"
            };
        }
    }, {
        key: "genNameStyle",
        value: function genNameStyle() {
            return {
                width: this.name_width + "%"
            };
        }
    }, {
        key: "genTotalScoreStyle",
        value: function genTotalScoreStyle() {
            return {
                width: this.total_score_width + "%"
            };
        }
    }, {
        key: "genJudgeStyle",
        value: function genJudgeStyle() {
            return {
                width: this.judge_width + "%"
            };
        }
    }]);

    return ColumnsWidths;
}();

exports.default = ColumnsWidths;

},{}],82:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _getParticipantDisplay = require("common/getParticipantDisplay");

var _getParticipantDisplay2 = _interopRequireDefault(_getParticipantDisplay);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Row = function (_React$PureComponent) {
    _inherits(Row, _React$PureComponent);

    function Row() {
        _classCallCheck(this, Row);

        return _possibleConstructorReturn(this, (Row.__proto__ || Object.getPrototypeOf(Row)).apply(this, arguments));
    }

    _createClass(Row, [{
        key: "isFormation",
        value: function isFormation() {
            return ["rosfarr.formation", "rosfarr.formation_acro"].indexOf(this.props.tour.scoring_system_name) >= 0;
        }
    }, {
        key: "getCard",
        value: function getCard() {
            if (this.props.row.run.status !== "OK") {
                return "";
            }
            var card = this.props.row.run.verbose_total_score.card;
            return (0, _l10n2.default)("results.cards." + card, this.props.isFormation);
        }
    }, {
        key: "getPlace",
        value: function getPlace() {
            return this.props.row.run.disqualified ? null : this.props.row.place;
        }
    }, {
        key: "renderFormationScore",
        value: function renderFormationScore(score) {
            return React.createElement(
                "p",
                { className: "text-center" },
                React.createElement(
                    "strong",
                    null,
                    this.props.row.additional_data.places[score.id]
                ),
                " (" + score.data.total_score.toFixed(1) + ")"
            );
        }
    }, {
        key: "renderScore",
        value: function renderScore(discipline_judge, score) {
            if (this.props.row.run.status !== "OK") {
                return React.createElement(
                    "p",
                    { className: "text-center" },
                    "\u2014"
                );
            }
            if (discipline_judge.role === "dance_judge" && this.isFormation()) {
                return this.renderFormationScore(score);
            }
            return React.createElement(
                "p",
                { className: "text-center" },
                score.data.total_score.toFixed(2)
            );
        }
    }, {
        key: "renderTotalScoreCell",
        value: function renderTotalScoreCell() {
            var total_score = this.props.row.run.verbose_total_score;
            if (!this.props.showTotalScore) {
                return null;
            }
            if (this.props.row.run.status !== "OK") {
                return React.createElement(
                    "td",
                    { className: "total-score" },
                    React.createElement(
                        "p",
                        { className: "text-center" },
                        "\u2014"
                    )
                );
            }
            if (this.props.tour.scoring_system_name === "rosfarr.am_final_acro") {
                var p_score = total_score.previous_tour.primary_score.toFixed(2);
                var s_score = total_score.previous_tour.secondary_score.toFixed(2);
                return React.createElement(
                    "td",
                    { className: "total-score" },
                    React.createElement(
                        "p",
                        { className: "text-center" },
                        React.createElement(
                            "em",
                            null,
                            (0, _l10n2.default)("results.labels.fw_score_short") + ": " + p_score + " / " + s_score
                        ),
                        React.createElement("br", null),
                        React.createElement(
                            "strong",
                            null,
                            total_score.primary_score.toFixed(2)
                        ),
                        "\xA0",
                        "/ ",
                        total_score.secondary_score.toFixed(2)
                    )
                );
            }
            return React.createElement(
                "td",
                { className: "total-score" },
                React.createElement(
                    "p",
                    { className: "text-center" },
                    React.createElement(
                        "strong",
                        null,
                        total_score.primary_score.toFixed(2)
                    ),
                    "\xA0",
                    "/ ",
                    total_score.secondary_score.toFixed(2)
                )
            );
        }
    }, {
        key: "renderJudgesScores",
        value: function renderJudgesScores() {
            var _this2 = this;

            var scores_map = new Map(this.props.row.run.scores.map(function (score) {
                return [score.discipline_judge_id, score];
            }));
            return this.props.lineDisciplineJudges.map(function (dj, idx) {
                return React.createElement(
                    "td",
                    { key: dj ? dj.id : "I" + idx },
                    _this2.renderScore(dj, scores_map.get(dj.id))
                );
            });
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "tr",
                null,
                React.createElement(
                    "td",
                    { className: "place" },
                    React.createElement(
                        "p",
                        { className: "text-center" },
                        this.getPlace()
                    )
                ),
                React.createElement(
                    "td",
                    { className: "number" },
                    React.createElement(
                        "p",
                        { className: "text-center" },
                        this.props.row.run.participant.number
                    )
                ),
                React.createElement(
                    "td",
                    { className: "participant" },
                    (0, _getParticipantDisplay2.default)(this.props.row.run.participant)
                ),
                this.renderTotalScoreCell(),
                this.renderJudgesScores(),
                React.createElement(
                    "td",
                    { className: "card" },
                    React.createElement(
                        "p",
                        { className: "text-center" },
                        this.getCard()
                    )
                )
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                disciplineJudgesMap: PT.instanceOf(Map).isRequired,
                isFormation: PT.bool.isRequired,
                lineDisciplineJudges: PT.arrayOf(PT.shape({
                    role: PT.string.isRequired
                }).isRequired).isRequired,
                row: PT.shape({
                    additional_data: PT.object.isRequired,
                    place: PT.number,
                    run: PT.shape({
                        status: PT.oneOf(["OK", "NP", "DQ"]).isRequired,
                        disqualified: PT.bool.isRequired,
                        participant: PT.shape({
                            number: PT.number.isRequired,
                            club: PT.shape({
                                name: PT.string.isRequired
                            }).isRequired
                        }).isRequired,
                        scores: PT.arrayOf(PT.shape({
                            discipline_judge_id: PT.number.isRequired
                        }).isRequired).isRequired,
                        verbose_total_score: PT.shape({
                            card: PT.oneOf(["OK", "YC", "RC"]),
                            primary_score: PT.number,
                            secondary_score: PT.number,
                            previous_tour: PT.shape({
                                primary_score: PT.number,
                                secondary_score: PT.number
                            })
                        })
                    }).isRequired
                }).isRequired,
                tour: PT.shape({
                    scoring_system_name: PT.string.isRequired
                }).isRequired,
                showTotalScore: PT.bool.isRequired
            };
        }
    }]);

    return Row;
}(React.PureComponent);

exports.default = Row;


Row.displayName = "rules_sets_rosfarr_ResultsTable2_Row";

},{"common/getParticipantDisplay":96,"l10n":99}],83:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _Row = require("./Row");

var _Row2 = _interopRequireDefault(_Row);

var _ColumnsWidths = require("./ColumnsWidths");

var _ColumnsWidths2 = _interopRequireDefault(_ColumnsWidths);

var _getJudgeTableMark = require("getJudgeTableMark");

var _getJudgeTableMark2 = _interopRequireDefault(_getJudgeTableMark);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ResultsTable2 = function (_React$PureComponent) {
    _inherits(ResultsTable2, _React$PureComponent);

    function ResultsTable2() {
        _classCallCheck(this, ResultsTable2);

        return _possibleConstructorReturn(this, (ResultsTable2.__proto__ || Object.getPrototypeOf(ResultsTable2)).apply(this, arguments));
    }

    _createClass(ResultsTable2, [{
        key: "getRowStatus",
        value: function getRowStatus(row) {
            if (!row) {
                return "none";
            }
            if (row.run.status !== "OK") {
                return row.run.status;
            }
            return row.advances ? "advanced" : "not_advanced";
        }
    }, {
        key: "getStatusHeader",
        value: function getStatusHeader(row_status) {
            return (0, _l10n2.default)("results.headers.participants_" + row_status);
        }
    }, {
        key: "renderAdvancesHeader",
        value: function renderAdvancesHeader(prev_row, next_row, has_next_tour, n_cols) {
            var prev_status = this.getRowStatus(prev_row);
            var next_status = this.getRowStatus(next_row);
            if (prev_status === next_status) {
                return null;
            }
            if (!["NP", "DQ"].includes(next_status) && !has_next_tour) {
                return null;
            }
            return React.createElement(
                "tr",
                { key: "AH" + next_row.run.id },
                React.createElement(
                    "th",
                    { className: "advances-header", colSpan: n_cols },
                    React.createElement(
                        "p",
                        { className: "text-left" },
                        this.getStatusHeader(next_status)
                    )
                )
            );
        }
    }, {
        key: "render",
        value: function render() {
            var is_formation = ["rosfarr.formation", "rosfarr.formation_acro"].includes(this.props.tour.scoring_system_name);
            var show_total_score = !is_formation;
            var line_judges = this.props.tour.discipline.discipline_judges.filter(function (dj) {
                return ["acro_judge", "dance_judge"].indexOf(dj.role) >= 0;
            });
            var has_next_tour = this.props.tour.next_tour_id !== null;
            var widths = new _ColumnsWidths2.default(line_judges.length, show_total_score);
            var djs_map = new Map(this.props.tour.discipline.discipline_judges.map(function (dj) {
                return [dj.id, dj];
            }));
            var rows = [];
            for (var idx = 0; idx < this.props.table.length; ++idx) {
                rows.push(this.renderAdvancesHeader(this.props.table[idx - 1], this.props.table[idx], has_next_tour, 4 + line_judges.length + show_total_score));
                rows.push(React.createElement(_Row2.default, {
                    disciplineJudgesMap: djs_map,
                    isFormation: is_formation,
                    key: this.props.table[idx].run.id,
                    lineDisciplineJudges: line_judges,
                    row: this.props.table[idx],
                    showTotalScore: show_total_score,
                    tour: this.props.tour
                }));
            }
            return React.createElement(
                "div",
                { className: "ResultsTable2" },
                React.createElement(
                    "table",
                    { className: "bordered-table" },
                    React.createElement(
                        "thead",
                        null,
                        React.createElement(
                            "tr",
                            null,
                            React.createElement(
                                "th",
                                { className: "place", style: widths.genPlaceStyle() },
                                React.createElement(
                                    "p",
                                    null,
                                    (0, _l10n2.default)("results.labels.place")
                                )
                            ),
                            React.createElement(
                                "th",
                                { className: "number", style: widths.genNumberStyle() },
                                React.createElement(
                                    "p",
                                    null,
                                    (0, _l10n2.default)("results.labels.number")
                                )
                            ),
                            React.createElement(
                                "th",
                                { className: "participant", style: widths.genNameStyle() },
                                React.createElement(
                                    "p",
                                    null,
                                    (0, _l10n2.default)("results.labels.participant_name")
                                )
                            ),
                            show_total_score ? React.createElement(
                                "th",
                                { className: "total-score", style: widths.genTotalScoreStyle() },
                                React.createElement(
                                    "p",
                                    null,
                                    (0, _l10n2.default)("results.labels.total_score")
                                )
                            ) : null,
                            line_judges.map(function (dj) {
                                return React.createElement(
                                    "th",
                                    { key: dj.id, style: widths.genJudgeStyle() },
                                    React.createElement(
                                        "p",
                                        null,
                                        (0, _getJudgeTableMark2.default)(dj)
                                    )
                                );
                            }),
                            React.createElement(
                                "th",
                                { className: "card", style: widths.genJudgeStyle() },
                                React.createElement(
                                    "p",
                                    { className: "text-center" },
                                    (0, _l10n2.default)("results.labels.card")
                                )
                            )
                        )
                    ),
                    React.createElement(
                        "tbody",
                        null,
                        rows
                    )
                )
            );
        }
    }], [{
        key: "transformDocx",
        value: function transformDocx(docx) {
            docx.addStyle(".bordered-table", "font-size", "9pt").addStyle(".advances-header", "background-color", "#ddd").addStyle(".total-score", "font-weight", "bold");
        }
    }, {
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                table: PT.arrayOf(PT.shape({
                    advances: PT.bool.isRequired,
                    run: PT.shape({
                        id: PT.number.isRequired,
                        status: PT.oneOf(["OK", "NP", "DQ"]).isRequired
                    }).isRequired
                }).isRequired).isRequired,
                tour: PT.shape({
                    scoring_system_name: PT.string.isRequired,
                    next_tour_id: PT.number,
                    discipline: PT.shape({
                        discipline_judges: PT.arrayOf(PT.shape({
                            role: PT.string.isRequired
                        }).isRequired).isRequired
                    }).isRequired
                }).isRequired
            };
        }
    }]);

    return ResultsTable2;
}(React.PureComponent);

exports.default = ResultsTable2;


ResultsTable2.displayName = "rules_sets_rosfarr_ResultsTable2";

},{"./ColumnsWidths":81,"./Row":82,"getJudgeTableMark":98,"l10n":99}],84:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var ColumnsWidths = function () {
    function ColumnsWidths(n_judges) {
        _classCallCheck(this, ColumnsWidths);

        this.judge_width = Math.round(70 / n_judges);
        this.place_width = 7;
        this.info_width = 100 - this.judge_width * n_judges - this.place_width;
    }

    _createClass(ColumnsWidths, [{
        key: "genPlaceStyle",
        value: function genPlaceStyle() {
            return {
                width: this.place_width + "%"
            };
        }
    }, {
        key: "genInfoStyle",
        value: function genInfoStyle() {
            return {
                width: this.info_width + "%"
            };
        }
    }, {
        key: "genJudgeStyle",
        value: function genJudgeStyle() {
            return {
                width: this.judge_width + "%"
            };
        }
    }]);

    return ColumnsWidths;
}();

exports.default = ColumnsWidths;

},{}],85:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _getParticipantDisplay = require("common/getParticipantDisplay");

var _getParticipantDisplay2 = _interopRequireDefault(_getParticipantDisplay);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var InfoCell = function (_React$PureComponent) {
    _inherits(InfoCell, _React$PureComponent);

    function InfoCell() {
        _classCallCheck(this, InfoCell);

        return _possibleConstructorReturn(this, (InfoCell.__proto__ || Object.getPrototypeOf(InfoCell)).apply(this, arguments));
    }

    _createClass(InfoCell, [{
        key: "getCard",
        value: function getCard() {
            if (this.props.row.run.status !== "OK") {
                return "";
            }
            var card = this.props.row.run.verbose_total_score.card;
            var is_formation = ["rosfarr.formation", "rosfarr.formation_acro"].includes(this.props.tour.scoring_system_name);
            return (0, _l10n2.default)("results.cards.verbose_" + card, is_formation);
        }
    }, {
        key: "renderParticipantInfo",
        value: function renderParticipantInfo() {
            return React.createElement(
                "div",
                null,
                React.createElement(
                    "p",
                    null,
                    React.createElement(
                        "strong",
                        null,
                        (0, _l10n2.default)("global.phrases.participant_n", this.props.row.run.participant.number, null, this.props.row.run.participant.sportsmen.length)
                    )
                ),
                (0, _getParticipantDisplay2.default)(this.props.row.run.participant)
            );
        }
    }, {
        key: "renderHeadJudgePenalty",
        value: function renderHeadJudgePenalty() {
            if (this.props.row.run.status !== "OK") {
                return null;
            }
            var card = this.getCard();
            if (card === "") {
                return;
            }
            return React.createElement(
                "p",
                null,
                React.createElement(
                    "strong",
                    null,
                    this.getCard()
                )
            );
        }
    }, {
        key: "renderAcroTable",
        value: function renderAcroTable() {
            if (this.props.row.run.status !== "OK") {
                return null;
            }
            if (["rosfarr.acro", "rosfarr.am_final_acro"].indexOf(this.props.tour.scoring_system_name) < 0) {
                return null;
            }
            if (this.props.row.run.acrobatics.length === 0) {
                return null;
            }
            var has_acro_overrides = this.props.row.run.acrobatics.findIndex(function (element) {
                return element.score !== element.original_score;
            }) > 0;
            var acro_cell_width = 100 / this.props.row.run.acrobatics.length + "%";
            return React.createElement(
                "div",
                null,
                React.createElement(
                    "p",
                    null,
                    React.createElement(
                        "strong",
                        null,
                        has_acro_overrides ? (0, _l10n2.default)("results.labels.acrobatics_verbose") : (0, _l10n2.default)("results.labels.acrobatics"),
                        ":"
                    )
                ),
                React.createElement(
                    "table",
                    { className: "acro-table" },
                    React.createElement(
                        "tbody",
                        null,
                        React.createElement(
                            "tr",
                            null,
                            this.props.row.run.acrobatics.map(function (acro, idx) {
                                return React.createElement(
                                    "td",
                                    { key: idx, style: { width: acro_cell_width } },
                                    React.createElement(
                                        "p",
                                        { className: "text-center" },
                                        acro.original_score.toFixed(1)
                                    )
                                );
                            })
                        ),
                        has_acro_overrides ? React.createElement(
                            "tr",
                            null,
                            this.props.row.run.acrobatics.map(function (acro, idx) {
                                return React.createElement(
                                    "td",
                                    { key: idx, style: { width: acro_cell_width } },
                                    React.createElement(
                                        "p",
                                        { className: "text-center" },
                                        acro.score.toFixed(1)
                                    )
                                );
                            })
                        ) : null
                    )
                )
            );
        }
    }, {
        key: "renderAmClassFwScore",
        value: function renderAmClassFwScore() {
            if (this.props.tour.scoring_system_name !== "rosfarr.am_final_acro") {
                return null;
            }
            var p_score = this.props.row.run.verbose_total_score.previous_tour.primary_score.toFixed(2);
            var s_score = this.props.row.run.verbose_total_score.previous_tour.secondary_score.toFixed(2);
            return React.createElement(
                "p",
                null,
                React.createElement(
                    "strong",
                    null,
                    (0, _l10n2.default)("results.labels.fw_score")
                ),
                ": " + p_score + " / " + s_score
            );
        }
    }, {
        key: "renderAmClassAcroScore",
        value: function renderAmClassAcroScore() {
            if (this.props.row.run.status !== "OK") {
                return null;
            }
            if (this.props.tour.scoring_system_name !== "rosfarr.am_final_acro") {
                return null;
            }
            var p_score = this.props.row.run.verbose_total_score.current_tour.primary_score.toFixed(2);
            var s_score = this.props.row.run.verbose_total_score.current_tour.secondary_score.toFixed(2);
            return React.createElement(
                "p",
                null,
                React.createElement(
                    "strong",
                    null,
                    (0, _l10n2.default)("results.labels.acro_score")
                ),
                ": " + p_score + " / " + s_score
            );
        }
    }, {
        key: "renderTotalScore",
        value: function renderTotalScore() {
            if (this.props.row.run.status !== "OK") {
                return null;
            }
            if (["rosfarr.formation", "rosfarr.formation_acro"].includes(this.props.tour.scoring_system_name)) {
                return null;
            }
            return React.createElement(
                "p",
                null,
                React.createElement(
                    "strong",
                    null,
                    (0, _l10n2.default)("results.labels.total_score") + ": " + this.props.row.run.total_score
                )
            );
        }
    }, {
        key: "renderNotPerformedLabel",
        value: function renderNotPerformedLabel() {
            if (this.props.row.run.status !== "NP") {
                return null;
            }
            return React.createElement(
                "p",
                null,
                React.createElement(
                    "em",
                    null,
                    (0, _l10n2.default)("results.labels.not_performed")
                )
            );
        }
    }, {
        key: "renderDisqualifiedLabel",
        value: function renderDisqualifiedLabel() {
            if (this.props.row.run.status !== "DQ") {
                return null;
            }
            return React.createElement(
                "p",
                null,
                React.createElement(
                    "em",
                    null,
                    (0, _l10n2.default)("results.labels.disqualified")
                )
            );
        }
    }, {
        key: "renderNextTourLabel",
        value: function renderNextTourLabel() {
            if (this.props.tour.next_tour_id === null) {
                return null;
            }
            return React.createElement(
                "p",
                null,
                React.createElement(
                    "strong",
                    null,
                    (0, _l10n2.default)("results.labels.next_tour") + ": "
                ),
                this.props.row.advances ? (0, _l10n2.default)("global.labels.yes") : (0, _l10n2.default)("global.labels.no")
            );
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "td",
                { className: "info-block" },
                this.renderParticipantInfo(),
                this.renderHeadJudgePenalty(),
                this.renderAcroTable(),
                this.renderAmClassFwScore(),
                this.renderAmClassAcroScore(),
                this.renderTotalScore(),
                this.renderNotPerformedLabel(),
                this.renderDisqualifiedLabel(),
                this.renderNextTourLabel()
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                disciplineJudgesMap: PT.instanceOf(Map).isRequired,
                row: PT.shape({
                    additional_data: PT.object.isRequired,
                    advances: PT.bool.isRequired,
                    place: PT.number,
                    run: PT.shape({
                        status: PT.oneOf(["OK", "NP", "DQ"]).isRequired,
                        total_score: PT.string.isRequired,
                        acrobatics: PT.arrayOf(PT.shape({
                            original_score: PT.number.isRequired,
                            score: PT.number.isRequired
                        }).isRequired).isRequired,
                        participant: PT.shape({
                            number: PT.number.isRequired,
                            formation_name: PT.string.isRequired,
                            sportsmen: PT.arrayOf(PT.shape({
                                first_name: PT.string.isRequired,
                                last_name: PT.string.isRequired
                            }).isRequired).isRequired,
                            club: PT.shape({
                                name: PT.string.isRequired
                            }).isRequired
                        }).isRequired,
                        scores: PT.arrayOf(PT.shape({
                            discipline_judge_id: PT.number.isRequired,
                            data: PT.shape({
                                total_score: PT.oneOfType([PT.number.isRequired, PT.string.isRequired]).isRequired
                            })
                        }).isRequired).isRequired,
                        verbose_total_score: PT.shape({
                            card: PT.oneOf(["OK", "YC", "RC"]),
                            previous_tour: PT.shape({
                                primary_score: PT.number,
                                secondary_score: PT.number
                            }),
                            current_tour: PT.shape({
                                primary_score: PT.number,
                                secondary_score: PT.number
                            })
                        })
                    }).isRequired
                }).isRequired,
                tour: PT.shape({
                    scoring_system_name: PT.string.isRequired,
                    next_tour_id: PT.number
                }).isRequired
            };
        }
    }]);

    return InfoCell;
}(React.PureComponent);

exports.default = InfoCell;


InfoCell.displayName = "rules_sets_rosfarr_ResultsTable3_InfoCell";

},{"common/getParticipantDisplay":96,"l10n":99}],86:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _VerboseJudgeScore = require("common/VerboseJudgeScore");

var _VerboseJudgeScore2 = _interopRequireDefault(_VerboseJudgeScore);

var _InfoCell = require("./InfoCell");

var _InfoCell2 = _interopRequireDefault(_InfoCell);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Row = function (_React$PureComponent) {
    _inherits(Row, _React$PureComponent);

    function Row() {
        _classCallCheck(this, Row);

        return _possibleConstructorReturn(this, (Row.__proto__ || Object.getPrototypeOf(Row)).apply(this, arguments));
    }

    _createClass(Row, [{
        key: "getPlace",
        value: function getPlace() {
            return this.props.row.run.disqualified ? null : this.props.row.place;
        }
    }, {
        key: "renderScore",
        value: function renderScore(discipline_judge, score) {
            return React.createElement(_VerboseJudgeScore2.default, {
                additionalData: this.props.row.additional_data,
                disciplineJudge: discipline_judge,
                score: score,
                showScore: this.props.row.run.status === "OK",
                tour: this.props.tour
            });
        }
    }, {
        key: "renderJudgesScores",
        value: function renderJudgesScores() {
            var _this2 = this;

            var scores_map = new Map(this.props.row.run.scores.map(function (score) {
                return [score.discipline_judge_id, score];
            }));
            return this.props.lineDisciplineJudges.map(function (dj, idx) {
                return React.createElement(
                    "td",
                    { key: dj ? dj.id : "I" + idx },
                    _this2.renderScore(dj, scores_map.get(dj.id))
                );
            });
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "tr",
                null,
                React.createElement(
                    "td",
                    { className: "place" },
                    React.createElement(
                        "p",
                        { className: "text-center" },
                        this.getPlace()
                    )
                ),
                React.createElement(_InfoCell2.default, {
                    disciplineJudgesMap: this.props.disciplineJudgesMap,
                    row: this.props.row,
                    tour: this.props.tour
                }),
                this.renderJudgesScores()
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                disciplineJudgesMap: PT.instanceOf(Map).isRequired,
                lineDisciplineJudges: PT.arrayOf(PT.shape({
                    role: PT.string.isRequired
                }).isRequired).isRequired,
                row: PT.shape({
                    additional_data: PT.object.isRequired,
                    place: PT.number,
                    run: PT.shape({
                        disqualified: PT.bool.isRequired,
                        status: PT.oneOf(["OK", "NP", "DQ"]).isRequired,
                        scores: PT.arrayOf(PT.shape({
                            discipline_judge_id: PT.number.isRequired
                        }).isRequired).isRequired,
                        verbose_total_score: PT.shape({
                            primary_score: PT.number,
                            secondary_score: PT.number,
                            previous_tour: PT.shape({
                                primary_score: PT.number,
                                secondary_score: PT.number
                            })
                        })
                    }).isRequired
                }).isRequired,
                tour: PT.shape({
                    scoring_system_name: PT.string.isRequired
                }).isRequired
            };
        }
    }]);

    return Row;
}(React.PureComponent);

exports.default = Row;


Row.displayName = "rules_sets_rosfarr_ResultsTable3_Row";

},{"./InfoCell":85,"common/VerboseJudgeScore":95}],87:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _Row = require("./Row");

var _Row2 = _interopRequireDefault(_Row);

var _ColumnsWidths = require("./ColumnsWidths");

var _ColumnsWidths2 = _interopRequireDefault(_ColumnsWidths);

var _getJudgeTableMark = require("getJudgeTableMark");

var _getJudgeTableMark2 = _interopRequireDefault(_getJudgeTableMark);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ResultsTable3 = function (_React$PureComponent) {
    _inherits(ResultsTable3, _React$PureComponent);

    function ResultsTable3() {
        _classCallCheck(this, ResultsTable3);

        return _possibleConstructorReturn(this, (ResultsTable3.__proto__ || Object.getPrototypeOf(ResultsTable3)).apply(this, arguments));
    }

    _createClass(ResultsTable3, [{
        key: "render",
        value: function render() {
            var _this2 = this;

            var line_judges = this.props.tour.discipline.discipline_judges.filter(function (dj) {
                return ["acro_judge", "dance_judge"].indexOf(dj.role) >= 0;
            });
            var widths = new _ColumnsWidths2.default(line_judges.length);
            var djs_map = new Map(this.props.tour.discipline.discipline_judges.map(function (dj) {
                return [dj.id, dj];
            }));

            return React.createElement(
                "div",
                { className: "ResultsTable3" },
                React.createElement(
                    "table",
                    { className: "bordered-table" },
                    React.createElement(
                        "thead",
                        null,
                        React.createElement(
                            "tr",
                            null,
                            React.createElement(
                                "th",
                                { className: "place", style: widths.genPlaceStyle() },
                                React.createElement(
                                    "p",
                                    null,
                                    (0, _l10n2.default)("results.labels.place")
                                )
                            ),
                            React.createElement(
                                "th",
                                { className: "participant", style: widths.genInfoStyle() },
                                React.createElement(
                                    "p",
                                    null,
                                    (0, _l10n2.default)("results.labels.info")
                                )
                            ),
                            line_judges.map(function (dj) {
                                return React.createElement(
                                    "th",
                                    { key: dj.id, style: widths.genJudgeStyle() },
                                    React.createElement(
                                        "p",
                                        null,
                                        (0, _getJudgeTableMark2.default)(dj)
                                    )
                                );
                            })
                        )
                    ),
                    React.createElement(
                        "tbody",
                        null,
                        this.props.table.map(function (row) {
                            return React.createElement(_Row2.default, {
                                disciplineJudgesMap: djs_map,
                                key: row.run.id,
                                lineDisciplineJudges: line_judges,
                                row: row,
                                tour: _this2.props.tour
                            });
                        })
                    )
                )
            );
        }
    }], [{
        key: "transformDocx",
        value: function transformDocx(docx) {
            docx.addStyle(".bordered-table", "font-size", "9pt").addStyle(".bordered-table .acro-table td", "font-size", "9pt").addStyle(".bordered-table .acro-table td", "padding", "0 3pt").addStyle(".bordered-table .acro-table td", "border", "0.5pt solid black").addStyle(".bordered-table .score-breakdown td, .bordered-table .score-breakdown th", "font-size", "9pt").addStyle(".bordered-table .score-breakdown td, .bordered-table .score-breakdown th", "border", "none").addStyle(".bordered-table .score-breakdown th", "padding", "0 1pt 0 0").addStyle(".bordered-table .score-breakdown td", "padding", "0 0 0 1pt").addStyle(".score-breakdown th", "text-align", "right").addStyle(".score-breakdown td", "text-align", "left").addStyle(".score-breakdown td", "text-align", "left").addStyle(".score-breakdown", "width", "50pt").addStyle(".advances-header", "background-color", "#ddd").addStyle(".total-score", "font-weight", "bold");
        }
    }, {
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                table: PT.arrayOf(PT.shape({
                    advances: PT.bool.isRequired,
                    run: PT.shape({
                        id: PT.number.isRequired
                    }).isRequired
                }).isRequired).isRequired,
                tour: PT.shape({
                    scoring_system_name: PT.string.isRequired,
                    next_tour_id: PT.number,
                    discipline: PT.shape({
                        discipline_judges: PT.arrayOf(PT.shape({
                            role: PT.string.isRequired
                        }).isRequired).isRequired
                    }).isRequired
                }).isRequired
            };
        }
    }]);

    return ResultsTable3;
}(React.PureComponent);

exports.default = ResultsTable3;


ResultsTable3.displayName = "rules_sets_rosfarr_ResultsTable3";

},{"./ColumnsWidths":84,"./Row":86,"getJudgeTableMark":98,"l10n":99}],88:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _formatScore = require("./formatScore");

var _formatScore2 = _interopRequireDefault(_formatScore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var AcroScore = function (_React$PureComponent) {
    _inherits(AcroScore, _React$PureComponent);

    function AcroScore() {
        _classCallCheck(this, AcroScore);

        return _possibleConstructorReturn(this, (AcroScore.__proto__ || Object.getPrototypeOf(AcroScore)).apply(this, arguments));
    }

    _createClass(AcroScore, [{
        key: "render",
        value: function render() {
            return React.createElement(
                "table",
                { className: "score-breakdown" },
                React.createElement(
                    "tbody",
                    null,
                    this.props.score.data.raw_data.reductions.map(function (score, idx) {
                        return React.createElement(
                            "tr",
                            { key: idx },
                            React.createElement(
                                "th",
                                null,
                                React.createElement(
                                    "p",
                                    null,
                                    (0, _l10n2.default)("results.breakdown.acro_n", idx + 1),
                                    ":"
                                )
                            ),
                            React.createElement(
                                "td",
                                null,
                                React.createElement(
                                    "p",
                                    null,
                                    (0, _formatScore2.default)(score, "-$%")
                                )
                            )
                        );
                    }),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.fd"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            { className: "mistakes" },
                            React.createElement(
                                "p",
                                null,
                                (0, _formatScore2.default)(this.props.score.data.raw_data.mistakes)
                            )
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.t"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            { className: "total-score" },
                            React.createElement(
                                "p",
                                null,
                                this.props.score.data.total_score
                            )
                        )
                    )
                )
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                score: PT.shape({
                    id: PT.number.isRequired,
                    data: PT.shape({
                        total_score: PT.number.isRequired,
                        raw_data: PT.shape({
                            reductions: PT.arrayOf(PT.number).isRequired,
                            mistakes: PT.number
                        }).isRequired
                    }).isRequired
                }).isRequired
            };
        }
    }]);

    return AcroScore;
}(React.PureComponent);

exports.default = AcroScore;


AcroScore.displayName = "rules_sets_rosfarr_ResultsTable3_Row_AcroScore";

},{"./formatScore":94,"l10n":99}],89:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _formatScore = require("./formatScore");

var _formatScore2 = _interopRequireDefault(_formatScore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DanceScore = function (_React$PureComponent) {
    _inherits(DanceScore, _React$PureComponent);

    function DanceScore() {
        _classCallCheck(this, DanceScore);

        return _possibleConstructorReturn(this, (DanceScore.__proto__ || Object.getPrototypeOf(DanceScore)).apply(this, arguments));
    }

    _createClass(DanceScore, [{
        key: "render",
        value: function render() {
            return React.createElement(
                "table",
                { className: "score-breakdown" },
                React.createElement(
                    "tbody",
                    null,
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.fw"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _formatScore2.default)(this.props.score.data.raw_data.fw_woman, "-$%")
                            )
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.fm"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _formatScore2.default)(this.props.score.data.raw_data.fw_man, "-$%")
                            )
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.df"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _formatScore2.default)(this.props.score.data.raw_data.dance_figs, "@")
                            )
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.c"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _formatScore2.default)(this.props.score.data.raw_data.composition, "@")
                            )
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.sm"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            { className: "mistakes" },
                            React.createElement(
                                "p",
                                null,
                                (0, _formatScore2.default)(this.props.score.data.raw_data.small_mistakes)
                            )
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.bm"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            { className: "mistakes" },
                            React.createElement(
                                "p",
                                null,
                                (0, _formatScore2.default)(this.props.score.data.raw_data.big_mistakes)
                            )
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.t"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            { className: "total-score" },
                            React.createElement(
                                "p",
                                null,
                                this.props.score.data.total_score.toFixed(3).replace(/\.?0+$/, "")
                            )
                        )
                    )
                )
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                score: PT.shape({
                    id: PT.number.isRequired,
                    data: PT.shape({
                        total_score: PT.number.isRequired,
                        raw_data: PT.shape({
                            fw_woman: PT.number,
                            fw_man: PT.number,
                            dance_figs: PT.number,
                            composition: PT.number,
                            small_mistakes: PT.number,
                            big_mistakes: PT.number
                        }).isRequired
                    }).isRequired
                }).isRequired,
                scoringType: PT.string.isRequired
            };
        }
    }]);

    return DanceScore;
}(React.PureComponent);

exports.default = DanceScore;


DanceScore.displayName = "rules_sets_rosfarr_ResultsTable3_Row_DanceScore";

},{"./formatScore":94,"l10n":99}],90:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _formatScore = require("./formatScore");

var _formatScore2 = _interopRequireDefault(_formatScore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var FormationAcroScore = function (_React$PureComponent) {
    _inherits(FormationAcroScore, _React$PureComponent);

    function FormationAcroScore() {
        _classCallCheck(this, FormationAcroScore);

        return _possibleConstructorReturn(this, (FormationAcroScore.__proto__ || Object.getPrototypeOf(FormationAcroScore)).apply(this, arguments));
    }

    _createClass(FormationAcroScore, [{
        key: "render",
        value: function render() {
            return React.createElement(
                "table",
                { className: "score-breakdown" },
                React.createElement(
                    "tbody",
                    null,
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.a"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _formatScore2.default)(this.props.score.data.raw_data.acrobatics, "@")
                            )
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.dt"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _formatScore2.default)(this.props.score.data.raw_data.dance_tech, "@")
                            )
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.df"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _formatScore2.default)(this.props.score.data.raw_data.dance_figs, "@")
                            )
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.i"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _formatScore2.default)(this.props.score.data.raw_data.impression, "@")
                            )
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.sm"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            { className: "mistakes" },
                            React.createElement(
                                "p",
                                null,
                                (0, _formatScore2.default)(this.props.score.data.raw_data.small_mistakes)
                            )
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.bm"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            { className: "mistakes" },
                            React.createElement(
                                "p",
                                null,
                                (0, _formatScore2.default)(this.props.score.data.raw_data.big_mistakes)
                            )
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.t"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            { className: "total-score" },
                            React.createElement(
                                "p",
                                null,
                                this.props.score.data.total_score
                            )
                        )
                    ),
                    this.props.additionalData ? React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.p"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            { className: "total-score" },
                            React.createElement(
                                "p",
                                null,
                                this.props.additionalData.places[this.props.score.id]
                            )
                        )
                    ) : null
                )
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                additionalData: PT.shape({
                    places: PT.object.isRequired
                }),
                score: PT.shape({
                    id: PT.number.isRequired,
                    data: PT.shape({
                        total_score: PT.number.isRequired,
                        raw_data: PT.shape({
                            acrobatics: PT.number,
                            dance_tech: PT.number,
                            dance_figs: PT.number,
                            impression: PT.number,
                            small_mistakes: PT.number,
                            big_mistakes: PT.number
                        }).isRequired
                    }).isRequired
                }).isRequired
            };
        }
    }]);

    return FormationAcroScore;
}(React.PureComponent);

exports.default = FormationAcroScore;


FormationAcroScore.displayName = "rules_sets_rosfarr_ResultsTable3_Row_FormationAcroScore";

},{"./formatScore":94,"l10n":99}],91:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _formatScore = require("./formatScore");

var _formatScore2 = _interopRequireDefault(_formatScore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var FormationScore = function (_React$PureComponent) {
    _inherits(FormationScore, _React$PureComponent);

    function FormationScore() {
        _classCallCheck(this, FormationScore);

        return _possibleConstructorReturn(this, (FormationScore.__proto__ || Object.getPrototypeOf(FormationScore)).apply(this, arguments));
    }

    _createClass(FormationScore, [{
        key: "render",
        value: function render() {
            return React.createElement(
                "table",
                { className: "score-breakdown" },
                React.createElement(
                    "tbody",
                    null,
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.dt"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _formatScore2.default)(this.props.score.data.raw_data.dance_tech, "@")
                            )
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.df"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _formatScore2.default)(this.props.score.data.raw_data.dance_figs, "@")
                            )
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.i"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _formatScore2.default)(this.props.score.data.raw_data.impression, "@")
                            )
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.m"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            { className: "mistakes" },
                            React.createElement(
                                "p",
                                null,
                                (0, _formatScore2.default)(this.props.score.data.raw_data.mistakes)
                            )
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.t"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            { className: "total-score" },
                            React.createElement(
                                "p",
                                null,
                                this.props.score.data.total_score
                            )
                        )
                    ),
                    this.props.additionalData ? React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.p"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            { className: "total-score" },
                            React.createElement(
                                "p",
                                null,
                                this.props.additionalData.places[this.props.score.id]
                            )
                        )
                    ) : null
                )
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                additionalData: PT.shape({
                    places: PT.object.isRequired
                }),
                score: PT.shape({
                    id: PT.number.isRequired,
                    data: PT.shape({
                        total_score: PT.number.isRequired,
                        raw_data: PT.shape({
                            dance_tech: PT.number,
                            dance_figs: PT.number,
                            impression: PT.number,
                            mistakes: PT.number
                        }).isRequired
                    }).isRequired
                }).isRequired
            };
        }
    }]);

    return FormationScore;
}(React.PureComponent);

exports.default = FormationScore;


FormationScore.displayName = "rules_sets_rosfarr_ResultsTable3_Row_FormationScore";

},{"./formatScore":94,"l10n":99}],92:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _formatScore = require("./formatScore");

var _formatScore2 = _interopRequireDefault(_formatScore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var SoloScore = function (_React$PureComponent) {
    _inherits(SoloScore, _React$PureComponent);

    function SoloScore() {
        _classCallCheck(this, SoloScore);

        return _possibleConstructorReturn(this, (SoloScore.__proto__ || Object.getPrototypeOf(SoloScore)).apply(this, arguments));
    }

    _createClass(SoloScore, [{
        key: "render",
        value: function render() {
            return React.createElement(
                "table",
                { className: "score-breakdown" },
                React.createElement(
                    "tbody",
                    null,
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.fw_solo"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _formatScore2.default)(this.props.score.data.raw_data.fw, "-$%")
                            )
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.df"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _formatScore2.default)(this.props.score.data.raw_data.dance_figs, "@")
                            )
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.c"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _formatScore2.default)(this.props.score.data.raw_data.composition, "@")
                            )
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.sm"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            { className: "mistakes" },
                            React.createElement(
                                "p",
                                null,
                                (0, _formatScore2.default)(this.props.score.data.raw_data.small_mistakes)
                            )
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.bm"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            { className: "mistakes" },
                            React.createElement(
                                "p",
                                null,
                                (0, _formatScore2.default)(this.props.score.data.raw_data.big_mistakes)
                            )
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.t"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            { className: "total-score" },
                            React.createElement(
                                "p",
                                null,
                                this.props.score.data.total_score
                            )
                        )
                    )
                )
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                score: PT.shape({
                    id: PT.number.isRequired,
                    data: PT.shape({
                        total_score: PT.number.isRequired,
                        raw_data: PT.shape({
                            fw: PT.number,
                            dance_figs: PT.number,
                            composition: PT.number,
                            small_mistakes: PT.number,
                            big_mistakes: PT.number
                        }).isRequired
                    }).isRequired
                }).isRequired,
                scoringType: PT.string.isRequired
            };
        }
    }]);

    return SoloScore;
}(React.PureComponent);

exports.default = SoloScore;


SoloScore.displayName = "rules_sets_rosfarr_ResultsTable3_Row_SoloScore";

},{"./formatScore":94,"l10n":99}],93:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _formatScore = require("./formatScore");

var _formatScore2 = _interopRequireDefault(_formatScore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TechScore = function (_React$PureComponent) {
    _inherits(TechScore, _React$PureComponent);

    function TechScore() {
        _classCallCheck(this, TechScore);

        return _possibleConstructorReturn(this, (TechScore.__proto__ || Object.getPrototypeOf(TechScore)).apply(this, arguments));
    }

    _createClass(TechScore, [{
        key: "pad",
        value: function pad(num, size) {
            var s = "0000" + num;
            return s.substr(s.length - size);
        }
    }, {
        key: "getTime",
        value: function getTime() {
            var val = this.props.score.data.raw_data.time;
            if (val === null) {
                return "";
            }
            var m = 0,
                s = 0;
            m = Math.floor(val / 60);
            val %= 60;
            s = Math.floor(val);
            return m + ":" + this.pad(s, 2);
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "table",
                { className: "score-breakdown" },
                React.createElement(
                    "tbody",
                    null,
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.js"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _formatScore2.default)(this.props.score.data.raw_data.jump_steps, "$")
                            )
                        )
                    ),
                    React.createElement(
                        "tr",
                        null,
                        React.createElement(
                            "th",
                            null,
                            React.createElement(
                                "p",
                                null,
                                (0, _l10n2.default)("results.breakdown.time"),
                                ":"
                            )
                        ),
                        React.createElement(
                            "td",
                            null,
                            React.createElement(
                                "p",
                                null,
                                this.getTime()
                            )
                        )
                    )
                )
            );
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                score: PT.shape({
                    id: PT.number.isRequired,
                    data: PT.shape({
                        total_score: PT.string.isRequired,
                        raw_data: PT.shape({
                            jump_steps: PT.number,
                            card: PT.string,
                            time: PT.number
                        }).isRequired
                    }).isRequired
                }).isRequired
            };
        }
    }]);

    return TechScore;
}(React.PureComponent);

exports.default = TechScore;


TechScore.displayName = "rules_sets_rosfarr_ResultsTable3_Row_TechScore";

},{"./formatScore":94,"l10n":99}],94:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = formatScore;
function formatScore(score) {
    var template = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "$";

    if (score === null) {
        return "";
    }
    return template.replace("$", score).replace("@", score.toFixed(1));
}

},{}],95:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _getScoringType = require("common/getScoringType");

var _getScoringType2 = _interopRequireDefault(_getScoringType);

var _AcroScore = require("./AcroScore");

var _AcroScore2 = _interopRequireDefault(_AcroScore);

var _DanceScore = require("./DanceScore");

var _DanceScore2 = _interopRequireDefault(_DanceScore);

var _SoloScore = require("./SoloScore");

var _SoloScore2 = _interopRequireDefault(_SoloScore);

var _FormationAcroScore = require("./FormationAcroScore");

var _FormationAcroScore2 = _interopRequireDefault(_FormationAcroScore);

var _FormationScore = require("./FormationScore");

var _FormationScore2 = _interopRequireDefault(_FormationScore);

var _TechScore = require("./TechScore");

var _TechScore2 = _interopRequireDefault(_TechScore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var VerboseJudgeScore = function (_React$PureComponent) {
    _inherits(VerboseJudgeScore, _React$PureComponent);

    function VerboseJudgeScore() {
        _classCallCheck(this, VerboseJudgeScore);

        return _possibleConstructorReturn(this, (VerboseJudgeScore.__proto__ || Object.getPrototypeOf(VerboseJudgeScore)).apply(this, arguments));
    }

    _createClass(VerboseJudgeScore, [{
        key: "render",
        value: function render() {
            if (!this.props.showScore) {
                return React.createElement(
                    "p",
                    { className: "text-center" },
                    "\u2014"
                );
            }
            var ScoreComponent = null;
            var scoring_type = (0, _getScoringType2.default)(this.props.disciplineJudge, this.props.tour.scoring_system_name);
            switch (scoring_type) {
                case "dance":
                    ScoreComponent = _DanceScore2.default;
                    break;
                case "acro":
                    ScoreComponent = _AcroScore2.default;
                    break;
                case "formation":
                    ScoreComponent = _FormationScore2.default;
                    break;
                case "formation_acro":
                    ScoreComponent = _FormationAcroScore2.default;
                    break;
                case "solo":
                    ScoreComponent = _SoloScore2.default;
                    break;
                case "tech":
                    ScoreComponent = _TechScore2.default;
                    break;
                default:
                    return React.createElement(
                        "p",
                        { className: "text-center" },
                        this.props.score.data.total_score.toFixed(2)
                    );
            }
            var props = {
                score: this.props.score,
                additionalData: this.props.additionalData,
                scoringType: scoring_type
            };
            return React.createElement(ScoreComponent, props);
        }
    }], [{
        key: "propTypes",
        get: function get() {
            var PT = React.PropTypes;
            return {
                additionalData: PT.object,
                disciplineJudge: PT.object.isRequired,
                showScore: PT.bool.isRequired,
                score: PT.shape({
                    data: PT.shape({
                        total_score: PT.oneOfType([PT.number.isRequired, PT.string.isRequired]).isRequired
                    }).isRequired
                }).isRequired,
                tour: PT.shape({
                    scoring_system_name: PT.string.isRequired
                }).isRequired
            };
        }
    }, {
        key: "defaultProps",
        get: function get() {
            return {
                showScore: true
            };
        }
    }]);

    return VerboseJudgeScore;
}(React.PureComponent);

exports.default = VerboseJudgeScore;


VerboseJudgeScore.displayName = "rules_sets_rosfarr_common_VerboseJudgeScore";

},{"./AcroScore":88,"./DanceScore":89,"./FormationAcroScore":90,"./FormationScore":91,"./SoloScore":92,"./TechScore":93,"common/getScoringType":97}],96:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = getParticipantDisplay;
function getParticipantDisplay(participant) {
    // eslint-disable-line react/display-name
    if (participant.formation_name !== "") {
        return React.createElement(
            "p",
            null,
            participant.formation_name
        );
    }
    return participant.sportsmen.map(function (s, idx) {
        return React.createElement(
            "p",
            { key: idx },
            s.last_name + " " + s.first_name
        );
    });
}

},{}],97:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = getScoringType;
function getScoringType(discipline_judge, scoring_system_name) {
    switch (discipline_judge.role) {
        case "dance_judge":
            switch (scoring_system_name) {
                case "rosfarr.formation":
                    return "formation";
                case "rosfarr.formation_acro":
                    return "formation_acro";
                case "rosfarr.simplified":
                    return "simplified";
                case "rosfarr.solo":
                    return "solo";
                default:
                    return "dance";
            }
        case "acro_judge":
            switch (scoring_system_name) {
                case "rosfarr.am_final_fw":
                    return "dance";
                default:
                    return "acro";
            }
        case "tech_judge":
            return "tech";
        case "head_judge":
            return "head";
    }
}

},{}],98:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
function getJudgeTableMark(discipline_judge) {
    var result = discipline_judge.judge.number;
    if (discipline_judge.role === "acro_judge") {
        result += " (A)";
    }
    return result;
}

exports.default = getJudgeTableMark;

},{}],99:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ru = require("./ru");

var _ru2 = _interopRequireDefault(_ru);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _ = _ru2.default;

exports.default = _;

},{"./ru":100}],100:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = translate;
function translate(src) {
    var PHRASES = {
        "admin": {
            "buttons": {
                "add_club": " ",
                "add_competition": " ",
                "add_competition_plan_item": " ",
                "add_discipline": " ",
                "add_judge": " ",
                "add_participant": " ",
                "add_tour": " ",
                "confirm_score": "",
                "docx_heats": "  DOCX",
                "docx_numbers": "  DOCX",
                "docx_results": "  DOCX",
                "export": "",
                "import": "",
                "launch_auto_printer": "  ",
                "load_acro": " ",
                "refresh_clients": "  ",
                "reload_clients": "    ",
                "switch_to_plan": "  ",
                "switch_to_disciplines": "  ",
                "to_start_page": " ",
                "unconfirm_score": " ",
                "unfinalize": " "
            }
        },
        "tablet": {
            "acro_judge": {
                "fall_down": " (30)",
                "acro_n": function acro_n(n) {
                    return "\u0410\u043A\u0440\u043E\u0431\u0430\u0442\u0438\u043A\u0430 " + (n + 1);
                }
            },
            "alerts": {
                "has_unconfirmed_scores": "      ."
            },
            "buttons": {
                "discard_time": "",
                "finalize_tour": " ",
                "finalize_tour_and_start_next": "     ",
                "next_heat": ". ",
                "not_performed": "  ",
                "performed": "   ",
                "prev_heat": ". ",
                "reset_stopwatch": "",
                "start_stopwatch": "",
                "stop_stopwatch": "",
                "stop_tour": " ",
                "stop_tour_and_start_next": "      ",
                "submit_time": "",
                "to_start_page": " "
            },
            "confirms": {
                "finalize_tour": "     ?",
                "finalize_tour_and_start_next": "          ?",
                "stop_tour": "     ?",
                "stop_tour_and_start_next": "      ?"
            },
            "dance_judge": {
                "acrobatics": "",
                "big_mistakes": "  (30)",
                "composition": "",
                "dance_figs": " ",
                "dance_tech": " ",
                "form_fall_down": " (3)",
                "form_mistakes": " (2)",
                "form_small_mistakes": "  (2)",
                "form_big_mistakes": "  (3)",
                "fw": "  (  %)",
                "fw_man": " ,  (  %)",
                "fw_woman": " ,  (  %)",
                "impression": " ",
                "points": "",
                "small_mistakes": "  (5)"
            },
            "global": {
                "confirm_score": "",
                "confirmed": "",
                "disqualified": "",
                "discard_disqualified": " ",
                "discard_not_performed": "   ",
                "heat_number": function heat_number(n, t) {
                    return "\u0417\u0430\u0445\u043E\u0434 " + n + " \u0438\u0437 " + t;
                },
                "judge_number": function judge_number(n) {
                    return "\u0421\u0443\u0434\u044C\u044F \u2116" + n;
                },
                "mark_disqualified": "",
                "mark_not_performed": "  ",
                "not_performing": " ",
                "total_score": " "
            },
            "head_judge": {
                "acrobatic_overrides": " ",
                "card": "",
                "dance_judge_scores": "  ",
                "form_red_card": "",
                "form_yellow_card": "",
                "ok": "OK",
                "card_type": "",
                "previous_cards": " ",
                "red_card": "",
                "tech_judge_scores": "  ",
                "yellow_card": ""
            },
            "tech_judge": {
                "form_red_card": " (15)",
                "form_yellow_card": "",
                "jump_steps": ". ",
                "ok": "OK",
                "card_type": "",
                "reset_to_n": function reset_to_n(n) {
                    return "\u0421\u0431\u0440\u043E\u0441 \u043D\u0430 " + n;
                },
                "timing": "",
                "red_card": "",
                "server_time": function server_time(t) {
                    return t !== null ? "\u0421\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u043E\u0435 \u0432\u0440\u0435\u043C\u044F: " + t : "  ";
                },
                "yellow_card": ""
            },
            "pages": {
                "heats": "",
                "results": "",
                "actions": "",
                "dancing": "",
                "acro": ""
            }
        },
        "results": {
            "breakdown": {
                "a": "A",
                "acro_n": function acro_n(n) {
                    return "A" + n;
                },
                "bm": "",
                "c": "",
                "df": "",
                "dt": "T",
                "fd": "",
                "fm": "",
                "fw": "",
                "fw_solo": "",
                "i": "",
                "m": "",
                "p": "",
                "sm": "",
                "js": "",
                "tv": "",
                "penalty": "",
                "time": "",
                "t": ""
            },
            "headers": {
                "participants_advanced": "   ",
                "participants_not_advanced": "    ",
                "participants_NP": " ",
                "participants_DQ": ""
            },
            "labels": {
                "acro_score": " ",
                "acrobatics": "",
                "acrobatics_verbose": " (/)",
                "card": "",
                "disqualified": "",
                "dq": ".",
                "fw_score": " ",
                "fw_score_short": "",
                "info": ", ",
                "next_tour": " ",
                "not_performed": "  ",
                "number": "",
                "participant_club": "",
                "participant_coaches": "",
                "participant_name": "",
                "penalty": "",
                "place": "",
                "sportsmen": "",
                "sportsmen_year_of_birth": "..",
                "sub": "",
                "total_score": ""
            },
            "cards": {
                "RC": function RC(is_formation) {
                    return is_formation ? " (15)" : " (30)";
                },
                "YC": "",
                "OK": "",
                "verbose_RC": function verbose_RC(is_formation) {
                    return is_formation ? "  ( 15)" : "  ( 30)";
                },
                "verbose_YC": " ",
                "verbose_OK": "",
                "short_YC": "",
                "short_RC": ""
            }
        },
        "global": {
            "buttons": {
                "submit": "",
                "discard": "",
                "close": ""
            },
            "labels": {
                "yes": "",
                "no": ""
            },
            "phrases": {
                "participant_n": function participant_n(n, name, n_sp) {
                    if (n_sp > 2) {
                        var result = "\u0424\u043E\u0440\u043C\u0435\u0439\u0448\u043D \u2116" + n;
                        if (name) {
                            result += ": " + name;
                        }
                        return result;
                    }
                    return n_sp === 2 ? "\u041F\u0430\u0440\u0430 \u2116" + n : "\u0423\u0447\u0430\u0441\u0442\u043D\u0438\u043A \u2116" + n;
                },
                "judge_n": function judge_n(n) {
                    return "\u041B\u0438\u043D\u0435\u0439\u043D\u044B\u0439 \u0441\u0443\u0434\u044C\u044F \u2116" + n;
                }
            }
        },
        "scoring_systems_names": {
            "rosfarr": {
                "base_name": "",
                "acro": ",  ",
                "am_qual": ", A  M ,  ",
                "am_final_acro": ", A  M , , ",
                "am_final_fw": ", A  M , ,  ",
                "formation": ",   ",
                "formation_acro": ",   ",
                "no_acro": ",  ",
                "simplified": ",   (140)",
                "solo": ", -"
            }
        },
        "judge_roles": {
            "": "-",
            "acro_judge": " ",
            "dance_judge": " ",
            "head_judge": " ",
            "tech_judge": " "
        }
    };

    var path = src.split(".");
    var phrase_ptr = PHRASES;
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
        for (var _iterator = path[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var chunk = _step.value;

            phrase_ptr = phrase_ptr[chunk];
            if (typeof phrase_ptr === "undefined") {
                console.error("Unable to find translation for " + src);
                return "";
            }
        }
    } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
    } finally {
        try {
            if (!_iteratorNormalCompletion && _iterator.return) {
                _iterator.return();
            }
        } finally {
            if (_didIteratorError) {
                throw _iteratorError;
            }
        }
    }

    if (typeof phrase_ptr === "function") {
        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
            args[_key - 1] = arguments[_key];
        }

        return phrase_ptr.apply(undefined, args);
    }
    return phrase_ptr;
}

translate.tour_name_suggestions = ["", " ", " ", "1/2 ", "1/4 ", "1/8 ", "1/16 ", ",  ", ", "];

},{}],101:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
var meta = {
    "judge_roles": ["dance_judge", "acro_judge", "head_judge", "tech_judge"],
    "scoring_systems": ["rosfarr.no_acro", "rosfarr.acro", "rosfarr.formation", "rosfarr.formation_acro", "rosfarr.simplified", "rosfarr.solo", "rosfarr.am_qual", "rosfarr.am_final_fw", "rosfarr.am_final_acro"],
    "suggested_programs": ["default", "qualification", "quarterfinal", "final"]
};

exports.default = meta;

},{}],102:[function(require,module,exports){
"use strict";

var _l10n = require("l10n");

var _l10n2 = _interopRequireDefault(_l10n);

var _ResultsTable = require("ResultsTable1");

var _ResultsTable2 = _interopRequireDefault(_ResultsTable);

var _ResultsTable3 = require("ResultsTable2");

var _ResultsTable4 = _interopRequireDefault(_ResultsTable3);

var _ResultsTable5 = require("ResultsTable3");

var _ResultsTable6 = _interopRequireDefault(_ResultsTable5);

var _DisciplineResultsTable = require("DisciplineResultsTable");

var _DisciplineResultsTable2 = _interopRequireDefault(_DisciplineResultsTable);

var _JudgeTablet = require("JudgeTablet");

var _JudgeTablet2 = _interopRequireDefault(_JudgeTablet);

var _AdminScoreInput = require("AdminScoreInput");

var _AdminScoreInput2 = _interopRequireDefault(_AdminScoreInput);

var _getJudgeTableMark = require("getJudgeTableMark");

var _getJudgeTableMark2 = _interopRequireDefault(_getJudgeTableMark);

var _meta = require("meta");

var _meta2 = _interopRequireDefault(_meta);

var _HostModules = require("HostModules");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var response = window.registerRulesSet("RosFARR", {
    meta: _meta2.default,
    translate: _l10n2.default,
    tour_results_table_1: _ResultsTable2.default,
    tour_results_table_2: _ResultsTable4.default,
    tour_results_table_3: _ResultsTable6.default,
    discipline_results_table: _DisciplineResultsTable2.default,
    judge_tablet: _JudgeTablet2.default,
    admin_score_input: _AdminScoreInput2.default,
    get_judge_table_mark: _getJudgeTableMark2.default
});

(0, _HostModules.setup)(response);

},{"AdminScoreInput":25,"DisciplineResultsTable":26,"HostModules":27,"JudgeTablet":78,"ResultsTable1":80,"ResultsTable2":83,"ResultsTable3":87,"getJudgeTableMark":98,"l10n":99,"meta":101}]},{},[102])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvc3dlZXRhbGVydDIvZGlzdC9zd2VldGFsZXJ0Mi5qcyIsInNyY1xcanN4XFxsaWJcXGNvbW1vblxcZGlhbG9nc1xcY2xvc2VEaWFsb2cuanN4Iiwic3JjXFxqc3hcXGxpYlxcY29tbW9uXFxkaWFsb2dzXFxzaG93Q29uZmlybS5qc3giLCJzcmNcXGpzeFxcbGliXFxjb21tb25cXG1ha2VDbGFzc05hbWUuanN4Iiwic3JjXFxqc3hcXGxpYlxcdGFibGV0X3VpXFxJbnRlZ2VySW5wdXQuanN4Iiwic3JjXFxqc3hcXGxpYlxcdGFibGV0X3VpXFxOdW1iZXJTZWxlY3RvcklucHV0LmpzeCIsInNyY1xcanN4XFxsaWJcXHRhYmxldF91aVxcU2VsZWN0b3JJbnB1dFxcSXRlbS5qc3giLCJzcmNcXGpzeFxcbGliXFx0YWJsZXRfdWlcXFNlbGVjdG9ySW5wdXRcXGluZGV4LmpzeCIsInNyY1xcanN4XFxsaWJcXHRhYmxldF91aVxcU2xpZGVyLmpzeCIsInNyY1xcanN4XFxsaWJcXHRhYmxldF91aVxcb25Ub3VjaEVuZE9yQ2xpY2suanN4Iiwic3JjXFxqc3hcXGxpYlxcdGFibGV0X3VpXFxvblRvdWNoT3JDbGljay5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcQWRtaW5TY29yZUlucHV0XFxFZGl0b3JcXEFjcm9TY29yZS5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcQWRtaW5TY29yZUlucHV0XFxFZGl0b3JcXENvbmZpcm1hdGlvbkJ1dHRvbi5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcQWRtaW5TY29yZUlucHV0XFxFZGl0b3JcXERhbmNlU2NvcmUuanN4Iiwic3JjXFxqc3hcXHJ1bGVzX3NldHNcXHJvc2ZhcnJcXEFkbWluU2NvcmVJbnB1dFxcRWRpdG9yXFxGb3JtYXRpb25BY3JvU2NvcmUuanN4Iiwic3JjXFxqc3hcXHJ1bGVzX3NldHNcXHJvc2ZhcnJcXEFkbWluU2NvcmVJbnB1dFxcRWRpdG9yXFxGb3JtYXRpb25TY29yZS5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcQWRtaW5TY29yZUlucHV0XFxFZGl0b3JcXEdlbmVyYWxFZGl0b3JcXEl0ZW0uanN4Iiwic3JjXFxqc3hcXHJ1bGVzX3NldHNcXHJvc2ZhcnJcXEFkbWluU2NvcmVJbnB1dFxcRWRpdG9yXFxHZW5lcmFsRWRpdG9yXFxpbmRleC5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcQWRtaW5TY29yZUlucHV0XFxFZGl0b3JcXEhlYWRKdWRnZVNjb3JlLmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxBZG1pblNjb3JlSW5wdXRcXEVkaXRvclxcU2ltcGxpZmllZFNjb3JlLmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxBZG1pblNjb3JlSW5wdXRcXEVkaXRvclxcU29sb1Njb3JlLmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxBZG1pblNjb3JlSW5wdXRcXEVkaXRvclxcVGVjaEp1ZGdlU2NvcmUuanN4Iiwic3JjXFxqc3hcXHJ1bGVzX3NldHNcXHJvc2ZhcnJcXEFkbWluU2NvcmVJbnB1dFxcRWRpdG9yXFxnZW5TY2FsZS5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcQWRtaW5TY29yZUlucHV0XFxFZGl0b3JcXGluZGV4LmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxBZG1pblNjb3JlSW5wdXRcXGluZGV4LmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxEaXNjaXBsaW5lUmVzdWx0c1RhYmxlLmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxIb3N0TW9kdWxlcy5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcSnVkZ2VUYWJsZXRcXEFjcm9iYXRpY3NMYXlvdXRcXFNjb3JpbmdMYXlvdXRcXEVsZW1lbnRzXFxFbGVtZW50LmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxKdWRnZVRhYmxldFxcQWNyb2JhdGljc0xheW91dFxcU2NvcmluZ0xheW91dFxcRWxlbWVudHNcXGluZGV4LmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxKdWRnZVRhYmxldFxcQWNyb2JhdGljc0xheW91dFxcU2NvcmluZ0xheW91dFxcTWlzdGFrZXMuanN4Iiwic3JjXFxqc3hcXHJ1bGVzX3NldHNcXHJvc2ZhcnJcXEp1ZGdlVGFibGV0XFxBY3JvYmF0aWNzTGF5b3V0XFxTY29yaW5nTGF5b3V0XFxpbmRleC5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcSnVkZ2VUYWJsZXRcXEFjcm9iYXRpY3NMYXlvdXRcXGluZGV4LmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxKdWRnZVRhYmxldFxcQ29uZmlybWF0aW9uQnV0dG9uLmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxKdWRnZVRhYmxldFxcRGFuY2VMYXlvdXRcXFNjb3JpbmdMYXlvdXRcXE1pc3Rha2VzLmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxKdWRnZVRhYmxldFxcRGFuY2VMYXlvdXRcXFNjb3JpbmdMYXlvdXRcXGluZGV4LmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxKdWRnZVRhYmxldFxcRGFuY2VMYXlvdXRcXGluZGV4LmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxKdWRnZVRhYmxldFxcRm9vdGVyXFxCdXR0b24uanN4Iiwic3JjXFxqc3hcXHJ1bGVzX3NldHNcXHJvc2ZhcnJcXEp1ZGdlVGFibGV0XFxGb290ZXJcXEZvb3Rlckl0ZW0uanN4Iiwic3JjXFxqc3hcXHJ1bGVzX3NldHNcXHJvc2ZhcnJcXEp1ZGdlVGFibGV0XFxGb290ZXJcXGluZGV4LmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxKdWRnZVRhYmxldFxcRm9ybWF0aW9uQWNyb0xheW91dFxcU2NvcmluZ0xheW91dFxcTWlzdGFrZXMuanN4Iiwic3JjXFxqc3hcXHJ1bGVzX3NldHNcXHJvc2ZhcnJcXEp1ZGdlVGFibGV0XFxGb3JtYXRpb25BY3JvTGF5b3V0XFxTY29yaW5nTGF5b3V0XFxpbmRleC5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcSnVkZ2VUYWJsZXRcXEZvcm1hdGlvbkxheW91dFxcU2NvcmluZ0xheW91dFxcTWlzdGFrZXMuanN4Iiwic3JjXFxqc3hcXHJ1bGVzX3NldHNcXHJvc2ZhcnJcXEp1ZGdlVGFibGV0XFxGb3JtYXRpb25MYXlvdXRcXFNjb3JpbmdMYXlvdXRcXGluZGV4LmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxKdWRnZVRhYmxldFxcR2VuZXJhbExheW91dFxcUGFydGljaXBhbnQuanN4Iiwic3JjXFxqc3hcXHJ1bGVzX3NldHNcXHJvc2ZhcnJcXEp1ZGdlVGFibGV0XFxHZW5lcmFsTGF5b3V0XFxpbmRleC5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcSnVkZ2VUYWJsZXRcXEdlbmVyYWxTY2FsZS5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcSnVkZ2VUYWJsZXRcXEdyaWQuanN4Iiwic3JjXFxqc3hcXHJ1bGVzX3NldHNcXHJvc2ZhcnJcXEp1ZGdlVGFibGV0XFxIZWFkSnVkZ2VMYXlvdXRcXEFjdGlvbnNQYWdlLmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxKdWRnZVRhYmxldFxcSGVhZEp1ZGdlTGF5b3V0XFxIZWF0c1BhZ2VcXFNjb3JpbmdMYXlvdXRcXEFjcm9iYXRpY092ZXJyaWRlc1xcaW5kZXguanN4Iiwic3JjXFxqc3hcXHJ1bGVzX3NldHNcXHJvc2ZhcnJcXEp1ZGdlVGFibGV0XFxIZWFkSnVkZ2VMYXlvdXRcXEhlYXRzUGFnZVxcU2NvcmluZ0xheW91dFxcQ2FyZElucHV0LmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxKdWRnZVRhYmxldFxcSGVhZEp1ZGdlTGF5b3V0XFxIZWF0c1BhZ2VcXFNjb3JpbmdMYXlvdXRcXExpbmVKdWRnZXNTY29yZXNcXEl0ZW0uanN4Iiwic3JjXFxqc3hcXHJ1bGVzX3NldHNcXHJvc2ZhcnJcXEp1ZGdlVGFibGV0XFxIZWFkSnVkZ2VMYXlvdXRcXEhlYXRzUGFnZVxcU2NvcmluZ0xheW91dFxcTGluZUp1ZGdlc1Njb3Jlc1xcaW5kZXguanN4Iiwic3JjXFxqc3hcXHJ1bGVzX3NldHNcXHJvc2ZhcnJcXEp1ZGdlVGFibGV0XFxIZWFkSnVkZ2VMYXlvdXRcXEhlYXRzUGFnZVxcU2NvcmluZ0xheW91dFxcUHJldmlvdXNDYXJkc1xcaW5kZXguanN4Iiwic3JjXFxqc3hcXHJ1bGVzX3NldHNcXHJvc2ZhcnJcXEp1ZGdlVGFibGV0XFxIZWFkSnVkZ2VMYXlvdXRcXEhlYXRzUGFnZVxcU2NvcmluZ0xheW91dFxcU3RhdHVzU3dpdGNoXFxpbmRleC5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcSnVkZ2VUYWJsZXRcXEhlYWRKdWRnZUxheW91dFxcSGVhdHNQYWdlXFxTY29yaW5nTGF5b3V0XFxUZWNoSnVkZ2VzU2NvcmVzXFxJdGVtLmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxKdWRnZVRhYmxldFxcSGVhZEp1ZGdlTGF5b3V0XFxIZWF0c1BhZ2VcXFNjb3JpbmdMYXlvdXRcXFRlY2hKdWRnZXNTY29yZXNcXGluZGV4LmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxKdWRnZVRhYmxldFxcSGVhZEp1ZGdlTGF5b3V0XFxIZWF0c1BhZ2VcXFNjb3JpbmdMYXlvdXRcXGluZGV4LmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxKdWRnZVRhYmxldFxcSGVhZEp1ZGdlTGF5b3V0XFxIZWF0c1BhZ2VcXGluZGV4LmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxKdWRnZVRhYmxldFxcSGVhZEp1ZGdlTGF5b3V0XFxSZXN1bHRzUGFnZS5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcSnVkZ2VUYWJsZXRcXEhlYWRKdWRnZUxheW91dFxcaW5kZXguanN4Iiwic3JjXFxqc3hcXHJ1bGVzX3NldHNcXHJvc2ZhcnJcXEp1ZGdlVGFibGV0XFxIZWFkZXIuanN4Iiwic3JjXFxqc3hcXHJ1bGVzX3NldHNcXHJvc2ZhcnJcXEp1ZGdlVGFibGV0XFxTaW1wbGlmaWVkTGF5b3V0XFxTY29yaW5nTGF5b3V0LmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxKdWRnZVRhYmxldFxcU29sb0xheW91dFxcU2NvcmluZ0xheW91dFxcTWlzdGFrZXMuanN4Iiwic3JjXFxqc3hcXHJ1bGVzX3NldHNcXHJvc2ZhcnJcXEp1ZGdlVGFibGV0XFxTb2xvTGF5b3V0XFxTY29yaW5nTGF5b3V0XFxpbmRleC5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcSnVkZ2VUYWJsZXRcXFNvbG9MYXlvdXRcXGluZGV4LmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxKdWRnZVRhYmxldFxcVGVjaEp1ZGdlTGF5b3V0XFxBY3JvUGFnZVxcU2NvcmluZ0xheW91dFxcRWxlbWVudC5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcSnVkZ2VUYWJsZXRcXFRlY2hKdWRnZUxheW91dFxcQWNyb1BhZ2VcXFNjb3JpbmdMYXlvdXRcXE92ZXJyaWRlSW5wdXQuanN4Iiwic3JjXFxqc3hcXHJ1bGVzX3NldHNcXHJvc2ZhcnJcXEp1ZGdlVGFibGV0XFxUZWNoSnVkZ2VMYXlvdXRcXEFjcm9QYWdlXFxTY29yaW5nTGF5b3V0XFxpbmRleC5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcSnVkZ2VUYWJsZXRcXFRlY2hKdWRnZUxheW91dFxcQWNyb1BhZ2VcXGluZGV4LmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxKdWRnZVRhYmxldFxcVGVjaEp1ZGdlTGF5b3V0XFxEYW5jaW5nUGFnZVxcU2NvcmluZ0xheW91dC5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcSnVkZ2VUYWJsZXRcXFRlY2hKdWRnZUxheW91dFxcRGFuY2luZ1BhZ2VcXFN0b3BXYXRjaC5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcSnVkZ2VUYWJsZXRcXFRlY2hKdWRnZUxheW91dFxcRGFuY2luZ1BhZ2VcXGluZGV4LmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxKdWRnZVRhYmxldFxcVGVjaEp1ZGdlTGF5b3V0XFxpbmRleC5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcSnVkZ2VUYWJsZXRcXFRvdGFsU2NvcmUuanN4Iiwic3JjXFxqc3hcXHJ1bGVzX3NldHNcXHJvc2ZhcnJcXEp1ZGdlVGFibGV0XFxpbmRleC5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcUmVzdWx0c1RhYmxlMVxcUm93LmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxSZXN1bHRzVGFibGUxXFxpbmRleC5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcUmVzdWx0c1RhYmxlMlxcQ29sdW1uc1dpZHRocy5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcUmVzdWx0c1RhYmxlMlxcUm93LmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxSZXN1bHRzVGFibGUyXFxpbmRleC5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcUmVzdWx0c1RhYmxlM1xcQ29sdW1uc1dpZHRocy5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcUmVzdWx0c1RhYmxlM1xcUm93XFxJbmZvQ2VsbC5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcUmVzdWx0c1RhYmxlM1xcUm93XFxpbmRleC5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcUmVzdWx0c1RhYmxlM1xcaW5kZXguanN4Iiwic3JjXFxqc3hcXHJ1bGVzX3NldHNcXHJvc2ZhcnJcXGNvbW1vblxcVmVyYm9zZUp1ZGdlU2NvcmVcXEFjcm9TY29yZS5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcY29tbW9uXFxWZXJib3NlSnVkZ2VTY29yZVxcRGFuY2VTY29yZS5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcY29tbW9uXFxWZXJib3NlSnVkZ2VTY29yZVxcRm9ybWF0aW9uQWNyb1Njb3JlLmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxjb21tb25cXFZlcmJvc2VKdWRnZVNjb3JlXFxGb3JtYXRpb25TY29yZS5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcY29tbW9uXFxWZXJib3NlSnVkZ2VTY29yZVxcU29sb1Njb3JlLmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxjb21tb25cXFZlcmJvc2VKdWRnZVNjb3JlXFxUZWNoU2NvcmUuanN4Iiwic3JjXFxqc3hcXHJ1bGVzX3NldHNcXHJvc2ZhcnJcXGNvbW1vblxcVmVyYm9zZUp1ZGdlU2NvcmVcXGZvcm1hdFNjb3JlLmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxjb21tb25cXFZlcmJvc2VKdWRnZVNjb3JlXFxpbmRleC5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcY29tbW9uXFxnZXRQYXJ0aWNpcGFudERpc3BsYXkuanN4Iiwic3JjXFxqc3hcXHJ1bGVzX3NldHNcXHJvc2ZhcnJcXGNvbW1vblxcZ2V0U2NvcmluZ1R5cGUuanN4Iiwic3JjXFxqc3hcXHJ1bGVzX3NldHNcXHJvc2ZhcnJcXGdldEp1ZGdlVGFibGVNYXJrLmpzeCIsInNyY1xcanN4XFxydWxlc19zZXRzXFxyb3NmYXJyXFxsMTBuXFxpbmRleC5qc3giLCJzcmNcXGpzeFxccnVsZXNfc2V0c1xccm9zZmFyclxcbDEwblxccnUuanN4Iiwic3JjXFxqc3hcXHJ1bGVzX3NldHNcXHJvc2ZhcnJcXG1ldGEuanN4Iiwic3JjXFxqc3hcXHJ1bGVzX3NldHNcXHJvc2ZhcnJcXHJvb3QuanN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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bmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8qIVxuICogc3dlZXRhbGVydDIgdjYuNi4yXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKi9cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG5cdHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcblx0dHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcblx0KGdsb2JhbC5Td2VldGFsZXJ0MiA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxudmFyIGRlZmF1bHRQYXJhbXMgPSB7XG4gIHRpdGxlOiAnJyxcbiAgdGl0bGVUZXh0OiAnJyxcbiAgdGV4dDogJycsXG4gIGh0bWw6ICcnLFxuICB0eXBlOiBudWxsLFxuICBjdXN0b21DbGFzczogJycsXG4gIHRhcmdldDogJ2JvZHknLFxuICBhbmltYXRpb246IHRydWUsXG4gIGFsbG93T3V0c2lkZUNsaWNrOiB0cnVlLFxuICBhbGxvd0VzY2FwZUtleTogdHJ1ZSxcbiAgYWxsb3dFbnRlcktleTogdHJ1ZSxcbiAgc2hvd0NvbmZpcm1CdXR0b246IHRydWUsXG4gIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLFxuICBwcmVDb25maXJtOiBudWxsLFxuICBjb25maXJtQnV0dG9uVGV4dDogJ09LJyxcbiAgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzMwODVkNicsXG4gIGNvbmZpcm1CdXR0b25DbGFzczogbnVsbCxcbiAgY2FuY2VsQnV0dG9uVGV4dDogJ0NhbmNlbCcsXG4gIGNhbmNlbEJ1dHRvbkNvbG9yOiAnI2FhYScsXG4gIGNhbmNlbEJ1dHRvbkNsYXNzOiBudWxsLFxuICBidXR0b25zU3R5bGluZzogdHJ1ZSxcbiAgcmV2ZXJzZUJ1dHRvbnM6IGZhbHNlLFxuICBmb2N1c0NhbmNlbDogZmFsc2UsXG4gIHNob3dDbG9zZUJ1dHRvbjogZmFsc2UsXG4gIHNob3dMb2FkZXJPbkNvbmZpcm06IGZhbHNlLFxuICBpbWFnZVVybDogbnVsbCxcbiAgaW1hZ2VXaWR0aDogbnVsbCxcbiAgaW1hZ2VIZWlnaHQ6IG51bGwsXG4gIGltYWdlQ2xhc3M6IG51bGwsXG4gIHRpbWVyOiBudWxsLFxuICB3aWR0aDogNTAwLFxuICBwYWRkaW5nOiAyMCxcbiAgYmFja2dyb3VuZDogJyNmZmYnLFxuICBpbnB1dDogbnVsbCxcbiAgaW5wdXRQbGFjZWhvbGRlcjogJycsXG4gIGlucHV0VmFsdWU6ICcnLFxuICBpbnB1dE9wdGlvbnM6IHt9LFxuICBpbnB1dEF1dG9UcmltOiB0cnVlLFxuICBpbnB1dENsYXNzOiBudWxsLFxuICBpbnB1dEF0dHJpYnV0ZXM6IHt9LFxuICBpbnB1dFZhbGlkYXRvcjogbnVsbCxcbiAgcHJvZ3Jlc3NTdGVwczogW10sXG4gIGN1cnJlbnRQcm9ncmVzc1N0ZXA6IG51bGwsXG4gIHByb2dyZXNzU3RlcHNEaXN0YW5jZTogJzQwcHgnLFxuICBvbk9wZW46IG51bGwsXG4gIG9uQ2xvc2U6IG51bGxcbn07XG5cbnZhciBzd2FsUHJlZml4ID0gJ3N3YWwyLSc7XG5cbnZhciBwcmVmaXggPSBmdW5jdGlvbiBwcmVmaXgoaXRlbXMpIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBmb3IgKHZhciBpIGluIGl0ZW1zKSB7XG4gICAgcmVzdWx0W2l0ZW1zW2ldXSA9IHN3YWxQcmVmaXggKyBpdGVtc1tpXTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyIHN3YWxDbGFzc2VzID0gcHJlZml4KFsnY29udGFpbmVyJywgJ3Nob3duJywgJ2lvc2ZpeCcsICdtb2RhbCcsICdvdmVybGF5JywgJ2ZhZGUnLCAnc2hvdycsICdoaWRlJywgJ25vYW5pbWF0aW9uJywgJ2Nsb3NlJywgJ3RpdGxlJywgJ2NvbnRlbnQnLCAnYnV0dG9uc3dyYXBwZXInLCAnY29uZmlybScsICdjYW5jZWwnLCAnaWNvbicsICdpbWFnZScsICdpbnB1dCcsICdmaWxlJywgJ3JhbmdlJywgJ3NlbGVjdCcsICdyYWRpbycsICdjaGVja2JveCcsICd0ZXh0YXJlYScsICdpbnB1dGVycm9yJywgJ3ZhbGlkYXRpb25lcnJvcicsICdwcm9ncmVzc3N0ZXBzJywgJ2FjdGl2ZXByb2dyZXNzc3RlcCcsICdwcm9ncmVzc2NpcmNsZScsICdwcm9ncmVzc2xpbmUnLCAnbG9hZGluZycsICdzdHlsZWQnXSk7XG5cbnZhciBpY29uVHlwZXMgPSBwcmVmaXgoWydzdWNjZXNzJywgJ3dhcm5pbmcnLCAnaW5mbycsICdxdWVzdGlvbicsICdlcnJvciddKTtcblxuLypcbiAqIFNldCBob3ZlciwgYWN0aXZlIGFuZCBmb2N1cy1zdGF0ZXMgZm9yIGJ1dHRvbnMgKHNvdXJjZTogaHR0cDovL3d3dy5zaXRlcG9pbnQuY29tL2phdmFzY3JpcHQtZ2VuZXJhdGUtbGlnaHRlci1kYXJrZXItY29sb3IpXG4gKi9cbnZhciBjb2xvckx1bWluYW5jZSA9IGZ1bmN0aW9uIGNvbG9yTHVtaW5hbmNlKGhleCwgbHVtKSB7XG4gIC8vIFZhbGlkYXRlIGhleCBzdHJpbmdcbiAgaGV4ID0gU3RyaW5nKGhleCkucmVwbGFjZSgvW14wLTlhLWZdL2dpLCAnJyk7XG4gIGlmIChoZXgubGVuZ3RoIDwgNikge1xuICAgIGhleCA9IGhleFswXSArIGhleFswXSArIGhleFsxXSArIGhleFsxXSArIGhleFsyXSArIGhleFsyXTtcbiAgfVxuICBsdW0gPSBsdW0gfHwgMDtcblxuICAvLyBDb252ZXJ0IHRvIGRlY2ltYWwgYW5kIGNoYW5nZSBsdW1pbm9zaXR5XG4gIHZhciByZ2IgPSAnIyc7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgdmFyIGMgPSBwYXJzZUludChoZXguc3Vic3RyKGkgKiAyLCAyKSwgMTYpO1xuICAgIGMgPSBNYXRoLnJvdW5kKE1hdGgubWluKE1hdGgubWF4KDAsIGMgKyBjICogbHVtKSwgMjU1KSkudG9TdHJpbmcoMTYpO1xuICAgIHJnYiArPSAoJzAwJyArIGMpLnN1YnN0cihjLmxlbmd0aCk7XG4gIH1cblxuICByZXR1cm4gcmdiO1xufTtcblxudmFyIHVuaXF1ZUFycmF5ID0gZnVuY3Rpb24gdW5pcXVlQXJyYXkoYXJyKSB7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIgaSBpbiBhcnIpIHtcbiAgICBpZiAocmVzdWx0LmluZGV4T2YoYXJyW2ldKSA9PT0gLTEpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGFycltpXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKiBnbG9iYWwgTW91c2VFdmVudCAqL1xuXG4vLyBSZW1lbWJlciBzdGF0ZSBpbiBjYXNlcyB3aGVyZSBvcGVuaW5nIGFuZCBoYW5kbGluZyBhIG1vZGFsIHdpbGwgZmlkZGxlIHdpdGggaXQuXG52YXIgc3RhdGVzID0ge1xuICBwcmV2aW91c1dpbmRvd0tleURvd246IG51bGwsXG4gIHByZXZpb3VzQWN0aXZlRWxlbWVudDogbnVsbCxcbiAgcHJldmlvdXNCb2R5UGFkZGluZzogbnVsbFxufTtcblxuLypcbiAqIEFkZCBtb2RhbCArIG92ZXJsYXkgdG8gRE9NXG4gKi9cbnZhciBpbml0ID0gZnVuY3Rpb24gaW5pdChwYXJhbXMpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTd2VldEFsZXJ0MiByZXF1aXJlcyBkb2N1bWVudCB0byBpbml0aWFsaXplJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb250YWluZXIuY2xhc3NOYW1lID0gc3dhbENsYXNzZXMuY29udGFpbmVyO1xuICBjb250YWluZXIuaW5uZXJIVE1MID0gc3dlZXRIVE1MO1xuXG4gIHZhciB0YXJnZXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihwYXJhbXMudGFyZ2V0KTtcbiAgaWYgKCF0YXJnZXRFbGVtZW50KSB7XG4gICAgY29uc29sZS53YXJuKCdTd2VldEFsZXJ0MjogQ2FuXFwndCBmaW5kIHRoZSB0YXJnZXQgXCInICsgcGFyYW1zLnRhcmdldCArICdcIicpO1xuICAgIHRhcmdldEVsZW1lbnQgPSBkb2N1bWVudC5ib2R5O1xuICB9XG4gIHRhcmdldEVsZW1lbnQuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblxuICB2YXIgbW9kYWwgPSBnZXRNb2RhbCgpO1xuICB2YXIgaW5wdXQgPSBnZXRDaGlsZEJ5Q2xhc3MobW9kYWwsIHN3YWxDbGFzc2VzLmlucHV0KTtcbiAgdmFyIGZpbGUgPSBnZXRDaGlsZEJ5Q2xhc3MobW9kYWwsIHN3YWxDbGFzc2VzLmZpbGUpO1xuICB2YXIgcmFuZ2UgPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCcuJyArIHN3YWxDbGFzc2VzLnJhbmdlICsgJyBpbnB1dCcpO1xuICB2YXIgcmFuZ2VPdXRwdXQgPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCcuJyArIHN3YWxDbGFzc2VzLnJhbmdlICsgJyBvdXRwdXQnKTtcbiAgdmFyIHNlbGVjdCA9IGdldENoaWxkQnlDbGFzcyhtb2RhbCwgc3dhbENsYXNzZXMuc2VsZWN0KTtcbiAgdmFyIGNoZWNrYm94ID0gbW9kYWwucXVlcnlTZWxlY3RvcignLicgKyBzd2FsQ2xhc3Nlcy5jaGVja2JveCArICcgaW5wdXQnKTtcbiAgdmFyIHRleHRhcmVhID0gZ2V0Q2hpbGRCeUNsYXNzKG1vZGFsLCBzd2FsQ2xhc3Nlcy50ZXh0YXJlYSk7XG5cbiAgaW5wdXQub25pbnB1dCA9IGZ1bmN0aW9uICgpIHtcbiAgICBzd2VldEFsZXJ0LnJlc2V0VmFsaWRhdGlvbkVycm9yKCk7XG4gIH07XG5cbiAgaW5wdXQub25rZXlkb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMTMgJiYgcGFyYW1zLmFsbG93RW50ZXJLZXkpIHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHN3ZWV0QWxlcnQuY2xpY2tDb25maXJtKCk7XG4gICAgICB9XG4gICAgfSwgMCk7XG4gIH07XG5cbiAgZmlsZS5vbmNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBzd2VldEFsZXJ0LnJlc2V0VmFsaWRhdGlvbkVycm9yKCk7XG4gIH07XG5cbiAgcmFuZ2Uub25pbnB1dCA9IGZ1bmN0aW9uICgpIHtcbiAgICBzd2VldEFsZXJ0LnJlc2V0VmFsaWRhdGlvbkVycm9yKCk7XG4gICAgcmFuZ2VPdXRwdXQudmFsdWUgPSByYW5nZS52YWx1ZTtcbiAgfTtcblxuICByYW5nZS5vbmNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBzd2VldEFsZXJ0LnJlc2V0VmFsaWRhdGlvbkVycm9yKCk7XG4gICAgcmFuZ2UucHJldmlvdXNTaWJsaW5nLnZhbHVlID0gcmFuZ2UudmFsdWU7XG4gIH07XG5cbiAgc2VsZWN0Lm9uY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgIHN3ZWV0QWxlcnQucmVzZXRWYWxpZGF0aW9uRXJyb3IoKTtcbiAgfTtcblxuICBjaGVja2JveC5vbmNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBzd2VldEFsZXJ0LnJlc2V0VmFsaWRhdGlvbkVycm9yKCk7XG4gIH07XG5cbiAgdGV4dGFyZWEub25pbnB1dCA9IGZ1bmN0aW9uICgpIHtcbiAgICBzd2VldEFsZXJ0LnJlc2V0VmFsaWRhdGlvbkVycm9yKCk7XG4gIH07XG5cbiAgcmV0dXJuIG1vZGFsO1xufTtcblxuLypcbiAqIE1hbmlwdWxhdGUgRE9NXG4gKi9cblxudmFyIHN3ZWV0SFRNTCA9ICgnXFxuIDxkaXYgcm9sZT1cImRpYWxvZ1wiIGFyaWEtbGFiZWxsZWRieT1cIicgKyBzd2FsQ2xhc3Nlcy50aXRsZSArICdcIiBhcmlhLWRlc2NyaWJlZGJ5PVwiJyArIHN3YWxDbGFzc2VzLmNvbnRlbnQgKyAnXCIgY2xhc3M9XCInICsgc3dhbENsYXNzZXMubW9kYWwgKyAnXCIgdGFiaW5kZXg9XCItMVwiPlxcbiAgIDx1bCBjbGFzcz1cIicgKyBzd2FsQ2xhc3Nlcy5wcm9ncmVzc3N0ZXBzICsgJ1wiPjwvdWw+XFxuICAgPGRpdiBjbGFzcz1cIicgKyBzd2FsQ2xhc3Nlcy5pY29uICsgJyAnICsgaWNvblR5cGVzLmVycm9yICsgJ1wiPlxcbiAgICAgPHNwYW4gY2xhc3M9XCJzd2FsMi14LW1hcmtcIj48c3BhbiBjbGFzcz1cInN3YWwyLXgtbWFyay1saW5lLWxlZnRcIj48L3NwYW4+PHNwYW4gY2xhc3M9XCJzd2FsMi14LW1hcmstbGluZS1yaWdodFwiPjwvc3Bhbj48L3NwYW4+XFxuICAgPC9kaXY+XFxuICAgPGRpdiBjbGFzcz1cIicgKyBzd2FsQ2xhc3Nlcy5pY29uICsgJyAnICsgaWNvblR5cGVzLnF1ZXN0aW9uICsgJ1wiPj88L2Rpdj5cXG4gICA8ZGl2IGNsYXNzPVwiJyArIHN3YWxDbGFzc2VzLmljb24gKyAnICcgKyBpY29uVHlwZXMud2FybmluZyArICdcIj4hPC9kaXY+XFxuICAgPGRpdiBjbGFzcz1cIicgKyBzd2FsQ2xhc3Nlcy5pY29uICsgJyAnICsgaWNvblR5cGVzLmluZm8gKyAnXCI+aTwvZGl2PlxcbiAgIDxkaXYgY2xhc3M9XCInICsgc3dhbENsYXNzZXMuaWNvbiArICcgJyArIGljb25UeXBlcy5zdWNjZXNzICsgJ1wiPlxcbiAgICAgPGRpdiBjbGFzcz1cInN3YWwyLXN1Y2Nlc3MtY2lyY3VsYXItbGluZS1sZWZ0XCI+PC9kaXY+XFxuICAgICA8c3BhbiBjbGFzcz1cInN3YWwyLXN1Y2Nlc3MtbGluZS10aXBcIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwic3dhbDItc3VjY2Vzcy1saW5lLWxvbmdcIj48L3NwYW4+XFxuICAgICA8ZGl2IGNsYXNzPVwic3dhbDItc3VjY2Vzcy1yaW5nXCI+PC9kaXY+IDxkaXYgY2xhc3M9XCJzd2FsMi1zdWNjZXNzLWZpeFwiPjwvZGl2PlxcbiAgICAgPGRpdiBjbGFzcz1cInN3YWwyLXN1Y2Nlc3MtY2lyY3VsYXItbGluZS1yaWdodFwiPjwvZGl2PlxcbiAgIDwvZGl2PlxcbiAgIDxpbWcgY2xhc3M9XCInICsgc3dhbENsYXNzZXMuaW1hZ2UgKyAnXCI+XFxuICAgPGgyIGNsYXNzPVwiJyArIHN3YWxDbGFzc2VzLnRpdGxlICsgJ1wiIGlkPVwiJyArIHN3YWxDbGFzc2VzLnRpdGxlICsgJ1wiPjwvaDI+XFxuICAgPGRpdiBpZD1cIicgKyBzd2FsQ2xhc3Nlcy5jb250ZW50ICsgJ1wiIGNsYXNzPVwiJyArIHN3YWxDbGFzc2VzLmNvbnRlbnQgKyAnXCI+PC9kaXY+XFxuICAgPGlucHV0IGNsYXNzPVwiJyArIHN3YWxDbGFzc2VzLmlucHV0ICsgJ1wiPlxcbiAgIDxpbnB1dCB0eXBlPVwiZmlsZVwiIGNsYXNzPVwiJyArIHN3YWxDbGFzc2VzLmZpbGUgKyAnXCI+XFxuICAgPGRpdiBjbGFzcz1cIicgKyBzd2FsQ2xhc3Nlcy5yYW5nZSArICdcIj5cXG4gICAgIDxvdXRwdXQ+PC9vdXRwdXQ+XFxuICAgICA8aW5wdXQgdHlwZT1cInJhbmdlXCI+XFxuICAgPC9kaXY+XFxuICAgPHNlbGVjdCBjbGFzcz1cIicgKyBzd2FsQ2xhc3Nlcy5zZWxlY3QgKyAnXCI+PC9zZWxlY3Q+XFxuICAgPGRpdiBjbGFzcz1cIicgKyBzd2FsQ2xhc3Nlcy5yYWRpbyArICdcIj48L2Rpdj5cXG4gICA8bGFiZWwgZm9yPVwiJyArIHN3YWxDbGFzc2VzLmNoZWNrYm94ICsgJ1wiIGNsYXNzPVwiJyArIHN3YWxDbGFzc2VzLmNoZWNrYm94ICsgJ1wiPlxcbiAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiPlxcbiAgIDwvbGFiZWw+XFxuICAgPHRleHRhcmVhIGNsYXNzPVwiJyArIHN3YWxDbGFzc2VzLnRleHRhcmVhICsgJ1wiPjwvdGV4dGFyZWE+XFxuICAgPGRpdiBjbGFzcz1cIicgKyBzd2FsQ2xhc3Nlcy52YWxpZGF0aW9uZXJyb3IgKyAnXCI+PC9kaXY+XFxuICAgPGRpdiBjbGFzcz1cIicgKyBzd2FsQ2xhc3Nlcy5idXR0b25zd3JhcHBlciArICdcIj5cXG4gICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiJyArIHN3YWxDbGFzc2VzLmNvbmZpcm0gKyAnXCI+T0s8L2J1dHRvbj5cXG4gICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiJyArIHN3YWxDbGFzc2VzLmNhbmNlbCArICdcIj5DYW5jZWw8L2J1dHRvbj5cXG4gICA8L2Rpdj5cXG4gICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cIicgKyBzd2FsQ2xhc3Nlcy5jbG9zZSArICdcIiBhcmlhLWxhYmVsPVwiQ2xvc2UgdGhpcyBkaWFsb2dcIj4mdGltZXM7PC9idXR0b24+XFxuIDwvZGl2PlxcbicpLnJlcGxhY2UoLyhefFxcbilcXHMqL2csICcnKTtcblxudmFyIGdldENvbnRhaW5lciA9IGZ1bmN0aW9uIGdldENvbnRhaW5lcigpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcignLicgKyBzd2FsQ2xhc3Nlcy5jb250YWluZXIpO1xufTtcblxudmFyIGdldE1vZGFsID0gZnVuY3Rpb24gZ2V0TW9kYWwoKSB7XG4gIHJldHVybiBnZXRDb250YWluZXIoKSA/IGdldENvbnRhaW5lcigpLnF1ZXJ5U2VsZWN0b3IoJy4nICsgc3dhbENsYXNzZXMubW9kYWwpIDogbnVsbDtcbn07XG5cbnZhciBnZXRJY29ucyA9IGZ1bmN0aW9uIGdldEljb25zKCkge1xuICB2YXIgbW9kYWwgPSBnZXRNb2RhbCgpO1xuICByZXR1cm4gbW9kYWwucXVlcnlTZWxlY3RvckFsbCgnLicgKyBzd2FsQ2xhc3Nlcy5pY29uKTtcbn07XG5cbnZhciBlbGVtZW50QnlDbGFzcyA9IGZ1bmN0aW9uIGVsZW1lbnRCeUNsYXNzKGNsYXNzTmFtZSkge1xuICByZXR1cm4gZ2V0Q29udGFpbmVyKCkgPyBnZXRDb250YWluZXIoKS5xdWVyeVNlbGVjdG9yKCcuJyArIGNsYXNzTmFtZSkgOiBudWxsO1xufTtcblxudmFyIGdldFRpdGxlID0gZnVuY3Rpb24gZ2V0VGl0bGUoKSB7XG4gIHJldHVybiBlbGVtZW50QnlDbGFzcyhzd2FsQ2xhc3Nlcy50aXRsZSk7XG59O1xuXG52YXIgZ2V0Q29udGVudCA9IGZ1bmN0aW9uIGdldENvbnRlbnQoKSB7XG4gIHJldHVybiBlbGVtZW50QnlDbGFzcyhzd2FsQ2xhc3Nlcy5jb250ZW50KTtcbn07XG5cbnZhciBnZXRJbWFnZSA9IGZ1bmN0aW9uIGdldEltYWdlKCkge1xuICByZXR1cm4gZWxlbWVudEJ5Q2xhc3Moc3dhbENsYXNzZXMuaW1hZ2UpO1xufTtcblxudmFyIGdldEJ1dHRvbnNXcmFwcGVyID0gZnVuY3Rpb24gZ2V0QnV0dG9uc1dyYXBwZXIoKSB7XG4gIHJldHVybiBlbGVtZW50QnlDbGFzcyhzd2FsQ2xhc3Nlcy5idXR0b25zd3JhcHBlcik7XG59O1xuXG52YXIgZ2V0UHJvZ3Jlc3NTdGVwcyA9IGZ1bmN0aW9uIGdldFByb2dyZXNzU3RlcHMoKSB7XG4gIHJldHVybiBlbGVtZW50QnlDbGFzcyhzd2FsQ2xhc3Nlcy5wcm9ncmVzc3N0ZXBzKTtcbn07XG5cbnZhciBnZXRWYWxpZGF0aW9uRXJyb3IgPSBmdW5jdGlvbiBnZXRWYWxpZGF0aW9uRXJyb3IoKSB7XG4gIHJldHVybiBlbGVtZW50QnlDbGFzcyhzd2FsQ2xhc3Nlcy52YWxpZGF0aW9uZXJyb3IpO1xufTtcblxudmFyIGdldENvbmZpcm1CdXR0b24gPSBmdW5jdGlvbiBnZXRDb25maXJtQnV0dG9uKCkge1xuICByZXR1cm4gZWxlbWVudEJ5Q2xhc3Moc3dhbENsYXNzZXMuY29uZmlybSk7XG59O1xuXG52YXIgZ2V0Q2FuY2VsQnV0dG9uID0gZnVuY3Rpb24gZ2V0Q2FuY2VsQnV0dG9uKCkge1xuICByZXR1cm4gZWxlbWVudEJ5Q2xhc3Moc3dhbENsYXNzZXMuY2FuY2VsKTtcbn07XG5cbnZhciBnZXRDbG9zZUJ1dHRvbiA9IGZ1bmN0aW9uIGdldENsb3NlQnV0dG9uKCkge1xuICByZXR1cm4gZWxlbWVudEJ5Q2xhc3Moc3dhbENsYXNzZXMuY2xvc2UpO1xufTtcblxudmFyIGdldEZvY3VzYWJsZUVsZW1lbnRzID0gZnVuY3Rpb24gZ2V0Rm9jdXNhYmxlRWxlbWVudHMoZm9jdXNDYW5jZWwpIHtcbiAgdmFyIGJ1dHRvbnMgPSBbZ2V0Q29uZmlybUJ1dHRvbigpLCBnZXRDYW5jZWxCdXR0b24oKV07XG4gIGlmIChmb2N1c0NhbmNlbCkge1xuICAgIGJ1dHRvbnMucmV2ZXJzZSgpO1xuICB9XG4gIHZhciBmb2N1c2FibGVFbGVtZW50cyA9IGJ1dHRvbnMuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGdldE1vZGFsKCkucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uLCBpbnB1dDpub3QoW3R5cGU9aGlkZGVuXSksIHRleHRhcmVhLCBzZWxlY3QsIGEsICpbdGFiaW5kZXhdOm5vdChbdGFiaW5kZXg9XCItMVwiXSknKSkpO1xuICByZXR1cm4gdW5pcXVlQXJyYXkoZm9jdXNhYmxlRWxlbWVudHMpO1xufTtcblxudmFyIGhhc0NsYXNzID0gZnVuY3Rpb24gaGFzQ2xhc3MoZWxlbSwgY2xhc3NOYW1lKSB7XG4gIGlmIChlbGVtLmNsYXNzTGlzdCkge1xuICAgIHJldHVybiBlbGVtLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbnZhciBmb2N1c0lucHV0ID0gZnVuY3Rpb24gZm9jdXNJbnB1dChpbnB1dCkge1xuICBpbnB1dC5mb2N1cygpO1xuXG4gIC8vIHBsYWNlIGN1cnNvciBhdCBlbmQgb2YgdGV4dCBpbiB0ZXh0IGlucHV0XG4gIGlmIChpbnB1dC50eXBlICE9PSAnZmlsZScpIHtcbiAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMzQ1OTE1LzEzMzE0MjVcbiAgICB2YXIgdmFsID0gaW5wdXQudmFsdWU7XG4gICAgaW5wdXQudmFsdWUgPSAnJztcbiAgICBpbnB1dC52YWx1ZSA9IHZhbDtcbiAgfVxufTtcblxudmFyIGFkZENsYXNzID0gZnVuY3Rpb24gYWRkQ2xhc3MoZWxlbSwgY2xhc3NOYW1lKSB7XG4gIGlmICghZWxlbSB8fCAhY2xhc3NOYW1lKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBjbGFzc2VzID0gY2xhc3NOYW1lLnNwbGl0KC9cXHMrLykuZmlsdGVyKEJvb2xlYW4pO1xuICBjbGFzc2VzLmZvckVhY2goZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgIGVsZW0uY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICB9KTtcbn07XG5cbnZhciByZW1vdmVDbGFzcyA9IGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsZW0sIGNsYXNzTmFtZSkge1xuICBpZiAoIWVsZW0gfHwgIWNsYXNzTmFtZSkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgY2xhc3NlcyA9IGNsYXNzTmFtZS5zcGxpdCgvXFxzKy8pLmZpbHRlcihCb29sZWFuKTtcbiAgY2xhc3Nlcy5mb3JFYWNoKGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcbiAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcbiAgfSk7XG59O1xuXG52YXIgZ2V0Q2hpbGRCeUNsYXNzID0gZnVuY3Rpb24gZ2V0Q2hpbGRCeUNsYXNzKGVsZW0sIGNsYXNzTmFtZSkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW0uY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChoYXNDbGFzcyhlbGVtLmNoaWxkTm9kZXNbaV0sIGNsYXNzTmFtZSkpIHtcbiAgICAgIHJldHVybiBlbGVtLmNoaWxkTm9kZXNbaV07XG4gICAgfVxuICB9XG59O1xuXG52YXIgc2hvdyA9IGZ1bmN0aW9uIHNob3coZWxlbSwgZGlzcGxheSkge1xuICBpZiAoIWRpc3BsYXkpIHtcbiAgICBkaXNwbGF5ID0gJ2Jsb2NrJztcbiAgfVxuICBlbGVtLnN0eWxlLm9wYWNpdHkgPSAnJztcbiAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheTtcbn07XG5cbnZhciBoaWRlID0gZnVuY3Rpb24gaGlkZShlbGVtKSB7XG4gIGVsZW0uc3R5bGUub3BhY2l0eSA9ICcnO1xuICBlbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG59O1xuXG52YXIgZW1wdHkgPSBmdW5jdGlvbiBlbXB0eShlbGVtKSB7XG4gIHdoaWxlIChlbGVtLmZpcnN0Q2hpbGQpIHtcbiAgICBlbGVtLnJlbW92ZUNoaWxkKGVsZW0uZmlyc3RDaGlsZCk7XG4gIH1cbn07XG5cbi8vIGJvcnJvd2VkIGZyb20ganFldXJ5ICQoZWxlbSkuaXMoJzp2aXNpYmxlJykgaW1wbGVtZW50YXRpb25cbnZhciBpc1Zpc2libGUgPSBmdW5jdGlvbiBpc1Zpc2libGUoZWxlbSkge1xuICByZXR1cm4gZWxlbS5vZmZzZXRXaWR0aCB8fCBlbGVtLm9mZnNldEhlaWdodCB8fCBlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoO1xufTtcblxudmFyIHJlbW92ZVN0eWxlUHJvcGVydHkgPSBmdW5jdGlvbiByZW1vdmVTdHlsZVByb3BlcnR5KGVsZW0sIHByb3BlcnR5KSB7XG4gIGlmIChlbGVtLnN0eWxlLnJlbW92ZVByb3BlcnR5KSB7XG4gICAgZWxlbS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShwcm9wZXJ0eSk7XG4gIH0gZWxzZSB7XG4gICAgZWxlbS5zdHlsZS5yZW1vdmVBdHRyaWJ1dGUocHJvcGVydHkpO1xuICB9XG59O1xuXG52YXIgZmlyZUNsaWNrID0gZnVuY3Rpb24gZmlyZUNsaWNrKG5vZGUpIHtcbiAgaWYgKCFpc1Zpc2libGUobm9kZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBUYWtlbiBmcm9tIGh0dHA6Ly93d3cubm9ub2J0cnVzaXZlLmNvbS8yMDExLzExLzI5L3Byb2dyYW1hdGljYWxseS1maXJlLWNyb3NzYnJvd3Nlci1jbGljay1ldmVudC13aXRoLWphdmFzY3JpcHQvXG4gIC8vIFRoZW4gZml4ZWQgZm9yIHRvZGF5J3MgQ2hyb21lIGJyb3dzZXIuXG4gIGlmICh0eXBlb2YgTW91c2VFdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIFVwLXRvLWRhdGUgYXBwcm9hY2hcbiAgICB2YXIgbWV2dCA9IG5ldyBNb3VzZUV2ZW50KCdjbGljaycsIHtcbiAgICAgIHZpZXc6IHdpbmRvdyxcbiAgICAgIGJ1YmJsZXM6IGZhbHNlLFxuICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIG5vZGUuZGlzcGF0Y2hFdmVudChtZXZ0KTtcbiAgfSBlbHNlIGlmIChkb2N1bWVudC5jcmVhdGVFdmVudCkge1xuICAgIC8vIEZhbGxiYWNrXG4gICAgdmFyIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50cycpO1xuICAgIGV2dC5pbml0RXZlbnQoJ2NsaWNrJywgZmFsc2UsIGZhbHNlKTtcbiAgICBub2RlLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgfSBlbHNlIGlmIChkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCkge1xuICAgIG5vZGUuZmlyZUV2ZW50KCdvbmNsaWNrJyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG5vZGUub25jbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG5vZGUub25jbGljaygpO1xuICB9XG59O1xuXG52YXIgYW5pbWF0aW9uRW5kRXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB0ZXN0RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdmFyIHRyYW5zRW5kRXZlbnROYW1lcyA9IHtcbiAgICAnV2Via2l0QW5pbWF0aW9uJzogJ3dlYmtpdEFuaW1hdGlvbkVuZCcsXG4gICAgJ09BbmltYXRpb24nOiAnb0FuaW1hdGlvbkVuZCBvYW5pbWF0aW9uZW5kJyxcbiAgICAnbXNBbmltYXRpb24nOiAnTVNBbmltYXRpb25FbmQnLFxuICAgICdhbmltYXRpb24nOiAnYW5pbWF0aW9uZW5kJ1xuICB9O1xuICBmb3IgKHZhciBpIGluIHRyYW5zRW5kRXZlbnROYW1lcykge1xuICAgIGlmICh0cmFuc0VuZEV2ZW50TmFtZXMuaGFzT3duUHJvcGVydHkoaSkgJiYgdGVzdEVsLnN0eWxlW2ldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0cmFuc0VuZEV2ZW50TmFtZXNbaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufSgpO1xuXG4vLyBSZXNldCBwcmV2aW91cyB3aW5kb3cga2V5ZG93biBoYW5kbGVyIGFuZCBmb2N1ZWQgZWxlbWVudFxudmFyIHJlc2V0UHJldlN0YXRlID0gZnVuY3Rpb24gcmVzZXRQcmV2U3RhdGUoKSB7XG4gIHdpbmRvdy5vbmtleWRvd24gPSBzdGF0ZXMucHJldmlvdXNXaW5kb3dLZXlEb3duO1xuICBpZiAoc3RhdGVzLnByZXZpb3VzQWN0aXZlRWxlbWVudCAmJiBzdGF0ZXMucHJldmlvdXNBY3RpdmVFbGVtZW50LmZvY3VzKSB7XG4gICAgdmFyIHggPSB3aW5kb3cuc2Nyb2xsWDtcbiAgICB2YXIgeSA9IHdpbmRvdy5zY3JvbGxZO1xuICAgIHN0YXRlcy5wcmV2aW91c0FjdGl2ZUVsZW1lbnQuZm9jdXMoKTtcbiAgICBpZiAoeCAmJiB5KSB7XG4gICAgICAvLyBJRSBoYXMgbm8gc2Nyb2xsWC9zY3JvbGxZIHN1cHBvcnRcbiAgICAgIHdpbmRvdy5zY3JvbGxUbyh4LCB5KTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIE1lYXN1cmUgd2lkdGggb2Ygc2Nyb2xsYmFyXG4vLyBodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvanMvbW9kYWwuanMjTDI3OS1MMjg2XG52YXIgbWVhc3VyZVNjcm9sbGJhciA9IGZ1bmN0aW9uIG1lYXN1cmVTY3JvbGxiYXIoKSB7XG4gIHZhciBzdXBwb3J0c1RvdWNoID0gJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8IG5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzO1xuICBpZiAoc3VwcG9ydHNUb3VjaCkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIHZhciBzY3JvbGxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgc2Nyb2xsRGl2LnN0eWxlLndpZHRoID0gJzUwcHgnO1xuICBzY3JvbGxEaXYuc3R5bGUuaGVpZ2h0ID0gJzUwcHgnO1xuICBzY3JvbGxEaXYuc3R5bGUub3ZlcmZsb3cgPSAnc2Nyb2xsJztcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JvbGxEaXYpO1xuICB2YXIgc2Nyb2xsYmFyV2lkdGggPSBzY3JvbGxEaXYub2Zmc2V0V2lkdGggLSBzY3JvbGxEaXYuY2xpZW50V2lkdGg7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2Nyb2xsRGl2KTtcbiAgcmV0dXJuIHNjcm9sbGJhcldpZHRoO1xufTtcblxuLy8gSmF2YVNjcmlwdCBEZWJvdW5jZSBGdW5jdGlvblxuLy8gU2ltcGxpdmllZCB2ZXJzaW9uIG9mIGh0dHBzOi8vZGF2aWR3YWxzaC5uYW1lL2phdmFzY3JpcHQtZGVib3VuY2UtZnVuY3Rpb25cbnZhciBkZWJvdW5jZSA9IGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQpIHtcbiAgdmFyIHRpbWVvdXQgPSB2b2lkIDA7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGxhdGVyID0gZnVuY3Rpb24gbGF0ZXIoKSB7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgIGZ1bmMoKTtcbiAgICB9O1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gIH07XG59O1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iajtcbn0gOiBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xufTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59O1xuXG52YXIgbW9kYWxQYXJhbXMgPSBfZXh0ZW5kcyh7fSwgZGVmYXVsdFBhcmFtcyk7XG52YXIgcXVldWUgPSBbXTtcbnZhciBzd2FsMk9ic2VydmVyID0gdm9pZCAwO1xuXG4vKlxuICogU2V0IHR5cGUsIHRleHQgYW5kIGFjdGlvbnMgb24gbW9kYWxcbiAqL1xudmFyIHNldFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBzZXRQYXJhbWV0ZXJzKHBhcmFtcykge1xuICB2YXIgbW9kYWwgPSBnZXRNb2RhbCgpIHx8IGluaXQocGFyYW1zKTtcblxuICBmb3IgKHZhciBwYXJhbSBpbiBwYXJhbXMpIHtcbiAgICBpZiAoIWRlZmF1bHRQYXJhbXMuaGFzT3duUHJvcGVydHkocGFyYW0pICYmIHBhcmFtICE9PSAnZXh0cmFQYXJhbXMnKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1N3ZWV0QWxlcnQyOiBVbmtub3duIHBhcmFtZXRlciBcIicgKyBwYXJhbSArICdcIicpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFNldCBtb2RhbCB3aWR0aFxuICBtb2RhbC5zdHlsZS53aWR0aCA9IHR5cGVvZiBwYXJhbXMud2lkdGggPT09ICdudW1iZXInID8gcGFyYW1zLndpZHRoICsgJ3B4JyA6IHBhcmFtcy53aWR0aDtcblxuICBtb2RhbC5zdHlsZS5wYWRkaW5nID0gcGFyYW1zLnBhZGRpbmcgKyAncHgnO1xuICBtb2RhbC5zdHlsZS5iYWNrZ3JvdW5kID0gcGFyYW1zLmJhY2tncm91bmQ7XG4gIHZhciBzdWNjZXNzSWNvblBhcnRzID0gbW9kYWwucXVlcnlTZWxlY3RvckFsbCgnW2NsYXNzXj1zd2FsMi1zdWNjZXNzLWNpcmN1bGFyLWxpbmVdLCAuc3dhbDItc3VjY2Vzcy1maXgnKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdWNjZXNzSWNvblBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgc3VjY2Vzc0ljb25QYXJ0c1tpXS5zdHlsZS5iYWNrZ3JvdW5kID0gcGFyYW1zLmJhY2tncm91bmQ7XG4gIH1cblxuICB2YXIgdGl0bGUgPSBnZXRUaXRsZSgpO1xuICB2YXIgY29udGVudCA9IGdldENvbnRlbnQoKTtcbiAgdmFyIGJ1dHRvbnNXcmFwcGVyID0gZ2V0QnV0dG9uc1dyYXBwZXIoKTtcbiAgdmFyIGNvbmZpcm1CdXR0b24gPSBnZXRDb25maXJtQnV0dG9uKCk7XG4gIHZhciBjYW5jZWxCdXR0b24gPSBnZXRDYW5jZWxCdXR0b24oKTtcbiAgdmFyIGNsb3NlQnV0dG9uID0gZ2V0Q2xvc2VCdXR0b24oKTtcblxuICAvLyBUaXRsZVxuICBpZiAocGFyYW1zLnRpdGxlVGV4dCkge1xuICAgIHRpdGxlLmlubmVyVGV4dCA9IHBhcmFtcy50aXRsZVRleHQ7XG4gIH0gZWxzZSB7XG4gICAgdGl0bGUuaW5uZXJIVE1MID0gcGFyYW1zLnRpdGxlLnNwbGl0KCdcXG4nKS5qb2luKCc8YnI+Jyk7XG4gIH1cblxuICAvLyBDb250ZW50XG4gIGlmIChwYXJhbXMudGV4dCB8fCBwYXJhbXMuaHRtbCkge1xuICAgIGlmIChfdHlwZW9mKHBhcmFtcy5odG1sKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoMCBpbiBwYXJhbXMuaHRtbCkge1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIGluIHBhcmFtcy5odG1sOyBfaSsrKSB7XG4gICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChwYXJhbXMuaHRtbFtfaV0uY2xvbmVOb2RlKHRydWUpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChwYXJhbXMuaHRtbC5jbG9uZU5vZGUodHJ1ZSkpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocGFyYW1zLmh0bWwpIHtcbiAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gcGFyYW1zLmh0bWw7XG4gICAgfSBlbHNlIGlmIChwYXJhbXMudGV4dCkge1xuICAgICAgY29udGVudC50ZXh0Q29udGVudCA9IHBhcmFtcy50ZXh0O1xuICAgIH1cbiAgICBzaG93KGNvbnRlbnQpO1xuICB9IGVsc2Uge1xuICAgIGhpZGUoY29udGVudCk7XG4gIH1cblxuICAvLyBDbG9zZSBidXR0b25cbiAgaWYgKHBhcmFtcy5zaG93Q2xvc2VCdXR0b24pIHtcbiAgICBzaG93KGNsb3NlQnV0dG9uKTtcbiAgfSBlbHNlIHtcbiAgICBoaWRlKGNsb3NlQnV0dG9uKTtcbiAgfVxuXG4gIC8vIEN1c3RvbSBDbGFzc1xuICBtb2RhbC5jbGFzc05hbWUgPSBzd2FsQ2xhc3Nlcy5tb2RhbDtcbiAgaWYgKHBhcmFtcy5jdXN0b21DbGFzcykge1xuICAgIGFkZENsYXNzKG1vZGFsLCBwYXJhbXMuY3VzdG9tQ2xhc3MpO1xuICB9XG5cbiAgLy8gUHJvZ3Jlc3Mgc3RlcHNcbiAgdmFyIHByb2dyZXNzU3RlcHNDb250YWluZXIgPSBnZXRQcm9ncmVzc1N0ZXBzKCk7XG4gIHZhciBjdXJyZW50UHJvZ3Jlc3NTdGVwID0gcGFyc2VJbnQocGFyYW1zLmN1cnJlbnRQcm9ncmVzc1N0ZXAgPT09IG51bGwgPyBzd2VldEFsZXJ0LmdldFF1ZXVlU3RlcCgpIDogcGFyYW1zLmN1cnJlbnRQcm9ncmVzc1N0ZXAsIDEwKTtcbiAgaWYgKHBhcmFtcy5wcm9ncmVzc1N0ZXBzLmxlbmd0aCkge1xuICAgIHNob3cocHJvZ3Jlc3NTdGVwc0NvbnRhaW5lcik7XG4gICAgZW1wdHkocHJvZ3Jlc3NTdGVwc0NvbnRhaW5lcik7XG4gICAgaWYgKGN1cnJlbnRQcm9ncmVzc1N0ZXAgPj0gcGFyYW1zLnByb2dyZXNzU3RlcHMubGVuZ3RoKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1N3ZWV0QWxlcnQyOiBJbnZhbGlkIGN1cnJlbnRQcm9ncmVzc1N0ZXAgcGFyYW1ldGVyLCBpdCBzaG91bGQgYmUgbGVzcyB0aGFuIHByb2dyZXNzU3RlcHMubGVuZ3RoICcgKyAnKGN1cnJlbnRQcm9ncmVzc1N0ZXAgbGlrZSBKUyBhcnJheXMgc3RhcnRzIGZyb20gMCknKTtcbiAgICB9XG4gICAgcGFyYW1zLnByb2dyZXNzU3RlcHMuZm9yRWFjaChmdW5jdGlvbiAoc3RlcCwgaW5kZXgpIHtcbiAgICAgIHZhciBjaXJjbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgYWRkQ2xhc3MoY2lyY2xlLCBzd2FsQ2xhc3Nlcy5wcm9ncmVzc2NpcmNsZSk7XG4gICAgICBjaXJjbGUuaW5uZXJIVE1MID0gc3RlcDtcbiAgICAgIGlmIChpbmRleCA9PT0gY3VycmVudFByb2dyZXNzU3RlcCkge1xuICAgICAgICBhZGRDbGFzcyhjaXJjbGUsIHN3YWxDbGFzc2VzLmFjdGl2ZXByb2dyZXNzc3RlcCk7XG4gICAgICB9XG4gICAgICBwcm9ncmVzc1N0ZXBzQ29udGFpbmVyLmFwcGVuZENoaWxkKGNpcmNsZSk7XG4gICAgICBpZiAoaW5kZXggIT09IHBhcmFtcy5wcm9ncmVzc1N0ZXBzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgdmFyIGxpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBhZGRDbGFzcyhsaW5lLCBzd2FsQ2xhc3Nlcy5wcm9ncmVzc2xpbmUpO1xuICAgICAgICBsaW5lLnN0eWxlLndpZHRoID0gcGFyYW1zLnByb2dyZXNzU3RlcHNEaXN0YW5jZTtcbiAgICAgICAgcHJvZ3Jlc3NTdGVwc0NvbnRhaW5lci5hcHBlbmRDaGlsZChsaW5lKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBoaWRlKHByb2dyZXNzU3RlcHNDb250YWluZXIpO1xuICB9XG5cbiAgLy8gSWNvblxuICB2YXIgaWNvbnMgPSBnZXRJY29ucygpO1xuICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBpY29ucy5sZW5ndGg7IF9pMisrKSB7XG4gICAgaGlkZShpY29uc1tfaTJdKTtcbiAgfVxuICBpZiAocGFyYW1zLnR5cGUpIHtcbiAgICB2YXIgdmFsaWRUeXBlID0gZmFsc2U7XG4gICAgZm9yICh2YXIgaWNvblR5cGUgaW4gaWNvblR5cGVzKSB7XG4gICAgICBpZiAocGFyYW1zLnR5cGUgPT09IGljb25UeXBlKSB7XG4gICAgICAgIHZhbGlkVHlwZSA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXZhbGlkVHlwZSkge1xuICAgICAgY29uc29sZS5lcnJvcignU3dlZXRBbGVydDI6IFVua25vd24gYWxlcnQgdHlwZTogJyArIHBhcmFtcy50eXBlKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIGljb24gPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCcuJyArIHN3YWxDbGFzc2VzLmljb24gKyAnLicgKyBpY29uVHlwZXNbcGFyYW1zLnR5cGVdKTtcbiAgICBzaG93KGljb24pO1xuXG4gICAgLy8gQW5pbWF0ZSBpY29uXG4gICAgaWYgKHBhcmFtcy5hbmltYXRpb24pIHtcbiAgICAgIHN3aXRjaCAocGFyYW1zLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnc3VjY2Vzcyc6XG4gICAgICAgICAgYWRkQ2xhc3MoaWNvbiwgJ3N3YWwyLWFuaW1hdGUtc3VjY2Vzcy1pY29uJyk7XG4gICAgICAgICAgYWRkQ2xhc3MoaWNvbi5xdWVyeVNlbGVjdG9yKCcuc3dhbDItc3VjY2Vzcy1saW5lLXRpcCcpLCAnc3dhbDItYW5pbWF0ZS1zdWNjZXNzLWxpbmUtdGlwJyk7XG4gICAgICAgICAgYWRkQ2xhc3MoaWNvbi5xdWVyeVNlbGVjdG9yKCcuc3dhbDItc3VjY2Vzcy1saW5lLWxvbmcnKSwgJ3N3YWwyLWFuaW1hdGUtc3VjY2Vzcy1saW5lLWxvbmcnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgIGFkZENsYXNzKGljb24sICdzd2FsMi1hbmltYXRlLWVycm9yLWljb24nKTtcbiAgICAgICAgICBhZGRDbGFzcyhpY29uLnF1ZXJ5U2VsZWN0b3IoJy5zd2FsMi14LW1hcmsnKSwgJ3N3YWwyLWFuaW1hdGUteC1tYXJrJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQ3VzdG9tIGltYWdlXG4gIHZhciBpbWFnZSA9IGdldEltYWdlKCk7XG4gIGlmIChwYXJhbXMuaW1hZ2VVcmwpIHtcbiAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHBhcmFtcy5pbWFnZVVybCk7XG4gICAgc2hvdyhpbWFnZSk7XG5cbiAgICBpZiAocGFyYW1zLmltYWdlV2lkdGgpIHtcbiAgICAgIGltYWdlLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBwYXJhbXMuaW1hZ2VXaWR0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGltYWdlLnJlbW92ZUF0dHJpYnV0ZSgnd2lkdGgnKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLmltYWdlSGVpZ2h0KSB7XG4gICAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIHBhcmFtcy5pbWFnZUhlaWdodCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGltYWdlLnJlbW92ZUF0dHJpYnV0ZSgnaGVpZ2h0Jyk7XG4gICAgfVxuXG4gICAgaW1hZ2UuY2xhc3NOYW1lID0gc3dhbENsYXNzZXMuaW1hZ2U7XG4gICAgaWYgKHBhcmFtcy5pbWFnZUNsYXNzKSB7XG4gICAgICBhZGRDbGFzcyhpbWFnZSwgcGFyYW1zLmltYWdlQ2xhc3MpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBoaWRlKGltYWdlKTtcbiAgfVxuXG4gIC8vIENhbmNlbCBidXR0b25cbiAgaWYgKHBhcmFtcy5zaG93Q2FuY2VsQnV0dG9uKSB7XG4gICAgY2FuY2VsQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgfSBlbHNlIHtcbiAgICBoaWRlKGNhbmNlbEJ1dHRvbik7XG4gIH1cblxuICAvLyBDb25maXJtIGJ1dHRvblxuICBpZiAocGFyYW1zLnNob3dDb25maXJtQnV0dG9uKSB7XG4gICAgcmVtb3ZlU3R5bGVQcm9wZXJ0eShjb25maXJtQnV0dG9uLCAnZGlzcGxheScpO1xuICB9IGVsc2Uge1xuICAgIGhpZGUoY29uZmlybUJ1dHRvbik7XG4gIH1cblxuICAvLyBCdXR0b25zIHdyYXBwZXJcbiAgaWYgKCFwYXJhbXMuc2hvd0NvbmZpcm1CdXR0b24gJiYgIXBhcmFtcy5zaG93Q2FuY2VsQnV0dG9uKSB7XG4gICAgaGlkZShidXR0b25zV3JhcHBlcik7XG4gIH0gZWxzZSB7XG4gICAgc2hvdyhidXR0b25zV3JhcHBlcik7XG4gIH1cblxuICAvLyBFZGl0IHRleHQgb24gY2FuY2VsIGFuZCBjb25maXJtIGJ1dHRvbnNcbiAgY29uZmlybUJ1dHRvbi5pbm5lckhUTUwgPSBwYXJhbXMuY29uZmlybUJ1dHRvblRleHQ7XG4gIGNhbmNlbEJ1dHRvbi5pbm5lckhUTUwgPSBwYXJhbXMuY2FuY2VsQnV0dG9uVGV4dDtcblxuICAvLyBTZXQgYnV0dG9ucyB0byBzZWxlY3RlZCBiYWNrZ3JvdW5kIGNvbG9yc1xuICBpZiAocGFyYW1zLmJ1dHRvbnNTdHlsaW5nKSB7XG4gICAgY29uZmlybUJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBwYXJhbXMuY29uZmlybUJ1dHRvbkNvbG9yO1xuICAgIGNhbmNlbEJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBwYXJhbXMuY2FuY2VsQnV0dG9uQ29sb3I7XG4gIH1cblxuICAvLyBBZGQgYnV0dG9ucyBjdXN0b20gY2xhc3Nlc1xuICBjb25maXJtQnV0dG9uLmNsYXNzTmFtZSA9IHN3YWxDbGFzc2VzLmNvbmZpcm07XG4gIGFkZENsYXNzKGNvbmZpcm1CdXR0b24sIHBhcmFtcy5jb25maXJtQnV0dG9uQ2xhc3MpO1xuICBjYW5jZWxCdXR0b24uY2xhc3NOYW1lID0gc3dhbENsYXNzZXMuY2FuY2VsO1xuICBhZGRDbGFzcyhjYW5jZWxCdXR0b24sIHBhcmFtcy5jYW5jZWxCdXR0b25DbGFzcyk7XG5cbiAgLy8gQnV0dG9ucyBzdHlsaW5nXG4gIGlmIChwYXJhbXMuYnV0dG9uc1N0eWxpbmcpIHtcbiAgICBhZGRDbGFzcyhjb25maXJtQnV0dG9uLCBzd2FsQ2xhc3Nlcy5zdHlsZWQpO1xuICAgIGFkZENsYXNzKGNhbmNlbEJ1dHRvbiwgc3dhbENsYXNzZXMuc3R5bGVkKTtcbiAgfSBlbHNlIHtcbiAgICByZW1vdmVDbGFzcyhjb25maXJtQnV0dG9uLCBzd2FsQ2xhc3Nlcy5zdHlsZWQpO1xuICAgIHJlbW92ZUNsYXNzKGNhbmNlbEJ1dHRvbiwgc3dhbENsYXNzZXMuc3R5bGVkKTtcblxuICAgIGNvbmZpcm1CdXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29uZmlybUJ1dHRvbi5zdHlsZS5ib3JkZXJMZWZ0Q29sb3IgPSBjb25maXJtQnV0dG9uLnN0eWxlLmJvcmRlclJpZ2h0Q29sb3IgPSAnJztcbiAgICBjYW5jZWxCdXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY2FuY2VsQnV0dG9uLnN0eWxlLmJvcmRlckxlZnRDb2xvciA9IGNhbmNlbEJ1dHRvbi5zdHlsZS5ib3JkZXJSaWdodENvbG9yID0gJyc7XG4gIH1cblxuICAvLyBDU1MgYW5pbWF0aW9uXG4gIGlmIChwYXJhbXMuYW5pbWF0aW9uID09PSB0cnVlKSB7XG4gICAgcmVtb3ZlQ2xhc3MobW9kYWwsIHN3YWxDbGFzc2VzLm5vYW5pbWF0aW9uKTtcbiAgfSBlbHNlIHtcbiAgICBhZGRDbGFzcyhtb2RhbCwgc3dhbENsYXNzZXMubm9hbmltYXRpb24pO1xuICB9XG59O1xuXG4vKlxuICogQW5pbWF0aW9uc1xuICovXG52YXIgb3Blbk1vZGFsID0gZnVuY3Rpb24gb3Blbk1vZGFsKGFuaW1hdGlvbiwgb25Db21wbGV0ZSkge1xuICB2YXIgY29udGFpbmVyID0gZ2V0Q29udGFpbmVyKCk7XG4gIHZhciBtb2RhbCA9IGdldE1vZGFsKCk7XG5cbiAgaWYgKGFuaW1hdGlvbikge1xuICAgIGFkZENsYXNzKG1vZGFsLCBzd2FsQ2xhc3Nlcy5zaG93KTtcbiAgICBhZGRDbGFzcyhjb250YWluZXIsIHN3YWxDbGFzc2VzLmZhZGUpO1xuICAgIHJlbW92ZUNsYXNzKG1vZGFsLCBzd2FsQ2xhc3Nlcy5oaWRlKTtcbiAgfSBlbHNlIHtcbiAgICByZW1vdmVDbGFzcyhtb2RhbCwgc3dhbENsYXNzZXMuZmFkZSk7XG4gIH1cbiAgc2hvdyhtb2RhbCk7XG5cbiAgLy8gc2Nyb2xsaW5nIGlzICdoaWRkZW4nIHVudGlsIGFuaW1hdGlvbiBpcyBkb25lLCBhZnRlciB0aGF0ICdhdXRvJ1xuICBjb250YWluZXIuc3R5bGUub3ZlcmZsb3dZID0gJ2hpZGRlbic7XG4gIGlmIChhbmltYXRpb25FbmRFdmVudCAmJiAhaGFzQ2xhc3MobW9kYWwsIHN3YWxDbGFzc2VzLm5vYW5pbWF0aW9uKSkge1xuICAgIG1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoYW5pbWF0aW9uRW5kRXZlbnQsIGZ1bmN0aW9uIHN3YWxDbG9zZUV2ZW50RmluaXNoZWQoKSB7XG4gICAgICBtb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKGFuaW1hdGlvbkVuZEV2ZW50LCBzd2FsQ2xvc2VFdmVudEZpbmlzaGVkKTtcbiAgICAgIGNvbnRhaW5lci5zdHlsZS5vdmVyZmxvd1kgPSAnYXV0byc7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgY29udGFpbmVyLnN0eWxlLm92ZXJmbG93WSA9ICdhdXRvJztcbiAgfVxuXG4gIGFkZENsYXNzKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgc3dhbENsYXNzZXMuc2hvd24pO1xuICBhZGRDbGFzcyhkb2N1bWVudC5ib2R5LCBzd2FsQ2xhc3Nlcy5zaG93bik7XG4gIGFkZENsYXNzKGNvbnRhaW5lciwgc3dhbENsYXNzZXMuc2hvd24pO1xuICBmaXhTY3JvbGxiYXIoKTtcbiAgaU9TZml4KCk7XG4gIHN0YXRlcy5wcmV2aW91c0FjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICBpZiAob25Db21wbGV0ZSAhPT0gbnVsbCAmJiB0eXBlb2Ygb25Db21wbGV0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgb25Db21wbGV0ZShtb2RhbCk7XG4gICAgfSk7XG4gIH1cbn07XG5cbnZhciBmaXhTY3JvbGxiYXIgPSBmdW5jdGlvbiBmaXhTY3JvbGxiYXIoKSB7XG4gIC8vIGZvciBxdWV1ZXMsIGRvIG5vdCBkbyB0aGlzIG1vcmUgdGhhbiBvbmNlXG4gIGlmIChzdGF0ZXMucHJldmlvdXNCb2R5UGFkZGluZyAhPT0gbnVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBpZiB0aGUgYm9keSBoYXMgb3ZlcmZsb3dcbiAgaWYgKGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0ID4gd2luZG93LmlubmVySGVpZ2h0KSB7XG4gICAgLy8gYWRkIHBhZGRpbmcgc28gdGhlIGNvbnRlbnQgZG9lc24ndCBzaGlmdCBhZnRlciByZW1vdmFsIG9mIHNjcm9sbGJhclxuICAgIHN0YXRlcy5wcmV2aW91c0JvZHlQYWRkaW5nID0gZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQ7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQgPSBtZWFzdXJlU2Nyb2xsYmFyKCkgKyAncHgnO1xuICB9XG59O1xuXG52YXIgdW5kb1Njcm9sbGJhciA9IGZ1bmN0aW9uIHVuZG9TY3JvbGxiYXIoKSB7XG4gIGlmIChzdGF0ZXMucHJldmlvdXNCb2R5UGFkZGluZyAhPT0gbnVsbCkge1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0ID0gc3RhdGVzLnByZXZpb3VzQm9keVBhZGRpbmc7XG4gICAgc3RhdGVzLnByZXZpb3VzQm9keVBhZGRpbmcgPSBudWxsO1xuICB9XG59O1xuXG4vLyBGaXggaU9TIHNjcm9sbGluZyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8zOTYyNjMwMi8xMzMxNDI1XG52YXIgaU9TZml4ID0gZnVuY3Rpb24gaU9TZml4KCkge1xuICB2YXIgaU9TID0gL2lQYWR8aVBob25lfGlQb2QvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiYgIXdpbmRvdy5NU1N0cmVhbTtcbiAgaWYgKGlPUyAmJiAhaGFzQ2xhc3MoZG9jdW1lbnQuYm9keSwgc3dhbENsYXNzZXMuaW9zZml4KSkge1xuICAgIHZhciBvZmZzZXQgPSBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnRvcCA9IG9mZnNldCAqIC0xICsgJ3B4JztcbiAgICBhZGRDbGFzcyhkb2N1bWVudC5ib2R5LCBzd2FsQ2xhc3Nlcy5pb3NmaXgpO1xuICB9XG59O1xuXG52YXIgdW5kb0lPU2ZpeCA9IGZ1bmN0aW9uIHVuZG9JT1NmaXgoKSB7XG4gIGlmIChoYXNDbGFzcyhkb2N1bWVudC5ib2R5LCBzd2FsQ2xhc3Nlcy5pb3NmaXgpKSB7XG4gICAgdmFyIG9mZnNldCA9IHBhcnNlSW50KGRvY3VtZW50LmJvZHkuc3R5bGUudG9wLCAxMCk7XG4gICAgcmVtb3ZlQ2xhc3MoZG9jdW1lbnQuYm9keSwgc3dhbENsYXNzZXMuaW9zZml4KTtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnRvcCA9ICcnO1xuICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID0gb2Zmc2V0ICogLTE7XG4gIH1cbn07XG5cbi8vIFN3ZWV0QWxlcnQgZW50cnkgcG9pbnRcbnZhciBzd2VldEFsZXJ0ID0gZnVuY3Rpb24gc3dlZXRBbGVydCgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgaWYgKGFyZ3NbMF0gPT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1N3ZWV0QWxlcnQyIGV4cGVjdHMgYXQgbGVhc3QgMSBhdHRyaWJ1dGUhJyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIHBhcmFtcyA9IF9leHRlbmRzKHt9LCBtb2RhbFBhcmFtcyk7XG5cbiAgc3dpdGNoIChfdHlwZW9mKGFyZ3NbMF0pKSB7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIHBhcmFtcy50aXRsZSA9IGFyZ3NbMF07XG4gICAgICBwYXJhbXMuaHRtbCA9IGFyZ3NbMV07XG4gICAgICBwYXJhbXMudHlwZSA9IGFyZ3NbMl07XG5cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIF9leHRlbmRzKHBhcmFtcywgYXJnc1swXSk7XG4gICAgICBwYXJhbXMuZXh0cmFQYXJhbXMgPSBhcmdzWzBdLmV4dHJhUGFyYW1zO1xuXG4gICAgICBpZiAocGFyYW1zLmlucHV0ID09PSAnZW1haWwnICYmIHBhcmFtcy5pbnB1dFZhbGlkYXRvciA9PT0gbnVsbCkge1xuICAgICAgICBwYXJhbXMuaW5wdXRWYWxpZGF0b3IgPSBmdW5jdGlvbiAoZW1haWwpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIGVtYWlsUmVnZXggPSAvXlthLXpBLVowLTkuK18tXStAW2EtekEtWjAtOS4tXStcXC5bYS16QS1aXXsyLDZ9JC87XG4gICAgICAgICAgICBpZiAoZW1haWxSZWdleC50ZXN0KGVtYWlsKSkge1xuICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZWplY3QoJ0ludmFsaWQgZW1haWwgYWRkcmVzcycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyYW1zLmlucHV0ID09PSAndXJsJyAmJiBwYXJhbXMuaW5wdXRWYWxpZGF0b3IgPT09IG51bGwpIHtcbiAgICAgICAgcGFyYW1zLmlucHV0VmFsaWRhdG9yID0gZnVuY3Rpb24gKHVybCkge1xuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgdXJsUmVnZXggPSAvXihodHRwcz86XFwvXFwvKT8oW1xcZGEtei4tXSspXFwuKFthLXouXXsyLDZ9KShbL1xcdyAuLV0qKSpcXC8/JC87XG4gICAgICAgICAgICBpZiAodXJsUmVnZXgudGVzdCh1cmwpKSB7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlamVjdCgnSW52YWxpZCBVUkwnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1N3ZWV0QWxlcnQyOiBVbmV4cGVjdGVkIHR5cGUgb2YgYXJndW1lbnQhIEV4cGVjdGVkIFwic3RyaW5nXCIgb3IgXCJvYmplY3RcIiwgZ290ICcgKyBfdHlwZW9mKGFyZ3NbMF0pKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHNldFBhcmFtZXRlcnMocGFyYW1zKTtcblxuICB2YXIgY29udGFpbmVyID0gZ2V0Q29udGFpbmVyKCk7XG4gIHZhciBtb2RhbCA9IGdldE1vZGFsKCk7XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAvLyBDbG9zZSBvbiB0aW1lclxuICAgIGlmIChwYXJhbXMudGltZXIpIHtcbiAgICAgIG1vZGFsLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3dlZXRBbGVydC5jbG9zZU1vZGFsKHBhcmFtcy5vbkNsb3NlKTtcbiAgICAgICAgcmVqZWN0KCd0aW1lcicpO1xuICAgICAgfSwgcGFyYW1zLnRpbWVyKTtcbiAgICB9XG5cbiAgICAvLyBHZXQgaW5wdXQgZWxlbWVudCBieSBzcGVjaWZpZWQgdHlwZSBvciwgaWYgdHlwZSBpc24ndCBzcGVjaWZpZWQsIGJ5IHBhcmFtcy5pbnB1dFxuICAgIHZhciBnZXRJbnB1dCA9IGZ1bmN0aW9uIGdldElucHV0KGlucHV0VHlwZSkge1xuICAgICAgaW5wdXRUeXBlID0gaW5wdXRUeXBlIHx8IHBhcmFtcy5pbnB1dDtcbiAgICAgIGlmICghaW5wdXRUeXBlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChpbnB1dFR5cGUpIHtcbiAgICAgICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgICBjYXNlICdmaWxlJzpcbiAgICAgICAgICByZXR1cm4gZ2V0Q2hpbGRCeUNsYXNzKG1vZGFsLCBzd2FsQ2xhc3Nlc1tpbnB1dFR5cGVdKTtcbiAgICAgICAgY2FzZSAnY2hlY2tib3gnOlxuICAgICAgICAgIHJldHVybiBtb2RhbC5xdWVyeVNlbGVjdG9yKCcuJyArIHN3YWxDbGFzc2VzLmNoZWNrYm94ICsgJyBpbnB1dCcpO1xuICAgICAgICBjYXNlICdyYWRpbyc6XG4gICAgICAgICAgcmV0dXJuIG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy4nICsgc3dhbENsYXNzZXMucmFkaW8gKyAnIGlucHV0OmNoZWNrZWQnKSB8fCBtb2RhbC5xdWVyeVNlbGVjdG9yKCcuJyArIHN3YWxDbGFzc2VzLnJhZGlvICsgJyBpbnB1dDpmaXJzdC1jaGlsZCcpO1xuICAgICAgICBjYXNlICdyYW5nZSc6XG4gICAgICAgICAgcmV0dXJuIG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy4nICsgc3dhbENsYXNzZXMucmFuZ2UgKyAnIGlucHV0Jyk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGdldENoaWxkQnlDbGFzcyhtb2RhbCwgc3dhbENsYXNzZXMuaW5wdXQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBHZXQgdGhlIHZhbHVlIG9mIHRoZSBtb2RhbCBpbnB1dFxuICAgIHZhciBnZXRJbnB1dFZhbHVlID0gZnVuY3Rpb24gZ2V0SW5wdXRWYWx1ZSgpIHtcbiAgICAgIHZhciBpbnB1dCA9IGdldElucHV0KCk7XG4gICAgICBpZiAoIWlucHV0KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChwYXJhbXMuaW5wdXQpIHtcbiAgICAgICAgY2FzZSAnY2hlY2tib3gnOlxuICAgICAgICAgIHJldHVybiBpbnB1dC5jaGVja2VkID8gMSA6IDA7XG4gICAgICAgIGNhc2UgJ3JhZGlvJzpcbiAgICAgICAgICByZXR1cm4gaW5wdXQuY2hlY2tlZCA/IGlucHV0LnZhbHVlIDogbnVsbDtcbiAgICAgICAgY2FzZSAnZmlsZSc6XG4gICAgICAgICAgcmV0dXJuIGlucHV0LmZpbGVzLmxlbmd0aCA/IGlucHV0LmZpbGVzWzBdIDogbnVsbDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gcGFyYW1zLmlucHV0QXV0b1RyaW0gPyBpbnB1dC52YWx1ZS50cmltKCkgOiBpbnB1dC52YWx1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gaW5wdXQgYXV0b2ZvY3VzXG4gICAgaWYgKHBhcmFtcy5pbnB1dCkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbnB1dCA9IGdldElucHV0KCk7XG4gICAgICAgIGlmIChpbnB1dCkge1xuICAgICAgICAgIGZvY3VzSW5wdXQoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICB9LCAwKTtcbiAgICB9XG5cbiAgICB2YXIgY29uZmlybSA9IGZ1bmN0aW9uIGNvbmZpcm0odmFsdWUpIHtcbiAgICAgIGlmIChwYXJhbXMuc2hvd0xvYWRlck9uQ29uZmlybSkge1xuICAgICAgICBzd2VldEFsZXJ0LnNob3dMb2FkaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMucHJlQ29uZmlybSkge1xuICAgICAgICBwYXJhbXMucHJlQ29uZmlybSh2YWx1ZSwgcGFyYW1zLmV4dHJhUGFyYW1zKS50aGVuKGZ1bmN0aW9uIChwcmVDb25maXJtVmFsdWUpIHtcbiAgICAgICAgICBzd2VldEFsZXJ0LmNsb3NlTW9kYWwocGFyYW1zLm9uQ2xvc2UpO1xuICAgICAgICAgIHJlc29sdmUocHJlQ29uZmlybVZhbHVlIHx8IHZhbHVlKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgc3dlZXRBbGVydC5oaWRlTG9hZGluZygpO1xuICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgc3dlZXRBbGVydC5zaG93VmFsaWRhdGlvbkVycm9yKGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3dlZXRBbGVydC5jbG9zZU1vZGFsKHBhcmFtcy5vbkNsb3NlKTtcbiAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIE1vdXNlIGludGVyYWN0aW9uc1xuICAgIHZhciBvbkJ1dHRvbkV2ZW50ID0gZnVuY3Rpb24gb25CdXR0b25FdmVudChldmVudCkge1xuICAgICAgdmFyIGUgPSBldmVudCB8fCB3aW5kb3cuZXZlbnQ7XG4gICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xuICAgICAgdmFyIGNvbmZpcm1CdXR0b24gPSBnZXRDb25maXJtQnV0dG9uKCk7XG4gICAgICB2YXIgY2FuY2VsQnV0dG9uID0gZ2V0Q2FuY2VsQnV0dG9uKCk7XG4gICAgICB2YXIgdGFyZ2V0ZWRDb25maXJtID0gY29uZmlybUJ1dHRvbiAmJiAoY29uZmlybUJ1dHRvbiA9PT0gdGFyZ2V0IHx8IGNvbmZpcm1CdXR0b24uY29udGFpbnModGFyZ2V0KSk7XG4gICAgICB2YXIgdGFyZ2V0ZWRDYW5jZWwgPSBjYW5jZWxCdXR0b24gJiYgKGNhbmNlbEJ1dHRvbiA9PT0gdGFyZ2V0IHx8IGNhbmNlbEJ1dHRvbi5jb250YWlucyh0YXJnZXQpKTtcblxuICAgICAgc3dpdGNoIChlLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnbW91c2VvdmVyJzpcbiAgICAgICAgY2FzZSAnbW91c2V1cCc6XG4gICAgICAgICAgaWYgKHBhcmFtcy5idXR0b25zU3R5bGluZykge1xuICAgICAgICAgICAgaWYgKHRhcmdldGVkQ29uZmlybSkge1xuICAgICAgICAgICAgICBjb25maXJtQnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yTHVtaW5hbmNlKHBhcmFtcy5jb25maXJtQnV0dG9uQ29sb3IsIC0wLjEpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0YXJnZXRlZENhbmNlbCkge1xuICAgICAgICAgICAgICBjYW5jZWxCdXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3JMdW1pbmFuY2UocGFyYW1zLmNhbmNlbEJ1dHRvbkNvbG9yLCAtMC4xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ21vdXNlb3V0JzpcbiAgICAgICAgICBpZiAocGFyYW1zLmJ1dHRvbnNTdHlsaW5nKSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0ZWRDb25maXJtKSB7XG4gICAgICAgICAgICAgIGNvbmZpcm1CdXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gcGFyYW1zLmNvbmZpcm1CdXR0b25Db2xvcjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0ZWRDYW5jZWwpIHtcbiAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHBhcmFtcy5jYW5jZWxCdXR0b25Db2xvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ21vdXNlZG93bic6XG4gICAgICAgICAgaWYgKHBhcmFtcy5idXR0b25zU3R5bGluZykge1xuICAgICAgICAgICAgaWYgKHRhcmdldGVkQ29uZmlybSkge1xuICAgICAgICAgICAgICBjb25maXJtQnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yTHVtaW5hbmNlKHBhcmFtcy5jb25maXJtQnV0dG9uQ29sb3IsIC0wLjIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0YXJnZXRlZENhbmNlbCkge1xuICAgICAgICAgICAgICBjYW5jZWxCdXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3JMdW1pbmFuY2UocGFyYW1zLmNhbmNlbEJ1dHRvbkNvbG9yLCAtMC4yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2NsaWNrJzpcbiAgICAgICAgICAvLyBDbGlja2VkICdjb25maXJtJ1xuICAgICAgICAgIGlmICh0YXJnZXRlZENvbmZpcm0gJiYgc3dlZXRBbGVydC5pc1Zpc2libGUoKSkge1xuICAgICAgICAgICAgc3dlZXRBbGVydC5kaXNhYmxlQnV0dG9ucygpO1xuICAgICAgICAgICAgaWYgKHBhcmFtcy5pbnB1dCkge1xuICAgICAgICAgICAgICB2YXIgaW5wdXRWYWx1ZSA9IGdldElucHV0VmFsdWUoKTtcblxuICAgICAgICAgICAgICBpZiAocGFyYW1zLmlucHV0VmFsaWRhdG9yKSB7XG4gICAgICAgICAgICAgICAgc3dlZXRBbGVydC5kaXNhYmxlSW5wdXQoKTtcbiAgICAgICAgICAgICAgICBwYXJhbXMuaW5wdXRWYWxpZGF0b3IoaW5wdXRWYWx1ZSwgcGFyYW1zLmV4dHJhUGFyYW1zKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIHN3ZWV0QWxlcnQuZW5hYmxlQnV0dG9ucygpO1xuICAgICAgICAgICAgICAgICAgc3dlZXRBbGVydC5lbmFibGVJbnB1dCgpO1xuICAgICAgICAgICAgICAgICAgY29uZmlybShpbnB1dFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgIHN3ZWV0QWxlcnQuZW5hYmxlQnV0dG9ucygpO1xuICAgICAgICAgICAgICAgICAgc3dlZXRBbGVydC5lbmFibGVJbnB1dCgpO1xuICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3ZWV0QWxlcnQuc2hvd1ZhbGlkYXRpb25FcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uZmlybShpbnB1dFZhbHVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uZmlybSh0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2xpY2tlZCAnY2FuY2VsJ1xuICAgICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0ZWRDYW5jZWwgJiYgc3dlZXRBbGVydC5pc1Zpc2libGUoKSkge1xuICAgICAgICAgICAgc3dlZXRBbGVydC5kaXNhYmxlQnV0dG9ucygpO1xuICAgICAgICAgICAgc3dlZXRBbGVydC5jbG9zZU1vZGFsKHBhcmFtcy5vbkNsb3NlKTtcbiAgICAgICAgICAgIHJlamVjdCgnY2FuY2VsJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgYnV0dG9ucyA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvbicpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnV0dG9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgYnV0dG9uc1tpXS5vbmNsaWNrID0gb25CdXR0b25FdmVudDtcbiAgICAgIGJ1dHRvbnNbaV0ub25tb3VzZW92ZXIgPSBvbkJ1dHRvbkV2ZW50O1xuICAgICAgYnV0dG9uc1tpXS5vbm1vdXNlb3V0ID0gb25CdXR0b25FdmVudDtcbiAgICAgIGJ1dHRvbnNbaV0ub25tb3VzZWRvd24gPSBvbkJ1dHRvbkV2ZW50O1xuICAgIH1cblxuICAgIC8vIENsb3NpbmcgbW9kYWwgYnkgY2xvc2UgYnV0dG9uXG4gICAgZ2V0Q2xvc2VCdXR0b24oKS5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgc3dlZXRBbGVydC5jbG9zZU1vZGFsKHBhcmFtcy5vbkNsb3NlKTtcbiAgICAgIHJlamVjdCgnY2xvc2UnKTtcbiAgICB9O1xuXG4gICAgLy8gQ2xvc2luZyBtb2RhbCBieSBvdmVybGF5IGNsaWNrXG4gICAgY29udGFpbmVyLm9uY2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKGUudGFyZ2V0ICE9PSBjb250YWluZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmFtcy5hbGxvd091dHNpZGVDbGljaykge1xuICAgICAgICBzd2VldEFsZXJ0LmNsb3NlTW9kYWwocGFyYW1zLm9uQ2xvc2UpO1xuICAgICAgICByZWplY3QoJ292ZXJsYXknKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIGJ1dHRvbnNXcmFwcGVyID0gZ2V0QnV0dG9uc1dyYXBwZXIoKTtcbiAgICB2YXIgY29uZmlybUJ1dHRvbiA9IGdldENvbmZpcm1CdXR0b24oKTtcbiAgICB2YXIgY2FuY2VsQnV0dG9uID0gZ2V0Q2FuY2VsQnV0dG9uKCk7XG5cbiAgICAvLyBSZXZlcnNlIGJ1dHRvbnMgKENvbmZpcm0gb24gdGhlIHJpZ2h0IHNpZGUpXG4gICAgaWYgKHBhcmFtcy5yZXZlcnNlQnV0dG9ucykge1xuICAgICAgY29uZmlybUJ1dHRvbi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShjYW5jZWxCdXR0b24sIGNvbmZpcm1CdXR0b24pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25maXJtQnV0dG9uLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGNvbmZpcm1CdXR0b24sIGNhbmNlbEJ1dHRvbik7XG4gICAgfVxuXG4gICAgLy8gRm9jdXMgaGFuZGxpbmdcbiAgICB2YXIgc2V0Rm9jdXMgPSBmdW5jdGlvbiBzZXRGb2N1cyhpbmRleCwgaW5jcmVtZW50KSB7XG4gICAgICB2YXIgZm9jdXNhYmxlRWxlbWVudHMgPSBnZXRGb2N1c2FibGVFbGVtZW50cyhwYXJhbXMuZm9jdXNDYW5jZWwpO1xuICAgICAgLy8gc2VhcmNoIGZvciB2aXNpYmxlIGVsZW1lbnRzIGFuZCBzZWxlY3QgdGhlIG5leHQgcG9zc2libGUgbWF0Y2hcbiAgICAgIGZvciAodmFyIF9pMyA9IDA7IF9pMyA8IGZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aDsgX2kzKyspIHtcbiAgICAgICAgaW5kZXggPSBpbmRleCArIGluY3JlbWVudDtcblxuICAgICAgICAvLyByb2xsb3ZlciB0byBmaXJzdCBpdGVtXG4gICAgICAgIGlmIChpbmRleCA9PT0gZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgaW5kZXggPSAwO1xuXG4gICAgICAgICAgLy8gZ28gdG8gbGFzdCBpdGVtXG4gICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgaW5kZXggPSBmb2N1c2FibGVFbGVtZW50cy5sZW5ndGggLSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGV0ZXJtaW5lIGlmIGVsZW1lbnQgaXMgdmlzaWJsZVxuICAgICAgICB2YXIgZWwgPSBmb2N1c2FibGVFbGVtZW50c1tpbmRleF07XG4gICAgICAgIGlmIChpc1Zpc2libGUoZWwpKSB7XG4gICAgICAgICAgcmV0dXJuIGVsLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIGhhbmRsZUtleURvd24gPSBmdW5jdGlvbiBoYW5kbGVLZXlEb3duKGV2ZW50KSB7XG4gICAgICB2YXIgZSA9IGV2ZW50IHx8IHdpbmRvdy5ldmVudDtcbiAgICAgIHZhciBrZXlDb2RlID0gZS5rZXlDb2RlIHx8IGUud2hpY2g7XG5cbiAgICAgIGlmIChbOSwgMTMsIDMyLCAyNywgMzcsIDM4LCAzOSwgNDBdLmluZGV4T2Yoa2V5Q29kZSkgPT09IC0xKSB7XG4gICAgICAgIC8vIERvbid0IGRvIHdvcmsgb24ga2V5cyB3ZSBkb24ndCBjYXJlIGFib3V0LlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciB0YXJnZXRFbGVtZW50ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xuXG4gICAgICB2YXIgZm9jdXNhYmxlRWxlbWVudHMgPSBnZXRGb2N1c2FibGVFbGVtZW50cyhwYXJhbXMuZm9jdXNDYW5jZWwpO1xuICAgICAgdmFyIGJ0bkluZGV4ID0gLTE7IC8vIEZpbmQgdGhlIGJ1dHRvbiAtIG5vdGUsIHRoaXMgaXMgYSBub2RlbGlzdCwgbm90IGFuIGFycmF5LlxuICAgICAgZm9yICh2YXIgX2k0ID0gMDsgX2k0IDwgZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoOyBfaTQrKykge1xuICAgICAgICBpZiAodGFyZ2V0RWxlbWVudCA9PT0gZm9jdXNhYmxlRWxlbWVudHNbX2k0XSkge1xuICAgICAgICAgIGJ0bkluZGV4ID0gX2k0O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRBQlxuICAgICAgaWYgKGtleUNvZGUgPT09IDkpIHtcbiAgICAgICAgaWYgKCFlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgLy8gQ3ljbGUgdG8gdGhlIG5leHQgYnV0dG9uXG4gICAgICAgICAgc2V0Rm9jdXMoYnRuSW5kZXgsIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEN5Y2xlIHRvIHRoZSBwcmV2IGJ1dHRvblxuICAgICAgICAgIHNldEZvY3VzKGJ0bkluZGV4LCAtMSk7XG4gICAgICAgIH1cbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIC8vIEFSUk9XUyAtIHN3aXRjaCBmb2N1cyBiZXR3ZWVuIGJ1dHRvbnNcbiAgICAgIH0gZWxzZSBpZiAoa2V5Q29kZSA9PT0gMzcgfHwga2V5Q29kZSA9PT0gMzggfHwga2V5Q29kZSA9PT0gMzkgfHwga2V5Q29kZSA9PT0gNDApIHtcbiAgICAgICAgLy8gZm9jdXMgQ2FuY2VsIGJ1dHRvbiBpZiBDb25maXJtIGJ1dHRvbiBpcyBjdXJyZW50bHkgZm9jdXNlZFxuICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gY29uZmlybUJ1dHRvbiAmJiBpc1Zpc2libGUoY2FuY2VsQnV0dG9uKSkge1xuICAgICAgICAgIGNhbmNlbEJ1dHRvbi5mb2N1cygpO1xuICAgICAgICAgIC8vIGFuZCB2aWNlIHZlcnNhXG4gICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gY2FuY2VsQnV0dG9uICYmIGlzVmlzaWJsZShjb25maXJtQnV0dG9uKSkge1xuICAgICAgICAgIGNvbmZpcm1CdXR0b24uZm9jdXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVOVEVSL1NQQUNFXG4gICAgICB9IGVsc2UgaWYgKGtleUNvZGUgPT09IDEzIHx8IGtleUNvZGUgPT09IDMyKSB7XG4gICAgICAgIGlmIChidG5JbmRleCA9PT0gLTEgJiYgcGFyYW1zLmFsbG93RW50ZXJLZXkpIHtcbiAgICAgICAgICAvLyBFTlRFUi9TUEFDRSBjbGlja2VkIG91dHNpZGUgb2YgYSBidXR0b24uXG4gICAgICAgICAgaWYgKHBhcmFtcy5mb2N1c0NhbmNlbCkge1xuICAgICAgICAgICAgZmlyZUNsaWNrKGNhbmNlbEJ1dHRvbiwgZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpcmVDbGljayhjb25maXJtQnV0dG9uLCBlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFU0NcbiAgICAgIH0gZWxzZSBpZiAoa2V5Q29kZSA9PT0gMjcgJiYgcGFyYW1zLmFsbG93RXNjYXBlS2V5ID09PSB0cnVlKSB7XG4gICAgICAgIHN3ZWV0QWxlcnQuY2xvc2VNb2RhbChwYXJhbXMub25DbG9zZSk7XG4gICAgICAgIHJlamVjdCgnZXNjJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHN0YXRlcy5wcmV2aW91c1dpbmRvd0tleURvd24gPSB3aW5kb3cub25rZXlkb3duO1xuICAgIHdpbmRvdy5vbmtleWRvd24gPSBoYW5kbGVLZXlEb3duO1xuXG4gICAgLy8gTG9hZGluZyBzdGF0ZVxuICAgIGlmIChwYXJhbXMuYnV0dG9uc1N0eWxpbmcpIHtcbiAgICAgIGNvbmZpcm1CdXR0b24uc3R5bGUuYm9yZGVyTGVmdENvbG9yID0gcGFyYW1zLmNvbmZpcm1CdXR0b25Db2xvcjtcbiAgICAgIGNvbmZpcm1CdXR0b24uc3R5bGUuYm9yZGVyUmlnaHRDb2xvciA9IHBhcmFtcy5jb25maXJtQnV0dG9uQ29sb3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvdyBzcGlubmVyIGluc3RlYWQgb2YgQ29uZmlybSBidXR0b24gYW5kIGRpc2FibGUgQ2FuY2VsIGJ1dHRvblxuICAgICAqL1xuICAgIHN3ZWV0QWxlcnQuc2hvd0xvYWRpbmcgPSBzd2VldEFsZXJ0LmVuYWJsZUxvYWRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBzaG93KGJ1dHRvbnNXcmFwcGVyKTtcbiAgICAgIHNob3coY29uZmlybUJ1dHRvbiwgJ2lubGluZS1ibG9jaycpO1xuICAgICAgYWRkQ2xhc3MoYnV0dG9uc1dyYXBwZXIsIHN3YWxDbGFzc2VzLmxvYWRpbmcpO1xuICAgICAgYWRkQ2xhc3MobW9kYWwsIHN3YWxDbGFzc2VzLmxvYWRpbmcpO1xuICAgICAgY29uZmlybUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBjYW5jZWxCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTaG93IHNwaW5uZXIgaW5zdGVhZCBvZiBDb25maXJtIGJ1dHRvbiBhbmQgZGlzYWJsZSBDYW5jZWwgYnV0dG9uXG4gICAgICovXG4gICAgc3dlZXRBbGVydC5oaWRlTG9hZGluZyA9IHN3ZWV0QWxlcnQuZGlzYWJsZUxvYWRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXBhcmFtcy5zaG93Q29uZmlybUJ1dHRvbikge1xuICAgICAgICBoaWRlKGNvbmZpcm1CdXR0b24pO1xuICAgICAgICBpZiAoIXBhcmFtcy5zaG93Q2FuY2VsQnV0dG9uKSB7XG4gICAgICAgICAgaGlkZShnZXRCdXR0b25zV3JhcHBlcigpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVtb3ZlQ2xhc3MoYnV0dG9uc1dyYXBwZXIsIHN3YWxDbGFzc2VzLmxvYWRpbmcpO1xuICAgICAgcmVtb3ZlQ2xhc3MobW9kYWwsIHN3YWxDbGFzc2VzLmxvYWRpbmcpO1xuICAgICAgY29uZmlybUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgY2FuY2VsQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfTtcblxuICAgIHN3ZWV0QWxlcnQuZ2V0VGl0bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZ2V0VGl0bGUoKTtcbiAgICB9O1xuICAgIHN3ZWV0QWxlcnQuZ2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBnZXRDb250ZW50KCk7XG4gICAgfTtcbiAgICBzd2VldEFsZXJ0LmdldElucHV0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGdldElucHV0KCk7XG4gICAgfTtcbiAgICBzd2VldEFsZXJ0LmdldEltYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGdldEltYWdlKCk7XG4gICAgfTtcbiAgICBzd2VldEFsZXJ0LmdldEJ1dHRvbnNXcmFwcGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGdldEJ1dHRvbnNXcmFwcGVyKCk7XG4gICAgfTtcbiAgICBzd2VldEFsZXJ0LmdldENvbmZpcm1CdXR0b24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZ2V0Q29uZmlybUJ1dHRvbigpO1xuICAgIH07XG4gICAgc3dlZXRBbGVydC5nZXRDYW5jZWxCdXR0b24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZ2V0Q2FuY2VsQnV0dG9uKCk7XG4gICAgfTtcblxuICAgIHN3ZWV0QWxlcnQuZW5hYmxlQnV0dG9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbmZpcm1CdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIGNhbmNlbEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH07XG5cbiAgICBzd2VldEFsZXJ0LmRpc2FibGVCdXR0b25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgY29uZmlybUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBjYW5jZWxCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH07XG5cbiAgICBzd2VldEFsZXJ0LmVuYWJsZUNvbmZpcm1CdXR0b24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25maXJtQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfTtcblxuICAgIHN3ZWV0QWxlcnQuZGlzYWJsZUNvbmZpcm1CdXR0b24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25maXJtQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgc3dlZXRBbGVydC5lbmFibGVJbnB1dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBpbnB1dCA9IGdldElucHV0KCk7XG4gICAgICBpZiAoIWlucHV0KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChpbnB1dC50eXBlID09PSAncmFkaW8nKSB7XG4gICAgICAgIHZhciByYWRpb3NDb250YWluZXIgPSBpbnB1dC5wYXJlbnROb2RlLnBhcmVudE5vZGU7XG4gICAgICAgIHZhciByYWRpb3MgPSByYWRpb3NDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKTtcbiAgICAgICAgZm9yICh2YXIgX2k1ID0gMDsgX2k1IDwgcmFkaW9zLmxlbmd0aDsgX2k1KyspIHtcbiAgICAgICAgICByYWRpb3NbX2k1XS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnB1dC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBzd2VldEFsZXJ0LmRpc2FibGVJbnB1dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBpbnB1dCA9IGdldElucHV0KCk7XG4gICAgICBpZiAoIWlucHV0KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChpbnB1dCAmJiBpbnB1dC50eXBlID09PSAncmFkaW8nKSB7XG4gICAgICAgIHZhciByYWRpb3NDb250YWluZXIgPSBpbnB1dC5wYXJlbnROb2RlLnBhcmVudE5vZGU7XG4gICAgICAgIHZhciByYWRpb3MgPSByYWRpb3NDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKTtcbiAgICAgICAgZm9yICh2YXIgX2k2ID0gMDsgX2k2IDwgcmFkaW9zLmxlbmd0aDsgX2k2KyspIHtcbiAgICAgICAgICByYWRpb3NbX2k2XS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlucHV0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gU2V0IG1vZGFsIG1pbi1oZWlnaHQgdG8gZGlzYWJsZSBzY3JvbGxpbmcgaW5zaWRlIHRoZSBtb2RhbFxuICAgIHN3ZWV0QWxlcnQucmVjYWxjdWxhdGVIZWlnaHQgPSBkZWJvdW5jZShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbW9kYWwgPSBnZXRNb2RhbCgpO1xuICAgICAgaWYgKCFtb2RhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgcHJldlN0YXRlID0gbW9kYWwuc3R5bGUuZGlzcGxheTtcbiAgICAgIG1vZGFsLnN0eWxlLm1pbkhlaWdodCA9ICcnO1xuICAgICAgc2hvdyhtb2RhbCk7XG4gICAgICBtb2RhbC5zdHlsZS5taW5IZWlnaHQgPSBtb2RhbC5zY3JvbGxIZWlnaHQgKyAxICsgJ3B4JztcbiAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBwcmV2U3RhdGU7XG4gICAgfSwgNTApO1xuXG4gICAgLy8gU2hvdyBibG9jayB3aXRoIHZhbGlkYXRpb24gZXJyb3JcbiAgICBzd2VldEFsZXJ0LnNob3dWYWxpZGF0aW9uRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIHZhciB2YWxpZGF0aW9uRXJyb3IgPSBnZXRWYWxpZGF0aW9uRXJyb3IoKTtcbiAgICAgIHZhbGlkYXRpb25FcnJvci5pbm5lckhUTUwgPSBlcnJvcjtcbiAgICAgIHNob3codmFsaWRhdGlvbkVycm9yKTtcblxuICAgICAgdmFyIGlucHV0ID0gZ2V0SW5wdXQoKTtcbiAgICAgIGlmIChpbnB1dCkge1xuICAgICAgICBmb2N1c0lucHV0KGlucHV0KTtcbiAgICAgICAgYWRkQ2xhc3MoaW5wdXQsIHN3YWxDbGFzc2VzLmlucHV0ZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBIaWRlIGJsb2NrIHdpdGggdmFsaWRhdGlvbiBlcnJvclxuICAgIHN3ZWV0QWxlcnQucmVzZXRWYWxpZGF0aW9uRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdmFsaWRhdGlvbkVycm9yID0gZ2V0VmFsaWRhdGlvbkVycm9yKCk7XG4gICAgICBoaWRlKHZhbGlkYXRpb25FcnJvcik7XG4gICAgICBzd2VldEFsZXJ0LnJlY2FsY3VsYXRlSGVpZ2h0KCk7XG5cbiAgICAgIHZhciBpbnB1dCA9IGdldElucHV0KCk7XG4gICAgICBpZiAoaW5wdXQpIHtcbiAgICAgICAgcmVtb3ZlQ2xhc3MoaW5wdXQsIHN3YWxDbGFzc2VzLmlucHV0ZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBzd2VldEFsZXJ0LmdldFByb2dyZXNzU3RlcHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcGFyYW1zLnByb2dyZXNzU3RlcHM7XG4gICAgfTtcblxuICAgIHN3ZWV0QWxlcnQuc2V0UHJvZ3Jlc3NTdGVwcyA9IGZ1bmN0aW9uIChwcm9ncmVzc1N0ZXBzKSB7XG4gICAgICBwYXJhbXMucHJvZ3Jlc3NTdGVwcyA9IHByb2dyZXNzU3RlcHM7XG4gICAgICBzZXRQYXJhbWV0ZXJzKHBhcmFtcyk7XG4gICAgfTtcblxuICAgIHN3ZWV0QWxlcnQuc2hvd1Byb2dyZXNzU3RlcHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBzaG93KGdldFByb2dyZXNzU3RlcHMoKSk7XG4gICAgfTtcblxuICAgIHN3ZWV0QWxlcnQuaGlkZVByb2dyZXNzU3RlcHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBoaWRlKGdldFByb2dyZXNzU3RlcHMoKSk7XG4gICAgfTtcblxuICAgIHN3ZWV0QWxlcnQuZW5hYmxlQnV0dG9ucygpO1xuICAgIHN3ZWV0QWxlcnQuaGlkZUxvYWRpbmcoKTtcbiAgICBzd2VldEFsZXJ0LnJlc2V0VmFsaWRhdGlvbkVycm9yKCk7XG5cbiAgICAvLyBpbnB1dHNcbiAgICB2YXIgaW5wdXRUeXBlcyA9IFsnaW5wdXQnLCAnZmlsZScsICdyYW5nZScsICdzZWxlY3QnLCAncmFkaW8nLCAnY2hlY2tib3gnLCAndGV4dGFyZWEnXTtcbiAgICB2YXIgaW5wdXQgPSB2b2lkIDA7XG4gICAgZm9yICh2YXIgX2k3ID0gMDsgX2k3IDwgaW5wdXRUeXBlcy5sZW5ndGg7IF9pNysrKSB7XG4gICAgICB2YXIgaW5wdXRDbGFzcyA9IHN3YWxDbGFzc2VzW2lucHV0VHlwZXNbX2k3XV07XG4gICAgICB2YXIgaW5wdXRDb250YWluZXIgPSBnZXRDaGlsZEJ5Q2xhc3MobW9kYWwsIGlucHV0Q2xhc3MpO1xuICAgICAgaW5wdXQgPSBnZXRJbnB1dChpbnB1dFR5cGVzW19pN10pO1xuXG4gICAgICAvLyBzZXQgYXR0cmlidXRlc1xuICAgICAgaWYgKGlucHV0KSB7XG4gICAgICAgIGZvciAodmFyIGogaW4gaW5wdXQuYXR0cmlidXRlcykge1xuICAgICAgICAgIGlmIChpbnB1dC5hdHRyaWJ1dGVzLmhhc093blByb3BlcnR5KGopKSB7XG4gICAgICAgICAgICB2YXIgYXR0ck5hbWUgPSBpbnB1dC5hdHRyaWJ1dGVzW2pdLm5hbWU7XG4gICAgICAgICAgICBpZiAoYXR0ck5hbWUgIT09ICd0eXBlJyAmJiBhdHRyTmFtZSAhPT0gJ3ZhbHVlJykge1xuICAgICAgICAgICAgICBpbnB1dC5yZW1vdmVBdHRyaWJ1dGUoYXR0ck5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBhdHRyIGluIHBhcmFtcy5pbnB1dEF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoYXR0ciwgcGFyYW1zLmlucHV0QXR0cmlidXRlc1thdHRyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gc2V0IGNsYXNzXG4gICAgICBpbnB1dENvbnRhaW5lci5jbGFzc05hbWUgPSBpbnB1dENsYXNzO1xuICAgICAgaWYgKHBhcmFtcy5pbnB1dENsYXNzKSB7XG4gICAgICAgIGFkZENsYXNzKGlucHV0Q29udGFpbmVyLCBwYXJhbXMuaW5wdXRDbGFzcyk7XG4gICAgICB9XG5cbiAgICAgIGhpZGUoaW5wdXRDb250YWluZXIpO1xuICAgIH1cblxuICAgIHZhciBwb3B1bGF0ZUlucHV0T3B0aW9ucyA9IHZvaWQgMDtcbiAgICBzd2l0Y2ggKHBhcmFtcy5pbnB1dCkge1xuICAgICAgY2FzZSAndGV4dCc6XG4gICAgICBjYXNlICdlbWFpbCc6XG4gICAgICBjYXNlICdwYXNzd29yZCc6XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgY2FzZSAndGVsJzpcbiAgICAgIGNhc2UgJ3VybCc6XG4gICAgICAgIGlucHV0ID0gZ2V0Q2hpbGRCeUNsYXNzKG1vZGFsLCBzd2FsQ2xhc3Nlcy5pbnB1dCk7XG4gICAgICAgIGlucHV0LnZhbHVlID0gcGFyYW1zLmlucHV0VmFsdWU7XG4gICAgICAgIGlucHV0LnBsYWNlaG9sZGVyID0gcGFyYW1zLmlucHV0UGxhY2Vob2xkZXI7XG4gICAgICAgIGlucHV0LnR5cGUgPSBwYXJhbXMuaW5wdXQ7XG4gICAgICAgIHNob3coaW5wdXQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2ZpbGUnOlxuICAgICAgICBpbnB1dCA9IGdldENoaWxkQnlDbGFzcyhtb2RhbCwgc3dhbENsYXNzZXMuZmlsZSk7XG4gICAgICAgIGlucHV0LnBsYWNlaG9sZGVyID0gcGFyYW1zLmlucHV0UGxhY2Vob2xkZXI7XG4gICAgICAgIGlucHV0LnR5cGUgPSBwYXJhbXMuaW5wdXQ7XG4gICAgICAgIHNob3coaW5wdXQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JhbmdlJzpcbiAgICAgICAgdmFyIHJhbmdlID0gZ2V0Q2hpbGRCeUNsYXNzKG1vZGFsLCBzd2FsQ2xhc3Nlcy5yYW5nZSk7XG4gICAgICAgIHZhciByYW5nZUlucHV0ID0gcmFuZ2UucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICAgICAgdmFyIHJhbmdlT3V0cHV0ID0gcmFuZ2UucXVlcnlTZWxlY3Rvcignb3V0cHV0Jyk7XG4gICAgICAgIHJhbmdlSW5wdXQudmFsdWUgPSBwYXJhbXMuaW5wdXRWYWx1ZTtcbiAgICAgICAgcmFuZ2VJbnB1dC50eXBlID0gcGFyYW1zLmlucHV0O1xuICAgICAgICByYW5nZU91dHB1dC52YWx1ZSA9IHBhcmFtcy5pbnB1dFZhbHVlO1xuICAgICAgICBzaG93KHJhbmdlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgICB2YXIgc2VsZWN0ID0gZ2V0Q2hpbGRCeUNsYXNzKG1vZGFsLCBzd2FsQ2xhc3Nlcy5zZWxlY3QpO1xuICAgICAgICBzZWxlY3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGlmIChwYXJhbXMuaW5wdXRQbGFjZWhvbGRlcikge1xuICAgICAgICAgIHZhciBwbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgIHBsYWNlaG9sZGVyLmlubmVySFRNTCA9IHBhcmFtcy5pbnB1dFBsYWNlaG9sZGVyO1xuICAgICAgICAgIHBsYWNlaG9sZGVyLnZhbHVlID0gJyc7XG4gICAgICAgICAgcGxhY2Vob2xkZXIuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgIHBsYWNlaG9sZGVyLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQocGxhY2Vob2xkZXIpO1xuICAgICAgICB9XG4gICAgICAgIHBvcHVsYXRlSW5wdXRPcHRpb25zID0gZnVuY3Rpb24gcG9wdWxhdGVJbnB1dE9wdGlvbnMoaW5wdXRPcHRpb25zKSB7XG4gICAgICAgICAgZm9yICh2YXIgb3B0aW9uVmFsdWUgaW4gaW5wdXRPcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgICAgICBvcHRpb24udmFsdWUgPSBvcHRpb25WYWx1ZTtcbiAgICAgICAgICAgIG9wdGlvbi5pbm5lckhUTUwgPSBpbnB1dE9wdGlvbnNbb3B0aW9uVmFsdWVdO1xuICAgICAgICAgICAgaWYgKHBhcmFtcy5pbnB1dFZhbHVlID09PSBvcHRpb25WYWx1ZSkge1xuICAgICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNob3coc2VsZWN0KTtcbiAgICAgICAgICBzZWxlY3QuZm9jdXMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyYWRpbyc6XG4gICAgICAgIHZhciByYWRpbyA9IGdldENoaWxkQnlDbGFzcyhtb2RhbCwgc3dhbENsYXNzZXMucmFkaW8pO1xuICAgICAgICByYWRpby5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgcG9wdWxhdGVJbnB1dE9wdGlvbnMgPSBmdW5jdGlvbiBwb3B1bGF0ZUlucHV0T3B0aW9ucyhpbnB1dE9wdGlvbnMpIHtcbiAgICAgICAgICBmb3IgKHZhciByYWRpb1ZhbHVlIGluIGlucHV0T3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIHJhZGlvSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICAgICAgdmFyIHJhZGlvTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgICAgICAgdmFyIHJhZGlvTGFiZWxTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgcmFkaW9JbnB1dC50eXBlID0gJ3JhZGlvJztcbiAgICAgICAgICAgIHJhZGlvSW5wdXQubmFtZSA9IHN3YWxDbGFzc2VzLnJhZGlvO1xuICAgICAgICAgICAgcmFkaW9JbnB1dC52YWx1ZSA9IHJhZGlvVmFsdWU7XG4gICAgICAgICAgICBpZiAocGFyYW1zLmlucHV0VmFsdWUgPT09IHJhZGlvVmFsdWUpIHtcbiAgICAgICAgICAgICAgcmFkaW9JbnB1dC5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJhZGlvTGFiZWxTcGFuLmlubmVySFRNTCA9IGlucHV0T3B0aW9uc1tyYWRpb1ZhbHVlXTtcbiAgICAgICAgICAgIHJhZGlvTGFiZWwuYXBwZW5kQ2hpbGQocmFkaW9JbnB1dCk7XG4gICAgICAgICAgICByYWRpb0xhYmVsLmFwcGVuZENoaWxkKHJhZGlvTGFiZWxTcGFuKTtcbiAgICAgICAgICAgIHJhZGlvTGFiZWwuZm9yID0gcmFkaW9JbnB1dC5pZDtcbiAgICAgICAgICAgIHJhZGlvLmFwcGVuZENoaWxkKHJhZGlvTGFiZWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzaG93KHJhZGlvKTtcbiAgICAgICAgICB2YXIgcmFkaW9zID0gcmFkaW8ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKTtcbiAgICAgICAgICBpZiAocmFkaW9zLmxlbmd0aCkge1xuICAgICAgICAgICAgcmFkaW9zWzBdLmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgdmFyIGNoZWNrYm94ID0gZ2V0Q2hpbGRCeUNsYXNzKG1vZGFsLCBzd2FsQ2xhc3Nlcy5jaGVja2JveCk7XG4gICAgICAgIHZhciBjaGVja2JveElucHV0ID0gZ2V0SW5wdXQoJ2NoZWNrYm94Jyk7XG4gICAgICAgIGNoZWNrYm94SW5wdXQudHlwZSA9ICdjaGVja2JveCc7XG4gICAgICAgIGNoZWNrYm94SW5wdXQudmFsdWUgPSAxO1xuICAgICAgICBjaGVja2JveElucHV0LmlkID0gc3dhbENsYXNzZXMuY2hlY2tib3g7XG4gICAgICAgIGNoZWNrYm94SW5wdXQuY2hlY2tlZCA9IEJvb2xlYW4ocGFyYW1zLmlucHV0VmFsdWUpO1xuICAgICAgICB2YXIgbGFiZWwgPSBjaGVja2JveC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3BhbicpO1xuICAgICAgICBpZiAobGFiZWwubGVuZ3RoKSB7XG4gICAgICAgICAgY2hlY2tib3gucmVtb3ZlQ2hpbGQobGFiZWxbMF0pO1xuICAgICAgICB9XG4gICAgICAgIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBsYWJlbC5pbm5lckhUTUwgPSBwYXJhbXMuaW5wdXRQbGFjZWhvbGRlcjtcbiAgICAgICAgY2hlY2tib3guYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgICBzaG93KGNoZWNrYm94KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0ZXh0YXJlYSc6XG4gICAgICAgIHZhciB0ZXh0YXJlYSA9IGdldENoaWxkQnlDbGFzcyhtb2RhbCwgc3dhbENsYXNzZXMudGV4dGFyZWEpO1xuICAgICAgICB0ZXh0YXJlYS52YWx1ZSA9IHBhcmFtcy5pbnB1dFZhbHVlO1xuICAgICAgICB0ZXh0YXJlYS5wbGFjZWhvbGRlciA9IHBhcmFtcy5pbnB1dFBsYWNlaG9sZGVyO1xuICAgICAgICBzaG93KHRleHRhcmVhKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIG51bGw6XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5lcnJvcignU3dlZXRBbGVydDI6IFVuZXhwZWN0ZWQgdHlwZSBvZiBpbnB1dCEgRXhwZWN0ZWQgXCJ0ZXh0XCIsIFwiZW1haWxcIiwgXCJwYXNzd29yZFwiLCBcIm51bWJlclwiLCBcInRlbFwiLCBcInNlbGVjdFwiLCBcInJhZGlvXCIsIFwiY2hlY2tib3hcIiwgXCJ0ZXh0YXJlYVwiLCBcImZpbGVcIiBvciBcInVybFwiLCBnb3QgXCInICsgcGFyYW1zLmlucHV0ICsgJ1wiJyk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMuaW5wdXQgPT09ICdzZWxlY3QnIHx8IHBhcmFtcy5pbnB1dCA9PT0gJ3JhZGlvJykge1xuICAgICAgaWYgKHBhcmFtcy5pbnB1dE9wdGlvbnMgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHN3ZWV0QWxlcnQuc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgcGFyYW1zLmlucHV0T3B0aW9ucy50aGVuKGZ1bmN0aW9uIChpbnB1dE9wdGlvbnMpIHtcbiAgICAgICAgICBzd2VldEFsZXJ0LmhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgcG9wdWxhdGVJbnB1dE9wdGlvbnMoaW5wdXRPcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKF90eXBlb2YocGFyYW1zLmlucHV0T3B0aW9ucykgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHBvcHVsYXRlSW5wdXRPcHRpb25zKHBhcmFtcy5pbnB1dE9wdGlvbnMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignU3dlZXRBbGVydDI6IFVuZXhwZWN0ZWQgdHlwZSBvZiBpbnB1dE9wdGlvbnMhIEV4cGVjdGVkIG9iamVjdCBvciBQcm9taXNlLCBnb3QgJyArIF90eXBlb2YocGFyYW1zLmlucHV0T3B0aW9ucykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIG9wZW5Nb2RhbChwYXJhbXMuYW5pbWF0aW9uLCBwYXJhbXMub25PcGVuKTtcblxuICAgIC8vIEZvY3VzIHRoZSBmaXJzdCBlbGVtZW50IChpbnB1dCBvciBidXR0b24pXG4gICAgaWYgKHBhcmFtcy5hbGxvd0VudGVyS2V5KSB7XG4gICAgICBzZXRGb2N1cygtMSwgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50KSB7XG4gICAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1cigpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGZpeCBzY3JvbGxcbiAgICBnZXRDb250YWluZXIoKS5zY3JvbGxUb3AgPSAwO1xuXG4gICAgLy8gT2JzZXJ2ZSBjaGFuZ2VzIGluc2lkZSB0aGUgbW9kYWwgYW5kIGFkanVzdCBoZWlnaHRcbiAgICBpZiAodHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXIgIT09ICd1bmRlZmluZWQnICYmICFzd2FsMk9ic2VydmVyKSB7XG4gICAgICBzd2FsMk9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoc3dlZXRBbGVydC5yZWNhbGN1bGF0ZUhlaWdodCk7XG4gICAgICBzd2FsMk9ic2VydmVyLm9ic2VydmUobW9kYWwsIHsgY2hpbGRMaXN0OiB0cnVlLCBjaGFyYWN0ZXJEYXRhOiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vKlxuICogR2xvYmFsIGZ1bmN0aW9uIHRvIGRldGVybWluZSBpZiBzd2FsMiBtb2RhbCBpcyBzaG93blxuICovXG5zd2VldEFsZXJ0LmlzVmlzaWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICEhZ2V0TW9kYWwoKTtcbn07XG5cbi8qXG4gKiBHbG9iYWwgZnVuY3Rpb24gZm9yIGNoYWluaW5nIHN3ZWV0QWxlcnQgbW9kYWxzXG4gKi9cbnN3ZWV0QWxlcnQucXVldWUgPSBmdW5jdGlvbiAoc3RlcHMpIHtcbiAgcXVldWUgPSBzdGVwcztcbiAgdmFyIHJlc2V0UXVldWUgPSBmdW5jdGlvbiByZXNldFF1ZXVlKCkge1xuICAgIHF1ZXVlID0gW107XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtc3dhbDItcXVldWUtc3RlcCcpO1xuICB9O1xuICB2YXIgcXVldWVSZXN1bHQgPSBbXTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAoZnVuY3Rpb24gc3RlcChpLCBjYWxsYmFjaykge1xuICAgICAgaWYgKGkgPCBxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3dhbDItcXVldWUtc3RlcCcsIGkpO1xuXG4gICAgICAgIHN3ZWV0QWxlcnQocXVldWVbaV0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgIHF1ZXVlUmVzdWx0LnB1c2gocmVzdWx0KTtcbiAgICAgICAgICBzdGVwKGkgKyAxLCBjYWxsYmFjayk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChkaXNtaXNzKSB7XG4gICAgICAgICAgcmVzZXRRdWV1ZSgpO1xuICAgICAgICAgIHJlamVjdChkaXNtaXNzKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNldFF1ZXVlKCk7XG4gICAgICAgIHJlc29sdmUocXVldWVSZXN1bHQpO1xuICAgICAgfVxuICAgIH0pKDApO1xuICB9KTtcbn07XG5cbi8qXG4gKiBHbG9iYWwgZnVuY3Rpb24gZm9yIGdldHRpbmcgdGhlIGluZGV4IG9mIGN1cnJlbnQgbW9kYWwgaW4gcXVldWVcbiAqL1xuc3dlZXRBbGVydC5nZXRRdWV1ZVN0ZXAgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBkb2N1bWVudC5ib2R5LmdldEF0dHJpYnV0ZSgnZGF0YS1zd2FsMi1xdWV1ZS1zdGVwJyk7XG59O1xuXG4vKlxuICogR2xvYmFsIGZ1bmN0aW9uIGZvciBpbnNlcnRpbmcgYSBtb2RhbCB0byB0aGUgcXVldWVcbiAqL1xuc3dlZXRBbGVydC5pbnNlcnRRdWV1ZVN0ZXAgPSBmdW5jdGlvbiAoc3RlcCwgaW5kZXgpIHtcbiAgaWYgKGluZGV4ICYmIGluZGV4IDwgcXVldWUubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHF1ZXVlLnNwbGljZShpbmRleCwgMCwgc3RlcCk7XG4gIH1cbiAgcmV0dXJuIHF1ZXVlLnB1c2goc3RlcCk7XG59O1xuXG4vKlxuICogR2xvYmFsIGZ1bmN0aW9uIGZvciBkZWxldGluZyBhIG1vZGFsIGZyb20gdGhlIHF1ZXVlXG4gKi9cbnN3ZWV0QWxlcnQuZGVsZXRlUXVldWVTdGVwID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gIGlmICh0eXBlb2YgcXVldWVbaW5kZXhdICE9PSAndW5kZWZpbmVkJykge1xuICAgIHF1ZXVlLnNwbGljZShpbmRleCwgMSk7XG4gIH1cbn07XG5cbi8qXG4gKiBHbG9iYWwgZnVuY3Rpb24gdG8gY2xvc2Ugc3dlZXRBbGVydFxuICovXG5zd2VldEFsZXJ0LmNsb3NlID0gc3dlZXRBbGVydC5jbG9zZU1vZGFsID0gZnVuY3Rpb24gKG9uQ29tcGxldGUpIHtcbiAgdmFyIGNvbnRhaW5lciA9IGdldENvbnRhaW5lcigpO1xuICB2YXIgbW9kYWwgPSBnZXRNb2RhbCgpO1xuICBpZiAoIW1vZGFsKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJlbW92ZUNsYXNzKG1vZGFsLCBzd2FsQ2xhc3Nlcy5zaG93KTtcbiAgYWRkQ2xhc3MobW9kYWwsIHN3YWxDbGFzc2VzLmhpZGUpO1xuICBjbGVhclRpbWVvdXQobW9kYWwudGltZW91dCk7XG5cbiAgcmVzZXRQcmV2U3RhdGUoKTtcblxuICB2YXIgcmVtb3ZlTW9kYWxBbmRSZXNldFN0YXRlID0gZnVuY3Rpb24gcmVtb3ZlTW9kYWxBbmRSZXNldFN0YXRlKCkge1xuICAgIGlmIChjb250YWluZXIucGFyZW50Tm9kZSkge1xuICAgICAgY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY29udGFpbmVyKTtcbiAgICB9XG4gICAgcmVtb3ZlQ2xhc3MoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBzd2FsQ2xhc3Nlcy5zaG93bik7XG4gICAgcmVtb3ZlQ2xhc3MoZG9jdW1lbnQuYm9keSwgc3dhbENsYXNzZXMuc2hvd24pO1xuICAgIHVuZG9TY3JvbGxiYXIoKTtcbiAgICB1bmRvSU9TZml4KCk7XG4gIH07XG5cbiAgLy8gSWYgYW5pbWF0aW9uIGlzIHN1cHBvcnRlZCwgYW5pbWF0ZVxuICBpZiAoYW5pbWF0aW9uRW5kRXZlbnQgJiYgIWhhc0NsYXNzKG1vZGFsLCBzd2FsQ2xhc3Nlcy5ub2FuaW1hdGlvbikpIHtcbiAgICBtb2RhbC5hZGRFdmVudExpc3RlbmVyKGFuaW1hdGlvbkVuZEV2ZW50LCBmdW5jdGlvbiBzd2FsQ2xvc2VFdmVudEZpbmlzaGVkKCkge1xuICAgICAgbW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihhbmltYXRpb25FbmRFdmVudCwgc3dhbENsb3NlRXZlbnRGaW5pc2hlZCk7XG4gICAgICBpZiAoaGFzQ2xhc3MobW9kYWwsIHN3YWxDbGFzc2VzLmhpZGUpKSB7XG4gICAgICAgIHJlbW92ZU1vZGFsQW5kUmVzZXRTdGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIC8vIE90aGVyd2lzZSwgcmVtb3ZlIGltbWVkaWF0ZWx5XG4gICAgcmVtb3ZlTW9kYWxBbmRSZXNldFN0YXRlKCk7XG4gIH1cbiAgaWYgKG9uQ29tcGxldGUgIT09IG51bGwgJiYgdHlwZW9mIG9uQ29tcGxldGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIG9uQ29tcGxldGUobW9kYWwpO1xuICAgIH0pO1xuICB9XG59O1xuXG4vKlxuICogR2xvYmFsIGZ1bmN0aW9uIHRvIGNsaWNrICdDb25maXJtJyBidXR0b25cbiAqL1xuc3dlZXRBbGVydC5jbGlja0NvbmZpcm0gPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBnZXRDb25maXJtQnV0dG9uKCkuY2xpY2soKTtcbn07XG5cbi8qXG4gKiBHbG9iYWwgZnVuY3Rpb24gdG8gY2xpY2sgJ0NhbmNlbCcgYnV0dG9uXG4gKi9cbnN3ZWV0QWxlcnQuY2xpY2tDYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBnZXRDYW5jZWxCdXR0b24oKS5jbGljaygpO1xufTtcblxuLyoqXG4gKiBTZXQgZGVmYXVsdCBwYXJhbXMgZm9yIGVhY2ggcG9wdXBcbiAqIEBwYXJhbSB7T2JqZWN0fSB1c2VyUGFyYW1zXG4gKi9cbnN3ZWV0QWxlcnQuc2V0RGVmYXVsdHMgPSBmdW5jdGlvbiAodXNlclBhcmFtcykge1xuICBpZiAoIXVzZXJQYXJhbXMgfHwgKHR5cGVvZiB1c2VyUGFyYW1zID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih1c2VyUGFyYW1zKSkgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoJ1N3ZWV0QWxlcnQyOiB0aGUgYXJndW1lbnQgZm9yIHNldERlZmF1bHRzKCkgaXMgcmVxdWlyZWQgYW5kIGhhcyB0byBiZSBhIG9iamVjdCcpO1xuICB9XG5cbiAgZm9yICh2YXIgcGFyYW0gaW4gdXNlclBhcmFtcykge1xuICAgIGlmICghZGVmYXVsdFBhcmFtcy5oYXNPd25Qcm9wZXJ0eShwYXJhbSkgJiYgcGFyYW0gIT09ICdleHRyYVBhcmFtcycpIHtcbiAgICAgIGNvbnNvbGUud2FybignU3dlZXRBbGVydDI6IFVua25vd24gcGFyYW1ldGVyIFwiJyArIHBhcmFtICsgJ1wiJyk7XG4gICAgICBkZWxldGUgdXNlclBhcmFtc1twYXJhbV07XG4gICAgfVxuICB9XG5cbiAgX2V4dGVuZHMobW9kYWxQYXJhbXMsIHVzZXJQYXJhbXMpO1xufTtcblxuLyoqXG4gKiBSZXNldCBkZWZhdWx0IHBhcmFtcyBmb3IgZWFjaCBwb3B1cFxuICovXG5zd2VldEFsZXJ0LnJlc2V0RGVmYXVsdHMgPSBmdW5jdGlvbiAoKSB7XG4gIG1vZGFsUGFyYW1zID0gX2V4dGVuZHMoe30sIGRlZmF1bHRQYXJhbXMpO1xufTtcblxuc3dlZXRBbGVydC5ub29wID0gZnVuY3Rpb24gKCkge307XG5cbnN3ZWV0QWxlcnQudmVyc2lvbiA9ICc2LjYuMic7XG5cbnN3ZWV0QWxlcnQuZGVmYXVsdCA9IHN3ZWV0QWxlcnQ7XG5cbnJldHVybiBzd2VldEFsZXJ0O1xuXG59KSkpO1xuaWYgKHdpbmRvdy5Td2VldGFsZXJ0Mikgd2luZG93LnN3ZWV0QWxlcnQgPSB3aW5kb3cuc3dhbCA9IHdpbmRvdy5Td2VldGFsZXJ0MjtcbiIsImltcG9ydCBzd2FsIGZyb20gXCJzd2VldGFsZXJ0MlwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsb3NlRGlhbG9nKCkge1xuICAgIHN3YWwuY2xvc2UoKTtcbn1cbiIsImltcG9ydCBfIGZyb20gXCJsMTBuXCI7XG5cbmltcG9ydCBzd2FsIGZyb20gXCJzd2VldGFsZXJ0MlwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNob3dDb25maXJtKG1lc3NhZ2UsIGFjdGlvbikge1xuICAgIHJldHVybiBzd2FsKHtcbiAgICAgICAgdGl0bGU6IEFycmF5LmlzQXJyYXkobWVzc2FnZSkgPyBtZXNzYWdlWzBdIDogbWVzc2FnZSxcbiAgICAgICAgdGV4dDogQXJyYXkuaXNBcnJheShtZXNzYWdlKSA/IG1lc3NhZ2VbMV0gOiBudWxsLFxuICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxuICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogXyhcImdsb2JhbC5sYWJlbHMueWVzXCIpLFxuICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBfKFwiZ2xvYmFsLmxhYmVscy5ub1wiKSxcbiAgICB9KS50aGVuKGFjdGlvbik7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYWtlQ2xhc3NOYW1lKGRhdGEpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoZGF0YSlcbiAgICAgICAgLmZpbHRlcihjbiA9PiBkYXRhW2NuXSlcbiAgICAgICAgLmpvaW4oXCIgXCIpO1xufVxuIiwiaW1wb3J0IG1ha2VDbGFzc05hbWUgZnJvbSBcImNvbW1vbi9tYWtlQ2xhc3NOYW1lXCI7XG5cbmltcG9ydCBvblRvdWNoT3JDbGljayBmcm9tIFwiLi9vblRvdWNoT3JDbGlja1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnRlZ2VySW5wdXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcbiAgICAgICAgY29uc3QgUFQgPSBSZWFjdC5Qcm9wVHlwZXM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZWFkT25seTogUFQuYm9vbCxcbiAgICAgICAgICAgIHNlbmREZWx0YXM6IFBULmJvb2wsXG4gICAgICAgICAgICB2YWx1ZTogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBvbkNoYW5nZTogUFQuZnVuYy5pc1JlcXVpcmVkLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRQcm9wcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgIHNlbmREZWx0YXM6IGZhbHNlLFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlTWludXMgPSAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnJlYWRPbmx5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc2VuZERlbHRhcykge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh7XCJkZWx0YVwiOiAtMX0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh0aGlzLnByb3BzLnZhbHVlIC0gMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFuZGxlUGx1cyA9ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucmVhZE9ubHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wcm9wcy5zZW5kRGVsdGFzKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHtcImRlbHRhXCI6IDF9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UodGhpcy5wcm9wcy52YWx1ZSArIDEpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBnZXRDbGFzc05hbWUoKSB7XG4gICAgICAgIHJldHVybiBtYWtlQ2xhc3NOYW1lKHtcbiAgICAgICAgICAgIFwiSW50ZWdlcklucHV0XCI6IHRydWUsXG4gICAgICAgICAgICBcInJlYWQtb25seVwiOiB0aGlzLnByb3BzLnJlYWRPbmx5LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9eyB0aGlzLmdldENsYXNzTmFtZSgpIH0+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YnRuIGJ0bi1taW51c1wiXG4gICAgICAgICAgICAgICAgICAgIHsgLi4ub25Ub3VjaE9yQ2xpY2sodGhpcy5oYW5kbGVNaW51cykgfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgJm1pbnVzO1xuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidmFsdWVcIj5cbiAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnByb3BzLnZhbHVlIH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRidG4gYnRuLXBsdXNcIlxuICAgICAgICAgICAgICAgICAgICB7IC4uLm9uVG91Y2hPckNsaWNrKHRoaXMuaGFuZGxlUGx1cykgfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgK1xuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIClcbiAgICB9XG59XG5cbkludGVnZXJJbnB1dC5kaXNwbGF5TmFtZSA9IFwidGFibGV0X3VpX0ludGVnZXJJbnB1dFwiO1xuIiwiaW1wb3J0IFNlbGVjdG9ySW5wdXQgZnJvbSBcIi4vU2VsZWN0b3JJbnB1dFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOdW1iZXJTZWxlY3RvcklucHV0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIGdldCBwcm9wVHlwZXMoKSB7XG4gICAgICAgIGNvbnN0IFBUID0gUmVhY3QuUHJvcFR5cGVzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWF4OiBQVC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIG1pbjogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBzdGVwOiBQVC5udW1iZXIsXG4gICAgICAgICAgICBkZWNpbWFsU2l6ZTogUFQubnVtYmVyLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRQcm9wcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0ZXA6IDEsXG4gICAgICAgICAgICBkZWNpbWFsU2l6ZTogMCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBtYWtlQ2hvaWNlcyhtaW4sIG1heCwgc3RlcCwgZGVjaW1hbF9zaXplKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgdmFsdWUgPSBtaW47IHZhbHVlIDw9IG1heDsgdmFsdWUgKz0gc3RlcCkge1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IHZhbHVlLnRvRml4ZWQoZGVjaW1hbF9zaXplKTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKFtOdW1iZXIodGV4dCksIHRleHRdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyBtaW4sIG1heCwgc3RlcCwgZGVjaW1hbFNpemUsIC4uLm90aGVyX3Byb3BzIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFNlbGVjdG9ySW5wdXRcbiAgICAgICAgICAgICAgICBjaG9pY2VzPXsgdGhpcy5tYWtlQ2hvaWNlcyhtaW4sIG1heCwgc3RlcCwgZGVjaW1hbFNpemUpIH1cbiAgICAgICAgICAgICAgICB7IC4uLm90aGVyX3Byb3BzIH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICB9XG59XG5cbk51bWJlclNlbGVjdG9ySW5wdXQuZGlzcGxheU5hbWUgPSBcInRhYmxldF91aV9OdW1iZXJTZWxlY3RvcklucHV0XCI7XG4iLCJpbXBvcnQgb25Ub3VjaE9yQ2xpY2sgZnJvbSBcIi4uL29uVG91Y2hPckNsaWNrXCI7XG5cbmltcG9ydCBtYWtlQ2xhc3NOYW1lIGZyb20gXCJjb21tb24vbWFrZUNsYXNzTmFtZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJdGVtIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIGdldCBwcm9wVHlwZXMoKSB7XG4gICAgICAgIGNvbnN0IFBUID0gUmVhY3QuUHJvcFR5cGVzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWN0aXZlOiBQVC5ib29sLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICByZWFkT25seTogUFQuYm9vbC5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgdGV4dDogUFQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB2YWx1ZTogUFQub25lT2ZUeXBlKFtcbiAgICAgICAgICAgICAgICBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICBQVC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICBQVC5ib29sLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIG9uQ2xpY2s6IFBULmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBoYW5kbGVDbGljayA9ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucmVhZE9ubHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByb3BzLm9uQ2xpY2sodGhpcy5wcm9wcy52YWx1ZSk7XG4gICAgfVxuXG4gICAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgICAgICByZXR1cm4gbWFrZUNsYXNzTmFtZSh7XG4gICAgICAgICAgICBcInRidG5cIjogdHJ1ZSxcbiAgICAgICAgICAgIFwic2NvcmUtYnRuXCI6IHRydWUsXG4gICAgICAgICAgICBcImFjdGl2ZVwiOiB0aGlzLnByb3BzLmFjdGl2ZSxcbiAgICAgICAgICAgIFwicmVhZC1vbmx5XCI6IHRoaXMucHJvcHMucmVhZE9ubHksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXsgdGhpcy5nZXRDbGFzc05hbWUoKSB9XG4gICAgICAgICAgICAgICAgeyAuLi5vblRvdWNoT3JDbGljayh0aGlzLmhhbmRsZUNsaWNrKSB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgeyB0aGlzLnByb3BzLnRleHQgfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5JdGVtLmRpc3BsYXlOYW1lID0gXCJ0YWJsZXRfdWlfU2VsZWN0b3JJbnB1dF9JdGVtXCI7XG4iLCJpbXBvcnQgbWFrZUNsYXNzTmFtZSBmcm9tIFwiY29tbW9uL21ha2VDbGFzc05hbWVcIjtcblxuaW1wb3J0IEl0ZW0gZnJvbSBcIi4vSXRlbVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWxlY3RvcklucHV0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIGdldCBwcm9wVHlwZXMoKSB7XG4gICAgICAgIGNvbnN0IFBUID0gUmVhY3QuUHJvcFR5cGVzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2hvaWNlczogUFQuYXJyYXlPZihcbiAgICAgICAgICAgICAgICBQVC5hcnJheU9mKFxuICAgICAgICAgICAgICAgICAgICBQVC5vbmVPZlR5cGUoW1xuICAgICAgICAgICAgICAgICAgICAgICAgUFQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBQVC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFBULmJvb2wuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIHJlYWRPbmx5OiBQVC5ib29sLFxuICAgICAgICAgICAgcm93U2l6ZTogUFQubnVtYmVyLFxuICAgICAgICAgICAgc3R5bGU6IFBULm9uZU9mKFtcImdyaWRcIiwgXCJvbmUtbGluZVwiLCBcInR3by1saW5lc1wiXSksXG4gICAgICAgICAgICB2YWx1ZTogUFQub25lT2ZUeXBlKFtcbiAgICAgICAgICAgICAgICBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICBQVC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICBQVC5ib29sLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBQVC5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgZGVmYXVsdFByb3BzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgICAgICAgcm93U2l6ZTogMTAsXG4gICAgICAgICAgICBzdHlsZTogXCJvbmUtbGluZVwiLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldEJ1dHRvbnNDb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc3R5bGUgPT09IFwiZ3JpZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5yb3dTaXplO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLmNob2ljZXMubGVuZ3RoO1xuICAgIH1cblxuICAgIGdldENsYXNzTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIG1ha2VDbGFzc05hbWUoe1xuICAgICAgICAgICAgXCJTZWxlY3RvcklucHV0XCI6IHRydWUsXG4gICAgICAgICAgICBcIm9uZS1yb3dcIjogdGhpcy5wcm9wcy5zdHlsZSAhPT0gXCJ0d28tbGluZXNcIixcbiAgICAgICAgICAgIFwidHdvLXJvd3NcIjogdGhpcy5wcm9wcy5zdHlsZSA9PT0gXCJ0d28tbGluZXNcIixcbiAgICAgICAgICAgIFwic2VsZWN0ZWRcIjogdGhpcy5wcm9wcy52YWx1ZSAhPT0gbnVsbCxcbiAgICAgICAgICAgIFtgbi0ke3RoaXMuZ2V0QnV0dG9uc0NvdW50KCl9YF06IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZW5kZXJSb3dzKCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHRoaXMucHJvcHMuY2hvaWNlcy5sZW5ndGg7ICsraWR4KSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zdHlsZSA9PT0gXCJncmlkXCIgJiZcbiAgICAgICAgICAgICAgICBpZHggIT09IDAgJiZcbiAgICAgICAgICAgICAgICBpZHggJSB0aGlzLnByb3BzLnJvd1NpemUgPT09IDBcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFxuICAgICAgICAgICAgICAgICAgICA8YnIga2V5PXsgYGJyJHtpZHh9YCB9IC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IFt2YWx1ZSwgdGV4dF0gPSB0aGlzLnByb3BzLmNob2ljZXNbaWR4XTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKFxuICAgICAgICAgICAgICAgIDxJdGVtXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZT17IHZhbHVlID09PSB0aGlzLnByb3BzLnZhbHVlIH1cbiAgICAgICAgICAgICAgICAgICAga2V5PXsgaWR4IH1cbiAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk9eyB0aGlzLnByb3BzLnJlYWRPbmx5IH1cbiAgICAgICAgICAgICAgICAgICAgdGV4dD17IHRleHQgfVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17IHZhbHVlIH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17IHRoaXMucHJvcHMub25DaGFuZ2UgfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXsgdGhpcy5nZXRDbGFzc05hbWUoKSB9PlxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJSb3dzKCkgfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5TZWxlY3RvcklucHV0LmRpc3BsYXlOYW1lID0gXCJ0YWJsZXRfdWlfU2VsZWN0b3JJbnB1dFwiO1xuIiwiaW1wb3J0IG1ha2VDbGFzc05hbWUgZnJvbSBcImNvbW1vbi9tYWtlQ2xhc3NOYW1lXCI7XG5cbmV4cG9ydCBkZWZhdWx0ICBjbGFzcyBTbGlkZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcbiAgICAgICAgY29uc3QgUFQgPSBSZWFjdC5Qcm9wVHlwZXM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkb25lOiBQVC5ib29sLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBkb25lVGV4dDogUFQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBzbGlkZVRleHQ6IFBULnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgb25BY3RpdmF0ZTogUFQuZnVuYy5pc1JlcXVpcmVkLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiAwLFxuICAgICAgICAgICAgdG91Y2g6IGZhbHNlLFxuICAgICAgICAgICAgZmluaXNoZWQ6IGZhbHNlLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnBpbiA9IG51bGw7XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFVwZGF0ZShuZXh0UHJvcHMpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLmRvbmUgJiYgbmV4dFByb3BzLmRvbmUpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGZpbmlzaGVkOiBmYWxzZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNGcmVlKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMuc3RhdGUudG91Y2ggJiYgIXRoaXMucHJvcHMuZG9uZSAmJiAhdGhpcy5zdGF0ZS5maW5pc2hlZDtcbiAgICB9XG5cbiAgICBnZXRPdXRlclRleHRPcGFjaXR5KCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5maW5pc2hlZCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHZhbHVlID0gTWF0aC5taW4oTWF0aC5tYXgoMTAwIC0gdGhpcy5zdGF0ZS5wb3NpdGlvbiwgMCksIDEwMCk7XG4gICAgICAgIHJldHVybiAodmFsdWUgLyAxMDApLnRvRml4ZWQoMyk7XG4gICAgfVxuICAgIGdldEVsZW1lbnRPZmZzZXQoZWxlbWVudCkge1xuICAgICAgICBsZXQgcmVzID0gMDtcbiAgICAgICAgd2hpbGUgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJlcyArPSBlbGVtZW50Lm9mZnNldExlZnQgfHwgMDtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgZ2V0VG91Y2goZXZlbnQpIHtcbiAgICAgICAgbGV0IHRvdWNoID0gZXZlbnQudG91Y2hlc1swXTtcbiAgICAgICAgbGV0IHBhcmVudCA9IGV2ZW50LnRhcmdldC5wYXJlbnROb2RlO1xuICAgICAgICByZXR1cm4gdG91Y2gucGFnZVggLSB0aGlzLmdldEVsZW1lbnRPZmZzZXQocGFyZW50KTtcbiAgICB9XG4gICAgZ2V0UmVsYXRpdmVUb3VjaChldmVudCkge1xuICAgICAgICBsZXQgdG91Y2ggPSBldmVudC50b3VjaGVzWzBdO1xuICAgICAgICBsZXQgcGFyZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICByZXR1cm4gdG91Y2gucGFnZVggLSB0aGlzLmdldEVsZW1lbnRPZmZzZXQocGFyZW50KTtcbiAgICB9XG4gICAgZ2V0U2xpZGVyUG9zKGV2ZW50KSB7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLmdldFRvdWNoKGV2ZW50KSAtIHRoaXMucGluO1xuICAgICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgocG9zLCAwKSwgMjAwKTtcbiAgICB9XG5cbiAgICBoYW5kbGVDbGljayA9ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZmluaXNoZWQgfHwgdGhpcy5wcm9wcy5kb25lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBwb3Npc2lvbjogMjAwLFxuICAgICAgICAgICAgdG91Y2g6IGZhbHNlLFxuICAgICAgICAgICAgZmluaXNoZWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnByb3BzLm9uQWN0aXZhdGUoKTtcbiAgICB9XG4gICAgaGFuZGxlVG91Y2hTdGFydCA9IChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5maW5pc2hlZCB8fCB0aGlzLnByb3BzLmRvbmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBpbiA9IHRoaXMuZ2V0UmVsYXRpdmVUb3VjaChldmVudCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgcG9zaXRpb246IHRoaXMuZ2V0U2xpZGVyUG9zKGV2ZW50KSxcbiAgICAgICAgICAgIHRvdWNoOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaGFuZGxlVG91Y2hNb3ZlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmZpbmlzaGVkIHx8IHRoaXMucHJvcHMuZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgcG9zaXRpb246IHRoaXMuZ2V0U2xpZGVyUG9zKGV2ZW50KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGhhbmRsZVRvdWNoRW5kID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmZpbmlzaGVkIHx8IHRoaXMucHJvcHMuZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnBvc2l0aW9uID09PSAyMDApIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAwLFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRvdWNoOiBmYWxzZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkFjdGl2YXRlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogMCxcbiAgICAgICAgICAgICAgICB0b3VjaDogZmFsc2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlclRleHQoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmRvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXsgXCJkb25lLXRleHRcIiB9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXsgeyBjb2xvcjogXCJyZ2IoMTAwLDEwMCwxMDApXCIgfSB9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMuZG9uZVRleHQgfVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17IG1ha2VDbGFzc05hbWUoeyBcInNsaWRlLXRleHRcIiA6IHRydWUsIFwiZnJlZVwiOiB0aGlzLmlzRnJlZSgpIH0pIH1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9eyB7IGNvbG9yOiBgcmdiYSgxMDAsMTAwLDEwMCwke3RoaXMuZ2V0T3V0ZXJUZXh0T3BhY2l0eSgpfSlgIH0gfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnByb3BzLnNsaWRlVGV4dCB9XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIlNsaWRlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXsgbWFrZUNsYXNzTmFtZSh7IFwiaW5uZXJcIjogdHJ1ZSwgXCJmcmVlXCI6IHRoaXMuaXNGcmVlKCkgfSkgfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17IHsgbGVmdDogKHRoaXMucHJvcHMuZG9uZSB8fCB0aGlzLnN0YXRlLmZpbmlzaGVkKSA/IFwiMjAwcHhcIiA6IGAke3RoaXMuc3RhdGUucG9zaXRpb259cHhgIH0gfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsgdGhpcy5oYW5kbGVDbGljayB9XG4gICAgICAgICAgICAgICAgICAgIG9uVG91Y2hFbmQ9eyB0aGlzLmhhbmRsZVRvdWNoRW5kIH1cbiAgICAgICAgICAgICAgICAgICAgb25Ub3VjaE1vdmU9eyB0aGlzLmhhbmRsZVRvdWNoTW92ZSB9XG4gICAgICAgICAgICAgICAgICAgIG9uVG91Y2hTdGFydD17IHRoaXMuaGFuZGxlVG91Y2hTdGFydCB9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICDihpJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyVGV4dCgpIH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cblxuU2xpZGVyLmRpc3BsYXlOYW1lID0gXCJ0YWJsZXRfdWlfU2xpZGVyXCI7XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBvblRvdWNoRW5kT3JDbGljayhoYW5kbGVyKSB7XG4gICAgbGV0IF9oYW5kbGVyID0gKCkgPT4ge307XG4gICAgbGV0IGRpc3RhbmNlID0gMDtcbiAgICBsZXQgbGF0ZXN0X3BvcyA9IFswLCAwXTtcbiAgICBsZXQgZmlyZSA9IChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gX2hhbmRsZXIoKTtcbiAgICB9XG4gICAgbGV0IGRpc2NhcmQgPSAoKSA9PiB7XG4gICAgICAgIF9oYW5kbGVyID0gKCkgPT4ge307XG4gICAgfVxuICAgIGxldCBtb3ZlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGxldCBjdXJyZW50X3BvcyA9IFtldmVudC50b3VjaGVzWzBdLnBhZ2VYLCBldmVudC50b3VjaGVzWzBdLnBhZ2VZXTtcbiAgICAgICAgbGV0IHNxciA9ICh4KSA9PiB4ICogeDtcbiAgICAgICAgZGlzdGFuY2UgKz0gTWF0aC5zcXJ0KHNxcihjdXJyZW50X3Bvc1swXSAtIGxhdGVzdF9wb3NbMF0pICsgc3FyKGN1cnJlbnRfcG9zWzFdIC0gbGF0ZXN0X3Bvc1sxXSkpO1xuICAgICAgICBsYXRlc3RfcG9zID0gY3VycmVudF9wb3M7XG4gICAgICAgIGlmIChkaXN0YW5jZSA+IDIwKSB7XG4gICAgICAgICAgICBkaXNjYXJkKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IHN0YXJ0ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIF9oYW5kbGVyID0gaGFuZGxlcjtcbiAgICAgICAgZGlzdGFuY2UgPSAwO1xuICAgICAgICBsYXRlc3RfcG9zID0gW2V2ZW50LnRvdWNoZXNbMF0ucGFnZVgsIGV2ZW50LnRvdWNoZXNbMF0ucGFnZVldO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBvblRvdWNoU3RhcnQ6IHN0YXJ0LFxuICAgICAgICBvblRvdWNoRW5kOiBmaXJlLFxuICAgICAgICBvblRvdWNoTW92ZTogbW92ZSxcbiAgICAgICAgb25Ub3VjaENhbmNlbDogZGlzY2FyZCxcbiAgICAgICAgb25DbGljazogaGFuZGxlcixcbiAgICB9XG59XG4iLCJmdW5jdGlvbiBwcmV2ZW50KGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG9uVG91Y2hPckNsaWNrKGhhbmRsZXIpIHtcbiAgICBsZXQgZiA9IChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gaGFuZGxlcihldmVudCk7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBvblRvdWNoU3RhcnQ6IGYsXG4gICAgICAgIG9uQ2xpY2s6IGYsXG4gICAgICAgIG9uVG91Y2hFbmQ6IHByZXZlbnQsXG4gICAgfVxufVxuIiwiaW1wb3J0IEdlbmVyYWxFZGl0b3IgZnJvbSBcIi4vR2VuZXJhbEVkaXRvclwiXG5pbXBvcnQgZ2VuU2NhbGUgZnJvbSBcIi4vZ2VuU2NhbGVcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGFuY2VTY29yZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNjb3JlOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgZGF0YTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICByYXdfZGF0YTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVkdWN0aW9uczogUFQuYXJyYXlPZihQVC5udW1iZXIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWlzdGFrZXM6ICAgUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgcmVhZE9ubHk6IFBULmJvb2wuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIG9uRGlzY2FyZDogUFQuZnVuYy5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgb25TdWJtaXQ6IFBULmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBoYW5kbGVTdWJtaXNzaW9uID0gKGRhdGEpID0+IHtcbiAgICAgICAgbGV0IHJlZHVjdGlvbnMgPSB0aGlzLnByb3BzLnNjb3JlLmRhdGEucmF3X2RhdGEucmVkdWN0aW9ucy5zbGljZSgpOyAvLyBjbG9uZVxuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhkYXRhKSkge1xuICAgICAgICAgICAgaWYgKGtleVswXSA9PT0gXCJBXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzX3ZhbCA9IGRhdGFba2V5XTtcbiAgICAgICAgICAgICAgICByZWR1Y3Rpb25zW3BhcnNlSW50KGtleS5zbGljZSgxKSldID0gc192YWwgPT09IFwiXCIgPyAtMSA6IHBhcnNlSW50KHNfdmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByb3BzLm9uU3VibWl0KHtcbiAgICAgICAgICAgIHJlZHVjdGlvbnM6IHJlZHVjdGlvbnMsXG4gICAgICAgICAgICBtaXN0YWtlczogICBwYXJzZUludChkYXRhLm1pc3Rha2VzKSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbWFrZUZpZWxkKGtleSwgbGFiZWwsIHNjYWxlKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5wcm9wcy5zY29yZS5kYXRhLnJhd19kYXRhW2tleV07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgIGxhYmVsOiBgJHtsYWJlbH06YCxcbiAgICAgICAgICAgIG9wdGlvbnM6IHNjYWxlLFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiB2YWx1ZSA9PT0gbnVsbCA/IFwiXCIgOiB2YWx1ZS50b1N0cmluZygpLFxuICAgICAgICB9XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgbGV0IGZpZWxkcyA9IHRoaXMucHJvcHMuc2NvcmUuZGF0YS5yYXdfZGF0YS5yZWR1Y3Rpb25zLm1hcCgocmVkLCBpZHgpID0+ICh7XG4gICAgICAgICAgICBrZXk6IGBBJHtpZHh9YCxcbiAgICAgICAgICAgIGxhYmVsOiBgQSR7aWR4ICsgMX06YCxcbiAgICAgICAgICAgIG9wdGlvbnM6IGdlblNjYWxlKFwiP3JlZHVjdGlvblwiKSxcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogdGhpcy5wcm9wcy5zY29yZS5kYXRhLnJhd19kYXRhLnJlZHVjdGlvbnNbaWR4XSA9PT0gbnVsbFxuICAgICAgICAgICAgICAgID8gXCJcIlxuICAgICAgICAgICAgICAgIDogdGhpcy5wcm9wcy5zY29yZS5kYXRhLnJhd19kYXRhLnJlZHVjdGlvbnNbaWR4XS50b1N0cmluZygpLFxuICAgICAgICB9KSk7XG4gICAgICAgIGZpZWxkcy5wdXNoKHRoaXMubWFrZUZpZWxkKFwibWlzdGFrZXNcIiwgXCJGRFwiLCBnZW5TY2FsZShcIm51bWJlcnNcIiwgeyBtYXg6IDEwMCB9KSkpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8R2VuZXJhbEVkaXRvclxuICAgICAgICAgICAgICAgIGZpZWxkcz17IGZpZWxkcyB9XG4gICAgICAgICAgICAgICAgcmVhZE9ubHk9eyB0aGlzLnByb3BzLnJlYWRPbmx5IH1cbiAgICAgICAgICAgICAgICBvbkRpc2NhcmQ9eyB0aGlzLnByb3BzLm9uRGlzY2FyZCB9XG4gICAgICAgICAgICAgICAgb25TdWJtaXQ9eyB0aGlzLmhhbmRsZVN1Ym1pc3Npb24gfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbkRhbmNlU2NvcmUuZGlzcGxheU5hbWUgPSBcInJ1bGVzX3NldHNfcm9zZmFycl9BZG1pblNjb3JlSW5wdXRfRWRpdG9yX0RhbmNlU2NvcmVcIjtcbiIsImltcG9ydCBfIGZyb20gXCJsMTBuXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbmZpcm1hdGlvbkJ1dHRvbiBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbmZpcm1lZDogUFQuYm9vbC5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgb25Db25maXJtYXRpb25Ub2dnbGU6IFBULmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gXCJjb25maXJtYXRpb24tYnV0dG9uXCI7XG4gICAgICAgIHJlc3VsdCArPSB0aGlzLnByb3BzLmNvbmZpcm1lZCA/IFwiIGNvbmZpcm1lZFwiIDogXCIgbm90LWNvbmZpcm1lZFwiO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXsgdGhpcy5nZXRDbGFzc05hbWUoKSB9XG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17IHRoaXMucHJvcHMub25Db25maXJtYXRpb25Ub2dnbGUgfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5jb25maXJtZWRcbiAgICAgICAgICAgICAgICAgICAgPyBfKFwiYWRtaW4uYnV0dG9ucy51bmNvbmZpcm1fc2NvcmVcIilcbiAgICAgICAgICAgICAgICAgICAgOiBfKFwiYWRtaW4uYnV0dG9ucy5jb25maXJtX3Njb3JlXCIpIH1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuQ29uZmlybWF0aW9uQnV0dG9uLmRpc3BsYXlOYW1lID0gXCJydWxlc19zZXRzX3Jvc2ZhcnJfQWRtaW5TY29yZUlucHV0X0VkaXRvcl9Db25maXJtYXRpb25CdXR0b25cIjtcbiIsImltcG9ydCBHZW5lcmFsRWRpdG9yIGZyb20gXCIuL0dlbmVyYWxFZGl0b3JcIlxuaW1wb3J0IGdlblNjYWxlIGZyb20gXCIuL2dlblNjYWxlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERhbmNlU2NvcmUgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcbiAgICAgICAgY29uc3QgUFQgPSBSZWFjdC5Qcm9wVHlwZXM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzY29yZTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgcmF3X2RhdGE6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ3X3dvbWFuOiAgICAgICBQVC5udW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmd19tYW46ICAgICAgICAgUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGFuY2VfZmlnczogICAgIFBULm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvc2l0aW9uOiAgICBQVC5udW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzbWFsbF9taXN0YWtlczogUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmlnX21pc3Rha2VzOiAgIFBULm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIHJlYWRPbmx5OiBQVC5ib29sLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBvbkRpc2NhcmQ6IFBULmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIG9uU3VibWl0OiBQVC5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGhhbmRsZVN1Ym1pc3Npb24gPSAoZGF0YSkgPT4ge1xuICAgICAgICB0aGlzLnByb3BzLm9uU3VibWl0KHtcbiAgICAgICAgICAgIGZ3X3dvbWFuOiAgICAgICBkYXRhW1wiZndfd29tYW5cIl0gICAgPT09IFwiXCIgPyBudWxsIDogcGFyc2VGbG9hdChkYXRhLmZ3X3dvbWFuKSxcbiAgICAgICAgICAgIGZ3X21hbjogICAgICAgICBkYXRhW1wiZndfbWFuXCJdICAgICAgPT09IFwiXCIgPyBudWxsIDogcGFyc2VGbG9hdChkYXRhLmZ3X21hbiksXG4gICAgICAgICAgICBkYW5jZV9maWdzOiAgICAgZGF0YVtcImRhbmNlX2ZpZ3NcIl0gID09PSBcIlwiID8gbnVsbCA6IHBhcnNlRmxvYXQoZGF0YS5kYW5jZV9maWdzKSxcbiAgICAgICAgICAgIGNvbXBvc2l0aW9uOiAgICBkYXRhW1wiY29tcG9zaXRpb25cIl0gPT09IFwiXCIgPyBudWxsIDogcGFyc2VGbG9hdChkYXRhLmNvbXBvc2l0aW9uKSxcbiAgICAgICAgICAgIHNtYWxsX21pc3Rha2VzOiBwYXJzZUludChkYXRhLnNtYWxsX21pc3Rha2VzKSxcbiAgICAgICAgICAgIGJpZ19taXN0YWtlczogICBwYXJzZUludChkYXRhLmJpZ19taXN0YWtlcyksXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG1ha2VGaWVsZChrZXksIGxhYmVsLCBzY2FsZSwgZmxvYXQ9ZmFsc2UpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnByb3BzLnNjb3JlLmRhdGEucmF3X2RhdGFba2V5XTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgbGFiZWw6IGAke2xhYmVsfTpgLFxuICAgICAgICAgICAgb3B0aW9uczogc2NhbGUsXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IHZhbHVlID09PSBudWxsID8gXCJcIiA6IGZsb2F0ID8gdmFsdWUudG9GaXhlZCgxKSA6IHZhbHVlLnRvU3RyaW5nKCksXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8R2VuZXJhbEVkaXRvclxuICAgICAgICAgICAgICAgIGZpZWxkcz17IFtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWtlRmllbGQoXCJmd193b21hblwiLCAgICAgICBcIkZXXCIsIGdlblNjYWxlKFwiP3JlZHVjdGlvblwiKSksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFrZUZpZWxkKFwiZndfbWFuXCIsICAgICAgICAgXCJGTVwiLCBnZW5TY2FsZShcIj9yZWR1Y3Rpb25cIikpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ha2VGaWVsZChcImRhbmNlX2ZpZ3NcIiwgICAgIFwiREZcIiwgZ2VuU2NhbGUoXCI/bnVtYmVyc1wiLCB7IG1heDogMTAsIHN0ZXA6IDAuNSB9KSwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFrZUZpZWxkKFwiY29tcG9zaXRpb25cIiwgICAgXCJDXCIsICBnZW5TY2FsZShcIj9udW1iZXJzXCIsIHsgbWF4OiAxMCwgc3RlcDogMC41IH0pLCB0cnVlKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWtlRmllbGQoXCJzbWFsbF9taXN0YWtlc1wiLCBcIlNNXCIsIGdlblNjYWxlKFwibnVtYmVyc1wiLCAgeyBtYXg6IDEwMCB9KSksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFrZUZpZWxkKFwiYmlnX21pc3Rha2VzXCIsICAgXCJCTVwiLCBnZW5TY2FsZShcIm51bWJlcnNcIiwgIHsgbWF4OiAxMDAgfSkpLFxuICAgICAgICAgICAgICAgIF0gfVxuICAgICAgICAgICAgICAgIHJlYWRPbmx5PXsgdGhpcy5wcm9wcy5yZWFkT25seSB9XG4gICAgICAgICAgICAgICAgb25EaXNjYXJkPXsgdGhpcy5wcm9wcy5vbkRpc2NhcmQgfVxuICAgICAgICAgICAgICAgIG9uU3VibWl0PXsgdGhpcy5oYW5kbGVTdWJtaXNzaW9uIH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5EYW5jZVNjb3JlLmRpc3BsYXlOYW1lID0gXCJydWxlc19zZXRzX3Jvc2ZhcnJfQWRtaW5TY29yZUlucHV0X0VkaXRvcl9EYW5jZVNjb3JlXCI7XG4iLCJpbXBvcnQgR2VuZXJhbEVkaXRvciBmcm9tIFwiLi9HZW5lcmFsRWRpdG9yXCJcbmltcG9ydCBnZW5TY2FsZSBmcm9tIFwiLi9nZW5TY2FsZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtYXRpb25TY29yZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNjb3JlOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgZGF0YTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICByYXdfZGF0YTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNyb2JhdGljczogICAgIFBULm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhbmNlX3RlY2g6ICAgICBQVC5udW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYW5jZV9maWdzOiAgICAgUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1wcmVzc2lvbjogICAgIFBULm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNtYWxsX21pc3Rha2VzOiBQVC5udW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiaWdfbWlzdGFrZXM6ICAgUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgcmVhZE9ubHk6IFBULmJvb2wuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIG9uRGlzY2FyZDogUFQuZnVuYy5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgb25TdWJtaXQ6IFBULmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBoYW5kbGVTdWJtaXNzaW9uID0gKGRhdGEpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5vblN1Ym1pdCh7XG4gICAgICAgICAgICBhY3JvYmF0aWNzOiAgICAgZGF0YVtcImFjcm9iYXRpY3NcIl0gPT09IFwiXCIgPyBudWxsIDogcGFyc2VGbG9hdChkYXRhLmFjcm9iYXRpY3MpLFxuICAgICAgICAgICAgZGFuY2VfdGVjaDogICAgIGRhdGFbXCJkYW5jZV90ZWNoXCJdID09PSBcIlwiID8gbnVsbCA6IHBhcnNlRmxvYXQoZGF0YS5kYW5jZV90ZWNoKSxcbiAgICAgICAgICAgIGRhbmNlX2ZpZ3M6ICAgICBkYXRhW1wiZGFuY2VfZmlnc1wiXSA9PT0gXCJcIiA/IG51bGwgOiBwYXJzZUZsb2F0KGRhdGEuZGFuY2VfZmlncyksXG4gICAgICAgICAgICBpbXByZXNzaW9uOiAgICAgZGF0YVtcImltcHJlc3Npb25cIl0gPT09IFwiXCIgPyBudWxsIDogcGFyc2VGbG9hdChkYXRhLmltcHJlc3Npb24pLFxuICAgICAgICAgICAgYmlnX21pc3Rha2VzOiAgIHBhcnNlSW50KGRhdGEuYmlnX21pc3Rha2VzKSxcbiAgICAgICAgICAgIHNtYWxsX21pc3Rha2VzOiBwYXJzZUludChkYXRhLnNtYWxsX21pc3Rha2VzKSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbWFrZUZpZWxkKGtleSwgbGFiZWwsIHNjYWxlLCBmbG9hdD1mYWxzZSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMucHJvcHMuc2NvcmUuZGF0YS5yYXdfZGF0YVtrZXldO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICBsYWJlbDogYCR7bGFiZWx9OmAsXG4gICAgICAgICAgICBvcHRpb25zOiBzY2FsZSxcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogdmFsdWUgPT09IG51bGwgPyBcIlwiIDogZmxvYXQgPyB2YWx1ZS50b0ZpeGVkKDEpIDogdmFsdWUudG9TdHJpbmcoKSxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxHZW5lcmFsRWRpdG9yXG4gICAgICAgICAgICAgICAgZmllbGRzPXsgW1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ha2VGaWVsZChcImFjcm9iYXRpY3NcIiwgICAgIFwiQVwiLCAgZ2VuU2NhbGUoXCI/bnVtYmVyc1wiLCB7IG1heDogMTAsIHN0ZXA6IDAuNSB9KSwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFrZUZpZWxkKFwiZGFuY2VfdGVjaFwiLCAgICAgXCJEVFwiLCBnZW5TY2FsZShcIj9udW1iZXJzXCIsIHsgbWF4OiAxMCwgc3RlcDogMC41IH0pLCB0cnVlKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWtlRmllbGQoXCJkYW5jZV9maWdzXCIsICAgICBcIkRGXCIsIGdlblNjYWxlKFwiP251bWJlcnNcIiwgeyBtYXg6IDEwLCBzdGVwOiAwLjUgfSksIHRydWUpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ha2VGaWVsZChcImltcHJlc3Npb25cIiwgICAgIFwiSVwiLCAgZ2VuU2NhbGUoXCI/bnVtYmVyc1wiLCB7IG1heDogMTAsIHN0ZXA6IDAuNSB9KSwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFrZUZpZWxkKFwic21hbGxfbWlzdGFrZXNcIiwgXCJTTVwiLCBnZW5TY2FsZShcIm51bWJlcnNcIiwgIHsgbWF4OiAxMDAgfSkpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ha2VGaWVsZChcImJpZ19taXN0YWtlc1wiLCAgIFwiQk1cIiwgZ2VuU2NhbGUoXCJudW1iZXJzXCIsICB7IG1heDogMTAwIH0pKSxcbiAgICAgICAgICAgICAgICBdIH1cbiAgICAgICAgICAgICAgICByZWFkT25seT17IHRoaXMucHJvcHMucmVhZE9ubHkgfVxuICAgICAgICAgICAgICAgIG9uRGlzY2FyZD17IHRoaXMucHJvcHMub25EaXNjYXJkIH1cbiAgICAgICAgICAgICAgICBvblN1Ym1pdD17IHRoaXMuaGFuZGxlU3VibWlzc2lvbiB9XG4gICAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuRm9ybWF0aW9uU2NvcmUuZGlzcGxheU5hbWUgPSBcInJ1bGVzX3NldHNfcm9zZmFycl9BZG1pblNjb3JlSW5wdXRfRWRpdG9yX0Zvcm1hdGlvblNjb3JlXCI7XG4iLCJpbXBvcnQgR2VuZXJhbEVkaXRvciBmcm9tIFwiLi9HZW5lcmFsRWRpdG9yXCJcbmltcG9ydCBnZW5TY2FsZSBmcm9tIFwiLi9nZW5TY2FsZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtYXRpb25TY29yZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNjb3JlOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgZGF0YTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICByYXdfZGF0YTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGFuY2VfdGVjaDogUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGFuY2VfZmlnczogUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1wcmVzc2lvbjogUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWlzdGFrZXM6ICAgUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgcmVhZE9ubHk6IFBULmJvb2wuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIG9uRGlzY2FyZDogUFQuZnVuYy5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgb25TdWJtaXQ6IFBULmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBoYW5kbGVTdWJtaXNzaW9uID0gKGRhdGEpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5vblN1Ym1pdCh7XG4gICAgICAgICAgICBkYW5jZV90ZWNoOiBkYXRhW1wiZGFuY2VfdGVjaFwiXSA9PT0gXCJcIiA/IG51bGwgOiBwYXJzZUZsb2F0KGRhdGEuZGFuY2VfdGVjaCksXG4gICAgICAgICAgICBkYW5jZV9maWdzOiBkYXRhW1wiZGFuY2VfZmlnc1wiXSA9PT0gXCJcIiA/IG51bGwgOiBwYXJzZUZsb2F0KGRhdGEuZGFuY2VfZmlncyksXG4gICAgICAgICAgICBpbXByZXNzaW9uOiBkYXRhW1wiaW1wcmVzc2lvblwiXSA9PT0gXCJcIiA/IG51bGwgOiBwYXJzZUZsb2F0KGRhdGEuaW1wcmVzc2lvbiksXG4gICAgICAgICAgICBtaXN0YWtlczogICBwYXJzZUludChkYXRhLm1pc3Rha2VzKSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbWFrZUZpZWxkKGtleSwgbGFiZWwsIHNjYWxlLCBmbG9hdD1mYWxzZSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMucHJvcHMuc2NvcmUuZGF0YS5yYXdfZGF0YVtrZXldO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICBsYWJlbDogYCR7bGFiZWx9OmAsXG4gICAgICAgICAgICBvcHRpb25zOiBzY2FsZSxcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogdmFsdWUgPT09IG51bGwgPyBcIlwiIDogZmxvYXQgPyB2YWx1ZS50b0ZpeGVkKDEpIDogdmFsdWUudG9TdHJpbmcoKSxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxHZW5lcmFsRWRpdG9yXG4gICAgICAgICAgICAgICAgZmllbGRzPXsgW1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ha2VGaWVsZChcImRhbmNlX3RlY2hcIiwgXCJEVFwiLCBnZW5TY2FsZShcIj9udW1iZXJzXCIsIHsgbWF4OiAxMCwgc3RlcDogMC41IH0pLCB0cnVlKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWtlRmllbGQoXCJkYW5jZV9maWdzXCIsIFwiREZcIiwgZ2VuU2NhbGUoXCI/bnVtYmVyc1wiLCB7IG1heDogMTAsIHN0ZXA6IDAuNSB9KSwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFrZUZpZWxkKFwiaW1wcmVzc2lvblwiLCBcIklcIiwgIGdlblNjYWxlKFwiP251bWJlcnNcIiwgeyBtYXg6IDEwLCBzdGVwOiAwLjUgfSksIHRydWUpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ha2VGaWVsZChcIm1pc3Rha2VzXCIsICAgXCJNXCIsICBnZW5TY2FsZShcIm51bWJlcnNcIiwgIHsgbWF4OiAxMDAgfSkpLFxuICAgICAgICAgICAgICAgIF0gfVxuICAgICAgICAgICAgICAgIHJlYWRPbmx5PXsgdGhpcy5wcm9wcy5yZWFkT25seSB9XG4gICAgICAgICAgICAgICAgb25EaXNjYXJkPXsgdGhpcy5wcm9wcy5vbkRpc2NhcmQgfVxuICAgICAgICAgICAgICAgIG9uU3VibWl0PXsgdGhpcy5oYW5kbGVTdWJtaXNzaW9uIH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5Gb3JtYXRpb25TY29yZS5kaXNwbGF5TmFtZSA9IFwicnVsZXNfc2V0c19yb3NmYXJyX0FkbWluU2NvcmVJbnB1dF9FZGl0b3JfRm9ybWF0aW9uU2NvcmVcIjtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEl0ZW0gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcbiAgICAgICAgY29uc3QgUFQgPSBSZWFjdC5Qcm9wVHlwZXM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmaWVsZDogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgIGxhYmVsOiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICBrZXk6IFBULnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFBULmFycmF5T2YoXG4gICAgICAgICAgICAgICAgICAgIFBULmFycmF5T2YoUFQuc3RyaW5nLmlzUmVxdWlyZWQpLmlzUmVxdWlyZWRcbiAgICAgICAgICAgICAgICApLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgcmVhZE9ubHk6IFBULmJvb2wuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIHZhbHVlOiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBQVC5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaGFuZGxlQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UodGhpcy5wcm9wcy5maWVsZC5rZXksIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgfVxuXG4gICAgcmVuZGVyVmFsdWUoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnJlYWRPbmx5KSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2NvcmUtdmFsdWVcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWFkLW9ubHlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5maWVsZC5vcHRpb25zLmZpbmQobyA9PiBvWzBdID09PSB0aGlzLnByb3BzLnZhbHVlKVsxXSB9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzY29yZS12YWx1ZVwiPlxuICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9eyB0aGlzLnByb3BzLnZhbHVlIH1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLmhhbmRsZUNoYW5nZSB9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMuZmllbGQub3B0aW9ucy5tYXAob3B0aW9uID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFt2YWx1ZSwgbGFiZWxdID0gb3B0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17IHZhbHVlIH0gdmFsdWU9eyB2YWx1ZSB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGxhYmVsIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0pIH1cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIml0ZW1cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNjb3JlLWxhYmVsXCI+XG4gICAgICAgICAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5maWVsZC5sYWJlbCB9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlclZhbHVlKCkgfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5JdGVtLmRpc3BsYXlOYW1lID0gXCJydWxlc19zZXRzX3Jvc2ZhcnJfQWRtaW5TY29yZUlucHV0X0VkaXRvcl9HZW5lcmFsRWRpdG9yX0l0ZW1cIjtcbiIsImltcG9ydCBfIGZyb20gXCJsMTBuXCI7XG5cbmltcG9ydCBJdGVtIGZyb20gXCIuL0l0ZW1cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2VuZXJhbEVkaXRvciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpZWxkczogUFQuYXJyYXlPZihcbiAgICAgICAgICAgICAgICBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgICAgIGtleTogUFQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogUFQuYXJyYXlPZihcbiAgICAgICAgICAgICAgICAgICAgICAgIFBULmFycmF5T2YoUFQuc3RyaW5nLmlzUmVxdWlyZWQpLmlzUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgKS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IFBULnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWRcbiAgICAgICAgICAgICkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIHJlYWRPbmx5OiBQVC5ib29sLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBvbkRpc2NhcmQ6IFBULmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIG9uU3VibWl0OiBQVC5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICBsZXQgaW5pdGlhbF92YWx1ZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBmIG9mIHRoaXMucHJvcHMuZmllbGRzKSB7XG4gICAgICAgICAgICBpbml0aWFsX3ZhbHVlc1tmLmtleV0gPSBmLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgdmFsdWVzOiBpbml0aWFsX3ZhbHVlcyxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBoYW5kbGVDaGFuZ2UgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICBsZXQgdmFsdWVzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZS52YWx1ZXMpO1xuICAgICAgICB2YWx1ZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgdmFsdWVzIH0pO1xuICAgIH1cbiAgICBoYW5kbGVEaXNjYXJkQ2xpY2sgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHRoaXMucHJvcHMub25EaXNjYXJkKCk7XG4gICAgfVxuICAgIGhhbmRsZVN1Ym1pc3Npb24gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5wcm9wcy5vblN1Ym1pdCh0aGlzLnN0YXRlLnZhbHVlcyk7XG4gICAgfVxuXG4gICAgcmVuZGVyQnV0dG9ucygpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucmVhZE9ubHkpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXR0b25zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyB0aGlzLmhhbmRsZURpc2NhcmRDbGljayB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsgXyhcImdsb2JhbC5idXR0b25zLmNsb3NlXCIpIH1cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dHRvbnNcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInN1Ym1pdC1idXR0b25cIlxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHsgXyhcImdsb2JhbC5idXR0b25zLnN1Ym1pdFwiKSB9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkaXNjYXJkLWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsgdGhpcy5oYW5kbGVEaXNjYXJkQ2xpY2sgfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgeyBfKFwiZ2xvYmFsLmJ1dHRvbnMuZGlzY2FyZFwiKSB9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGZvcm1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzY29yZS1lZGl0b3JcIlxuICAgICAgICAgICAgICAgIG9uU3VibWl0PXsgdGhpcy5oYW5kbGVTdWJtaXNzaW9uIH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpZWxkc1wiPlxuICAgICAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMuZmllbGRzLm1hcChmID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlYWRfb25seSA9IHRoaXMucHJvcHMucmVhZE9ubHkgfHwgZi5yZWFkT25seSB8fCBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQ9eyBmIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXsgZi5rZXkgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seT17IHJlYWRfb25seSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXsgcmVhZF9vbmx5ID8gZi5kZWZhdWx0VmFsdWUgOiB0aGlzLnN0YXRlLnZhbHVlc1tmLmtleV0gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMuaGFuZGxlQ2hhbmdlIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSApIH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyQnV0dG9ucygpIH1cbiAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbkdlbmVyYWxFZGl0b3IuZGlzcGxheU5hbWUgPSBcInJ1bGVzX3NldHNfcm9zZmFycl9BZG1pblNjb3JlSW5wdXRfRWRpdG9yX0dlbmVyYWxFZGl0b3JcIjtcbiIsImltcG9ydCBHZW5lcmFsRWRpdG9yIGZyb20gXCIuL0dlbmVyYWxFZGl0b3JcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIZWFkSnVkZ2VTY29yZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNjb3JlOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgZGF0YTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICByYXdfZGF0YTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVuYWx0eTogUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZDogUFQub25lT2YoW1wiT0tcIiwgXCJZQ1wiLCBcIlJDXCJdKS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgcmVhZE9ubHk6IFBULmJvb2wuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIG9uRGlzY2FyZDogUFQuZnVuYy5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgb25TdWJtaXQ6IFBULmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBoYW5kbGVTdWJtaXNzaW9uID0gKGRhdGEpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5vblN1Ym1pdCh7XG4gICAgICAgICAgICBjYXJkOiAgICAgZGF0YS5jYXJkLFxuICAgICAgICAgICAgbmV4dHRvdXI6IGRhdGEubmV4dHRvdXIgPT09IFwidHJ1ZVwiLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBtYWtlRmllbGQoa2V5LCBsYWJlbCwgc2NhbGUpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnByb3BzLnNjb3JlLmRhdGEucmF3X2RhdGFba2V5XTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgbGFiZWw6IGAke2xhYmVsfTpgLFxuICAgICAgICAgICAgb3B0aW9uczogc2NhbGUsXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IHZhbHVlID09PSBudWxsID8gXCJcIiA6IHZhbHVlLnRvU3RyaW5nKCksXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8R2VuZXJhbEVkaXRvclxuICAgICAgICAgICAgICAgIGZpZWxkcz17IFtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWtlRmllbGQoXCJjYXJkXCIsIFwiQ1wiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICBbXCJPS1wiLCBcIk9LXCJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgW1wiWUNcIiwgXCJZQ1wiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFtcIlJDXCIsIFwiUkNcIl0sXG4gICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ha2VGaWVsZChcIm5leHR0b3VyXCIsIFwiTlRcIiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgW1wiZmFsc2VcIiwgXCJOb1wiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFtcInRydWVcIiwgIFwiWWVzXCJdLFxuICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICBdIH1cbiAgICAgICAgICAgICAgICByZWFkT25seT17IHRoaXMucHJvcHMucmVhZE9ubHkgfVxuICAgICAgICAgICAgICAgIG9uRGlzY2FyZD17IHRoaXMucHJvcHMub25EaXNjYXJkIH1cbiAgICAgICAgICAgICAgICBvblN1Ym1pdD17IHRoaXMuaGFuZGxlU3VibWlzc2lvbiB9XG4gICAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuSGVhZEp1ZGdlU2NvcmUuZGlzcGxheU5hbWUgPSBcInJ1bGVzX3NldHNfcm9zZmFycl9BZG1pblNjb3JlSW5wdXRfRWRpdG9yX0hlYWRKdWRnZVNjb3JlXCI7XG4iLCJpbXBvcnQgR2VuZXJhbEVkaXRvciBmcm9tIFwiLi9HZW5lcmFsRWRpdG9yXCJcbmltcG9ydCBnZW5TY2FsZSBmcm9tIFwiLi9nZW5TY2FsZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaW1wbGlmaWVkU2NvcmUgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcbiAgICAgICAgY29uc3QgUFQgPSBSZWFjdC5Qcm9wVHlwZXM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzY29yZTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgcmF3X2RhdGE6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50czogUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgcmVhZE9ubHk6IFBULmJvb2wuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIG9uRGlzY2FyZDogUFQuZnVuYy5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgb25TdWJtaXQ6IFBULmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBoYW5kbGVTdWJtaXNzaW9uID0gKGRhdGEpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5vblN1Ym1pdCh7XG4gICAgICAgICAgICBwb2ludHM6IGRhdGFbXCJwb2ludHNcIl0gPT09IFwiXCIgPyBudWxsIDogcGFyc2VJbnQoZGF0YS5wb2ludHMpLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBtYWtlRmllbGQoa2V5LCBsYWJlbCwgc2NhbGUpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnByb3BzLnNjb3JlLmRhdGEucmF3X2RhdGFba2V5XTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgbGFiZWw6IGAke2xhYmVsfTpgLFxuICAgICAgICAgICAgb3B0aW9uczogc2NhbGUsXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IHZhbHVlID09PSBudWxsID8gXCJcIiA6IHZhbHVlLnRvU3RyaW5nKCksXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8R2VuZXJhbEVkaXRvclxuICAgICAgICAgICAgICAgIGZpZWxkcz17IFtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWtlRmllbGQoXCJwb2ludHNcIiwgXCJTXCIsIGdlblNjYWxlKFwiP251bWJlcnNcIiwgeyBtaW46IDEsIG1heDogNDAgfSkpLFxuICAgICAgICAgICAgICAgIF0gfVxuICAgICAgICAgICAgICAgIHJlYWRPbmx5PXsgdGhpcy5wcm9wcy5yZWFkT25seSB9XG4gICAgICAgICAgICAgICAgb25EaXNjYXJkPXsgdGhpcy5wcm9wcy5vbkRpc2NhcmQgfVxuICAgICAgICAgICAgICAgIG9uU3VibWl0PXsgdGhpcy5oYW5kbGVTdWJtaXNzaW9uIH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5TaW1wbGlmaWVkU2NvcmUuZGlzcGxheU5hbWUgPSBcInJ1bGVzX3NldHNfcm9zZmFycl9BZG1pblNjb3JlSW5wdXRfRWRpdG9yX1NpbXBsaWZpZWRTY29yZVwiO1xuIiwiaW1wb3J0IEdlbmVyYWxFZGl0b3IgZnJvbSBcIi4vR2VuZXJhbEVkaXRvclwiXG5pbXBvcnQgZ2VuU2NhbGUgZnJvbSBcIi4vZ2VuU2NhbGVcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU29sb1Njb3JlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIGdldCBwcm9wVHlwZXMoKSB7XG4gICAgICAgIGNvbnN0IFBUID0gUmVhY3QuUHJvcFR5cGVzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2NvcmU6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgICAgIHJhd19kYXRhOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBmdzogICAgICAgICAgICAgUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGFuY2VfZmlnczogICAgIFBULm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvc2l0aW9uOiAgICBQVC5udW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzbWFsbF9taXN0YWtlczogUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmlnX21pc3Rha2VzOiAgIFBULm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIHJlYWRPbmx5OiBQVC5ib29sLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBvbkRpc2NhcmQ6IFBULmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIG9uU3VibWl0OiBQVC5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGhhbmRsZVN1Ym1pc3Npb24gPSAoZGF0YSkgPT4ge1xuICAgICAgICB0aGlzLnByb3BzLm9uU3VibWl0KHtcbiAgICAgICAgICAgIGZ3OiAgICAgICAgICAgICBkYXRhW1wiZndcIl0gICAgICAgICAgPT09IFwiXCIgPyBudWxsIDogcGFyc2VJbnQoZGF0YS5mdyksXG4gICAgICAgICAgICBkYW5jZV9maWdzOiAgICAgZGF0YVtcImRhbmNlX2ZpZ3NcIl0gID09PSBcIlwiID8gbnVsbCA6IHBhcnNlRmxvYXQoZGF0YS5kYW5jZV9maWdzKSxcbiAgICAgICAgICAgIGNvbXBvc2l0aW9uOiAgICBkYXRhW1wiY29tcG9zaXRpb25cIl0gPT09IFwiXCIgPyBudWxsIDogcGFyc2VGbG9hdChkYXRhLmNvbXBvc2l0aW9uKSxcbiAgICAgICAgICAgIHNtYWxsX21pc3Rha2VzOiBwYXJzZUludChkYXRhLnNtYWxsX21pc3Rha2VzKSxcbiAgICAgICAgICAgIGJpZ19taXN0YWtlczogICBwYXJzZUludChkYXRhLmJpZ19taXN0YWtlcyksXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG1ha2VGaWVsZChrZXksIGxhYmVsLCBzY2FsZSwgZmxvYXQ9ZmFsc2UpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnByb3BzLnNjb3JlLmRhdGEucmF3X2RhdGFba2V5XTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgbGFiZWw6IGAke2xhYmVsfTpgLFxuICAgICAgICAgICAgb3B0aW9uczogc2NhbGUsXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IHZhbHVlID09PSBudWxsID8gXCJcIiA6IGZsb2F0ID8gdmFsdWUudG9GaXhlZCgxKSA6IHZhbHVlLnRvU3RyaW5nKCksXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8R2VuZXJhbEVkaXRvclxuICAgICAgICAgICAgICAgIGZpZWxkcz17IFtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWtlRmllbGQoXCJmd1wiLCAgICAgICAgICAgICBcIkZXXCIsIGdlblNjYWxlKFwiP3JlZHVjdGlvblwiKSksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFrZUZpZWxkKFwiZGFuY2VfZmlnc1wiLCAgICAgXCJERlwiLCBnZW5TY2FsZShcIj9udW1iZXJzXCIsIHsgbWF4OiAxMCwgc3RlcDogMC41IH0pLCB0cnVlKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWtlRmllbGQoXCJjb21wb3NpdGlvblwiLCAgICBcIkNcIiwgIGdlblNjYWxlKFwiP251bWJlcnNcIiwgeyBtYXg6IDEwLCBzdGVwOiAwLjUgfSksIHRydWUpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ha2VGaWVsZChcInNtYWxsX21pc3Rha2VzXCIsIFwiU01cIiwgZ2VuU2NhbGUoXCJudW1iZXJzXCIsICB7IG1heDogMTAwIH0pKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWtlRmllbGQoXCJiaWdfbWlzdGFrZXNcIiwgICBcIkJNXCIsIGdlblNjYWxlKFwibnVtYmVyc1wiLCAgeyBtYXg6IDEwMCB9KSksXG4gICAgICAgICAgICAgICAgXSB9XG4gICAgICAgICAgICAgICAgcmVhZE9ubHk9eyB0aGlzLnByb3BzLnJlYWRPbmx5IH1cbiAgICAgICAgICAgICAgICBvbkRpc2NhcmQ9eyB0aGlzLnByb3BzLm9uRGlzY2FyZCB9XG4gICAgICAgICAgICAgICAgb25TdWJtaXQ9eyB0aGlzLmhhbmRsZVN1Ym1pc3Npb24gfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblNvbG9TY29yZS5kaXNwbGF5TmFtZSA9IFwicnVsZXNfc2V0c19yb3NmYXJyX0FkbWluU2NvcmVJbnB1dF9FZGl0b3JfU29sb1Njb3JlXCI7XG4iLCJpbXBvcnQgR2VuZXJhbEVkaXRvciBmcm9tIFwiLi9HZW5lcmFsRWRpdG9yXCJcbmltcG9ydCBnZW5TY2FsZSBmcm9tIFwiLi9nZW5TY2FsZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZWNoSnVkZ2VTY29yZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNjb3JlOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgZGF0YTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICByYXdfZGF0YTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAganVtcF9zdGVwczogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkOiBQVC5vbmVPZihbXCJPS1wiLCBcIllDXCIsIFwiUkNcIl0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgcmVhZE9ubHk6IFBULmJvb2wuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIG9uRGlzY2FyZDogUFQuZnVuYy5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgb25TdWJtaXQ6IFBULmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBoYW5kbGVTdWJtaXNzaW9uID0gKGRhdGEpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5vblN1Ym1pdCh7XG4gICAgICAgICAgICBjYXJkOiAgICAgICBkYXRhLmNhcmQgPT09IFwiXCIgPyBudWxsIDogZGF0YS5jYXJkLFxuICAgICAgICAgICAganVtcF9zdGVwczogcGFyc2VJbnQoZGF0YS5qdW1wX3N0ZXBzKSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbWFrZUZpZWxkKGtleSwgbGFiZWwsIHNjYWxlLCByZWFkX29ubHk9ZmFsc2UpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnByb3BzLnNjb3JlLmRhdGEucmF3X2RhdGFba2V5XTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgbGFiZWw6IGAke2xhYmVsfTpgLFxuICAgICAgICAgICAgb3B0aW9uczogc2NhbGUsXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IHZhbHVlID09PSBudWxsID8gXCJcIiA6IHZhbHVlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICByZWFkT25seTogcmVhZF9vbmx5LFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGFkKG51bSwgc2l6ZSkge1xuICAgICAgICBjb25zdCBzID0gYDAwMDAke251bX1gO1xuICAgICAgICByZXR1cm4gcy5zdWJzdHIocy5sZW5ndGggLSBzaXplKTtcbiAgICB9XG4gICAgZ2V0VGltZSgpIHtcbiAgICAgICAgbGV0IHZhbCA9IHRoaXMucHJvcHMuc2NvcmUuZGF0YS5yYXdfZGF0YS50aW1lO1xuICAgICAgICBpZiAodmFsID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gXCLigJRcIlxuICAgICAgICB9XG4gICAgICAgIGxldCBtID0gMCwgcyA9IDA7XG4gICAgICAgIG0gPSBNYXRoLmZsb29yKHZhbCAvIDYwKTtcbiAgICAgICAgdmFsICU9IDYwO1xuICAgICAgICBzID0gTWF0aC5mbG9vcih2YWwpO1xuICAgICAgICByZXR1cm4gYCR7bX06JHt0aGlzLnBhZChzLCAyKX1gO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgdGltZV9maWVsZCA9IChcbiAgICAgICAgICAgIHRoaXMucHJvcHMuc2NvcmUuZGF0YS5yYXdfZGF0YS50aW1lID09PSBudWxsXG4gICAgICAgICAgICAgICAgPyBbW1wiXCIsIFwi4oCUXCJdXVxuICAgICAgICAgICAgICAgIDogW1t0aGlzLnByb3BzLnNjb3JlLmRhdGEucmF3X2RhdGEudGltZS50b1N0cmluZygpLCB0aGlzLmdldFRpbWUoKV1dXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8R2VuZXJhbEVkaXRvclxuICAgICAgICAgICAgICAgIGZpZWxkcz17IFtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWtlRmllbGQoXCJjYXJkXCIsIFwiQ1wiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICBbXCJcIiwgXCLigJRcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBbXCJPS1wiLCBcIk9LXCJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgW1wiWUNcIiwgXCJZQ1wiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFtcIlJDXCIsIFwiUkNcIl0sXG4gICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ha2VGaWVsZChcImp1bXBfc3RlcHNcIiwgXCJKU1wiLCBnZW5TY2FsZShcIm51bWJlcnNcIiwgeyBtYXg6IDEwMCB9KSksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFrZUZpZWxkKFwidGltZVwiLCBcIlRcIiwgdGltZV9maWVsZCwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgXSB9XG4gICAgICAgICAgICAgICAgcmVhZE9ubHk9eyB0aGlzLnByb3BzLnJlYWRPbmx5IH1cbiAgICAgICAgICAgICAgICBvbkRpc2NhcmQ9eyB0aGlzLnByb3BzLm9uRGlzY2FyZCB9XG4gICAgICAgICAgICAgICAgb25TdWJtaXQ9eyB0aGlzLmhhbmRsZVN1Ym1pc3Npb24gfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuVGVjaEp1ZGdlU2NvcmUuZGlzcGxheU5hbWUgPSBcInJ1bGVzX3NldHNfcm9zZmFycl9BZG1pblNjb3JlSW5wdXRfRWRpdG9yX1RlY2hKdWRnZVNjb3JlXCI7XG4iLCJmdW5jdGlvbiBnZW5TY2FsZSh0eXBlLCB1c2VyX3BhcmFtcykge1xuICAgIGNvbnN0IG9wdGlvbmFsID0gdHlwZVswXSA9PT0gXCI/XCI7XG4gICAgaWYgKG9wdGlvbmFsKSB7XG4gICAgICAgIHR5cGUgPSB0eXBlLnNsaWNlKDEpO1xuICAgIH1cbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBcInJlZHVjdGlvblwiOlxuICAgICAgICByZXN1bHQgPSBbMTAwLCA3NSwgNTAsIDI1LCAxMCwgNSwgMF0ubWFwKFxuICAgICAgICAgICAgcyA9PiBbcy50b1N0cmluZygpLCBgLSR7c30lYF1cbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIm51bWJlcnNcIjoge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIG1heDogMTAsXG4gICAgICAgICAgICBzdGVwOiAxLFxuICAgICAgICB9LCB1c2VyX3BhcmFtcyk7XG4gICAgICAgIGNvbnN0IGZyYWN0aW9uX3NpemUgPSBNYXRoLmFicyhwYXJhbXMuc3RlcCAtIE1hdGgucm91bmQocGFyYW1zLnN0ZXApKSA8IDFlLTUgPyAwIDogMTtcbiAgICAgICAgZm9yIChsZXQgc2NvcmUgPSBwYXJhbXMubWluOyBzY29yZSA8IChwYXJhbXMubWF4ICsgMWUtNSk7IHNjb3JlICs9IHBhcmFtcy5zdGVwKSB7XG4gICAgICAgICAgICBjb25zdCBzdHIgPSBzY29yZS50b0ZpeGVkKGZyYWN0aW9uX3NpemUpO1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goW3N0ciwgc3RyXSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFVua25vd24gc2NhbGUgdHlwZTogJHt0eXBlfWApO1xuICAgIH1cbiAgICBpZiAob3B0aW9uYWwpIHtcbiAgICAgICAgcmVzdWx0ID0gW1tcIlwiLCBcIuKAlFwiXV0uY29uY2F0KHJlc3VsdCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGdlblNjYWxlO1xuIiwiaW1wb3J0IGdldFNjb3JpbmdUeXBlIGZyb20gXCJjb21tb24vZ2V0U2NvcmluZ1R5cGVcIjtcblxuaW1wb3J0IENvbmZpcm1hdGlvbkJ1dHRvbiBmcm9tIFwiLi9Db25maXJtYXRpb25CdXR0b25cIjtcbmltcG9ydCBBY3JvU2NvcmUgZnJvbSBcIi4vQWNyb1Njb3JlXCI7XG5pbXBvcnQgRGFuY2VTY29yZSBmcm9tIFwiLi9EYW5jZVNjb3JlXCI7XG5pbXBvcnQgRm9ybWF0aW9uU2NvcmUgZnJvbSBcIi4vRm9ybWF0aW9uU2NvcmVcIjtcbmltcG9ydCBGb3JtYXRpb25BY3JvU2NvcmUgZnJvbSBcIi4vRm9ybWF0aW9uQWNyb1Njb3JlXCI7XG5pbXBvcnQgU2ltcGxpZmllZFNjb3JlIGZyb20gXCIuL1NpbXBsaWZpZWRTY29yZVwiO1xuaW1wb3J0IFNvbG9TY29yZSBmcm9tIFwiLi9Tb2xvU2NvcmVcIjtcbmltcG9ydCBIZWFkSnVkZ2VTY29yZSBmcm9tIFwiLi9IZWFkSnVkZ2VTY29yZVwiO1xuaW1wb3J0IFRlY2hKdWRnZVNjb3JlIGZyb20gXCIuL1RlY2hKdWRnZVNjb3JlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVkaXRvciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRpc2NpcGxpbmVKdWRnZTogUFQub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgICAgICAgICByZWFkT25seTogUFQuYm9vbC5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgc2NvcmU6IFBULm9iamVjdC5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgdG91cjogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgIHNjb3Jpbmdfc3lzdGVtX25hbWU6IFBULnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIG9uQ29uZmlybWF0aW9uVG9nZ2xlOiBQVC5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBvbkRpc2NhcmQ6IFBULmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIG9uU3VibWl0OiBQVC5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJlbmRlckJvZHkoc2NvcmluZ190eXBlKSB7XG4gICAgICAgIGNvbnN0IHNjb3JlX3Byb3BzID0ge1xuICAgICAgICAgICAgc2NvcmU6ICAgICB0aGlzLnByb3BzLnNjb3JlLFxuICAgICAgICAgICAgcmVhZE9ubHk6ICB0aGlzLnByb3BzLnJlYWRPbmx5LFxuICAgICAgICAgICAgb25TdWJtaXQ6ICB0aGlzLnByb3BzLm9uU3VibWl0LFxuICAgICAgICAgICAgb25EaXNjYXJkOiB0aGlzLnByb3BzLm9uRGlzY2FyZCxcbiAgICAgICAgfTtcbiAgICAgICAgc3dpdGNoIChzY29yaW5nX3R5cGUpIHtcbiAgICAgICAgY2FzZSBcImFjcm9cIjpcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPEFjcm9TY29yZSB7IC4uLnNjb3JlX3Byb3BzIH0gLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgXCJkYW5jZVwiOlxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8RGFuY2VTY29yZSB7IC4uLnNjb3JlX3Byb3BzIH0gLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgXCJmb3JtYXRpb25cIjpcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPEZvcm1hdGlvblNjb3JlIHsgLi4uc2NvcmVfcHJvcHMgfSAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBcImZvcm1hdGlvbl9hY3JvXCI6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxGb3JtYXRpb25BY3JvU2NvcmUgeyAuLi5zY29yZV9wcm9wcyB9IC8+XG4gICAgICAgICAgICApO1xuICAgICAgICBjYXNlIFwic2ltcGxpZmllZFwiOlxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8U2ltcGxpZmllZFNjb3JlIHsgLi4uc2NvcmVfcHJvcHMgfSAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBcInNvbG9cIjpcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPFNvbG9TY29yZSB7IC4uLnNjb3JlX3Byb3BzIH0gLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgXCJoZWFkXCI6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxIZWFkSnVkZ2VTY29yZSB7IC4uLnNjb3JlX3Byb3BzIH0gLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgXCJ0ZWNoXCI6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxUZWNoSnVkZ2VTY29yZSB7IC4uLnNjb3JlX3Byb3BzIH0gLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBVbmtub3duIHNjb3JpbmcgdHlwZTogJHtzY29yaW5nX3R5cGV9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVuZGVyQ29uZmlybWF0aW9uQnV0dG9uKHNjb3JpbmdfdHlwZSkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5yZWFkT25seSB8fCBzY29yaW5nX3R5cGUgPT09IFwiaGVhZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPENvbmZpcm1hdGlvbkJ1dHRvblxuICAgICAgICAgICAgICAgIGNvbmZpcm1lZD17IHRoaXMucHJvcHMuc2NvcmUuY29uZmlybWVkIH1cbiAgICAgICAgICAgICAgICBvbkNvbmZpcm1hdGlvblRvZ2dsZT17IHRoaXMucHJvcHMub25Db25maXJtYXRpb25Ub2dnbGUgfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHNjb3JpbmdfdHlwZSA9IGdldFNjb3JpbmdUeXBlKHRoaXMucHJvcHMuZGlzY2lwbGluZUp1ZGdlLCB0aGlzLnByb3BzLnRvdXIuc2NvcmluZ19zeXN0ZW1fbmFtZSk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkbWluU2NvcmVJbnB1dFwiPlxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJCb2R5KHNjb3JpbmdfdHlwZSkgfVxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJDb25maXJtYXRpb25CdXR0b24oc2NvcmluZ190eXBlKSB9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbkVkaXRvci5kaXNwbGF5TmFtZSA9IFwicnVsZXNfc2V0c19yb3NmYXJyX0FkbWluU2NvcmVJbnB1dF9FZGl0b3JcIjtcbiIsImltcG9ydCBFZGl0b3IgZnJvbSBcIi4vRWRpdG9yXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBZG1pblNjb3JlSW5wdXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xyXG4gICAgICAgIGNvbnN0IFBUID0gUmVhY3QuUHJvcFR5cGVzO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGRpc2NpcGxpbmVKdWRnZTogUFQuc2hhcGUoe1xyXG4gICAgICAgICAgICAgICAgcm9sZTogUFQuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIGVkaXRpbmc6IFBULmJvb2wuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgcmVhZE9ubHk6IFBULmJvb2wuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgc2NvcmU6IFBULnNoYXBlKHtcclxuICAgICAgICAgICAgICAgIGRhdGE6IFBULnNoYXBlKHtcclxuICAgICAgICAgICAgICAgICAgICByYXdfZGF0YTogUFQub2JqZWN0LmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWxfc2NvcmU6IFBULm9uZU9mVHlwZShbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFBULm51bWJlci5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgICAgICAgICBdKS5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgdG91cjogUFQub2JqZWN0LmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIG9uQ29uZmlybWF0aW9uVG9nZ2xlOiBQVC5mdW5jLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIG9uRGlzY2FyZDogUFQuZnVuYy5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICBvblN1Ym1pdDogUFQuZnVuYy5pc1JlcXVpcmVkLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLmVkaXRpbmcpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuZGlzY2lwbGluZUp1ZGdlLnJvbGUgPT09IFwiaGVhZF9qdWRnZVwiKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5wcm9wcy5zY29yZS5kYXRhLnJhd19kYXRhLnBlbmFsdHkgPT09IG51bGxcclxuICAgICAgICAgICAgICAgICAgICA/IFwi4oCUXCJcclxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMucHJvcHMuc2NvcmUuZGF0YS50b3RhbF9zY29yZTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLnNjb3JlLmRhdGEucmF3X2RhdGEubmV4dHRvdXIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCIvTlRcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcmVzdWx0IH1cclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmRpc2NpcGxpbmVKdWRnZS5yb2xlID09PSBcInRlY2hfanVkZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnByb3BzLnNjb3JlLmRhdGEudG90YWxfc2NvcmUgfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxzcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5zY29yZS5kYXRhLnRvdGFsX3Njb3JlLnRvRml4ZWQoMikgfVxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8RWRpdG9yXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzY2lwbGluZUp1ZGdlPXsgdGhpcy5wcm9wcy5kaXNjaXBsaW5lSnVkZ2UgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5PXsgdGhpcy5wcm9wcy5yZWFkT25seSB9XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcmU9eyB0aGlzLnByb3BzLnNjb3JlIH1cclxuICAgICAgICAgICAgICAgICAgICB0b3VyPXsgdGhpcy5wcm9wcy50b3VyIH1cclxuICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm1hdGlvblRvZ2dsZT17IHRoaXMucHJvcHMub25Db25maXJtYXRpb25Ub2dnbGUgfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uRGlzY2FyZD17IHRoaXMucHJvcHMub25EaXNjYXJkIH1cclxuICAgICAgICAgICAgICAgICAgICBvblN1Ym1pdD17IHRoaXMucHJvcHMub25TdWJtaXQgfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbkFkbWluU2NvcmVJbnB1dC5kaXNwbGF5TmFtZSA9IFwicnVsZXNfc2V0c19yb3NmYXJyX0FkbWluU2NvcmVJbnB1dFwiO1xyXG4iLCJpbXBvcnQgXyBmcm9tIFwibDEwblwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaXNjaXBsaW5lUmVzdWx0c1RhYmxlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIGdldCBwcm9wVHlwZXMoKSB7XG4gICAgICAgIGNvbnN0IFBUID0gUmVhY3QuUHJvcFR5cGVzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGFibGU6IFBULmFycmF5T2YoXG4gICAgICAgICAgICAgICAgUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICBwbGFjZTogUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICBydW46IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50OiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBQVC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2FjaGVzOiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcG9ydHNtZW46IFBULmFycmF5T2YoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RfbmFtZTogUFQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdF9uYW1lOiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHllYXJfb2ZfYmlydGg6IFBULm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic3RpdHV0ZTogUFQuYm9vbC5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2x1YjogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXR5OiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogUFQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgIHRvdXI6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFBULnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWRcbiAgICAgICAgICAgICkuaXNSZXF1aXJlZCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgdHJhbnNmb3JtRG9jeChkb2N4KSB7XG4gICAgICAgIGRvY3hcbiAgICAgICAgICAgIC5hZGRTdHlsZShcIi50b3VyLW5hbWVcIiwgXCJiYWNrZ3JvdW5kXCIsIFwiI2RkZFwiKVxuICAgICAgICAgICAgLmFkZFN0eWxlKFwiLmJvcmRlcmVkLXRhYmxlIC5zcG9ydHNtZW4gdGQsIC5ib3JkZXJlZC10YWJsZSAuc3BvcnRzbWVuIHRoXCIsIFwiYm9yZGVyXCIsIFwibm9uZVwiKVxuICAgICAgICAgICAgLmFkZFN0eWxlKFwiLmJvcmRlcmVkLXRhYmxlIC5zcG9ydHNtZW4gdGQsIC5ib3JkZXJlZC10YWJsZSAuc3BvcnRzbWVuIHRoXCIsIFwicGFkZGluZ1wiLCBcIjBcIilcbiAgICAgICAgICAgIC5hZGRTdHlsZShcIi5zcG9ydHNtZW5cIiwgXCJ3aWR0aFwiLCBcIjEwMCVcIik7XG4gICAgfVxuXG4gICAgcmVuZGVyUm93SGVhZGVyKHByZXZfcm93LCBuZXh0X3Jvdykge1xuICAgICAgICBjb25zdCBuZWVkX3JlbmRlciA9XG4gICAgICAgICAgICB0eXBlb2YgcHJldl9yb3cgPT09IFwidW5kZWZpbmVkXCIgfHxcbiAgICAgICAgICAgIHByZXZfcm93LnRvdXIuaWQgIT09IG5leHRfcm93LnRvdXIuaWQ7XG4gICAgICAgIGlmICghbmVlZF9yZW5kZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8dHIga2V5PXsgYEgke25leHRfcm93LnJ1bi5pZH1gIH0+XG4gICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInRvdXItbmFtZVwiIGNvbFNwYW49XCI2XCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5leHRfcm93LnRvdXIubmFtZSB9XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgKTtcbiAgICB9XG4gICAgcmVuZGVyUm93KHJvdykge1xuICAgICAgICBsZXQgcCA9IHJvdy5ydW4ucGFydGljaXBhbnQ7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8dHIga2V5PXsgYFIke3Jvdy5ydW4uaWR9YCB9PlxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ3LTggcGxhY2VcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcm93LnJ1bi5kaXNxdWFsaWZpZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IF8oXCJyZXN1bHRzLmxhYmVscy5kcVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKHJvdy5wbGFjZSA9PT0gbnVsbCA/IFwiXCIgOiByb3cucGxhY2UpIH1cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInctOCBudW1iZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcC5udW1iZXIgfVxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidy0zNlwiIGNvbFNwYW49XCIyXCI+XG4gICAgICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJzcG9ydHNtZW5cIj48dGJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICB7IHAuZm9ybWF0aW9uX25hbWUgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY29sU3Bhbj1cIjJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbGVmdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgcC5mb3JtYXRpb25fbmFtZSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcC5zcG9ydHNtZW4ubWFwKChzLCBpZHgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGtleT17IGlkeCB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidy03NVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBgJHtzLmxhc3RfbmFtZX0gJHtzLmZpcnN0X25hbWV9YCB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzLnN1YnN0aXR1dGUgPyA8aT4gKHsgXyhcInJlc3VsdHMubGFiZWxzLnN1YlwiKSB9Lik8L2k+IDogbnVsbCB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ3LTI1XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgcy55ZWFyX29mX2JpcnRoIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSB9XG4gICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+PC90YWJsZT5cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ3LTI0IGNsdWJcIj5cbiAgICAgICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7IHAuY2x1Yi5uYW1lIH1cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInctMjQgY29hY2hlc1wiPlxuICAgICAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcC5jb2FjaGVzLnNwbGl0KFwiLFwiKS5tYXAoYyA9PiBbYy50cmltKCksIDxiciBrZXk9XCJYXCIgLz5dKSB9XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgKTtcbiAgICB9XG4gICAgcmVuZGVyUm93cygpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBjb25zdCB0YWJsZSA9IHRoaXMucHJvcHMudGFibGU7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFibGUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGhlYWRlciA9IHRoaXMucmVuZGVyUm93SGVhZGVyKHRhYmxlW2kgLSAxXSwgdGFibGVbaV0pO1xuICAgICAgICAgICAgaWYgKGhlYWRlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGhlYWRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLnJlbmRlclJvdyh0YWJsZVtpXSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiRGlzY2lwbGluZVJlc3VsdHNUYWJsZVwiPlxuICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJib3JkZXJlZC10YWJsZVwiPlxuICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInctOFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXyhcInJlc3VsdHMubGFiZWxzLnBsYWNlXCIpIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInctOFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXyhcInJlc3VsdHMubGFiZWxzLm51bWJlclwiKSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJ3LTI3XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBfKFwicmVzdWx0cy5sYWJlbHMuc3BvcnRzbWVuXCIpIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInctOVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXyhcInJlc3VsdHMubGFiZWxzLnNwb3J0c21lbl95ZWFyX29mX2JpcnRoXCIpIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInctMjRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IF8oXCJyZXN1bHRzLmxhYmVscy5wYXJ0aWNpcGFudF9jbHViXCIpIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInctMjRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IF8oXCJyZXN1bHRzLmxhYmVscy5wYXJ0aWNpcGFudF9jb2FjaGVzXCIpIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyUm93cygpIH1cbiAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5EaXNjaXBsaW5lUmVzdWx0c1RhYmxlLmRpc3BsYXlOYW1lID0gXCJydWxlc19zZXRzX3Jvc2ZhcnJfRGlzY2lwbGluZVJlc3VsdHNUYWJsZVwiO1xuIiwiZXhwb3J0IGxldCBBcGkgPSBudWxsO1xuZXhwb3J0IGxldCBtZXNzYWdlX2Rpc3BhdGNoZXIgPSBudWxsO1xuZXhwb3J0IGxldCBzdG9yYWdlID0gbnVsbDtcbmV4cG9ydCBsZXQgVG91clJlc3VsdHNMb2FkZXIgPSBudWxsO1xuZXhwb3J0IGxldCBEaXNjaXBsaW5lUmVzdWx0c0xvYWRlciA9IG51bGw7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXR1cChkYXRhKSB7XG4gICAgQXBpICAgICAgICAgICAgICAgICAgICAgID0gZGF0YS5BcGk7XG4gICAgbWVzc2FnZV9kaXNwYXRjaGVyICAgICAgID0gZGF0YS5tZXNzYWdlX2Rpc3BhdGNoZXI7XG4gICAgc3RvcmFnZSAgICAgICAgICAgICAgICAgID0gZGF0YS5zdG9yYWdlO1xuICAgIFRvdXJSZXN1bHRzTG9hZGVyICAgICAgICA9IGRhdGEuVG91clJlc3VsdHNMb2FkZXI7XG4gICAgRGlzY2lwbGluZVJlc3VsdHNMb2FkZXIgID0gZGF0YS5EaXNjaXBsaW5lUmVzdWx0c0xvYWRlcjtcbn1cbiIsImltcG9ydCBfIGZyb20gXCJsMTBuXCI7XHJcblxyXG5pbXBvcnQgR2VuZXJhbFNjYWxlIGZyb20gXCJKdWRnZVRhYmxldC9HZW5lcmFsU2NhbGVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVsZW1lbnQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xyXG4gICAgICAgIGNvbnN0IFBUID0gUmVhY3QuUHJvcFR5cGVzO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGFjcm9JZHg6IFBULm51bWJlci5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICByZWFkT25seTogUFQuYm9vbC5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICByZWR1Y3Rpb246IFBULm51bWJlcixcclxuICAgICAgICAgICAgb25BY3JvUmVkdWN0aW9uVXBkYXRlOiBQVC5mdW5jLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVDaGFuZ2UgPSAodmFsdWUpID0+IHtcclxuICAgICAgICB0aGlzLnByb3BzLm9uQWNyb1JlZHVjdGlvblVwZGF0ZSh0aGlzLnByb3BzLmFjcm9JZHgsIHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPEdlbmVyYWxTY2FsZVxyXG4gICAgICAgICAgICAgICAgaGVhZGVyPXsgXyhcInRhYmxldC5hY3JvX2p1ZGdlLmFjcm9fblwiLCB0aGlzLnByb3BzLmFjcm9JZHgpIH1cclxuICAgICAgICAgICAgICAgIHJlYWRPbmx5PXsgdGhpcy5wcm9wcy5yZWFkT25seSB9XHJcbiAgICAgICAgICAgICAgICBzY2FsZT1cInJlZHVjdGlvblwiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17IHRoaXMucHJvcHMucmVkdWN0aW9uIH1cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsgdGhpcy5oYW5kbGVDaGFuZ2UgfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IEVsZW1lbnQgZnJvbSBcIi4vRWxlbWVudFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWxlbWVudHMgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xyXG4gICAgICAgIGNvbnN0IFBUID0gUmVhY3QuUHJvcFR5cGVzO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlYWRPbmx5OiBQVC5ib29sLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIHJlZHVjdGlvbnM6IFBULmFycmF5LmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIG9uQWNyb1JlZHVjdGlvblVwZGF0ZTogUFQuZnVuYy5pc1JlcXVpcmVkLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMucmVkdWN0aW9ucy5tYXAoKHJlZHVjdGlvbiwgYWNyb19pZHgpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgPEVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWNyb0lkeD17IGFjcm9faWR4IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXsgYWNyb19pZHggfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seT17IHRoaXMucHJvcHMucmVhZE9ubHkgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWR1Y3Rpb249eyByZWR1Y3Rpb24gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkFjcm9SZWR1Y3Rpb25VcGRhdGU9eyB0aGlzLnByb3BzLm9uQWNyb1JlZHVjdGlvblVwZGF0ZSB9XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICkgfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBfIGZyb20gXCJsMTBuXCI7XHJcblxyXG5pbXBvcnQgSW50ZWdlcklucHV0IGZyb20gXCJ0YWJsZXRfdWkvSW50ZWdlcklucHV0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNaXN0YWtlcyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xyXG4gICAgc3RhdGljIGdldCBwcm9wVHlwZXMoKSB7XHJcbiAgICAgICAgY29uc3QgUFQgPSBSZWFjdC5Qcm9wVHlwZXM7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbWlzdGFrZXM6IFBULm51bWJlci5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICByZWFkT25seTogUFQuYm9vbC5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICBvblNjb3JlVXBkYXRlOiBQVC5mdW5jLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVDaGFuZ2UgPSAodmFsdWUpID0+IHtcclxuICAgICAgICB0aGlzLnByb3BzLm9uU2NvcmVVcGRhdGUoXCJtaXN0YWtlc1wiLCB2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWlzdGFrZXNcIj5cclxuICAgICAgICAgICAgICAgIDxoMz57IF8oXCJ0YWJsZXQuYWNyb19qdWRnZS5mYWxsX2Rvd25cIikgfTwvaDM+XHJcbiAgICAgICAgICAgICAgICA8SW50ZWdlcklucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk9eyB0aGlzLnByb3BzLnJlYWRPbmx5IH1cclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17IHRoaXMucHJvcHMubWlzdGFrZXMgfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsgdGhpcy5oYW5kbGVDaGFuZ2UgfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgRWxlbWVudHMgZnJvbSBcIi4vRWxlbWVudHNcIjtcclxuaW1wb3J0IE1pc3Rha2VzIGZyb20gXCIuL01pc3Rha2VzXCI7XHJcbmltcG9ydCBUb3RhbFNjb3JlIGZyb20gXCJKdWRnZVRhYmxldC9Ub3RhbFNjb3JlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY29yaW5nTGF5b3V0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcclxuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZWFkT25seTogUFQuYm9vbC5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICBzY29yZTogUFQub2JqZWN0LmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIHNjb3JlRGF0YTogUFQuc2hhcGUoe1xyXG4gICAgICAgICAgICAgICAgcmVkdWN0aW9uczogUFQuYW55LmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgICAgICBtaXN0YWtlczogUFQuYW55LmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIG9uU2NvcmVVcGRhdGU6IFBULmZ1bmMuaXNSZXF1aXJlZCxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUFjcm9SZWR1Y3Rpb25VcGRhdGUgPSAoYWNyb19pZHgsIHZhbHVlKSA9PiB7XHJcbiAgICAgICAgbGV0IHJlZHVjdGlvbnMgPSB0aGlzLnByb3BzLnNjb3JlRGF0YS5yZWR1Y3Rpb25zLm1hcCgoKSA9PiBudWxsKTtcclxuICAgICAgICByZWR1Y3Rpb25zW2Fjcm9faWR4XSA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMucHJvcHMub25TY29yZVVwZGF0ZShcInJlZHVjdGlvbnNcIiwgcmVkdWN0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8RWxlbWVudHNcclxuICAgICAgICAgICAgICAgICAgICByZWFkT25seT17IHRoaXMucHJvcHMucmVhZE9ubHkgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlZHVjdGlvbnM9eyB0aGlzLnByb3BzLnNjb3JlRGF0YS5yZWR1Y3Rpb25zIH1cclxuICAgICAgICAgICAgICAgICAgICBvbkFjcm9SZWR1Y3Rpb25VcGRhdGU9eyB0aGlzLmhhbmRsZUFjcm9SZWR1Y3Rpb25VcGRhdGUgfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDxNaXN0YWtlc1xyXG4gICAgICAgICAgICAgICAgICAgIG1pc3Rha2VzPXsgdGhpcy5wcm9wcy5zY29yZURhdGEubWlzdGFrZXMgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5PXsgdGhpcy5wcm9wcy5yZWFkT25seSB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25TY29yZVVwZGF0ZT17IHRoaXMucHJvcHMub25TY29yZVVwZGF0ZSB9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPFRvdGFsU2NvcmVcclxuICAgICAgICAgICAgICAgICAgICBzY29yZT17IHRoaXMucHJvcHMuc2NvcmUgfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgR2VuZXJhbExheW91dCBmcm9tIFwiSnVkZ2VUYWJsZXQvR2VuZXJhbExheW91dFwiO1xyXG5pbXBvcnQgU2NvcmluZ0xheW91dCBmcm9tIFwiLi9TY29yaW5nTGF5b3V0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBY3JvYmF0aWNzTGF5b3V0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPEdlbmVyYWxMYXlvdXRcclxuICAgICAgICAgICAgICAgIGxheW91dENsYXNzPXsgU2NvcmluZ0xheW91dCB9XHJcbiAgICAgICAgICAgICAgICB7IC4uLnRoaXMucHJvcHMgfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IF8gZnJvbSBcImwxMG5cIjtcclxuaW1wb3J0IG1ha2VDbGFzc05hbWUgZnJvbSBcImNvbW1vbi9tYWtlQ2xhc3NOYW1lXCI7XHJcblxyXG5pbXBvcnQgU2xpZGVyIGZyb20gXCJ0YWJsZXRfdWkvU2xpZGVyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb25maXJtYXRpb25CdXR0b24gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xyXG4gICAgICAgIGNvbnN0IFBUID0gUmVhY3QuUHJvcFR5cGVzO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGNhbkNvbmZpcm06IFBULmJvb2wuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgY29uZmlybWVkOiBQVC5ib29sLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIG9uQ29uZmlybTogUFQuZnVuYy5pc1JlcXVpcmVkLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldCBkZWZhdWx0UHJvcHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgY2FuQ29uZmlybTogdHJ1ZSxcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q2xhc3NOYW1lKCkge1xyXG4gICAgICAgIHJldHVybiBtYWtlQ2xhc3NOYW1lKHtcclxuICAgICAgICAgICAgXCJjb25maXJtXCI6IHRydWUsXHJcbiAgICAgICAgICAgIFwiaGlkZGVuXCI6ICF0aGlzLnByb3BzLmNhbkNvbmZpcm0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9eyB0aGlzLmdldENsYXNzTmFtZSgpIH0+XHJcbiAgICAgICAgICAgICAgICA8U2xpZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgZG9uZT17IHRoaXMucHJvcHMuY29uZmlybWVkIH1cclxuICAgICAgICAgICAgICAgICAgICBkb25lVGV4dD17IF8oXCJ0YWJsZXQuZ2xvYmFsLmNvbmZpcm1lZFwiKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVUZXh0PXsgXyhcInRhYmxldC5nbG9iYWwuY29uZmlybV9zY29yZVwiKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25BY3RpdmF0ZT17IHRoaXMucHJvcHMub25Db25maXJtIH1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IF8gZnJvbSBcImwxMG5cIjtcclxuXHJcbmltcG9ydCBJbnRlZ2VySW5wdXQgZnJvbSBcInRhYmxldF91aS9JbnRlZ2VySW5wdXRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1pc3Rha2VzIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcclxuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZWFkT25seTogUFQuYm9vbC5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICBzY29yZURhdGE6IFBULnNoYXBlKHtcclxuICAgICAgICAgICAgICAgIHNtYWxsX21pc3Rha2VzOiBQVC5udW1iZXIuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgICAgIGJpZ19taXN0YWtlczogUFQubnVtYmVyLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIG9uU2NvcmVVcGRhdGU6IFBULmZ1bmMuaXNSZXF1aXJlZCxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVNtYWxsTWlzdGFrZXNDaGFuZ2UgPSAodmFsdWUpID0+IHtcclxuICAgICAgICB0aGlzLnByb3BzLm9uU2NvcmVVcGRhdGUoXCJzbWFsbF9taXN0YWtlc1wiLCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBoYW5kbGVCaWdNaXN0YWtlc0NoYW5nZSA9ICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgIHRoaXMucHJvcHMub25TY29yZVVwZGF0ZShcImJpZ19taXN0YWtlc1wiLCB2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJtaXN0YWtlcyBmdWxsLXdpZHRoXCI+PHRib2R5Pjx0cj5cclxuICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgICA8aDM+eyBfKFwidGFibGV0LmRhbmNlX2p1ZGdlLnNtYWxsX21pc3Rha2VzXCIpIH08L2gzPlxyXG4gICAgICAgICAgICAgICAgICAgIDxJbnRlZ2VySW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk9eyB0aGlzLnByb3BzLnJlYWRPbmx5IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9eyB0aGlzLnByb3BzLnNjb3JlRGF0YS5zbWFsbF9taXN0YWtlcyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsgdGhpcy5oYW5kbGVTbWFsbE1pc3Rha2VzQ2hhbmdlIH1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZD48dGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPGgzPnsgXyhcInRhYmxldC5kYW5jZV9qdWRnZS5iaWdfbWlzdGFrZXNcIikgfTwvaDM+XHJcbiAgICAgICAgICAgICAgICAgICAgPEludGVnZXJJbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seT17IHRoaXMucHJvcHMucmVhZE9ubHkgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17IHRoaXMucHJvcHMuc2NvcmVEYXRhLmJpZ19taXN0YWtlcyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsgdGhpcy5oYW5kbGVCaWdNaXN0YWtlc0NoYW5nZSB9XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgIDwvdHI+PC90Ym9keT48L3RhYmxlPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IF8gZnJvbSBcImwxMG5cIjtcclxuXHJcbmltcG9ydCBNaXN0YWtlcyBmcm9tIFwiLi9NaXN0YWtlc1wiO1xyXG5pbXBvcnQgR2VuZXJhbFNjYWxlIGZyb20gXCJKdWRnZVRhYmxldC9HZW5lcmFsU2NhbGVcIjtcclxuaW1wb3J0IFRvdGFsU2NvcmUgZnJvbSBcIkp1ZGdlVGFibGV0L1RvdGFsU2NvcmVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjb3JpbmdMYXlvdXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xyXG4gICAgICAgIGNvbnN0IFBUID0gUmVhY3QuUHJvcFR5cGVzO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlYWRPbmx5OiBQVC5ib29sLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIHNjb3JlOiBQVC5vYmplY3QuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgc2NvcmVEYXRhOiBQVC5vYmplY3QuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgb25TY29yZVVwZGF0ZTogUFQuZnVuYy5pc1JlcXVpcmVkLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyUGFydChjb2RlLCBzY2FsZSwgYWRkaXRpb25hbF9wcm9wcz17fSkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxHZW5lcmFsU2NhbGVcclxuICAgICAgICAgICAgICAgIGNvZGU9eyBjb2RlIH1cclxuICAgICAgICAgICAgICAgIGhlYWRlcj17IF8oYHRhYmxldC5kYW5jZV9qdWRnZS4ke2NvZGV9YCkgfVxyXG4gICAgICAgICAgICAgICAgcmVhZE9ubHk9eyB0aGlzLnByb3BzLnJlYWRPbmx5IH1cclxuICAgICAgICAgICAgICAgIHNjYWxlPXsgc2NhbGUgfVxyXG4gICAgICAgICAgICAgICAgdmFsdWU9eyB0aGlzLnByb3BzLnNjb3JlRGF0YVtjb2RlXSB9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMucHJvcHMub25TY29yZVVwZGF0ZSB9XHJcbiAgICAgICAgICAgICAgICB7IC4uLmFkZGl0aW9uYWxfcHJvcHMgfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJQYXJ0KFwiZndfd29tYW5cIiwgXCJyZWR1Y3Rpb25cIikgfVxyXG4gICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlclBhcnQoXCJmd19tYW5cIiwgXCJyZWR1Y3Rpb25cIikgfVxyXG4gICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlclBhcnQoXCJkYW5jZV9maWdzXCIsIFwicG9pbnQ1XCIsIHsgbWluOiAwLCBtYXg6IDEwLCBzdGVwOiAwLjUgfSkgfVxyXG4gICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlclBhcnQoXCJjb21wb3NpdGlvblwiLCBcInBvaW50NVwiLCB7IG1pbjogMCwgbWF4OiAxMCwgc3RlcDogMC41IH0pIH1cclxuICAgICAgICAgICAgICAgIDxNaXN0YWtlc1xyXG4gICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5PXsgdGhpcy5wcm9wcy5yZWFkT25seSB9XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcmVEYXRhPXsgdGhpcy5wcm9wcy5zY29yZURhdGEgfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uU2NvcmVVcGRhdGU9eyB0aGlzLnByb3BzLm9uU2NvcmVVcGRhdGUgfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDxUb3RhbFNjb3JlXHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcmU9eyB0aGlzLnByb3BzLnNjb3JlIH1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IEdlbmVyYWxMYXlvdXQgZnJvbSBcIkp1ZGdlVGFibGV0L0dlbmVyYWxMYXlvdXRcIjtcclxuaW1wb3J0IFNjb3JpbmdMYXlvdXQgZnJvbSBcIi4vU2NvcmluZ0xheW91dFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGFuY2luZ0xheW91dCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxHZW5lcmFsTGF5b3V0XHJcbiAgICAgICAgICAgICAgICBsYXlvdXRDbGFzcz17IFNjb3JpbmdMYXlvdXQgfVxyXG4gICAgICAgICAgICAgICAgeyAuLi50aGlzLnByb3BzIH1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBvblRvdWNoT3JDbGljayBmcm9tIFwidGFibGV0X3VpL29uVG91Y2hPckNsaWNrXCI7XG5cbmltcG9ydCBtYWtlQ2xhc3NOYW1lIGZyb20gXCJjb21tb24vbWFrZUNsYXNzTmFtZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdXR0b24gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcbiAgICAgICAgY29uc3QgUFQgPSBSZWFjdC5Qcm9wVHlwZXM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhY3RpdmU6IFBULmJvb2wuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIGxhYmVsOiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIG1rZXk6IFBULmFueS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgb25DbGljazogUFQuZnVuYy5pc1JlcXVpcmVkLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGhhbmRsZUNsaWNrID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnByb3BzLm9uQ2xpY2sodGhpcy5wcm9wcy5ta2V5KTtcbiAgICB9XG5cbiAgICBnZXRDbGFzc05hbWUoKSB7XG4gICAgICAgIHJldHVybiBtYWtlQ2xhc3NOYW1lKHtcbiAgICAgICAgICAgIFwiYnRuXCI6IHRydWUsXG4gICAgICAgICAgICBcImFjdGl2ZVwiOiB0aGlzLnByb3BzLmFjdGl2ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9eyB0aGlzLmdldENsYXNzTmFtZSgpIH1cbiAgICAgICAgICAgICAgICB7IC4uLm9uVG91Y2hPckNsaWNrKHRoaXMuaGFuZGxlQ2xpY2spIH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMubGFiZWwgfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIClcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb290ZXJJdGVtIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG4iLCJpbXBvcnQgQnV0dG9uIGZyb20gXCIuL0J1dHRvblwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb290ZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcbiAgICAgICAgY29uc3QgUFQgPSBSZWFjdC5Qcm9wVHlwZXM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjaGlsZHJlbjogUFQubm9kZS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgdmFsdWU6IFBULmFueS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgb25DaGFuZ2U6IFBULmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8Zm9vdGVyPlxuICAgICAgICAgICAgICAgIHsgUmVhY3QuQ2hpbGRyZW4ubWFwKHRoaXMucHJvcHMuY2hpbGRyZW4sIChidG4pID0+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZT17IHRoaXMucHJvcHMudmFsdWUgPT09IGJ0bi5wcm9wcy5ta2V5IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17IGJ0bi5wcm9wcy5ta2V5IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyB0aGlzLnByb3BzLm9uQ2hhbmdlIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHsgLi4uYnRuLnByb3BzIH1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9mb290ZXI+XG4gICAgICAgIClcbiAgICB9XG59XG5cbkZvb3Rlci5kaXNwbGF5TmFtZSA9IFwicnVsZXNfc2V0c19yb3NmYXJyX0p1ZGdlVGFibGV0X0Zvb3RlclwiO1xuIiwiaW1wb3J0IF8gZnJvbSBcImwxMG5cIjtcclxuXHJcbmltcG9ydCBJbnRlZ2VySW5wdXQgZnJvbSBcInRhYmxldF91aS9JbnRlZ2VySW5wdXRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1pc3Rha2VzIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcclxuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZWFkT25seTogUFQuYm9vbC5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICBzY29yZURhdGE6IFBULnNoYXBlKHtcclxuICAgICAgICAgICAgICAgIHNtYWxsX21pc3Rha2VzOiBQVC5udW1iZXIuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgICAgIGJpZ19taXN0YWtlczogUFQubnVtYmVyLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIG9uU2NvcmVVcGRhdGU6IFBULmZ1bmMuaXNSZXF1aXJlZCxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVNtYWxsTWlzdGFrZXNDaGFuZ2UgPSAodmFsdWUpID0+IHtcclxuICAgICAgICB0aGlzLnByb3BzLm9uU2NvcmVVcGRhdGUoXCJzbWFsbF9taXN0YWtlc1wiLCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBoYW5kbGVCaWdNaXN0YWtlc0NoYW5nZSA9ICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgIHRoaXMucHJvcHMub25TY29yZVVwZGF0ZShcImJpZ19taXN0YWtlc1wiLCB2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJtaXN0YWtlcyBmdWxsLXdpZHRoXCI+PHRib2R5Pjx0cj5cclxuICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgICA8aDM+eyBfKFwidGFibGV0LmRhbmNlX2p1ZGdlLmZvcm1fc21hbGxfbWlzdGFrZXNcIikgfTwvaDM+XHJcbiAgICAgICAgICAgICAgICAgICAgPEludGVnZXJJbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seT17IHRoaXMucHJvcHMucmVhZE9ubHkgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17IHRoaXMucHJvcHMuc2NvcmVEYXRhLnNtYWxsX21pc3Rha2VzIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLmhhbmRsZVNtYWxsTWlzdGFrZXNDaGFuZ2UgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPjx0ZD5cclxuICAgICAgICAgICAgICAgICAgICA8aDM+eyBfKFwidGFibGV0LmRhbmNlX2p1ZGdlLmZvcm1fYmlnX21pc3Rha2VzXCIpIH08L2gzPlxyXG4gICAgICAgICAgICAgICAgICAgIDxJbnRlZ2VySW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk9eyB0aGlzLnByb3BzLnJlYWRPbmx5IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9eyB0aGlzLnByb3BzLnNjb3JlRGF0YS5iaWdfbWlzdGFrZXMgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMuaGFuZGxlQmlnTWlzdGFrZXNDaGFuZ2UgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICA8L3RyPjwvdGJvZHk+PC90YWJsZT5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBfIGZyb20gXCJsMTBuXCI7XHJcblxyXG5pbXBvcnQgTWlzdGFrZXMgZnJvbSBcIi4vTWlzdGFrZXNcIjtcclxuaW1wb3J0IEdlbmVyYWxTY2FsZSBmcm9tIFwiSnVkZ2VUYWJsZXQvR2VuZXJhbFNjYWxlXCI7XHJcbmltcG9ydCBUb3RhbFNjb3JlIGZyb20gXCJKdWRnZVRhYmxldC9Ub3RhbFNjb3JlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY29yaW5nTGF5b3V0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcclxuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZWFkT25seTogUFQuYm9vbC5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICBzY29yZTogUFQub2JqZWN0LmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIHNjb3JlRGF0YTogUFQub2JqZWN0LmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIG9uU2NvcmVVcGRhdGU6IFBULmZ1bmMuaXNSZXF1aXJlZCxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclBhcnQoY29kZSwgc2NhbGUsIGFkZGl0aW9uYWxfcHJvcHM9e30pIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8R2VuZXJhbFNjYWxlXHJcbiAgICAgICAgICAgICAgICBjb2RlPXsgY29kZSB9XHJcbiAgICAgICAgICAgICAgICBoZWFkZXI9eyBfKGB0YWJsZXQuZGFuY2VfanVkZ2UuJHtjb2RlfWApIH1cclxuICAgICAgICAgICAgICAgIHJlYWRPbmx5PXsgdGhpcy5wcm9wcy5yZWFkT25seSB9XHJcbiAgICAgICAgICAgICAgICBzY2FsZT17IHNjYWxlIH1cclxuICAgICAgICAgICAgICAgIHZhbHVlPXsgdGhpcy5wcm9wcy5zY29yZURhdGFbY29kZV0gfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLnByb3BzLm9uU2NvcmVVcGRhdGUgfVxyXG4gICAgICAgICAgICAgICAgeyAuLi5hZGRpdGlvbmFsX3Byb3BzIH1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyUGFydChcImFjcm9iYXRpY3NcIiwgXCJwb2ludDVcIiwgeyBtaW46IDAsIG1heDogMTAgfSkgfVxyXG4gICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlclBhcnQoXCJkYW5jZV90ZWNoXCIsIFwicG9pbnQ1XCIsIHsgbWluOiAwLCBtYXg6IDEwIH0pIH1cclxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJQYXJ0KFwiZGFuY2VfZmlnc1wiLCBcInBvaW50NVwiLCB7IG1pbjogMCwgbWF4OiAxMCB9KSB9XHJcbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyUGFydChcImltcHJlc3Npb25cIiwgXCJwb2ludDVcIiwgeyBtaW46IDAsIG1heDogMTAgfSkgfVxyXG4gICAgICAgICAgICAgICAgPE1pc3Rha2VzXHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk9eyB0aGlzLnByb3BzLnJlYWRPbmx5IH1cclxuICAgICAgICAgICAgICAgICAgICBzY29yZURhdGE9eyB0aGlzLnByb3BzLnNjb3JlRGF0YSB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25TY29yZVVwZGF0ZT17IHRoaXMucHJvcHMub25TY29yZVVwZGF0ZSB9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPFRvdGFsU2NvcmVcclxuICAgICAgICAgICAgICAgICAgICByZWFkT25seT17IHRoaXMucHJvcHMucmVhZE9ubHkgfVxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3JlPXsgdGhpcy5wcm9wcy5zY29yZSB9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBfIGZyb20gXCJsMTBuXCI7XHJcblxyXG5pbXBvcnQgSW50ZWdlcklucHV0IGZyb20gXCJ0YWJsZXRfdWkvSW50ZWdlcklucHV0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNaXN0YWtlcyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xyXG4gICAgc3RhdGljIGdldCBwcm9wVHlwZXMoKSB7XHJcbiAgICAgICAgY29uc3QgUFQgPSBSZWFjdC5Qcm9wVHlwZXM7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVhZE9ubHk6IFBULmJvb2wuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgc2NvcmVEYXRhOiBQVC5zaGFwZSh7XHJcbiAgICAgICAgICAgICAgICBtaXN0YWtlczogUFQubnVtYmVyLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIG9uU2NvcmVVcGRhdGU6IFBULmZ1bmMuaXNSZXF1aXJlZCxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUNoYW5nZSA9ICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgIHRoaXMucHJvcHMub25TY29yZVVwZGF0ZShcIm1pc3Rha2VzXCIsIHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaXN0YWtlc1wiPlxyXG4gICAgICAgICAgICAgICAgPGgzPnsgXyhcInRhYmxldC5kYW5jZV9qdWRnZS5mb3JtX21pc3Rha2VzXCIpIH08L2gzPlxyXG4gICAgICAgICAgICAgICAgPEludGVnZXJJbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5PXsgdGhpcy5wcm9wcy5yZWFkT25seSB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9eyB0aGlzLnByb3BzLnNjb3JlRGF0YS5taXN0YWtlcyB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLmhhbmRsZUNoYW5nZSB9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBfIGZyb20gXCJsMTBuXCI7XHJcblxyXG5pbXBvcnQgTWlzdGFrZXMgZnJvbSBcIi4vTWlzdGFrZXNcIjtcclxuaW1wb3J0IEdlbmVyYWxTY2FsZSBmcm9tIFwiSnVkZ2VUYWJsZXQvR2VuZXJhbFNjYWxlXCI7XHJcbmltcG9ydCBUb3RhbFNjb3JlIGZyb20gXCJKdWRnZVRhYmxldC9Ub3RhbFNjb3JlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY29yaW5nTGF5b3V0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcclxuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZWFkT25seTogUFQuYm9vbC5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICBzY29yZTogUFQub2JqZWN0LmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIHNjb3JlRGF0YTogUFQub2JqZWN0LmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIG9uU2NvcmVVcGRhdGU6IFBULmZ1bmMuaXNSZXF1aXJlZCxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclBhcnQoY29kZSwgc2NhbGUsIGFkZGl0aW9uYWxfcHJvcHM9e30pIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8R2VuZXJhbFNjYWxlXHJcbiAgICAgICAgICAgICAgICBjb2RlPXsgY29kZSB9XHJcbiAgICAgICAgICAgICAgICBoZWFkZXI9eyBfKGB0YWJsZXQuZGFuY2VfanVkZ2UuJHtjb2RlfWApIH1cclxuICAgICAgICAgICAgICAgIHJlYWRPbmx5PXsgdGhpcy5wcm9wcy5yZWFkT25seSB9XHJcbiAgICAgICAgICAgICAgICBzY2FsZT17IHNjYWxlIH1cclxuICAgICAgICAgICAgICAgIHZhbHVlPXsgdGhpcy5wcm9wcy5zY29yZURhdGFbY29kZV0gfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLnByb3BzLm9uU2NvcmVVcGRhdGUgfVxyXG4gICAgICAgICAgICAgICAgeyAuLi5hZGRpdGlvbmFsX3Byb3BzIH1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyUGFydChcImRhbmNlX3RlY2hcIiwgXCJwb2ludDVcIiwgeyBtaW46IDAsIG1heDogMTAgfSkgfVxyXG4gICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlclBhcnQoXCJkYW5jZV9maWdzXCIsIFwicG9pbnQ1XCIsIHsgbWluOiAwLCBtYXg6IDEwIH0pIH1cclxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJQYXJ0KFwiaW1wcmVzc2lvblwiLCBcInBvaW50NVwiLCB7IG1pbjogMCwgbWF4OiAxMCB9KSB9XHJcbiAgICAgICAgICAgICAgICA8TWlzdGFrZXNcclxuICAgICAgICAgICAgICAgICAgICByZWFkT25seT17IHRoaXMucHJvcHMucmVhZE9ubHkgfVxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3JlRGF0YT17IHRoaXMucHJvcHMuc2NvcmVEYXRhIH1cclxuICAgICAgICAgICAgICAgICAgICBvblNjb3JlVXBkYXRlPXsgdGhpcy5wcm9wcy5vblNjb3JlVXBkYXRlIH1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8VG90YWxTY29yZVxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3JlPXsgdGhpcy5wcm9wcy5zY29yZSB9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBfIGZyb20gXCJsMTBuXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhcnRpY2lwYW50IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIGdldCBwcm9wVHlwZXMoKSB7XG4gICAgICAgIGNvbnN0IFBUID0gUmVhY3QuUHJvcFR5cGVzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGlzY2lwbGluZUp1ZGdlOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgaWQ6IFBULm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIGxheW91dENsYXNzOiBQVC5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBydW46IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFBULm9uZU9mKFtcIk9LXCIsIFwiTlBcIiwgXCJEUVwiXSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudDogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICBudW1iZXI6IFBULm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgc3BvcnRzbWVuOiBQVC5hcnJheS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgc2NvcmU6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICBpZDogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgY29uZmlybWVkOiBQVC5ib29sLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgZGF0YTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICByYXdfZGF0YTogUFQub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICBkaXNjaXBsaW5lX2p1ZGdlX2lkOiBQVC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBvblNjb3JlVXBkYXRlOiBQVC5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaGFuZGxlU2NvcmVVcGRhdGUgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5zY29yZS5jb25maXJtZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2NvcmVfZGF0YSA9IHt9O1xuICAgICAgICBzY29yZV9kYXRhW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5wcm9wcy5vblNjb3JlVXBkYXRlKHRoaXMucHJvcHMuc2NvcmUuaWQsIHNjb3JlX2RhdGEpO1xuICAgIH1cbiAgICBoYW5kbGVBY3JvUmVkdWN0aW9uVXBkYXRlID0gKGFjcm9faWR4LCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5zY29yZS5jb25maXJtZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVkdWN0aW9ucyA9IHRoaXMucHJvcHMuc2NvcmUuZGF0YS5yYXdfZGF0YS5yZWR1Y3Rpb25zLm1hcCgoKSA9PiBudWxsKTtcbiAgICAgICAgcmVkdWN0aW9uc1thY3JvX2lkeF0gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5vblNjb3JlVXBkYXRlKFwicmVkdWN0aW9uc1wiLCByZWR1Y3Rpb25zKTtcbiAgICB9XG5cbiAgICByZW5kZXJTY29yaW5nTGF5b3V0KCkge1xuICAgICAgICBjb25zdCBzY29yZV9kYXRhID0gdGhpcy5wcm9wcy5zY29yZS5kYXRhLnJhd19kYXRhO1xuICAgICAgICBjb25zdCBTY29yaW5nQ29tcG9uZW50ID0gdGhpcy5wcm9wcy5sYXlvdXRDbGFzcztcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc2NvcmUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFNjb3JpbmdDb21wb25lbnRcbiAgICAgICAgICAgICAgICByZWFkT25seT17IHRoaXMucHJvcHMuc2NvcmUuY29uZmlybWVkIH1cbiAgICAgICAgICAgICAgICBzY29yZT17IHRoaXMucHJvcHMuc2NvcmUgfVxuICAgICAgICAgICAgICAgIHNjb3JlRGF0YT17IHNjb3JlX2RhdGEgfVxuICAgICAgICAgICAgICAgIG9uU2NvcmVVcGRhdGU9eyB0aGlzLmhhbmRsZVNjb3JlVXBkYXRlIH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgfVxuICAgIHJlbmRlck5vdE9rU3RhdHVzTWVzc2FnZSgpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibm90LXBlcmZvcm1pbmdcIj5cbiAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMucnVuLnN0YXR1cyA9PT0gXCJOUFwiXG4gICAgICAgICAgICAgICAgICAgID8gXyhcInRhYmxldC5nbG9iYWwubm90X3BlcmZvcm1pbmdcIilcbiAgICAgICAgICAgICAgICAgICAgOiBfKFwidGFibGV0Lmdsb2JhbC5kaXNxdWFsaWZpZWRcIikgfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gXyhcImdsb2JhbC5waHJhc2VzLnBhcnRpY2lwYW50X25cIixcbiAgICAgICAgICAgIHRoaXMucHJvcHMucnVuLnBhcnRpY2lwYW50Lm51bWJlcixcbiAgICAgICAgICAgIHRoaXMucHJvcHMucnVuLnBhcnRpY2lwYW50Lm5hbWUsXG4gICAgICAgICAgICB0aGlzLnByb3BzLnJ1bi5wYXJ0aWNpcGFudC5zcG9ydHNtZW4ubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGF5b3V0LXBhcnRpY2lwYW50XCI+XG4gICAgICAgICAgICAgICAgPGgyPlxuICAgICAgICAgICAgICAgICAgICB7IGhlYWRlciB9XG4gICAgICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMucnVuLnN0YXR1cyA9PT0gXCJPS1wiXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5yZW5kZXJTY29yaW5nTGF5b3V0KClcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLnJlbmRlck5vdE9rU3RhdHVzTWVzc2FnZSgpIH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cbiIsImltcG9ydCBIZWFkZXIgZnJvbSBcIkp1ZGdlVGFibGV0L0hlYWRlclwiO1xuaW1wb3J0IEdyaWQgZnJvbSBcIkp1ZGdlVGFibGV0L0dyaWRcIjtcbmltcG9ydCBQYXJ0aWNpcGFudCBmcm9tIFwiLi9QYXJ0aWNpcGFudFwiO1xuXG5pbXBvcnQgQ29uZmlybWF0aW9uQnV0dG9uIGZyb20gXCJKdWRnZVRhYmxldC9Db25maXJtYXRpb25CdXR0b25cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2VuZXJhbExheW91dCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRpc2NpcGxpbmVKdWRnZTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgIGlkOiBQVC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICBqdWRnZTogUFQub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgbGF5b3V0Q2xhc3M6IFBULmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIHRvdXI6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICBpZDogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgcnVuczogUFQuYXJyYXlPZihcbiAgICAgICAgICAgICAgICAgICAgUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhdDogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFBULm9uZU9mKFtcIk9LXCIsIFwiTlBcIiwgXCJEUVwiXSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlczogUFQuYXJyYXlPZihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NpcGxpbmVfanVkZ2VfaWQ6IFBULm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICApLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgKS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIG9uSGVhdENvbmZpcm06IFBULmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIG9uU2NvcmVDb25maXJtOiBQVC5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBvblNjb3JlVXBkYXRlOiBQVC5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgaGVhdDogdGhpcy5nZXRGaXJzdE5vbkNvbmZpcm1lZEhlYXQoKSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZXR1cENhY2hlKCk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0X3Byb3BzKSB7XG4gICAgICAgIGlmIChuZXh0X3Byb3BzLnRvdXIuaWQgIT09IHRoaXMucHJvcHMudG91ci5pZCkge1xuICAgICAgICAgICAgY29uc3QgcHJldl9wcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICAgICAgICB0aGlzLnByb3BzID0gbmV4dF9wcm9wcztcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGhlYXQ6IHRoaXMuZ2V0Rmlyc3ROb25Db25maXJtZWRIZWF0KCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMucHJvcHMgPSBwcmV2X3Byb3BzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2FuQ29uZmlybSgpIHtcbiAgICAgICAgZm9yIChjb25zdCBzY29yZSBvZiB0aGlzLnNjb3Jlcy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgY29uc3Qgc2NvcmVfZGF0YSA9IHNjb3JlLmRhdGEucmF3X2RhdGE7XG4gICAgICAgICAgICBpZiAoc2NvcmUuY29uZmlybWVkKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhzY29yZV9kYXRhKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gc2NvcmVfZGF0YVtrZXldO1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuZmlsdGVyKGEgPT4gYSA9PT0gbnVsbCkubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBoYW5kbGVDb25maXJtID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnByb3BzLm9uSGVhdENvbmZpcm0odGhpcy5zdGF0ZS5oZWF0KTtcbiAgICB9XG5cbiAgICBnZXRGaXJzdE5vbkNvbmZpcm1lZEhlYXQoKSB7XG4gICAgICAgIGZvciAoY29uc3QgcnVuIG9mIHRoaXMucHJvcHMudG91ci5ydW5zKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNjb3JlIG9mIHJ1bi5zY29yZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2NvcmUuZGlzY2lwbGluZV9qdWRnZV9pZCA9PT0gdGhpcy5wcm9wcy5kaXNjaXBsaW5lSnVkZ2UuaWQgJiYgIXNjb3JlLmNvbmZpcm1lZCAmJiBydW4uc3RhdHVzID09PSBcIk9LXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJ1bi5oZWF0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5oZWF0c19jb3VudCB8fCBNYXRoLm1heCgxLCAuLi50aGlzLnByb3BzLnRvdXIucnVucy5tYXAocnVuID0+IHJ1bi5oZWF0KSk7XG4gICAgfVxuICAgIGdldFNjb3JlcygpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBNYXAoKTtcbiAgICAgICAgZm9yIChjb25zdCBydW4gb2YgdGhpcy5ydW5zKSB7XG4gICAgICAgICAgICByZXN1bHQuc2V0KHJ1bi5pZCwgbnVsbCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNjb3JlIG9mIHJ1bi5zY29yZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2NvcmUuZGlzY2lwbGluZV9qdWRnZV9pZCA9PT0gdGhpcy5wcm9wcy5kaXNjaXBsaW5lSnVkZ2UuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldChydW4uaWQsIHNjb3JlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHNldHVwQ2FjaGUoKSB7XG4gICAgICAgIHRoaXMuaGVhdHNfY291bnQgPSBNYXRoLm1heCgxLCAuLi50aGlzLnByb3BzLnRvdXIucnVucy5tYXAocnVuID0+IHJ1bi5oZWF0KSk7XG4gICAgICAgIHRoaXMucnVucyA9IHRoaXMucHJvcHMudG91ci5ydW5zLmZpbHRlcihydW4gPT4gcnVuLmhlYXQgPT09IHRoaXMuc3RhdGUuaGVhdCk7XG4gICAgICAgIHRoaXMuZmlyc3Rfbm9uX2NvbmZpcm1lZF9oZWF0ID0gdGhpcy5nZXRGaXJzdE5vbkNvbmZpcm1lZEhlYXQoKTtcbiAgICAgICAgdGhpcy5zY29yZXMgPSB0aGlzLmdldFNjb3JlcygpO1xuICAgIH1cblxuXG4gICAgc2V0SGVhdCA9IChoZWF0KSA9PiB0aGlzLnNldFN0YXRlKHsgaGVhdCB9KTtcbiAgICB1cGRhdGVIZWF0ID0gKGRlbHRhKSA9PiB0aGlzLnNldEhlYXQodGhpcy5zdGF0ZS5oZWF0ICsgZGVsdGEpO1xuXG4gICAgaGFuZGxlUHJldkhlYXRDbGljayA9ICgpID0+IHRoaXMudXBkYXRlSGVhdCgtMSk7XG4gICAgaGFuZGxlTmV4dEhlYXRDbGljayA9ICgpID0+IHRoaXMudXBkYXRlSGVhdCgxKTtcblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5zZXR1cENhY2hlKCk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvc2ZhcnItSnVkZ2VUYWJsZXQgR2VuZXJhbExheW91dFwiPlxuICAgICAgICAgICAgICAgIDxIZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgaGVhdD17IHRoaXMuc3RhdGUuaGVhdCB9XG4gICAgICAgICAgICAgICAgICAgIGhlYXRzQ291bnQ9eyB0aGlzLmhlYXRzX2NvdW50IH1cbiAgICAgICAgICAgICAgICAgICAganVkZ2U9eyB0aGlzLnByb3BzLmRpc2NpcGxpbmVKdWRnZS5qdWRnZSB9XG4gICAgICAgICAgICAgICAgICAgIG1heEhlYXQ9eyB0aGlzLmZpcnN0X25vbl9jb25maXJtZWRfaGVhdCB9XG4gICAgICAgICAgICAgICAgICAgIHRvdXI9eyB0aGlzLnByb3BzLnRvdXIgfVxuICAgICAgICAgICAgICAgICAgICBvbk5leHRIZWF0Q2xpY2s9eyB0aGlzLmhhbmRsZU5leHRIZWF0Q2xpY2sgfVxuICAgICAgICAgICAgICAgICAgICBvblByZXZIZWF0Q2xpY2s9eyB0aGlzLmhhbmRsZVByZXZIZWF0Q2xpY2sgfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgIDxHcmlkPlxuICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnJ1bnMubWFwKHJ1biA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQYXJ0aWNpcGFudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjaXBsaW5lSnVkZ2U9eyB0aGlzLnByb3BzLmRpc2NpcGxpbmVKdWRnZSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17IHJ1bi5pZCB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheW91dENsYXNzPXsgdGhpcy5wcm9wcy5sYXlvdXRDbGFzcyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bj17IHJ1biB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlPXsgdGhpcy5zY29yZXMuZ2V0KHJ1bi5pZCkgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblNjb3JlQ29uZmlybT17IHRoaXMucHJvcHMub25TY29yZUNvbmZpcm0gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblNjb3JlVXBkYXRlPXsgdGhpcy5wcm9wcy5vblNjb3JlVXBkYXRlIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxuICAgICAgICAgICAgICAgICAgICA8Q29uZmlybWF0aW9uQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5Db25maXJtPXsgdGhpcy5jYW5Db25maXJtKCkgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybWVkPXsgQXJyYXkuZnJvbSh0aGlzLnNjb3Jlcy52YWx1ZXMoKSkuZXZlcnkocyA9PiBzLmNvbmZpcm1lZCkgfVxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXsgdGhpcy5zdGF0ZS5oZWF0IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17IHRoaXMuaGFuZGxlQ29uZmlybSB9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgTnVtYmVyU2VsZWN0b3JJbnB1dCBmcm9tIFwidGFibGV0X3VpL051bWJlclNlbGVjdG9ySW5wdXRcIjtcclxuaW1wb3J0IFNlbGVjdG9ySW5wdXQgZnJvbSBcInRhYmxldF91aS9TZWxlY3RvcklucHV0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHZW5lcmFsU2NhbGUgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xyXG4gICAgICAgIGNvbnN0IFBUID0gUmVhY3QuUHJvcFR5cGVzO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGNvZGU6IFBULmFueSxcclxuICAgICAgICAgICAgaGVhZGVyOiBQVC5zdHJpbmcsXHJcbiAgICAgICAgICAgIHNjYWxlOiBQVC5vbmVPZihbXCJwb2ludDVcIiwgXCJpbnRlZ2VyXCIsIFwiZ3JpZFwiLCBcInJlZHVjdGlvblwiXSkuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgb25DaGFuZ2U6IFBULmZ1bmMuaXNSZXF1aXJlZCxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXQgZGVmYXVsdFByb3BzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGNvZGU6IG51bGwsXHJcbiAgICAgICAgICAgIGhlYWRlcjogbnVsbCxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBQT1NTSUJMSUVfUkVEVUNUSU9OUygpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBbMTAwLCBcIi0xMDAlXCJdLFxyXG4gICAgICAgICAgICBbNzUsICBcIi03NSVcIl0sXHJcbiAgICAgICAgICAgIFs1MCwgIFwiLTUwJVwiXSxcclxuICAgICAgICAgICAgWzI1LCAgXCItMjUlXCJdLFxyXG4gICAgICAgICAgICBbMTAsICBcIi0xMCVcIl0sXHJcbiAgICAgICAgICAgIFs1LCAgIFwiLTUlXCJdLFxyXG4gICAgICAgICAgICBbMCwgICBcIi0wJVwiXSxcclxuICAgICAgICBdXHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ2hhbmdlID0gKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY29kZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHRoaXMucHJvcHMuY29kZSwgdmFsdWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UodmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJIZWFkZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuaGVhZGVyID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8aDM+XHJcbiAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMuaGVhZGVyIH1cclxuICAgICAgICAgICAgPC9oMz5cclxuICAgICAgICApO1xyXG5cclxuICAgIH1cclxuICAgIHJlbmRlckJvZHkoKSB7XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXHJcbiAgICAgICAgY29uc3QgeyBzY2FsZSwgb25DaGFuZ2UsIC4uLm90aGVyX3Byb3BzIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIHN3aXRjaCAoc2NhbGUpIHtcclxuICAgICAgICBjYXNlIFwicG9pbnQ1XCI6XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8TnVtYmVyU2VsZWN0b3JJbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIGRlY2ltYWxTaXplPXsgMSB9XHJcbiAgICAgICAgICAgICAgICAgICAgc3RlcD17IDAuNSB9XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJ0d28tbGluZXNcIlxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsgdGhpcy5oYW5kbGVDaGFuZ2UgfVxyXG4gICAgICAgICAgICAgICAgICAgIHsgLi4ub3RoZXJfcHJvcHMgfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICBjYXNlIFwiaW50ZWdlclwiOlxyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPE51bWJlclNlbGVjdG9ySW5wdXRcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZT1cInR3by1saW5lc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLmhhbmRsZUNoYW5nZSB9XHJcbiAgICAgICAgICAgICAgICAgICAgeyAuLi5vdGhlcl9wcm9wcyB9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIGNhc2UgXCJncmlkXCI6XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8TnVtYmVyU2VsZWN0b3JJbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPVwiZ3JpZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLmhhbmRsZUNoYW5nZSB9XHJcbiAgICAgICAgICAgICAgICAgICAgeyAuLi5vdGhlcl9wcm9wcyB9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIGNhc2UgXCJyZWR1Y3Rpb25cIjpcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxTZWxlY3RvcklucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz17IHRoaXMuUE9TU0lCTElFX1JFRFVDVElPTlMgfVxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPVwib25lLWxpbmVcIlxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsgdGhpcy5oYW5kbGVDaGFuZ2UgfVxyXG4gICAgICAgICAgICAgICAgICAgIHsgLi4ub3RoZXJfcHJvcHMgfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBVbmtub3dkIHNjYWxlIHR5cGU6ICR7c2NhbGV9YCk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlckhlYWRlcigpIH1cclxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJCb2R5KCkgfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyaWQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xyXG4gICAgICAgIGNvbnN0IFBUID0gUmVhY3QuUHJvcFR5cGVzO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuOiBQVC5ub2RlLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRNYXhXaWR0aCgpIHtcclxuICAgICAgICBjb25zdCBsaW5lX3NpemUgPSB0aGlzLnR3b19yb3dzXHJcbiAgICAgICAgICAgID8gTWF0aC5mbG9vcigodGhpcy5jaGlsZHJlbi5sZW5ndGggKyAxKSAvIDIgKyAwLjAwMSlcclxuICAgICAgICAgICAgOiB0aGlzLmNoaWxkcmVuLmxlbmd0aDtcclxuICAgICAgICByZXR1cm4gYCR7NjAwICogbGluZV9zaXplfXB4YDtcclxuICAgIH1cclxuICAgIHNldHVwQ2FjaGUoKSB7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IEFycmF5LmlzQXJyYXkodGhpcy5wcm9wcy5jaGlsZHJlbilcclxuICAgICAgICAgICAgPyB0aGlzLnByb3BzLmNoaWxkcmVuXHJcbiAgICAgICAgICAgIDogW3RoaXMucHJvcHMuY2hpbGRyZW5dO1xyXG4gICAgICAgIHRoaXMudHdvX3Jvd3MgPSB0aGlzLmNoaWxkcmVuLmxlbmd0aCA+PSA0O1xyXG4gICAgICAgIHRoaXMud2lkdGhfdmFsdWUgPSB0aGlzLnR3b19yb3dzXHJcbiAgICAgICAgICAgID8gOTkuOSAvICh0aGlzLmNoaWxkcmVuLmxlbmd0aCArIDEpICogMlxyXG4gICAgICAgICAgICA6IDk5LjkgLyB0aGlzLmNoaWxkcmVuLmxlbmd0aDtcclxuICAgICAgICB0aGlzLndpZHRoID0gYCR7IHRoaXMud2lkdGhfdmFsdWUudG9GaXhlZCg1KSB9JWA7XHJcbiAgICAgICAgdGhpcy5tYXhfd2lkdGggPSB0aGlzLmdldE1heFdpZHRoKCk7XHJcbiAgICAgICAgdGhpcy5hc3ltX2xheW91dCA9IHRoaXMudHdvX3Jvd3MgJiYgdGhpcy5jaGlsZHJlbi5sZW5ndGggJSAyID09PSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclJvdyhlbGVtZW50cywgaXNfc2Vjb25kX3Jvdykge1xyXG4gICAgICAgIGlmIChlbGVtZW50cyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgcm93X3dpZHRoID0gYCR7KGVsZW1lbnRzLmxlbmd0aCAqIHRoaXMud2lkdGhfdmFsdWUpLnRvRml4ZWQoNSl9JWA7XHJcbiAgICAgICAgbGV0IGNsYXNzX25hbWUgPSBcImdyaWQtcm93XCI7XHJcbiAgICAgICAgaWYgKCF0aGlzLmFzeW1fbGF5b3V0KSB7XHJcbiAgICAgICAgICAgIGNsYXNzX25hbWUgKz0gXCIgYWxpZ24tY2VudGVyXCI7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc19zZWNvbmRfcm93KSB7XHJcbiAgICAgICAgICAgIGNsYXNzX25hbWUgKz0gXCIgYWxpZ24tcmlnaHRcIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjbGFzc19uYW1lICs9IFwiIGFsaWduLWxlZnRcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT17IGNsYXNzX25hbWUgfSBzdHlsZT17IHsgd2lkdGg6IHJvd193aWR0aCB9IH0+PHRib2R5PlxyXG4gICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgIHsgZWxlbWVudHMubWFwKChlLCBpZHgpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaXRlbVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9eyBpZHggfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9eyB7IHdpZHRoOiB0aGlzLndpZHRoIH0gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGUgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICkgfVxyXG4gICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgPC90Ym9keT48L3RhYmxlPlxyXG4gICAgICAgIClcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICB0aGlzLnNldHVwQ2FjaGUoKTtcclxuICAgICAgICBjb25zdCBjbGFzc19uYW1lID0gdGhpcy50d29fcm93cyA/IFwiR3JpZCB0d28tcm93c1wiIDogXCJHcmlkXCI7XHJcbiAgICAgICAgY29uc3QgZmlyc3Rfcm93ID0gdGhpcy50d29fcm93c1xyXG4gICAgICAgICAgICA/IHRoaXMuY2hpbGRyZW4uZmlsdGVyKCh4LCBpZHgpID0+IGlkeCAlIDIgPT09IDApXHJcbiAgICAgICAgICAgIDogdGhpcy5jaGlsZHJlbjtcclxuICAgICAgICBjb25zdCBzZWNvbmRfcm93ID0gdGhpcy50d29fcm93c1xyXG4gICAgICAgICAgICA/IHRoaXMuY2hpbGRyZW4uZmlsdGVyKCh4LCBpZHgpID0+IGlkeCAlIDIgPT09IDEpXHJcbiAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17IGNsYXNzX25hbWUgfSBzdHlsZT17IHsgbWF4V2lkdGg6IHRoaXMubWF4X3dpZHRoIH0gfT5cclxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJSb3coZmlyc3Rfcm93LCBmYWxzZSkgfVxyXG4gICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlclJvdyhzZWNvbmRfcm93LCB0cnVlKSB9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgXyBmcm9tIFwibDEwblwiO1xuXG5pbXBvcnQgb25Ub3VjaE9yQ2xpY2sgZnJvbSBcInRhYmxldF91aS9vblRvdWNoT3JDbGlja1wiO1xuaW1wb3J0IHNob3dDb25maXJtIGZyb20gXCJjb21tb24vZGlhbG9ncy9zaG93Q29uZmlybVwiO1xuaW1wb3J0IGNsb3NlRGlhbG9nIGZyb20gXCJjb21tb24vZGlhbG9ncy9jbG9zZURpYWxvZ1wiO1xuXG5pbXBvcnQgeyBBcGkgfSBmcm9tIFwiSG9zdE1vZHVsZXNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWN0aW9uc1BhZ2UgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcbiAgICAgICAgY29uc3QgUFQgPSBSZWFjdC5Qcm9wVHlwZXM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b3VyOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgaWQ6IFBULm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIHJ1bnM6IFBULmFycmF5T2YoXG4gICAgICAgICAgICAgICAgICAgIFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYXQ6IFBULm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzOiBQVC5hcnJheU9mKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY2lwbGluZV9qdWRnZV9pZDogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1lZDogUFQuYm9vbC5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICApLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgKS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc3RvcFRvdXIgPSAoKSA9PiB7XG4gICAgICAgIHNob3dDb25maXJtKF8oXCJ0YWJsZXQuY29uZmlybXMuc3RvcF90b3VyXCIpLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy50b3VyKSB7XG4gICAgICAgICAgICAgICAgQXBpKFwidG91ci5zdG9wXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgdG91cl9pZDogdGhpcy5wcm9wcy50b3VyLmlkLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5vblN1Y2Nlc3MoY2xvc2VEaWFsb2cpXG4gICAgICAgICAgICAgICAgICAgIC5zZW5kKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmaW5hbGl6ZVRvdXIgPSAoKSA9PiB7XG4gICAgICAgIHNob3dDb25maXJtKF8oXCJ0YWJsZXQuY29uZmlybXMuZmluYWxpemVfdG91clwiKSwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMudG91cikge1xuICAgICAgICAgICAgICAgIEFwaShcInRvdXIuZmluYWxpemVcIiwge1xuICAgICAgICAgICAgICAgICAgICB0b3VyX2lkOiB0aGlzLnByb3BzLnRvdXIuaWQsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLm9uU3VjY2VzcyhjbG9zZURpYWxvZylcbiAgICAgICAgICAgICAgICAgICAgLnNlbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0b3BUb3VyQW5kU3RhcnROZXh0ID0gKCkgPT4ge1xuICAgICAgICBzaG93Q29uZmlybShfKFwidGFibGV0LmNvbmZpcm1zLnN0b3BfdG91cl9hbmRfc3RhcnRfbmV4dFwiKSwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMudG91cikge1xuICAgICAgICAgICAgICAgIGxldCB0b3VyX2lkID0gdGhpcy5wcm9wcy50b3VyLmlkO1xuICAgICAgICAgICAgICAgIEFwaShcInRvdXIuc3RvcFwiLCB7IHRvdXJfaWQgfSkub25TdWNjZXNzKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgQXBpKFwidG91ci5zdGFydF9uZXh0X2FmdGVyXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdXJfaWQ6IHRvdXJfaWQsXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAub25TdWNjZXNzKGNsb3NlRGlhbG9nKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNlbmQoKTtcbiAgICAgICAgICAgICAgICB9KS5zZW5kKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmaW5hbGl6ZVRvdXJBbmRTdGFydE5leHQgPSAoKSA9PiB7XG4gICAgICAgIHNob3dDb25maXJtKF8oXCJ0YWJsZXQuY29uZmlybXMuZmluYWxpemVfdG91cl9hbmRfc3RhcnRfbmV4dFwiKSwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMudG91cikge1xuICAgICAgICAgICAgICAgIGxldCB0b3VyX2lkID0gdGhpcy5wcm9wcy50b3VyLmlkO1xuICAgICAgICAgICAgICAgIEFwaShcInRvdXIuZmluYWxpemVcIiwge1xuICAgICAgICAgICAgICAgICAgICB0b3VyX2lkOiB0b3VyX2lkLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5vblN1Y2Nlc3MoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgQXBpKFwidG91ci5zdGFydF9uZXh0X2FmdGVyXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3VyX2lkOiB0b3VyX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAub25TdWNjZXNzKGNsb3NlRGlhbG9nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pLnNlbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaGFzVW5jb25maXJtZWRTY29yZXMoKSB7XG4gICAgICAgIGNvbnN0IHJ1bnMgPSB0aGlzLnByb3BzLnRvdXIucnVucztcbiAgICAgICAgaWYgKHJ1bnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGF0ZXN0X2hlYXQgPSBydW5zW3J1bnMubGVuZ3RoIC0gMV0uaGVhdDtcbiAgICAgICAgaWYgKGxhdGVzdF9oZWF0ID09PSBydW5zWzBdLmhlYXQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsYXRlc3RfcnVucyA9IHJ1bnMuZmlsdGVyKHIgPT4gci5oZWF0ID09PSBsYXRlc3RfaGVhdCk7XG4gICAgICAgIGNvbnN0IHByZXZfcnVucyA9IHJ1bnMuZmlsdGVyKHIgPT4gci5oZWF0ID09PSBsYXRlc3RfaGVhdCAtIDEpO1xuICAgICAgICBsZXQgc2NvcmVzID0gbmV3IE1hcCgpO1xuICAgICAgICBjb25zdCBwcm9jZXNzX3J1biA9IChydW4sIHR5cGUpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgc2NvcmUgb2YgcnVuLnNjb3Jlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRqX2lkID0gc2NvcmUuZGlzY2lwbGluZV9qdWRnZV9pZDtcbiAgICAgICAgICAgICAgICBpZiAoIXNjb3Jlcy5oYXMoZGpfaWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3Jlcy5zZXQoZGpfaWQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdGVzdDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXY6IDAsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2NvcmUuY29uZmlybWVkKSB7XG4gICAgICAgICAgICAgICAgICAgICsrc2NvcmVzLmdldChkal9pZClbdHlwZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBmb3IgKGNvbnN0IHJ1biBvZiBsYXRlc3RfcnVucykge1xuICAgICAgICAgICAgcHJvY2Vzc19ydW4ocnVuLCBcImxhdGVzdFwiKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHJ1biBvZiBwcmV2X3J1bnMpIHtcbiAgICAgICAgICAgIHByb2Nlc3NfcnVuKHJ1biwgXCJwcmV2XCIpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qgc3RhdHMgb2Ygc2NvcmVzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBpZiAoc3RhdHMucHJldiA+IDAgJiYgc3RhdHMubGF0ZXN0IDwgbGF0ZXN0X3J1bnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJlbmRlcldhcm5pbmcoKSB7XG4gICAgICAgIGlmICghdGhpcy5oYXNVbmNvbmZpcm1lZFNjb3JlcygpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3YXJuaW5nXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250ZW50XCI+XG4gICAgICAgICAgICAgICAgICAgIHsgXyhcInRhYmxldC5hbGVydHMuaGFzX3VuY29uZmlybWVkX3Njb3Jlc1wiKSB9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG4gICAgcmVuZGVyQnV0dG9uKGNvZGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgeyAuLi5vblRvdWNoT3JDbGljayhjYWxsYmFjaykgfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHsgXyhgdGFibGV0LmJ1dHRvbnMuJHtjb2RlfWApIH1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvZHkgYWN0aW9uc1wiPlxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJXYXJuaW5nKCkgfVxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJCdXR0b24oXCJzdG9wX3RvdXJcIiwgdGhpcy5zdG9wVG91cikgfVxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJCdXR0b24oXCJmaW5hbGl6ZV90b3VyXCIsIHRoaXMuZmluYWxpemVUb3VyKSB9XG4gICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlckJ1dHRvbihcInN0b3BfdG91cl9hbmRfc3RhcnRfbmV4dFwiLCB0aGlzLnN0b3BUb3VyQW5kU3RhcnROZXh0KSB9XG4gICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlckJ1dHRvbihcImZpbmFsaXplX3RvdXJfYW5kX3N0YXJ0X25leHRcIiwgdGhpcy5maW5hbGl6ZVRvdXJBbmRTdGFydE5leHQpIH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cbiIsImltcG9ydCBfIGZyb20gXCJsMTBuXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFjdG9iYXRpY092ZXJyaWRlcyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJ1bjogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgIGFjcm9iYXRpY3M6IFBULmFycmF5T2YoXG4gICAgICAgICAgICAgICAgICAgIFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjcm9iYXRpYzogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsX3Njb3JlOiBQVC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZTogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZ2V0QWNyb2JhdGljT3ZlcnJpZGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5ydW4uYWNyb2JhdGljc1xuICAgICAgICAgICAgLm1hcCgoYWNybywgaWR4KSA9PiAoeyBpZHg6IGlkeCArIDEsIGFjcm9iYXRpYzogYWNybyB9KSlcbiAgICAgICAgICAgIC5maWx0ZXIoKGFjcm8pID0+IGFjcm8uYWNyb2JhdGljLm9yaWdpbmFsX3Njb3JlICE9PSBhY3JvLmFjcm9iYXRpYy5zY29yZSk7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgbGV0IGFjcm9iYXRpY19vdmVycmlkZXMgPSB0aGlzLmdldEFjcm9iYXRpY092ZXJyaWRlcygpO1xuICAgICAgICBpZiAoYWNyb2JhdGljX292ZXJyaWRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjcm9iYXRpYy1vdmVycmlkZXNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlclwiIC8+XG4gICAgICAgICAgICAgICAgPGgzPnsgXyhcInRhYmxldC5oZWFkX2p1ZGdlLmFjcm9iYXRpY19vdmVycmlkZXNcIikgfTwvaDM+XG4gICAgICAgICAgICAgICAgPHRhYmxlPjx0Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgeyBhY3JvYmF0aWNfb3ZlcnJpZGVzLm1hcChhY3JvID0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dHIga2V5PXsgYWNyby5pZHggfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidy01IGlkeFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGFjcm8uaWR4IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJkZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGFjcm8uYWNyb2JhdGljLmRlc2NyaXB0aW9uIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ3LTEwIG9yaWdpbmFsLXNjb3JlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgYWNyby5hY3JvYmF0aWMub3JpZ2luYWxfc2NvcmUudG9GaXhlZCgxKSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidy01IGFycm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKGklxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInctMTAgc2NvcmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBhY3JvLmFjcm9iYXRpYy5zY29yZS50b0ZpeGVkKDEpIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgICAgKSB9XG4gICAgICAgICAgICAgICAgPC90Ym9keT48L3RhYmxlPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufSIsImltcG9ydCBfIGZyb20gXCJsMTBuXCI7XG5cbmltcG9ydCBTZWxlY3RvcklucHV0IGZyb20gXCJ0YWJsZXRfdWkvU2VsZWN0b3JJbnB1dFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkSW5wdXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcbiAgICAgICAgY29uc3QgUFQgPSBSZWFjdC5Qcm9wVHlwZXM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzY29yZTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgcmF3X2RhdGE6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmQ6IFBULnN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIHNjb3JpbmdTeXN0ZW1OYW1lOiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIG9uU2NvcmVVcGRhdGU6IFBULmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBoYW5kbGVDaGFuZ2UgPSAodmFsdWUpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5vblNjb3JlVXBkYXRlKFwiY2FyZFwiLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBjYXJkcyA9IFtcbiAgICAgICAgICAgIFtcIk9LXCIsIF8oXCJ0YWJsZXQuaGVhZF9qdWRnZS5va1wiKV0sXG4gICAgICAgICAgICBbXCJZQ1wiLCBfKFwidGFibGV0LmhlYWRfanVkZ2UueWVsbG93X2NhcmRcIildLFxuICAgICAgICAgICAgW1wiUkNcIiwgXyhcInRhYmxldC5oZWFkX2p1ZGdlLnJlZF9jYXJkXCIpXSxcbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGgzPlxuICAgICAgICAgICAgICAgICAgICB7IF8oXCJ0YWJsZXQuaGVhZF9qdWRnZS5jYXJkXCIpIH1cbiAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgIDxTZWxlY3RvcklucHV0XG4gICAgICAgICAgICAgICAgICAgIGNob2ljZXM9eyBjYXJkcyB9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXsgdGhpcy5wcm9wcy5zY29yZS5kYXRhLnJhd19kYXRhLmNhcmQgfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMuaGFuZGxlQ2hhbmdlIH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiaW1wb3J0IFZlcmJvc2VKdWRnZVNjb3JlIGZyb20gXCJjb21tb24vVmVyYm9zZUp1ZGdlU2NvcmVcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXRlbSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRpc2NpcGxpbmVKdWRnZTogUFQub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBqdWRnZTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgIG5hbWU6IFBULnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIHNjb3JlOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgY29uZmlybWVkOiBQVC5ib29sLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgZGF0YTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICB0b3RhbF9zY29yZTogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBzaG93VmVyYm9zZTogUFQuYm9vbC5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgdG91cjogUFQub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmVuZGVyVmVyYm9zZVNjb3JlKCkge1xuICAgICAgICBpZiAoIXRoaXMucHJvcHMuc2hvd1ZlcmJvc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInZlcmJvc2Utc2NvcmVcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImp1ZGdlLW5hbWVcIj5cbiAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnByb3BzLmp1ZGdlLm5hbWUgfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxWZXJib3NlSnVkZ2VTY29yZVxuICAgICAgICAgICAgICAgICAgICBkaXNjaXBsaW5lSnVkZ2U9eyB0aGlzLnByb3BzLmRpc2NpcGxpbmVKdWRnZSB9XG4gICAgICAgICAgICAgICAgICAgIHNjb3JlPXsgdGhpcy5wcm9wcy5zY29yZSB9XG4gICAgICAgICAgICAgICAgICAgIHRvdXI9eyB0aGlzLnByb3BzLnRvdXIgfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0cmlhbmdsZVwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBjb25maXJtZWQgPSB0aGlzLnByb3BzLnNjb3JlICYmIHRoaXMucHJvcHMuc2NvcmUuY29uZmlybWVkO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT17IGNvbmZpcm1lZCA/IFwiY29uZmlybWVkXCIgOiBcIlwiIH0+XG4gICAgICAgICAgICAgICAgeyB0aGlzLnByb3BzLnNjb3JlXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5wcm9wcy5zY29yZS5kYXRhLnRvdGFsX3Njb3JlLnRvRml4ZWQoMilcbiAgICAgICAgICAgICAgICAgICAgOiBcIuKAlFwiIH1cbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyVmVyYm9zZVNjb3JlKCkgfVxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgXyBmcm9tIFwibDEwblwiO1xuXG5pbXBvcnQgSXRlbSBmcm9tIFwiLi9JdGVtXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpbmVKdWRnZVNjb3JlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIGdldCBwcm9wVHlwZXMoKSB7XG4gICAgICAgIGNvbnN0IFBUID0gUmVhY3QuUHJvcFR5cGVzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGlzY2lwbGluZUp1ZGdlczogUFQuYXJyYXlPZihcbiAgICAgICAgICAgICAgICBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgICAgIHJvbGU6IFBULnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICApLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBydW46IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICBzY29yZXM6IFBULmFycmF5T2YoXG4gICAgICAgICAgICAgICAgICAgIFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NpcGxpbmVfanVkZ2VfaWQ6IFBULm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB0b3VyOiBQVC5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICB2ZXJib3NlSWR4OiBudWxsLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHNldHVwQ2FjaGUoKSB7XG4gICAgICAgIHRoaXMubGluZV9qdWRnZXMgPSB0aGlzLnByb3BzLmRpc2NpcGxpbmVKdWRnZXMuZmlsdGVyKGRqID0+IFtcImRhbmNlX2p1ZGdlXCIsIFwiYWNyb19qdWRnZVwiXS5pbmNsdWRlcyhkai5yb2xlKSk7XG4gICAgICAgIHRoaXMubGluZV9qdWRnZXNfaW5kZXggPSBuZXcgTWFwKHRoaXMubGluZV9qdWRnZXMubWFwKGRqID0+IFtkai5pZCwgZGpdKSk7XG4gICAgICAgIHRoaXMuc2NvcmVzID0gdGhpcy5wcm9wcy5ydW4uc2NvcmVzLmZpbHRlcihzY29yZSA9PiB0aGlzLmxpbmVfanVkZ2VzX2luZGV4LmhhcyhzY29yZS5kaXNjaXBsaW5lX2p1ZGdlX2lkKSk7XG4gICAgfVxuXG4gICAgbWFrZVNjb3Jlc1Jvd1JlZiA9IChyZWYpID0+IHRoaXMuX3Njb3Jlc19yb3cgPSByZWY7XG5cbiAgICBoYW5kbGVTaG93VmVyYm9zZVNjb3JlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uX29iaiA9IGV2ZW50LnRvdWNoZXMgPyBldmVudC50b3VjaGVzWzBdIDogZXZlbnQ7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMuX3Njb3Jlc19yb3c7XG4gICAgICAgIGNvbnN0IHJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHBvc2l0aW9uX29iai5jbGllbnRYIC0gcmVjdC5sZWZ0O1xuICAgICAgICBjb25zdCBzZWxlY3RlZF9pZHggPSBNYXRoLmZsb29yKG9mZnNldCAvICh0YXJnZXQub2Zmc2V0V2lkdGggLyB0aGlzLnNjb3Jlcy5sZW5ndGgpKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICB2ZXJib3NlSWR4OiBzZWxlY3RlZF9pZHgsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGhhbmRsZUhpZGVWZXJib3NlU2NvcmUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZlcmJvc2VJZHg6IG51bGwgfSk7XG4gICAgfVxuXG4gICAgcmVuZGVyTnVtYmVycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcmVzLm1hcChzY29yZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkaiA9IHRoaXMubGluZV9qdWRnZXNfaW5kZXguZ2V0KHNjb3JlLmRpc2NpcGxpbmVfanVkZ2VfaWQpO1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8dGQga2V5PXsgc2NvcmUuaWQgfT5cbiAgICAgICAgICAgICAgICAgICAgeyBgJHtkai5qdWRnZS5udW1iZXIgfSR7IGRqLnJvbGUgPT09IFwiYWNyb19qdWRnZVwiID8gXCIgKEEpXCIgOiBcIlwiIH1gIH1cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlbmRlclNjb3JlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcmVzLm1hcCgoc2NvcmUsIGlkeCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGogPSB0aGlzLmxpbmVfanVkZ2VzX2luZGV4LmdldChzY29yZS5kaXNjaXBsaW5lX2p1ZGdlX2lkKTtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPEl0ZW1cbiAgICAgICAgICAgICAgICAgICAgZGlzY2lwbGluZUp1ZGdlPXsgZGogfVxuICAgICAgICAgICAgICAgICAgICBqdWRnZT17IGRqLmp1ZGdlIH1cbiAgICAgICAgICAgICAgICAgICAga2V5PXsgZGouaWQgfVxuICAgICAgICAgICAgICAgICAgICBzY29yZT17IHNjb3JlIH1cbiAgICAgICAgICAgICAgICAgICAgc2hvd1ZlcmJvc2U9eyB0aGlzLnN0YXRlLnZlcmJvc2VJZHggPT09IGlkeCB9XG4gICAgICAgICAgICAgICAgICAgIHRvdXI9eyB0aGlzLnByb3BzLnRvdXIgfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICB0aGlzLnNldHVwQ2FjaGUoKTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGgzPnsgXyhcInRhYmxldC5oZWFkX2p1ZGdlLmRhbmNlX2p1ZGdlX3Njb3Jlc1wiKSB9PC9oMz5cbiAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwibGluZS1qdWRnZS1zY29yZXNcIj48dGJvZHk+XG4gICAgICAgICAgICAgICAgICAgIDx0ciBjbGFzc05hbWU9XCJudW1iZXJzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyTnVtYmVycygpIH1cbiAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgICAgPHRyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzY29yZXNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXsgdGhpcy5tYWtlU2NvcmVzUm93UmVmIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VNb3ZlPXsgdGhpcy5oYW5kbGVTaG93VmVyYm9zZVNjb3JlIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VPdXQ9eyB0aGlzLmhhbmRsZUhpZGVWZXJib3NlU2NvcmUgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZVVwPXsgdGhpcy5oYW5kbGVIaWRlVmVyYm9zZVNjb3JlIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uVG91Y2hDYW5jZWw9eyB0aGlzLmhhbmRsZUhpZGVWZXJib3NlU2NvcmUgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25Ub3VjaEVuZD17IHRoaXMuaGFuZGxlSGlkZVZlcmJvc2VTY29yZSB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvblRvdWNoTW92ZT17IHRoaXMuaGFuZGxlU2hvd1ZlcmJvc2VTY29yZSB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvblRvdWNoU3RhcnQ9eyB0aGlzLmhhbmRsZVNob3dWZXJib3NlU2NvcmUgfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyU2NvcmVzKCkgfVxuICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgIDwvdGJvZHk+PC90YWJsZT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cbiIsImltcG9ydCBfIGZyb20gXCJsMTBuXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByZXZpb3VzQ2FyZHMgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcbiAgICAgICAgY29uc3QgUFQgPSBSZWFjdC5Qcm9wVHlwZXM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBydW46IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICBpbmhlcml0ZWRfZGF0YTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICBjYXJkczogUFQuYXJyYXlPZihcbiAgICAgICAgICAgICAgICAgICAgICAgIFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3VyOiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkOiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgICksIC8vIG9wdGlvbmFsXG4gICAgICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBpZiAoIXRoaXMucHJvcHMucnVuLmluaGVyaXRlZF9kYXRhLmNhcmRzIHx8IHRoaXMucHJvcHMucnVuLmluaGVyaXRlZF9kYXRhLmNhcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIDxkaXYgLz47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGgzPnsgXyhcInRhYmxldC5oZWFkX2p1ZGdlLnByZXZpb3VzX2NhcmRzXCIpIH08L2gzPlxuICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJmdWxsLXdpZHRoXCI+PHRib2R5PlxuICAgICAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMucnVuLmluaGVyaXRlZF9kYXRhLmNhcmRzLm1hcCgoZCwgaWR4KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGtleT17IGlkeCB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ3LTEwIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+eyBfKGByZXN1bHRzLmNhcmRzLnNob3J0XyR7ZC5jYXJkfWApIH08L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57IGQudG91ciB9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICAgICkgfVxuICAgICAgICAgICAgICAgIDwvdGJvZHk+PC90YWJsZT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cbiIsImltcG9ydCBfIGZyb20gXCJsMTBuXCI7XG5cbmltcG9ydCBvblRvdWNoRW5kT3JDbGljayBmcm9tIFwidGFibGV0X3VpL29uVG91Y2hFbmRPckNsaWNrXCI7XG5cbmltcG9ydCB7IEFwaSB9IGZyb20gXCJIb3N0TW9kdWxlc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGF0dXNTd2l0Y2ggZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcbiAgICAgICAgY29uc3QgUFQgPSBSZWFjdC5Qcm9wVHlwZXM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBydW46IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICBpZDogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBQVC5vbmVPZihbXCJPS1wiLCBcIk5QXCIsIFwiRFFcIl0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgZGlzcXVhbGlmaWVkOiBQVC5ib29sLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGNoYW5nZVN0YXR1cyhuZXdfc3RhdHVzKSB7XG4gICAgICAgIEFwaShcInJ1bi5zZXRfc3RhdHVzXCIsIHtcbiAgICAgICAgICAgIHJ1bl9pZDogdGhpcy5wcm9wcy5ydW4uaWQsXG4gICAgICAgICAgICBzdGF0dXM6IG5ld19zdGF0dXMsXG4gICAgICAgIH0pLnNlbmQoKTtcbiAgICB9XG5cbiAgICBoYW5kbGVTZXRTdGF0dXNPSyA9ICgpID0+IHRoaXMuY2hhbmdlU3RhdHVzKFwiT0tcIik7XG4gICAgaGFuZGxlU2V0U3RhdHVzTlAgPSAoKSA9PiB0aGlzLmNoYW5nZVN0YXR1cyhcIk5QXCIpO1xuICAgIGhhbmRsZVNldFN0YXR1c0RRID0gKCkgPT4gdGhpcy5jaGFuZ2VTdGF0dXMoXCJEUVwiKTtcblxuICAgIHJlbmRlckJ1dHRvbigpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucnVuLnN0YXR1cyA9PT0gXCJOUFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicGVyZm9ybWVkXCJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgIHsgLi4ub25Ub3VjaEVuZE9yQ2xpY2sodGhpcy5oYW5kbGVTZXRTdGF0dXNPSykgfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgeyBfKFwidGFibGV0Lmdsb2JhbC5kaXNjYXJkX25vdF9wZXJmb3JtZWRcIikgfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wcm9wcy5ydW4uc3RhdHVzID09PSBcIkRRXCIpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJub3QtZGlzcXVhbGlmaWVkXCJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgIHsgLi4ub25Ub3VjaEVuZE9yQ2xpY2sodGhpcy5oYW5kbGVTZXRTdGF0dXNPSykgfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgeyBfKFwidGFibGV0Lmdsb2JhbC5kaXNjYXJkX2Rpc3F1YWxpZmllZFwiKSB9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibm90LXBlcmZvcm1lZFwiXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICB7IC4uLm9uVG91Y2hFbmRPckNsaWNrKHRoaXMuaGFuZGxlU2V0U3RhdHVzTlApIH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHsgXyhcInRhYmxldC5nbG9iYWwubWFya19ub3RfcGVyZm9ybWVkXCIpIH1cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRpc3F1YWxpZmllZFwiXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICB7IC4uLm9uVG91Y2hFbmRPckNsaWNrKHRoaXMuaGFuZGxlU2V0U3RhdHVzRFEpIH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHsgXyhcInRhYmxldC5nbG9iYWwubWFya19kaXNxdWFsaWZpZWRcIikgfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3RhdHVzLXN3aXRjaFwiPlxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJCdXR0b24oKSB9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgXyBmcm9tIFwibDEwblwiO1xuXG5pbXBvcnQgbWFrZUNsYXNzTmFtZSBmcm9tIFwiY29tbW9uL21ha2VDbGFzc05hbWVcIjtcbmltcG9ydCBWZXJib3NlSnVkZ2VTY29yZSBmcm9tIFwiY29tbW9uL1ZlcmJvc2VKdWRnZVNjb3JlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl0ZW0gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcbiAgICAgICAgY29uc3QgUFQgPSBSZWFjdC5Qcm9wVHlwZXM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkaXNjaXBsaW5lSnVkZ2U6IFBULm9iamVjdC5pc1JlcXVpcmVkLFxuICAgICAgICAgICAganVkZ2U6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBzY29yZTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgIGNvbmZpcm1lZDogUFQuYm9vbC5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIGRhdGE6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgcmF3X2RhdGE6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmQ6IFBULnN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgdG90YWxfc2NvcmU6IFBULm9uZU9mVHlwZShbXG4gICAgICAgICAgICAgICAgICAgICAgICBQVC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFBULnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICBdKS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgc2hvd1ZlcmJvc2U6IFBULmJvb2wuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIHRvdXI6IFBULm9iamVjdC5pc1JlcXVpcmVkLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJlbmRlclZlcmJvc2VTY29yZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLnNob3dWZXJib3NlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ2ZXJib3NlLXNjb3JlXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJqdWRnZS1uYW1lXCI+XG4gICAgICAgICAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5qdWRnZS5uYW1lIH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8VmVyYm9zZUp1ZGdlU2NvcmVcbiAgICAgICAgICAgICAgICAgICAgZGlzY2lwbGluZUp1ZGdlPXsgdGhpcy5wcm9wcy5kaXNjaXBsaW5lSnVkZ2UgfVxuICAgICAgICAgICAgICAgICAgICBzY29yZT17IHRoaXMucHJvcHMuc2NvcmUgfVxuICAgICAgICAgICAgICAgICAgICB0b3VyPXsgdGhpcy5wcm9wcy50b3VyIH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHJpYW5nbGVcIiAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuICAgIGdldENsYXNzTmFtZSgpIHtcbiAgICAgICAgY29uc3QgdG90YWxfc2NvcmUgPSB0aGlzLnByb3BzLnNjb3JlID8gdGhpcy5wcm9wcy5zY29yZS5kYXRhLnRvdGFsX3Njb3JlIDogMDtcbiAgICAgICAgcmV0dXJuIG1ha2VDbGFzc05hbWUoe1xuICAgICAgICAgICAgXCJjb25maXJtZWRcIjogdGhpcy5wcm9wcy5zY29yZSAmJiB0aGlzLnByb3BzLnNjb3JlLmNvbmZpcm1lZCxcbiAgICAgICAgICAgIFwiZ3JlZW5cIjogdG90YWxfc2NvcmUgPT09IFwiT0tcIixcbiAgICAgICAgICAgIFwieWVsbG93XCI6IHRvdGFsX3Njb3JlID09PSBcIllDXCIsXG4gICAgICAgICAgICBcInJlZFwiOiB0b3RhbF9zY29yZSA9PT0gXCJSQ1wiLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBpc19mb3JtYXRpb24gPSBbXCJyb3NmYXJyLmZvcm1hdGlvblwiLCBcInJvc2ZhcnIuZm9ybWF0aW9uX2Fjcm9cIl0uaW5jbHVkZXModGhpcy5wcm9wcy50b3VyLnNjb3Jpbmdfc3lzdGVtX25hbWUpO1xuICAgICAgICBjb25zdCBjYXJkcyA9IGlzX2Zvcm1hdGlvblxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgXCJPS1wiOiBfKFwidGFibGV0LnRlY2hfanVkZ2Uub2tcIiksXG4gICAgICAgICAgICAgICAgXCJZQ1wiOiBfKFwidGFibGV0LnRlY2hfanVkZ2UuZm9ybV95ZWxsb3dfY2FyZFwiKSxcbiAgICAgICAgICAgICAgICBcIlJDXCI6IF8oXCJ0YWJsZXQudGVjaF9qdWRnZS5mb3JtX3JlZF9jYXJkXCIpLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgXCJPS1wiOiBfKFwidGFibGV0LnRlY2hfanVkZ2Uub2tcIiksXG4gICAgICAgICAgICAgICAgXCJZQ1wiOiBfKFwidGFibGV0LnRlY2hfanVkZ2UueWVsbG93X2NhcmRcIiksXG4gICAgICAgICAgICAgICAgXCJSQ1wiOiBfKFwidGFibGV0LnRlY2hfanVkZ2UucmVkX2NhcmRcIiksXG4gICAgICAgICAgICB9O1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT17IHRoaXMuZ2V0Q2xhc3NOYW1lKCkgfT5cbiAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMuc2NvcmUgJiYgdGhpcy5wcm9wcy5zY29yZS5kYXRhLnJhd19kYXRhLmNhcmRcbiAgICAgICAgICAgICAgICAgICAgPyBjYXJkc1t0aGlzLnByb3BzLnNjb3JlLmRhdGEucmF3X2RhdGEuY2FyZF1cbiAgICAgICAgICAgICAgICAgICAgOiBcIuKAlFwiIH1cbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyVmVyYm9zZVNjb3JlKCkgfVxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbkl0ZW0uZGlzcGxheU5hbWUgPSBcInJ1bGVzX3NldHNfcm9zZmFycl9KdWRnZVRhYmxldF9IZWFkSnVkZ2VMYXlvdXRfSGVhdHNQYWdlX1Njb3JpbmdMYXlvdXRfVGVjaEp1ZGdlc1Njb3Jlc19JdGVtXCI7XG4iLCJpbXBvcnQgXyBmcm9tIFwibDEwblwiO1xuXG5pbXBvcnQgSXRlbSBmcm9tIFwiLi9JdGVtXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRlY2hKdWRnZVNjb3JlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIGdldCBwcm9wVHlwZXMoKSB7XG4gICAgICAgIGNvbnN0IFBUID0gUmVhY3QuUHJvcFR5cGVzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGlzY2lwbGluZUp1ZGdlczogUFQuYXJyYXlPZihcbiAgICAgICAgICAgICAgICBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgICAgIHJvbGU6IFBULnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICApLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBydW46IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICBzY29yZXM6IFBULmFycmF5T2YoXG4gICAgICAgICAgICAgICAgICAgIFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NpcGxpbmVfanVkZ2VfaWQ6IFBULm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB0b3VyOiBQVC5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICB2ZXJib3NlSWR4OiBudWxsLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHNldHVwQ2FjaGUoKSB7XG4gICAgICAgIHRoaXMudGVjaF9qdWRnZXMgPSB0aGlzLnByb3BzLmRpc2NpcGxpbmVKdWRnZXMuZmlsdGVyKGRqID0+IGRqLnJvbGUgPT09IFwidGVjaF9qdWRnZVwiKTtcbiAgICAgICAgdGhpcy50ZWNoX2p1ZGdlc19pbmRleCA9IG5ldyBNYXAodGhpcy50ZWNoX2p1ZGdlcy5tYXAoZGogPT4gW2RqLmlkLCBkal0pKTtcbiAgICAgICAgdGhpcy5zY29yZXMgPSB0aGlzLnByb3BzLnJ1bi5zY29yZXMuZmlsdGVyKHNjb3JlID0+IHRoaXMudGVjaF9qdWRnZXNfaW5kZXguaGFzKHNjb3JlLmRpc2NpcGxpbmVfanVkZ2VfaWQpKTtcbiAgICB9XG5cbiAgICBtYWtlU2NvcmVzUm93UmVmID0gKHJlZikgPT4gdGhpcy5fc2NvcmVzX3JvdyA9IHJlZjtcblxuICAgIGhhbmRsZVNob3dWZXJib3NlU2NvcmUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgcG9zaXRpb25fb2JqID0gZXZlbnQudG91Y2hlcyA/IGV2ZW50LnRvdWNoZXNbMF0gOiBldmVudDtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5fc2NvcmVzX3JvdztcbiAgICAgICAgY29uc3QgcmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcG9zaXRpb25fb2JqLmNsaWVudFggLSByZWN0LmxlZnQ7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkX2lkeCA9IE1hdGguZmxvb3Iob2Zmc2V0IC8gKHRhcmdldC5vZmZzZXRXaWR0aCAvIHRoaXMuc2NvcmVzLmxlbmd0aCkpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHZlcmJvc2VJZHg6IHNlbGVjdGVkX2lkeCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaGFuZGxlSGlkZVZlcmJvc2VTY29yZSA9IChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgdmVyYm9zZUlkeDogbnVsbCB9KTtcbiAgICB9XG5cbiAgICBnZXRTdHlsZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1heFdpZHRoOiBgJHsxNTAgKiB0aGlzLnRlY2hfanVkZ2VzLmxlbmd0aH1weGAsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJlbmRlck51bWJlcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3Jlcy5tYXAoc2NvcmUgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGogPSB0aGlzLnRlY2hfanVkZ2VzX2luZGV4LmdldChzY29yZS5kaXNjaXBsaW5lX2p1ZGdlX2lkKTtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPHRkIGtleT17IHNjb3JlLmlkIH0+XG4gICAgICAgICAgICAgICAgICAgIHsgZGouanVkZ2UubnVtYmVyIH1cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlbmRlclNjb3JlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcmVzLm1hcCgoc2NvcmUsIGlkeCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGogPSB0aGlzLnRlY2hfanVkZ2VzX2luZGV4LmdldChzY29yZS5kaXNjaXBsaW5lX2p1ZGdlX2lkKTtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPEl0ZW1cbiAgICAgICAgICAgICAgICAgICAgZGlzY2lwbGluZUp1ZGdlPXsgZGogfVxuICAgICAgICAgICAgICAgICAgICBqdWRnZT17IGRqLmp1ZGdlIH1cbiAgICAgICAgICAgICAgICAgICAga2V5PXsgZGouaWQgfVxuICAgICAgICAgICAgICAgICAgICBzY29yZT17IHNjb3JlIH1cbiAgICAgICAgICAgICAgICAgICAgc2hvd1ZlcmJvc2U9eyB0aGlzLnN0YXRlLnZlcmJvc2VJZHggPT09IGlkeCB9XG4gICAgICAgICAgICAgICAgICAgIHRvdXI9eyB0aGlzLnByb3BzLnRvdXIgfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICB0aGlzLnNldHVwQ2FjaGUoKTtcbiAgICAgICAgaWYgKHRoaXMudGVjaF9qdWRnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGgzPnsgXyhcInRhYmxldC5oZWFkX2p1ZGdlLnRlY2hfanVkZ2Vfc2NvcmVzXCIpIH08L2gzPlxuICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJ0ZWNoLWp1ZGdlLXNjb3Jlc1wiIHN0eWxlPXsgdGhpcy5nZXRTdHlsZSgpIH0+PHRib2R5PlxuICAgICAgICAgICAgICAgICAgICA8dHIgY2xhc3NOYW1lPVwibnVtYmVyc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlck51bWJlcnMoKSB9XG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICAgIDx0clxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2NvcmVzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17IHRoaXMubWFrZVNjb3Jlc1Jvd1JlZiB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTW92ZT17IHRoaXMuaGFuZGxlU2hvd1ZlcmJvc2VTY29yZSB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlT3V0PXsgdGhpcy5oYW5kbGVIaWRlVmVyYm9zZVNjb3JlIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VVcD17IHRoaXMuaGFuZGxlSGlkZVZlcmJvc2VTY29yZSB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvblRvdWNoQ2FuY2VsPXsgdGhpcy5oYW5kbGVIaWRlVmVyYm9zZVNjb3JlIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uVG91Y2hFbmQ9eyB0aGlzLmhhbmRsZUhpZGVWZXJib3NlU2NvcmUgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25Ub3VjaE1vdmU9eyB0aGlzLmhhbmRsZVNob3dWZXJib3NlU2NvcmUgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25Ub3VjaFN0YXJ0PXsgdGhpcy5oYW5kbGVTaG93VmVyYm9zZVNjb3JlIH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlclNjb3JlcygpIH1cbiAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICA8L3Rib2R5PjwvdGFibGU+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgXyBmcm9tIFwibDEwblwiO1xuXG5pbXBvcnQgQ2FyZElucHV0IGZyb20gXCIuL0NhcmRJbnB1dFwiO1xuaW1wb3J0IFRlY2hKdWRnZXNTY29yZXMgZnJvbSBcIi4vVGVjaEp1ZGdlc1Njb3Jlc1wiO1xuaW1wb3J0IExpbmVKdWRnZXNTY29yZXMgZnJvbSBcIi4vTGluZUp1ZGdlc1Njb3Jlc1wiO1xuaW1wb3J0IEFjcm9iYXRpY092ZXJyaWRlcyBmcm9tIFwiLi9BY3JvYmF0aWNPdmVycmlkZXNcIjtcbmltcG9ydCBQcmV2aW91c0NhcmRzIGZyb20gXCIuL1ByZXZpb3VzQ2FyZHNcIjtcbmltcG9ydCBTdGF0dXNTd2l0Y2ggZnJvbSBcIi4vU3RhdHVzU3dpdGNoXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjb3JpbmdMYXlvdXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcbiAgICAgICAgY29uc3QgUFQgPSBSZWFjdC5Qcm9wVHlwZXM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkaXNjaXBsaW5lSnVkZ2U6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICBpZDogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgcnVuOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBQVC5vbmVPZihbXCJPS1wiLCBcIk5QXCIsIFwiRFFcIl0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgcGFydGljaXBhbnQ6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBQVC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogUFQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgIHNwb3J0c21lbjogUFQuYXJyYXkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIHNjb3JlczogUFQuYXJyYXlPZihcbiAgICAgICAgICAgICAgICAgICAgUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzY2lwbGluZV9qdWRnZV9pZDogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgKS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIHRvdXI6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICBzY29yaW5nX3N5c3RlbV9uYW1lOiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICBkaXNjaXBsaW5lOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgICAgIGRpc2NpcGxpbmVfanVkZ2VzOiBQVC5hcnJheS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgb25TY29yZVVwZGF0ZTogUFQuZnVuYy5pc1JlcXVpcmVkLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldFNjb3JlKCkge1xuICAgICAgICBmb3IgKGNvbnN0IHNjb3JlIG9mIHRoaXMucHJvcHMucnVuLnNjb3Jlcykge1xuICAgICAgICAgICAgaWYgKHNjb3JlLmRpc2NpcGxpbmVfanVkZ2VfaWQgPT09IHRoaXMucHJvcHMuZGlzY2lwbGluZUp1ZGdlLmlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3JlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzZXR1cENhY2hlKCkge1xuICAgICAgICB0aGlzLnNjb3JlID0gdGhpcy5nZXRTY29yZSgpO1xuICAgIH1cblxuICAgIGhhbmRsZVNjb3JlVXBkYXRlID0gKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgbGV0IHNjb3JlX2RhdGEgPSB7fTtcbiAgICAgICAgc2NvcmVfZGF0YVtrZXldID0gdmFsdWU7XG4gICAgICAgIHRoaXMucHJvcHMub25TY29yZVVwZGF0ZSh0aGlzLnNjb3JlLmlkLCBzY29yZV9kYXRhKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuc2V0dXBDYWNoZSgpO1xuICAgICAgICBpZiAodGhpcy5zY29yZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IC8+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhlYWRlciA9IF8oXCJnbG9iYWwucGhyYXNlcy5wYXJ0aWNpcGFudF9uXCIsXG4gICAgICAgICAgICB0aGlzLnByb3BzLnJ1bi5wYXJ0aWNpcGFudC5udW1iZXIsXG4gICAgICAgICAgICB0aGlzLnByb3BzLnJ1bi5wYXJ0aWNpcGFudC5uYW1lLFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5ydW4ucGFydGljaXBhbnQuc3BvcnRzbWVuLmxlbmd0aCk7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnJ1bi5zdGF0dXMgIT09IFwiT0tcIikge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxheW91dC1wYXJ0aWNpcGFudFwiPlxuICAgICAgICAgICAgICAgICAgICA8aDI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7IGhlYWRlciB9XG4gICAgICAgICAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICAgICAgICAgIDxTdGF0dXNTd2l0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bj17IHRoaXMucHJvcHMucnVuIH1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsYXlvdXQtcGFydGljaXBhbnRcIj5cbiAgICAgICAgICAgICAgICA8aDI+XG4gICAgICAgICAgICAgICAgICAgIHsgaGVhZGVyIH1cbiAgICAgICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgICAgIDxDYXJkSW5wdXRcbiAgICAgICAgICAgICAgICAgICAgc2NvcmU9eyB0aGlzLnNjb3JlIH1cbiAgICAgICAgICAgICAgICAgICAgc2NvcmluZ1N5c3RlbU5hbWU9eyB0aGlzLnByb3BzLnRvdXIuc2NvcmluZ19zeXN0ZW1fbmFtZSB9XG4gICAgICAgICAgICAgICAgICAgIG9uU2NvcmVVcGRhdGU9eyB0aGlzLmhhbmRsZVNjb3JlVXBkYXRlIH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxQcmV2aW91c0NhcmRzXG4gICAgICAgICAgICAgICAgICAgIHJ1bj17IHRoaXMucHJvcHMucnVuIH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2VyXCIgLz5cbiAgICAgICAgICAgICAgICA8VGVjaEp1ZGdlc1Njb3Jlc1xuICAgICAgICAgICAgICAgICAgICBkaXNjaXBsaW5lSnVkZ2VzPXsgdGhpcy5wcm9wcy50b3VyLmRpc2NpcGxpbmUuZGlzY2lwbGluZV9qdWRnZXMgfVxuICAgICAgICAgICAgICAgICAgICBydW49eyB0aGlzLnByb3BzLnJ1biB9XG4gICAgICAgICAgICAgICAgICAgIHRvdXI9eyB0aGlzLnByb3BzLnRvdXIgfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPExpbmVKdWRnZXNTY29yZXNcbiAgICAgICAgICAgICAgICAgICAgZGlzY2lwbGluZUp1ZGdlcz17IHRoaXMucHJvcHMudG91ci5kaXNjaXBsaW5lLmRpc2NpcGxpbmVfanVkZ2VzIH1cbiAgICAgICAgICAgICAgICAgICAgcnVuPXsgdGhpcy5wcm9wcy5ydW4gfVxuICAgICAgICAgICAgICAgICAgICB0b3VyPXsgdGhpcy5wcm9wcy50b3VyIH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxBY3JvYmF0aWNPdmVycmlkZXNcbiAgICAgICAgICAgICAgICAgICAgcnVuPXsgdGhpcy5wcm9wcy5ydW4gfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPFN0YXR1c1N3aXRjaFxuICAgICAgICAgICAgICAgICAgICBydW49eyB0aGlzLnByb3BzLnJ1biB9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cbiIsImltcG9ydCBHcmlkIGZyb20gXCJKdWRnZVRhYmxldC9HcmlkXCI7XG5cbmltcG9ydCBTY29yaW5nTGF5b3V0IGZyb20gXCIuL1Njb3JpbmdMYXlvdXRcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVhdHNQYWdlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIGdldCBwcm9wVHlwZXMoKSB7XG4gICAgICAgIGNvbnN0IFBUID0gUmVhY3QuUHJvcFR5cGVzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGlzY2lwbGluZUp1ZGdlOiBQVC5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIGhlYXQ6IFBULm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgdG91cjogUFQub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBvblNjb3JlVXBkYXRlOiBQVC5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc2V0dXBDYWNoZSgpIHtcbiAgICAgICAgdGhpcy5ydW5zID0gdGhpcy5wcm9wcy50b3VyLnJ1bnMuZmlsdGVyKHJ1biA9PiBydW4uaGVhdCA9PT0gdGhpcy5wcm9wcy5oZWF0KTtcbiAgICB9XG5cbiAgICByZW5kZXJTY29yZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJ1bnMubWFwKHJ1biA9PlxuICAgICAgICAgICAgPFNjb3JpbmdMYXlvdXRcbiAgICAgICAgICAgICAgICBkaXNjaXBsaW5lSnVkZ2U9eyB0aGlzLnByb3BzLmRpc2NpcGxpbmVKdWRnZSB9XG4gICAgICAgICAgICAgICAga2V5PXsgcnVuLmlkIH1cbiAgICAgICAgICAgICAgICBydW49eyBydW4gfVxuICAgICAgICAgICAgICAgIHRvdXI9eyB0aGlzLnByb3BzLnRvdXIgfVxuICAgICAgICAgICAgICAgIG9uU2NvcmVVcGRhdGU9eyB0aGlzLnByb3BzLm9uU2NvcmVVcGRhdGUgfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICB0aGlzLnNldHVwQ2FjaGUoKTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9keSBoZWF0c1wiPlxuICAgICAgICAgICAgICAgIDxHcmlkPlxuICAgICAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyU2NvcmVzKCkgfVxuICAgICAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFRvdXJSZXN1bHRzTG9hZGVyIH0gZnJvbSBcIkhvc3RNb2R1bGVzXCI7XG5cbmltcG9ydCBSZXN1bHRzVGFibGUyIGZyb20gXCJSZXN1bHRzVGFibGUyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc3VsdHNQYWdlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIGdldCBwcm9wVHlwZXMoKSB7XG4gICAgICAgIGNvbnN0IFBUID0gUmVhY3QuUHJvcFR5cGVzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG91cjogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgIGlkOiBQVC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSW5pdGlhbGl6YXRpb25cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9keSByZXN1bHRzXCI+XG4gICAgICAgICAgICAgICAgPFRvdXJSZXN1bHRzTG9hZGVyXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyPXsgUmVzdWx0c1RhYmxlMiB9XG4gICAgICAgICAgICAgICAgICAgIHRvdXJJZD17IHRoaXMucHJvcHMudG91ci5pZCB9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgfVxufVxuIiwiaW1wb3J0IF8gZnJvbSBcImwxMG5cIjtcblxuaW1wb3J0IEhlYWRlciBmcm9tIFwiSnVkZ2VUYWJsZXQvSGVhZGVyXCI7XG5pbXBvcnQgRm9vdGVyIGZyb20gXCJKdWRnZVRhYmxldC9Gb290ZXJcIjtcbmltcG9ydCBGb290ZXJJdGVtIGZyb20gXCJKdWRnZVRhYmxldC9Gb290ZXIvRm9vdGVySXRlbVwiO1xuXG5pbXBvcnQgSGVhdHNQYWdlIGZyb20gXCIuL0hlYXRzUGFnZVwiO1xuaW1wb3J0IFJlc3VsdHNQYWdlIGZyb20gXCIuL1Jlc3VsdHNQYWdlXCI7XG5pbXBvcnQgQWN0aW9uc1BhZ2UgZnJvbSBcIi4vQWN0aW9uc1BhZ2VcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVhZEp1ZGdlTGF5b3V0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIGdldCBwcm9wVHlwZXMoKSB7XG4gICAgICAgIGNvbnN0IFBUID0gUmVhY3QuUHJvcFR5cGVzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGlzY2lwbGluZUp1ZGdlOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAganVkZ2U6IFBULm9iamVjdC5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIHRvdXI6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICBpZDogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgcnVuczogUFQuYXJyYXlPZihcbiAgICAgICAgICAgICAgICAgICAgUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhdDogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBvblNjb3JlVXBkYXRlOiBQVC5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgaGVhdDogMSxcbiAgICAgICAgICAgIHBhZ2U6IFwiaGVhdHNcIixcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRfcHJvcHMpIHtcbiAgICAgICAgaWYgKG5leHRfcHJvcHMudG91ci5pZCAhPT0gdGhpcy5wcm9wcy50b3VyLmlkKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBoZWF0OiAxLFxuICAgICAgICAgICAgICAgIHBhZ2U6IFwiaGVhdHNcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0SGVhdHNDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDEsIC4uLnRoaXMucHJvcHMudG91ci5ydW5zLm1hcChydW4gPT4gcnVuLmhlYXQpKTtcbiAgICB9XG5cbiAgICBzZXRIZWF0ID0gKGhlYXQpID0+IHRoaXMuc2V0U3RhdGUoeyBoZWF0IH0pO1xuICAgIHVwZGF0ZUhlYXQgPSAoZGVsdGEpID0+IHRoaXMuc2V0SGVhdCh0aGlzLnN0YXRlLmhlYXQgKyBkZWx0YSk7XG5cbiAgICBoYW5kbGVQcmV2SGVhdENsaWNrID0gKCkgPT4gdGhpcy51cGRhdGVIZWF0KC0xKTtcbiAgICBoYW5kbGVOZXh0SGVhdENsaWNrID0gKCkgPT4gdGhpcy51cGRhdGVIZWF0KDEpO1xuICAgIGhhbmRsZVBhZ2VDaGFuZ2UgPSAocGFnZSkgPT4gdGhpcy5zZXRTdGF0ZSh7IHBhZ2UgfSk7XG5cbiAgICByZW5kZXJIZWF0cygpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxIZWF0c1BhZ2VcbiAgICAgICAgICAgICAgICBkaXNjaXBsaW5lSnVkZ2U9eyB0aGlzLnByb3BzLmRpc2NpcGxpbmVKdWRnZSB9XG4gICAgICAgICAgICAgICAgaGVhdD17IHRoaXMuc3RhdGUuaGVhdCB9XG4gICAgICAgICAgICAgICAgdG91cj17IHRoaXMucHJvcHMudG91ciB9XG4gICAgICAgICAgICAgICAgb25TY29yZVVwZGF0ZT17IHRoaXMucHJvcHMub25TY29yZVVwZGF0ZSB9XG4gICAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgIH1cbiAgICByZW5kZXJSZXN1bHRzKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFJlc3VsdHNQYWdlXG4gICAgICAgICAgICAgICAgdG91cj17IHRoaXMucHJvcHMudG91ciB9XG4gICAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgIH1cbiAgICByZW5kZXJBY3Rpb25zKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPEFjdGlvbnNQYWdlXG4gICAgICAgICAgICAgICAgdG91cj17IHRoaXMucHJvcHMudG91ciB9XG4gICAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgIH1cbiAgICByZW5kZXJIZWFkZXIoKSB7XG4gICAgICAgIGNvbnN0IGhlYXRzX2NvdW50ID0gdGhpcy5nZXRIZWF0c0NvdW50KCk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8SGVhZGVyXG4gICAgICAgICAgICAgICAgaGVhdD17IHRoaXMuc3RhdGUuaGVhdCB9XG4gICAgICAgICAgICAgICAgaGVhdHNDb3VudD17IGhlYXRzX2NvdW50IH1cbiAgICAgICAgICAgICAgICBoaWRlSGVhdHNCdXR0b25zPXsgdGhpcy5zdGF0ZS5wYWdlICE9PSBcImhlYXRzXCIgfVxuICAgICAgICAgICAgICAgIGp1ZGdlPXsgdGhpcy5wcm9wcy5kaXNjaXBsaW5lSnVkZ2UuanVkZ2UgfVxuICAgICAgICAgICAgICAgIG1heEhlYXQ9eyBoZWF0c19jb3VudCB9XG4gICAgICAgICAgICAgICAgdG91cj17IHRoaXMucHJvcHMudG91ciB9XG4gICAgICAgICAgICAgICAgb25OZXh0SGVhdENsaWNrPXsgdGhpcy5oYW5kbGVOZXh0SGVhdENsaWNrIH1cbiAgICAgICAgICAgICAgICBvblByZXZIZWF0Q2xpY2s9eyB0aGlzLmhhbmRsZVByZXZIZWF0Q2xpY2sgfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICB9XG4gICAgcmVuZGVyQm9keSgpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlLnBhZ2UpIHtcbiAgICAgICAgY2FzZSBcImhlYXRzXCI6XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJIZWF0cygpO1xuICAgICAgICBjYXNlIFwicmVzdWx0c1wiOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyUmVzdWx0cygpO1xuICAgICAgICBjYXNlIFwiYWN0aW9uc1wiOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyQWN0aW9ucygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbmRlckZvb3RlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxGb290ZXJcbiAgICAgICAgICAgICAgICB2YWx1ZT17IHRoaXMuc3RhdGUucGFnZSB9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLmhhbmRsZVBhZ2VDaGFuZ2UgfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxGb290ZXJJdGVtXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPXsgXyhcInRhYmxldC5wYWdlcy5oZWF0c1wiKSB9XG4gICAgICAgICAgICAgICAgICAgIG1rZXk9XCJoZWF0c1wiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8Rm9vdGVySXRlbVxuICAgICAgICAgICAgICAgICAgICBsYWJlbD17IF8oXCJ0YWJsZXQucGFnZXMucmVzdWx0c1wiKSB9XG4gICAgICAgICAgICAgICAgICAgIG1rZXk9XCJyZXN1bHRzXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxGb290ZXJJdGVtXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPXsgXyhcInRhYmxldC5wYWdlcy5hY3Rpb25zXCIpIH1cbiAgICAgICAgICAgICAgICAgICAgbWtleT1cImFjdGlvbnNcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0Zvb3Rlcj5cbiAgICAgICAgKTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3NmYXJyLUp1ZGdlVGFibGV0IEhlYWRKdWRnZUxheW91dFwiPlxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJIZWFkZXIoKSB9XG4gICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlckJvZHkoKSB9XG4gICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlckZvb3RlcigpIH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cbiIsImltcG9ydCBfIGZyb20gXCJsMTBuXCI7XHJcblxyXG5pbXBvcnQgb25Ub3VjaEVuZE9yQ2xpY2sgZnJvbSBcInRhYmxldF91aS9vblRvdWNoRW5kT3JDbGlja1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVhZGVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcclxuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBoZWF0OiBQVC5udW1iZXIuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgaGVhdHNDb3VudDogUFQubnVtYmVyLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIGhpZGVIZWF0c0J1dHRvbnM6IFBULmJvb2wsXHJcbiAgICAgICAgICAgIGp1ZGdlOiBQVC5zaGFwZSh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgICAgIHJvbGVfZGVzY3JpcHRpb246IFBULnN0cmluZyxcclxuICAgICAgICAgICAgICAgIG51bWJlcjogUFQuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIG1heEhlYXQ6IFBULm51bWJlci5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICB0b3VyOiBQVC5zaGFwZSh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgICAgIGRpc2NpcGxpbmU6IFBULnNoYXBlKHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIG9uTmV4dEhlYXRDbGljazogUFQuZnVuYy5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICBvblByZXZIZWF0Q2xpY2s6IFBULmZ1bmMuaXNSZXF1aXJlZCxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXQgZGVmYXVsdFByb3BzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGhpZGVIZWF0c0J1dHRvbnM6IGZhbHNlLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyUHJldkhlYXRCdXR0b24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuaGlkZUhlYXRzQnV0dG9ucyB8fCB0aGlzLnByb3BzLmhlYXQgPD0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXR0b24tY29udGFpbmVyXCIgLz5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXR0b24tY29udGFpbmVyIGxlZnRcIj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24geyAuLi5vblRvdWNoRW5kT3JDbGljayh0aGlzLnByb3BzLm9uUHJldkhlYXRDbGljaykgfT5cclxuICAgICAgICAgICAgICAgICAgICB7IF8oXCJ0YWJsZXQuYnV0dG9ucy5wcmV2X2hlYXRcIikgfVxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbiAgICByZW5kZXJOZXh0SGVhdEJ1dHRvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5oaWRlSGVhdHNCdXR0b25zIHx8IHRoaXMucHJvcHMuaGVhdCA+PSB0aGlzLnByb3BzLm1heEhlYXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uLWNvbnRhaW5lclwiIC8+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uLWNvbnRhaW5lciByaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB7IC4uLm9uVG91Y2hFbmRPckNsaWNrKHRoaXMucHJvcHMub25OZXh0SGVhdENsaWNrKSB9PlxyXG4gICAgICAgICAgICAgICAgICAgIHsgXyhcInRhYmxldC5idXR0b25zLm5leHRfaGVhdFwiKSB9XHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCBqdWRnZV9udW1iZXIgPSB0aGlzLnByb3BzLmp1ZGdlLnJvbGVfZGVzY3JpcHRpb24gfHwgXyhcImdsb2JhbC5waHJhc2VzLmp1ZGdlX25cIiwgdGhpcy5wcm9wcy5qdWRnZS5udW1iZXIpO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxoZWFkZXI+XHJcbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyUHJldkhlYXRCdXR0b24oKSB9XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRhdGFcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aDE+eyBqdWRnZV9udW1iZXIgfTwvaDE+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMj57IHRoaXMucHJvcHMuanVkZ2UubmFtZSB9PC9oMj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aDE+eyB0aGlzLnByb3BzLnRvdXIuZGlzY2lwbGluZS5uYW1lIH08L2gxPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aDI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMudG91ci5uYW1lIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBfKFwidGFibGV0Lmdsb2JhbC5oZWF0X251bWJlclwiLCB0aGlzLnByb3BzLmhlYXQsIHRoaXMucHJvcHMuaGVhdHNDb3VudCApIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlck5leHRIZWF0QnV0dG9uKCkgfVxyXG4gICAgICAgICAgICA8L2hlYWRlcj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBHZW5lcmFsU2NhbGUgZnJvbSBcIkp1ZGdlVGFibGV0L0dlbmVyYWxTY2FsZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NvcmluZ0xheW91dCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xyXG4gICAgc3RhdGljIGdldCBwcm9wVHlwZXMoKSB7XHJcbiAgICAgICAgY29uc3QgUFQgPSBSZWFjdC5Qcm9wVHlwZXM7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVhZE9ubHk6IFBULmJvb2wuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgc2NvcmVEYXRhOiBQVC5zaGFwZSh7XHJcbiAgICAgICAgICAgICAgICBwb2ludHM6IFBULm51bWJlcixcclxuICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgb25TY29yZVVwZGF0ZTogUFQuZnVuYy5pc1JlcXVpcmVkLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ2hhbmdlID0gKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vblNjb3JlVXBkYXRlKFwicG9pbnRzXCIsIHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPEdlbmVyYWxTY2FsZVxyXG4gICAgICAgICAgICAgICAgbWF4PXsgNDAgfVxyXG4gICAgICAgICAgICAgICAgbWluPXsgMSB9XHJcbiAgICAgICAgICAgICAgICByZWFkT25seT17IHRoaXMucHJvcHMucmVhZE9ubHkgfVxyXG4gICAgICAgICAgICAgICAgcm93U2l6ZT17IDEwIH1cclxuICAgICAgICAgICAgICAgIHNjYWxlPVwiZ3JpZFwiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17IHRoaXMucHJvcHMuc2NvcmVEYXRhLnBvaW50cyB9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMuaGFuZGxlQ2hhbmdlIH1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBfIGZyb20gXCJsMTBuXCI7XG5cbmltcG9ydCBJbnRlZ2VySW5wdXQgZnJvbSBcInRhYmxldF91aS9JbnRlZ2VySW5wdXRcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWlzdGFrZXMgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcbiAgICAgICAgY29uc3QgUFQgPSBSZWFjdC5Qcm9wVHlwZXM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZWFkT25seTogUFQuYm9vbC5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgc2NvcmVEYXRhOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgc21hbGxfbWlzdGFrZXM6IFBULm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIGJpZ19taXN0YWtlczogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgb25TY29yZVVwZGF0ZTogUFQuZnVuYy5pc1JlcXVpcmVkLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGhhbmRsZVNtYWxsTWlzdGFrZXNDaGFuZ2UgPSAodmFsdWUpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5vblNjb3JlVXBkYXRlKFwic21hbGxfbWlzdGFrZXNcIiwgdmFsdWUpO1xuICAgIH1cbiAgICBoYW5kbGVCaWdNaXN0YWtlc0NoYW5nZSA9ICh2YWx1ZSkgPT4ge1xuICAgICAgICB0aGlzLnByb3BzLm9uU2NvcmVVcGRhdGUoXCJiaWdfbWlzdGFrZXNcIiwgdmFsdWUpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJtaXN0YWtlcyBmdWxsLXdpZHRoXCI+PHRib2R5Pjx0cj5cbiAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgIDxoMz57IF8oXCJ0YWJsZXQuZGFuY2VfanVkZ2Uuc21hbGxfbWlzdGFrZXNcIikgfTwvaDM+XG4gICAgICAgICAgICAgICAgICAgIDxJbnRlZ2VySW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5PXsgdGhpcy5wcm9wcy5yZWFkT25seSB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17IHRoaXMucHJvcHMuc2NvcmVEYXRhLnNtYWxsX21pc3Rha2VzIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsgdGhpcy5oYW5kbGVTbWFsbE1pc3Rha2VzQ2hhbmdlIH1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L3RkPjx0ZD5cbiAgICAgICAgICAgICAgICAgICAgPGgzPnsgXyhcInRhYmxldC5kYW5jZV9qdWRnZS5iaWdfbWlzdGFrZXNcIikgfTwvaDM+XG4gICAgICAgICAgICAgICAgICAgIDxJbnRlZ2VySW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5PXsgdGhpcy5wcm9wcy5yZWFkT25seSB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17IHRoaXMucHJvcHMuc2NvcmVEYXRhLmJpZ19taXN0YWtlcyB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMuaGFuZGxlQmlnTWlzdGFrZXNDaGFuZ2UgfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICA8L3RyPjwvdGJvZHk+PC90YWJsZT5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgXyBmcm9tIFwibDEwblwiO1xuXG5pbXBvcnQgTWlzdGFrZXMgZnJvbSBcIi4vTWlzdGFrZXNcIjtcbmltcG9ydCBHZW5lcmFsU2NhbGUgZnJvbSBcIkp1ZGdlVGFibGV0L0dlbmVyYWxTY2FsZVwiO1xuaW1wb3J0IFRvdGFsU2NvcmUgZnJvbSBcIkp1ZGdlVGFibGV0L1RvdGFsU2NvcmVcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NvcmluZ0xheW91dCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlYWRPbmx5OiBQVC5ib29sLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBzY29yZTogUFQub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBzY29yZURhdGE6IFBULm9iamVjdC5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgb25TY29yZVVwZGF0ZTogUFQuZnVuYy5pc1JlcXVpcmVkLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJlbmRlclBhcnQoY29kZSwgc2NhbGUsIGFkZGl0aW9uYWxfcHJvcHM9e30pIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxHZW5lcmFsU2NhbGVcbiAgICAgICAgICAgICAgICBjb2RlPXsgY29kZSB9XG4gICAgICAgICAgICAgICAgaGVhZGVyPXsgXyhgdGFibGV0LmRhbmNlX2p1ZGdlLiR7Y29kZX1gKSB9XG4gICAgICAgICAgICAgICAgcmVhZE9ubHk9eyB0aGlzLnByb3BzLnJlYWRPbmx5IH1cbiAgICAgICAgICAgICAgICBzY2FsZT17IHNjYWxlIH1cbiAgICAgICAgICAgICAgICB2YWx1ZT17IHRoaXMucHJvcHMuc2NvcmVEYXRhW2NvZGVdIH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMucHJvcHMub25TY29yZVVwZGF0ZSB9XG4gICAgICAgICAgICAgICAgeyAuLi5hZGRpdGlvbmFsX3Byb3BzIH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlclBhcnQoXCJmd1wiLCBcInJlZHVjdGlvblwiKSB9XG4gICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlclBhcnQoXCJkYW5jZV9maWdzXCIsIFwicG9pbnQ1XCIsIHsgbWluOiAwLCBtYXg6IDEwLCBzdGVwOiAwLjUgfSkgfVxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJQYXJ0KFwiY29tcG9zaXRpb25cIiwgXCJwb2ludDVcIiwgeyBtaW46IDAsIG1heDogMTAsIHN0ZXA6IDAuNSB9KSB9XG4gICAgICAgICAgICAgICAgPE1pc3Rha2VzXG4gICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5PXsgdGhpcy5wcm9wcy5yZWFkT25seSB9XG4gICAgICAgICAgICAgICAgICAgIHNjb3JlRGF0YT17IHRoaXMucHJvcHMuc2NvcmVEYXRhIH1cbiAgICAgICAgICAgICAgICAgICAgb25TY29yZVVwZGF0ZT17IHRoaXMucHJvcHMub25TY29yZVVwZGF0ZSB9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8VG90YWxTY29yZVxuICAgICAgICAgICAgICAgICAgICBzY29yZT17IHRoaXMucHJvcHMuc2NvcmUgfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgR2VuZXJhbExheW91dCBmcm9tIFwiSnVkZ2VUYWJsZXQvR2VuZXJhbExheW91dFwiO1xuaW1wb3J0IFNjb3JpbmdMYXlvdXQgZnJvbSBcIi4vU2NvcmluZ0xheW91dFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTb2xvTGF5b3V0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPEdlbmVyYWxMYXlvdXRcbiAgICAgICAgICAgICAgICBsYXlvdXRDbGFzcz17IFNjb3JpbmdMYXlvdXQgfVxuICAgICAgICAgICAgICAgIHsgLi4udGhpcy5wcm9wcyB9XG4gICAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgIH1cbn1cbiIsImltcG9ydCBPdmVycmlkZUlucHV0IGZyb20gXCIuL092ZXJyaWRlSW5wdXRcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWxlbWVudCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFjcm86IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICBzY29yZTogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxfc2NvcmU6IFBULm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBpZHg6IFBULm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgcmVhZE9ubHk6IFBULmJvb2wuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIG9uQWNyb092ZXJyaWRlOiBQVC5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaGFuZGxlQ2hhbmdlID0gKHZhbHVlKSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMub25BY3JvT3ZlcnJpZGUodGhpcy5wcm9wcy5pZHgsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBmb3JtYXREZXNjcmlwdGlvbkNodW5rID0gKHRleHQsIGlkeCkgPT4ge1xuICAgICAgICBpZiAodGV4dCA9PT0gXCJcIikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGlkeCAlIDIgPT09IDBcbiAgICAgICAgICAgICAgICA/IDxzcGFuIGtleT17IGlkeCB9PnsgdGV4dCB9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDogPHNwYW4gY2xhc3NOYW1lPVwiaGlnaGxpZ2h0XCIga2V5PXsgaWR4IH0+eyB0ZXh0IH08L3NwYW4+XG4gICAgICAgICk7XG4gICAgfVxuICAgIHJlbmRlckRlc2NyaXB0aW9uKCkge1xuICAgICAgICBjb25zdCBjaHVua3MgPSB0aGlzLnByb3BzLmFjcm8uZGVzY3JpcHRpb24uc3BsaXQoXCJfXCIpO1xuICAgICAgICBpZiAoY2h1bmtzLmxlbmd0aCAlIDIgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BzLmFjcm8uZGVzY3JpcHRpb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNodW5rcy5tYXAodGhpcy5mb3JtYXREZXNjcmlwdGlvbkNodW5rKVxuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRlY2gtanVkZ2UtYWNyb1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbHNcIj5cbiAgICAgICAgICAgICAgICAgICAgPE92ZXJyaWRlSW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsVmFsdWU9eyB0aGlzLnByb3BzLmFjcm8ub3JpZ2luYWxfc2NvcmUgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk9eyB0aGlzLnByb3BzLnJlYWRPbmx5IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXsgdGhpcy5wcm9wcy5hY3JvLnNjb3JlIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsgdGhpcy5oYW5kbGVDaGFuZ2UgfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlckRlc2NyaXB0aW9uKCkgfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2xlYXJmaXhcIiAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiaW1wb3J0IG9uVG91Y2hPckNsaWNrIGZyb20gXCJ0YWJsZXRfdWkvb25Ub3VjaE9yQ2xpY2tcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3ZlcnJpZGVJbnB1dCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9yaWdpbmFsVmFsdWU6IFBULm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgcmVhZE9ubHk6IFBULmJvb2wuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIHZhbHVlOiBQVC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBQVC5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaGFuZGxlTWludXMgPSAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnJlYWRPbmx5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZShNYXRoLm1heCh0aGlzLnByb3BzLnZhbHVlIC0gMC41LCAwKSk7XG4gICAgfVxuICAgIGhhbmRsZVBsdXMgPSAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnJlYWRPbmx5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZShNYXRoLm1pbih0aGlzLnByb3BzLnZhbHVlICsgMC41LCB0aGlzLnByb3BzLm9yaWdpbmFsVmFsdWUpKTtcbiAgICB9XG4gICAgaGFuZGxlWmVybyA9ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucmVhZE9ubHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKDApO1xuICAgIH1cbiAgICBoYW5kbGVSZXN0b3JlID0gKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5yZWFkT25seSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UodGhpcy5wcm9wcy5vcmlnaW5hbFZhbHVlKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlX2NoYW5nZWQgPSBNYXRoLmFicyh0aGlzLnByb3BzLnZhbHVlIC0gdGhpcy5wcm9wcy5vcmlnaW5hbFZhbHVlKTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGFibGV0LWFjcm8tb3ZlcnJpZGUtaW5wdXRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dHRvbnNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXplcm9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyB0aGlzLnByb3BzLnZhbHVlIDwgMC4wNSB8fCB0aGlzLnByb3BzLnJlYWRPbmx5IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHsgLi4ub25Ub3VjaE9yQ2xpY2sodGhpcy5oYW5kbGVaZXJvKSB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIOKGkzBcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1yZXN0b3JlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXsgdmFsdWVfY2hhbmdlZCA8IDAuMDUgfHwgdGhpcy5wcm9wcy5yZWFkT25seSB9XG4gICAgICAgICAgICAgICAgICAgICAgICB7IC4uLm9uVG91Y2hPckNsaWNrKHRoaXMuaGFuZGxlUmVzdG9yZSkgfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICDihpFcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1taW51c1wiXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IHRoaXMucHJvcHMudmFsdWUgPCAwLjA1IHx8IHRoaXMucHJvcHMucmVhZE9ubHkgfVxuICAgICAgICAgICAgICAgICAgICAgICAgeyAuLi5vblRvdWNoT3JDbGljayh0aGlzLmhhbmRsZU1pbnVzKSB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICZtaW51cztcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wbHVzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXsgdGhpcy5wcm9wcy5vcmlnaW5hbFZhbHVlIDwgdGhpcy5wcm9wcy52YWx1ZSArIDAuMDUgfHwgdGhpcy5wcm9wcy5yZWFkT25seSB9XG4gICAgICAgICAgICAgICAgICAgICAgICB7IC4uLm9uVG91Y2hPckNsaWNrKHRoaXMuaGFuZGxlUGx1cykgfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICArXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidmFsdWVcIj5cbiAgICAgICAgICAgICAgICAgICAgeyB2YWx1ZV9jaGFuZ2VkXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGAke3RoaXMucHJvcHMub3JpZ2luYWxWYWx1ZS50b0ZpeGVkKDEpfSDihpIgJHt0aGlzLnByb3BzLnZhbHVlLnRvRml4ZWQoMSl9YFxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLnByb3BzLnZhbHVlLnRvRml4ZWQoMSkgfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIClcbiAgICB9XG59XG5cbk92ZXJyaWRlSW5wdXQuZGlzcGxheU5hbWUgPSBcInJ1bGVzX3NldHNfcm9zZmFycl9KdWRnZVRhYmxldF9UZWNoSnVkZ2VMYXlvdXRfQWNyb1BhZ2VfU2NvcmluZ0xheW91dF9PdmVycmlkZUlucHV0XCI7XG4iLCJpbXBvcnQgXyBmcm9tIFwibDEwblwiO1xuXG5pbXBvcnQgeyBBcGkgfSBmcm9tIFwiSG9zdE1vZHVsZXNcIjtcblxuaW1wb3J0IEVsZW1lbnQgZnJvbSBcIi4vRWxlbWVudFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY29yaW5nTGF5b3V0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIGdldCBwcm9wVHlwZXMoKSB7XG4gICAgICAgIGNvbnN0IFBUID0gUmVhY3QuUHJvcFR5cGVzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGlzY2lwbGluZUp1ZGdlOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgaWQ6IFBULm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIHJ1bjogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgIGlkOiBQVC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFBULm9uZU9mKFtcIk9LXCIsIFwiTlBcIiwgXCJEUVwiXSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICBhY3JvYmF0aWNzOiBQVC5hcnJheU9mKFxuICAgICAgICAgICAgICAgICAgICBQVC5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICApLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgcGFydGljaXBhbnQ6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBQVC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogUFQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgIHNwb3J0c21lbjogUFQuYXJyYXkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIHNjb3JlOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgY29uZmlybWVkOiBQVC5ib29sLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgaWQ6IFBULm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIGRhdGE6IFBULm9iamVjdC5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIG9uU2NvcmVDb25maXJtOiBQVC5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaGFuZGxlQWNyb092ZXJyaWRlID0gKGFjcm9faWR4LCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5zY29yZS5jb25maXJtZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBBcGkoXCJhY3JvYmF0aWNfb3ZlcnJpZGUuc2V0XCIsIHtcbiAgICAgICAgICAgIHJ1bl9pZDogdGhpcy5wcm9wcy5ydW4uaWQsXG4gICAgICAgICAgICBhY3JvYmF0aWNfaWR4OiBhY3JvX2lkeCxcbiAgICAgICAgICAgIHNjb3JlOiB2YWx1ZSxcbiAgICAgICAgfSkuc2VuZCgpO1xuICAgIH1cblxuICAgIHJlbmRlclNjb3JpbmdMYXlvdXQoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5ydW4uYWNyb2JhdGljcy5tYXAoKGFjcm8sIGlkeCkgPT5cbiAgICAgICAgICAgICAgICAgICAgPEVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjcm89eyBhY3JvIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlkeD17IGlkeCB9XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9eyBpZHggfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk9eyB0aGlzLnByb3BzLnNjb3JlLmNvbmZpcm1lZCB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkFjcm9PdmVycmlkZT17IHRoaXMuaGFuZGxlQWNyb092ZXJyaWRlIH1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApIH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgfVxuICAgIHJlbmRlck5vdE9rU3RhdHVzTWVzc2FnZSgpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibm90LXBlcmZvcm1pbmdcIj5cbiAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMucnVuLnN0YXR1cyA9PT0gXCJOUFwiXG4gICAgICAgICAgICAgICAgICAgID8gXyhcInRhYmxldC5nbG9iYWwubm90X3BlcmZvcm1pbmdcIilcbiAgICAgICAgICAgICAgICAgICAgOiBfKFwidGFibGV0Lmdsb2JhbC5kaXNxdWFsaWZpZWRcIikgfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc2NvcmUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoZWFkZXIgPSBfKFwiZ2xvYmFsLnBocmFzZXMucGFydGljaXBhbnRfblwiLFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5ydW4ucGFydGljaXBhbnQubnVtYmVyLFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5ydW4ucGFydGljaXBhbnQubmFtZSxcbiAgICAgICAgICAgIHRoaXMucHJvcHMucnVuLnBhcnRpY2lwYW50LnNwb3J0c21lbi5sZW5ndGgpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsYXlvdXQtcGFydGljaXBhbnRcIj5cbiAgICAgICAgICAgICAgICA8aDI+XG4gICAgICAgICAgICAgICAgICAgIHsgaGVhZGVyIH1cbiAgICAgICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5ydW4uc3RhdHVzID09PSBcIk9LXCJcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLnJlbmRlclNjb3JpbmdMYXlvdXQoKVxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMucmVuZGVyTm90T2tTdGF0dXNNZXNzYWdlKCkgfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiaW1wb3J0IEdyaWQgZnJvbSBcIkp1ZGdlVGFibGV0L0dyaWRcIjtcblxuaW1wb3J0IFNjb3JpbmdMYXlvdXQgZnJvbSBcIi4vU2NvcmluZ0xheW91dFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBY3JvUGFnZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRpc2NpcGxpbmVKdWRnZTogUFQub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBydW5zOiBQVC5hcnJheU9mKFxuICAgICAgICAgICAgICAgIFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IFBULm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICApLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBzY29yZXM6IFBULmluc3RhbmNlT2YoTWFwKS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgdG91cjogUFQub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBvblNjb3JlQ29uZmlybTogUFQuZnVuYy5pc1JlcXVpcmVkLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJlbmRlclNjb3JlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMucnVucy5tYXAocnVuID0+XG4gICAgICAgICAgICA8U2NvcmluZ0xheW91dFxuICAgICAgICAgICAgICAgIGRpc2NpcGxpbmVKdWRnZT17IHRoaXMucHJvcHMuZGlzY2lwbGluZUp1ZGdlIH1cbiAgICAgICAgICAgICAgICBrZXk9eyBydW4uaWQgfVxuICAgICAgICAgICAgICAgIHJ1bj17IHJ1biB9XG4gICAgICAgICAgICAgICAgc2NvcmU9eyB0aGlzLnByb3BzLnNjb3Jlcy5nZXQocnVuLmlkKSB9XG4gICAgICAgICAgICAgICAgdG91cj17IHRoaXMucHJvcHMudG91ciB9XG4gICAgICAgICAgICAgICAgb25TY29yZUNvbmZpcm09eyB0aGlzLnByb3BzLm9uU2NvcmVDb25maXJtIH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxHcmlkPlxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJTY29yZXMoKSB9XG4gICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiaW1wb3J0IF8gZnJvbSBcImwxMG5cIjtcblxuaW1wb3J0IFNlbGVjdG9ySW5wdXQgZnJvbSBcInRhYmxldF91aS9TZWxlY3RvcklucHV0XCI7XG5pbXBvcnQgSW50ZWdlcklucHV0IGZyb20gXCJ0YWJsZXRfdWkvSW50ZWdlcklucHV0XCI7XG5cbmltcG9ydCBQcmV2aW91c0NhcmRzIGZyb20gXCJKdWRnZVRhYmxldC9IZWFkSnVkZ2VMYXlvdXQvSGVhdHNQYWdlL1Njb3JpbmdMYXlvdXQvUHJldmlvdXNDYXJkc1wiO1xuXG5pbXBvcnQgU3RvcFdhdGNoIGZyb20gXCIuL1N0b3BXYXRjaFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY29yaW5nTGF5b3V0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIGdldCBwcm9wVHlwZXMoKSB7XG4gICAgICAgIGNvbnN0IFBUID0gUmVhY3QuUHJvcFR5cGVzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGlzY2lwbGluZUp1ZGdlOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgaWQ6IFBULm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIHJ1bjogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgIHN0YXR1czogUFQub25lT2YoW1wiT0tcIiwgXCJOUFwiLCBcIkRRXCJdKS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50OiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgICAgIG51bWJlcjogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFBULnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICBzcG9ydHNtZW46IFBULmFycmF5LmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBzY29yZTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgIGNvbmZpcm1lZDogUFQuYm9vbC5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIGlkOiBQVC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICBkYXRhOiBQVC5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB0b3VyOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgc2NvcmluZ19zeXN0ZW1fbmFtZTogUFQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgb25TY29yZVVwZGF0ZTogUFQuZnVuYy5pc1JlcXVpcmVkLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGhhbmRsZVNjb3JlQ2hhbmdlID0gKHBhcnQsIHZhbHVlKSA9PiB7XG4gICAgICAgIGxldCBkYXRhID0ge307XG4gICAgICAgIGRhdGFbcGFydF0gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5wcm9wcy5vblNjb3JlVXBkYXRlKHRoaXMucHJvcHMuc2NvcmUuaWQsIGRhdGEpO1xuICAgIH1cblxuICAgIGhhbmRsZUp1bXBTdGVwc0NoYW5nZSA9ICh2YWx1ZSkgPT4gdGhpcy5oYW5kbGVTY29yZUNoYW5nZShcImp1bXBfc3RlcHNcIiwgdmFsdWUpO1xuICAgIGhhbmRsZVRpbWVDaGFuZ2UgPSAodmFsdWUpID0+IHRoaXMuaGFuZGxlU2NvcmVDaGFuZ2UoXCJ0aW1lXCIsIHZhbHVlKTtcbiAgICBoYW5kbGVDYXJkQ2hhbmdlID0gKHZhbHVlKSA9PiB0aGlzLmhhbmRsZVNjb3JlQ2hhbmdlKFwiY2FyZFwiLCB2YWx1ZSk7XG5cbiAgICBnZW5PblNjb3JlVXBkYXRlKHNjb3JlX3BhcnQpIHtcbiAgICAgICAgcmV0dXJuIChuZXdfdmFsdWUpID0+IHRoaXMub25TY29yZVVwZGF0ZShzY29yZV9wYXJ0LCBuZXdfdmFsdWUpO1xuICAgIH1cblxuICAgIHJlbmRlclNjb3JpbmdMYXlvdXQoKSB7XG4gICAgICAgIGNvbnN0IHNjb3JlID0gdGhpcy5wcm9wcy5zY29yZS5kYXRhO1xuICAgICAgICBjb25zdCBjYXJkcyA9IFtcInJvc2ZhcnIuZm9ybWF0aW9uXCIsIFwicm9zZmFyci5mb3JtYXRpb25fYWNyb1wiXS5pbmNsdWRlcyh0aGlzLnByb3BzLnRvdXIuc2NvcmluZ19zeXN0ZW1fbmFtZSlcbiAgICAgICAgICAgID8gW1xuICAgICAgICAgICAgICAgIFtudWxsLCAgXCLigJRcIl0sXG4gICAgICAgICAgICAgICAgW1wiT0tcIiwgIF8oXCJ0YWJsZXQudGVjaF9qdWRnZS5va1wiKV0sXG4gICAgICAgICAgICAgICAgW1wiWUNcIiwgIF8oXCJ0YWJsZXQudGVjaF9qdWRnZS5mb3JtX3llbGxvd19jYXJkXCIpXSxcbiAgICAgICAgICAgICAgICBbXCJSQ1wiLCAgXyhcInRhYmxldC50ZWNoX2p1ZGdlLmZvcm1fcmVkX2NhcmRcIildLFxuICAgICAgICAgICAgXVxuICAgICAgICAgICAgOiBbXG4gICAgICAgICAgICAgICAgW251bGwsICBcIuKAlFwiXSxcbiAgICAgICAgICAgICAgICBbXCJPS1wiLCAgXyhcInRhYmxldC50ZWNoX2p1ZGdlLm9rXCIpXSxcbiAgICAgICAgICAgICAgICBbXCJZQ1wiLCAgXyhcInRhYmxldC50ZWNoX2p1ZGdlLnllbGxvd19jYXJkXCIpXSxcbiAgICAgICAgICAgICAgICBbXCJSQ1wiLCAgXyhcInRhYmxldC50ZWNoX2p1ZGdlLnJlZF9jYXJkXCIpXSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxoMz5cbiAgICAgICAgICAgICAgICAgICAgeyBfKFwidGFibGV0LnRlY2hfanVkZ2UuY2FyZF90eXBlXCIpIH1cbiAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgIDxTZWxlY3RvcklucHV0XG4gICAgICAgICAgICAgICAgICAgIGNob2ljZXM9eyBjYXJkcyB9XG4gICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5PXsgdGhpcy5wcm9wcy5zY29yZS5jb25maXJtZWQgfVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17IHNjb3JlLnJhd19kYXRhLmNhcmQgfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMuaGFuZGxlQ2FyZENoYW5nZSB9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8UHJldmlvdXNDYXJkc1xuICAgICAgICAgICAgICAgICAgICBydW49eyB0aGlzLnByb3BzLnJ1biB9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlclwiIC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJqdW1wLXN0ZXBzXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMz57IF8oXCJ0YWJsZXQudGVjaF9qdWRnZS5qdW1wX3N0ZXBzXCIpIH08L2gzPlxuICAgICAgICAgICAgICAgICAgICA8SW50ZWdlcklucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kRGVsdGFzXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seT17IHRoaXMucHJvcHMuc2NvcmUuY29uZmlybWVkIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXsgc2NvcmUucmF3X2RhdGEuanVtcF9zdGVwcyB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMuaGFuZGxlSnVtcFN0ZXBzQ2hhbmdlIH1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZXJcIiAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGltaW5nXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMz5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsgXyhcInRhYmxldC50ZWNoX2p1ZGdlLnRpbWluZ1wiKSB9XG4gICAgICAgICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgICAgICAgIDxTdG9wV2F0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5PXsgdGhpcy5wcm9wcy5zY29yZS5jb25maXJtZWQgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVJZD17IHRoaXMucHJvcHMuc2NvcmUuaWQgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9eyBzY29yZS5yYXdfZGF0YS50aW1lIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsgdGhpcy5oYW5kbGVUaW1lQ2hhbmdlIH1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyZml4XCIgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgfVxuICAgIHJlbmRlck5vdE9rU3RhdHVzTWVzc2FnZSgpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibm90LXBlcmZvcm1pbmdcIj5cbiAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMucnVuLnN0YXR1cyA9PT0gXCJOUFwiXG4gICAgICAgICAgICAgICAgICAgID8gXyhcInRhYmxldC5nbG9iYWwubm90X3BlcmZvcm1pbmdcIilcbiAgICAgICAgICAgICAgICAgICAgOiBfKFwidGFibGV0Lmdsb2JhbC5kaXNxdWFsaWZpZWRcIikgfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc2NvcmUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoZWFkZXIgPSBfKFwiZ2xvYmFsLnBocmFzZXMucGFydGljaXBhbnRfblwiLFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5ydW4ucGFydGljaXBhbnQubnVtYmVyLFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5ydW4ucGFydGljaXBhbnQubmFtZSxcbiAgICAgICAgICAgIHRoaXMucHJvcHMucnVuLnBhcnRpY2lwYW50LnNwb3J0c21lbi5sZW5ndGgpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsYXlvdXQtcGFydGljaXBhbnRcIj5cbiAgICAgICAgICAgICAgICA8aDI+XG4gICAgICAgICAgICAgICAgICAgIHsgaGVhZGVyIH1cbiAgICAgICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5ydW4uc3RhdHVzID09PSBcIk9LXCJcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLnJlbmRlclNjb3JpbmdMYXlvdXQoKVxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMucmVuZGVyTm90T2tTdGF0dXNNZXNzYWdlKCkgfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiaW1wb3J0IF8gZnJvbSBcImwxMG5cIjtcblxuaW1wb3J0IG1ha2VDbGFzc05hbWUgZnJvbSBcImNvbW1vbi9tYWtlQ2xhc3NOYW1lXCI7XG5pbXBvcnQgb25Ub3VjaE9yQ2xpY2sgZnJvbSBcInRhYmxldF91aS9vblRvdWNoT3JDbGlja1wiO1xuXG5sZXQgc3RvcHdhdGNoZXMgPSB7fTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RvcFdhdGNoIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIGdldCBwcm9wVHlwZXMoKSB7XG4gICAgICAgIGNvbnN0IFBUID0gUmVhY3QuUHJvcFR5cGVzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2NvcmVJZDogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB2YWx1ZTogUFQubnVtYmVyLFxuICAgICAgICAgICAgb25DaGFuZ2U6IFBULmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIHJlYWRPbmx5OiBQVC5ib29sLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRQcm9wcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZSxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgbGV0IHN0YXRlID0gc3RvcHdhdGNoZXNbdGhpcy5wcm9wcy5zY29yZUlkXSB8fCB7XG4gICAgICAgICAgICBhY3RpdmU6IGZhbHNlLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBpbnRlcnZhbDogbnVsbCxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHN0YXRlLmFjdGl2ZSkge1xuICAgICAgICAgICAgc3RhdGUuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh0aGlzLmhhbmRsZVRpY2ssIDEwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5zdGF0ZS5pbnRlcnZhbCk7XG4gICAgICAgIHN0b3B3YXRjaGVzW3RoaXMucHJvcHMuc2NvcmVJZF0gPSB0aGlzLnN0YXRlO1xuICAgIH1cblxuICAgIG5vdygpIHtcbiAgICAgICAgcmV0dXJuIChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgfVxuXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgYWN0aXZlOiB0cnVlLFxuICAgICAgICAgICAgc3RhcnRfYXQ6IHRoaXMubm93KCkgLSB0aGlzLnN0YXRlLnZhbHVlLFxuICAgICAgICAgICAgaW50ZXJ2YWw6IHNldEludGVydmFsKHRoaXMuaGFuZGxlVGljaywgMTApLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnN0YXRlLmludGVydmFsKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBhY3RpdmU6IGZhbHNlLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUoKSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaGFuZGxlVG9nZ2xlID0gKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5hY3RpdmUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZVJlc2V0ID0gKCkgPT4ge1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuc3RhdGUuaW50ZXJ2YWwpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGhhbmRsZVRpY2sgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld192YWx1ZSA9IHRoaXMudmFsdWUoKTtcbiAgICAgICAgaWYgKG5ld192YWx1ZSAhPT0gdGhpcy5zdGF0ZS52YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUoKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1vZFN0YXJ0KGRlbHRhKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgc3RhcnRfYXQ6IE1hdGgubWluKHRoaXMuc3RhdGUuc3RhcnRfYXQgLSAxMDAwICogZGVsdGEsIHRoaXMubm93KCkpLFxuICAgICAgICAgICAgdmFsdWU6IE1hdGgubWF4KDAsIHRoaXMuc3RhdGUudmFsdWUgKyAxMDAwICogZGVsdGEpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaGFuZGxlTWludXMxMCA9ICgpID0+IHRoaXMubW9kU3RhcnQoLTEwKVxuICAgIGhhbmRsZU1pbnVzMSA9ICgpID0+IHRoaXMubW9kU3RhcnQoLTEpXG4gICAgaGFuZGxlUGx1czEgPSAoKSA9PiB0aGlzLm1vZFN0YXJ0KDEpXG4gICAgaGFuZGxlUGx1czEwID0gKCkgPT4gdGhpcy5tb2RTdGFydCgxMClcblxuICAgIGhhbmRsZVRpbWVTdWJtaXNzaW9uID0gKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5yZWFkT25seSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UoTWF0aC5mbG9vcih0aGlzLnN0YXRlLnZhbHVlIC8gMTAwMCkpO1xuICAgIH1cblxuICAgIGhhbmRsZVRpbWVEaXNjYXJkID0gKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5yZWFkT25seSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UobnVsbCk7XG4gICAgfVxuXG4gICAgdmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmFjdGl2ZVxuICAgICAgICAgICAgPyAodGhpcy5ub3coKSAtIHRoaXMuc3RhdGUuc3RhcnRfYXQpXG4gICAgICAgICAgICA6IHRoaXMuc3RhdGUudmFsdWU7XG4gICAgfVxuXG4gICAgcGFkKG51bSwgc2l6ZSkge1xuICAgICAgICBjb25zdCBzID0gYDAwMDAke251bX1gO1xuICAgICAgICByZXR1cm4gcy5zdWJzdHIocy5sZW5ndGggLSBzaXplKTtcbiAgICB9XG4gICAgZ2V0U3RyVmFsdWUodmFsPW51bGwpIHtcbiAgICAgICAgdmFsID0gdmFsID09PSBudWxsID8gdGhpcy52YWx1ZSgpIDogdmFsO1xuICAgICAgICBsZXQgbSA9IDAsIHMgPSAwO1xuICAgICAgICBtID0gTWF0aC5mbG9vcih2YWwgLyAoNjAgKiAxMDAwKSk7XG4gICAgICAgIHZhbCAlPSA2MCAqIDEwMDA7XG4gICAgICAgIHMgPSBNYXRoLmZsb29yKHZhbCAvIDEwMDApO1xuICAgICAgICByZXR1cm4gYCR7bX06JHt0aGlzLnBhZChzLCAyKX1gO1xuICAgIH1cblxuICAgIGdldFRvZ2dsZUJ1dHRvbkNsYXNzTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIG1ha2VDbGFzc05hbWUoe1xuICAgICAgICAgICAgXCJ0YnRuXCI6IHRydWUsXG4gICAgICAgICAgICBcImJ0bi10b2dnbGVcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiaWdub3JlLXJlYWRvbmx5XCI6IHRydWUsXG4gICAgICAgICAgICBcImFjdGl2ZVwiOiB0aGlzLnN0YXRlLmFjdGl2ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldENsYXNzTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIG1ha2VDbGFzc05hbWUoe1xuICAgICAgICAgICAgXCJzdG9wd2F0Y2hcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwicmVhZC1vbmx5XCI6IHRoaXMucHJvcHMucmVhZE9ubHksXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXsgdGhpcy5nZXRDbGFzc05hbWUoKSB9PlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXsgdGhpcy5nZXRUb2dnbGVCdXR0b25DbGFzc05hbWUoKSB9XG4gICAgICAgICAgICAgICAgICAgIHsgLi4ub25Ub3VjaE9yQ2xpY2sodGhpcy5oYW5kbGVUb2dnbGUpIH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHsgdGhpcy5zdGF0ZS5hY3RpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXyhcInRhYmxldC5idXR0b25zLnN0b3Bfc3RvcHdhdGNoXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IF8oXCJ0YWJsZXQuYnV0dG9ucy5zdGFydF9zdG9wd2F0Y2hcIilcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGJ0biBidG4tcmVzZXQgaWdub3JlLXJlYWRvbmx5XCJcbiAgICAgICAgICAgICAgICAgICAgeyAuLi5vblRvdWNoT3JDbGljayh0aGlzLmhhbmRsZVJlc2V0KSB9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7IF8oXCJ0YWJsZXQuYnV0dG9ucy5yZXNldF9zdG9wd2F0Y2hcIikgfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGJ0biBidG4tY3RsIGlnbm9yZS1yZWFkb25seVwiXG4gICAgICAgICAgICAgICAgICAgIHsgLi4ub25Ub3VjaE9yQ2xpY2sodGhpcy5oYW5kbGVNaW51czEwICkgfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgJm1pbnVzOzEwXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YnRuIGJ0bi1jdGwgaWdub3JlLXJlYWRvbmx5XCJcbiAgICAgICAgICAgICAgICAgICAgeyAuLi5vblRvdWNoT3JDbGljayh0aGlzLmhhbmRsZU1pbnVzMSApIH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICZtaW51czsxXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aW1lXCI+XG4gICAgICAgICAgICAgICAgICAgIHsgdGhpcy5nZXRTdHJWYWx1ZSgpIH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRidG4gYnRuLWN0bCBpZ25vcmUtcmVhZG9ubHlcIlxuICAgICAgICAgICAgICAgICAgICB7IC4uLm9uVG91Y2hPckNsaWNrKHRoaXMuaGFuZGxlUGx1czEgKSB9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICArMVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGJ0biBidG4tY3RsIGlnbm9yZS1yZWFkb25seVwiXG4gICAgICAgICAgICAgICAgICAgIHsgLi4ub25Ub3VjaE9yQ2xpY2sodGhpcy5oYW5kbGVQbHVzMTAgKSB9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICArMTBcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRidG4gYnRuLXN1Ym1pdC10aW1lXCJcbiAgICAgICAgICAgICAgICAgICAgeyAuLi5vblRvdWNoT3JDbGljayh0aGlzLmhhbmRsZVRpbWVTdWJtaXNzaW9uKSB9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7IF8oXCJ0YWJsZXQuYnV0dG9ucy5zdWJtaXRfdGltZVwiKSB9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgeyB0aGlzLnByb3BzLnZhbHVlID09PSBudWxsID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGJ0biBidG4tZGlzY2FyZC10aW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgLi4ub25Ub3VjaE9yQ2xpY2sodGhpcy5oYW5kbGVUaW1lRGlzY2FyZCkgfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7IF8oXCJ0YWJsZXQuYnV0dG9ucy5kaXNjYXJkX3RpbWVcIikgfVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICApIH1cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlcnZlci10aW1lXCI+XG4gICAgICAgICAgICAgICAgICAgIHsgXyhcInRhYmxldC50ZWNoX2p1ZGdlLnNlcnZlcl90aW1lXCIsIHRoaXMucHJvcHMudmFsdWUgPT09IG51bGwgPyBudWxsIDogdGhpcy5nZXRTdHJWYWx1ZSh0aGlzLnByb3BzLnZhbHVlICogMTAwMCkpIH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgfVxufVxuIiwiaW1wb3J0IEdyaWQgZnJvbSBcIkp1ZGdlVGFibGV0L0dyaWRcIjtcblxuaW1wb3J0IFNjb3JpbmdMYXlvdXQgZnJvbSBcIi4vU2NvcmluZ0xheW91dFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEYW5jaW5nUGFnZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRpc2NpcGxpbmVKdWRnZTogUFQub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBydW5zOiBQVC5hcnJheU9mKFxuICAgICAgICAgICAgICAgIFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IFBULm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICApLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBzY29yZXM6IFBULmluc3RhbmNlT2YoTWFwKS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgdG91cjogUFQub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBvblNjb3JlVXBkYXRlOiBQVC5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmVuZGVyU2NvcmVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5ydW5zLm1hcChydW4gPT5cbiAgICAgICAgICAgIDxTY29yaW5nTGF5b3V0XG4gICAgICAgICAgICAgICAgZGlzY2lwbGluZUp1ZGdlPXsgdGhpcy5wcm9wcy5kaXNjaXBsaW5lSnVkZ2UgfVxuICAgICAgICAgICAgICAgIGtleT17IHJ1bi5pZCB9XG4gICAgICAgICAgICAgICAgcnVuPXsgcnVuIH1cbiAgICAgICAgICAgICAgICBzY29yZT17IHRoaXMucHJvcHMuc2NvcmVzLmdldChydW4uaWQpIH1cbiAgICAgICAgICAgICAgICB0b3VyPXsgdGhpcy5wcm9wcy50b3VyIH1cbiAgICAgICAgICAgICAgICBvblNjb3JlVXBkYXRlPXsgdGhpcy5wcm9wcy5vblNjb3JlVXBkYXRlIH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxHcmlkPlxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJTY29yZXMoKSB9XG4gICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiaW1wb3J0IF8gZnJvbSBcImwxMG5cIjtcblxuaW1wb3J0IEhlYWRlciBmcm9tIFwiSnVkZ2VUYWJsZXQvSGVhZGVyXCI7XG5pbXBvcnQgRm9vdGVyIGZyb20gXCJKdWRnZVRhYmxldC9Gb290ZXJcIjtcbmltcG9ydCBGb290ZXJJdGVtIGZyb20gXCJKdWRnZVRhYmxldC9Gb290ZXIvRm9vdGVySXRlbVwiO1xuaW1wb3J0IENvbmZpcm1hdGlvbkJ1dHRvbiBmcm9tIFwiSnVkZ2VUYWJsZXQvQ29uZmlybWF0aW9uQnV0dG9uXCI7XG5cbmltcG9ydCBEYW5jaW5nUGFnZSBmcm9tIFwiLi9EYW5jaW5nUGFnZVwiO1xuaW1wb3J0IEFjcm9QYWdlIGZyb20gXCIuL0Fjcm9QYWdlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRlY2hKdWRnZUxheW91dCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRpc2NpcGxpbmVKdWRnZTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgIGlkOiBQVC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICBqdWRnZTogUFQub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgdG91cjogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgIGlkOiBQVC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICBzY29yaW5nX3N5c3RlbV9uYW1lOiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICBydW5zOiBQVC5hcnJheU9mKFxuICAgICAgICAgICAgICAgICAgICBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWF0OiBQVC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogUFQub25lT2YoW1wiT0tcIiwgXCJOUFwiLCBcIkRRXCJdKS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzOiBQVC5hcnJheU9mKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY2lwbGluZV9qdWRnZV9pZDogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICApLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgb25IZWF0Q29uZmlybTogUFQuZnVuYy5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgb25TY29yZVVwZGF0ZTogUFQuZnVuYy5pc1JlcXVpcmVkLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGhlYXQ6IHRoaXMuZ2V0Rmlyc3ROb25Db25maXJtZWRIZWF0KCksXG4gICAgICAgICAgICBwYWdlOiBcImRhbmNpbmdcIixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0X3Byb3BzKSB7XG4gICAgICAgIGlmIChuZXh0X3Byb3BzLnRvdXIuaWQgIT09IHRoaXMucHJvcHMudG91ci5pZCkge1xuICAgICAgICAgICAgY29uc3QgcHJldl9wcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICAgICAgICB0aGlzLnByb3BzID0gbmV4dF9wcm9wcztcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGhlYXQ6IHRoaXMuZ2V0Rmlyc3ROb25Db25maXJtZWRIZWF0KCksXG4gICAgICAgICAgICAgICAgcGFnZTogXCJkYW5jaW5nXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMucHJvcHMgPSBwcmV2X3Byb3BzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0Rmlyc3ROb25Db25maXJtZWRIZWF0KCkge1xuICAgICAgICBmb3IgKGNvbnN0IHJ1biBvZiB0aGlzLnByb3BzLnRvdXIucnVucykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBzY29yZSBvZiBydW4uc2NvcmVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNjb3JlLmRpc2NpcGxpbmVfanVkZ2VfaWQgPT09IHRoaXMucHJvcHMuZGlzY2lwbGluZUp1ZGdlLmlkICYmICFzY29yZS5jb25maXJtZWQgJiYgcnVuLnN0YXR1cyA9PT0gXCJPS1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBydW4uaGVhdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaGVhdHNfY291bnQgfHwgTWF0aC5tYXgoMSwgLi4udGhpcy5wcm9wcy50b3VyLnJ1bnMubWFwKHJ1biA9PiBydW4uaGVhdCkpO1xuICAgIH1cbiAgICBnZXRTY29yZXMoKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAoY29uc3QgcnVuIG9mIHRoaXMucnVucykge1xuICAgICAgICAgICAgcmVzdWx0LnNldChydW4uaWQsIG51bGwpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBzY29yZSBvZiBydW4uc2NvcmVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNjb3JlLmRpc2NpcGxpbmVfanVkZ2VfaWQgPT09IHRoaXMucHJvcHMuZGlzY2lwbGluZUp1ZGdlLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zZXQocnVuLmlkLCBzY29yZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBzZXR1cENhY2hlKCkge1xuICAgICAgICB0aGlzLmhlYXRzX2NvdW50ID0gTWF0aC5tYXgoMSwgLi4udGhpcy5wcm9wcy50b3VyLnJ1bnMubWFwKHJ1biA9PiBydW4uaGVhdCkpO1xuICAgICAgICB0aGlzLnJ1bnMgPSB0aGlzLnByb3BzLnRvdXIucnVucy5maWx0ZXIocnVuID0+IHJ1bi5oZWF0ID09PSB0aGlzLnN0YXRlLmhlYXQpO1xuICAgICAgICB0aGlzLmZpcnN0X25vbl9jb25maXJtZWRfaGVhdCA9IHRoaXMuZ2V0Rmlyc3ROb25Db25maXJtZWRIZWF0KCk7XG4gICAgICAgIHRoaXMuc2NvcmVzID0gdGhpcy5nZXRTY29yZXMoKTtcbiAgICB9XG5cblxuICAgIHNldEhlYXQgPSAoaGVhdCkgPT4gdGhpcy5zZXRTdGF0ZSh7IGhlYXQgfSk7XG4gICAgdXBkYXRlSGVhdCA9IChkZWx0YSkgPT4gdGhpcy5zZXRIZWF0KHRoaXMuc3RhdGUuaGVhdCArIGRlbHRhKTtcblxuICAgIGhhbmRsZVByZXZIZWF0Q2xpY2sgPSAoKSA9PiB0aGlzLnVwZGF0ZUhlYXQoLTEpO1xuICAgIGhhbmRsZU5leHRIZWF0Q2xpY2sgPSAoKSA9PiB0aGlzLnVwZGF0ZUhlYXQoMSk7XG4gICAgaGFuZGxlUGFnZUNoYW5nZSA9IChwYWdlKSA9PiB0aGlzLnNldFN0YXRlKHsgcGFnZSB9KTtcblxuICAgIGhhbmRsZUNvbmZpcm0gPSAoKSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMub25IZWF0Q29uZmlybSh0aGlzLnN0YXRlLmhlYXQpO1xuICAgIH1cblxuICAgIHJlbmRlckRhbmNpbmcoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8RGFuY2luZ1BhZ2VcbiAgICAgICAgICAgICAgICBkaXNjaXBsaW5lSnVkZ2U9eyB0aGlzLnByb3BzLmRpc2NpcGxpbmVKdWRnZSB9XG4gICAgICAgICAgICAgICAgcnVucz17IHRoaXMucnVucyB9XG4gICAgICAgICAgICAgICAgc2NvcmVzPXsgdGhpcy5zY29yZXMgfVxuICAgICAgICAgICAgICAgIHRvdXI9eyB0aGlzLnByb3BzLnRvdXIgfVxuICAgICAgICAgICAgICAgIG9uU2NvcmVVcGRhdGU9eyB0aGlzLnByb3BzLm9uU2NvcmVVcGRhdGUgfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICB9XG4gICAgcmVuZGVyQWNybygpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxBY3JvUGFnZVxuICAgICAgICAgICAgICAgIGRpc2NpcGxpbmVKdWRnZT17IHRoaXMucHJvcHMuZGlzY2lwbGluZUp1ZGdlIH1cbiAgICAgICAgICAgICAgICBydW5zPXsgdGhpcy5ydW5zIH1cbiAgICAgICAgICAgICAgICBzY29yZXM9eyB0aGlzLnNjb3JlcyB9XG4gICAgICAgICAgICAgICAgdG91cj17IHRoaXMucHJvcHMudG91ciB9XG4gICAgICAgICAgICAgICAgb25TY29yZVVwZGF0ZT17IHRoaXMucHJvcHMub25TY29yZVVwZGF0ZSB9XG4gICAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgIH1cbiAgICByZW5kZXJIZWFkZXIoKSB7XG4gICAgICAgIGNvbnN0IGhlYXRzX2NvdW50ID0gdGhpcy5oZWF0c19jb3VudDtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxIZWFkZXJcbiAgICAgICAgICAgICAgICBoZWF0PXsgdGhpcy5zdGF0ZS5oZWF0IH1cbiAgICAgICAgICAgICAgICBoZWF0c0NvdW50PXsgaGVhdHNfY291bnQgfVxuICAgICAgICAgICAgICAgIGp1ZGdlPXsgdGhpcy5wcm9wcy5kaXNjaXBsaW5lSnVkZ2UuanVkZ2UgfVxuICAgICAgICAgICAgICAgIG1heEhlYXQ9eyB0aGlzLmZpcnN0X25vbl9jb25maXJtZWRfaGVhdCB9XG4gICAgICAgICAgICAgICAgdG91cj17IHRoaXMucHJvcHMudG91ciB9XG4gICAgICAgICAgICAgICAgb25OZXh0SGVhdENsaWNrPXsgdGhpcy5oYW5kbGVOZXh0SGVhdENsaWNrIH1cbiAgICAgICAgICAgICAgICBvblByZXZIZWF0Q2xpY2s9eyB0aGlzLmhhbmRsZVByZXZIZWF0Q2xpY2sgfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICB9XG4gICAgcmVuZGVyQm9keSgpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlLnBhZ2UpIHtcbiAgICAgICAgY2FzZSBcImRhbmNpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlckRhbmNpbmcoKTtcbiAgICAgICAgY2FzZSBcImFjcm9cIjpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlckFjcm8oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXJGb290ZXIoKSB7XG4gICAgICAgIGlmIChbXCJyb3NmYXJyLmFjcm9cIiwgXCJyb3NmYXJyLmFtX3F1YWxcIiwgXCJyb3NmYXJyLmFtX2ZpbmFsX2Fjcm9cIl0uaW5kZXhPZih0aGlzLnByb3BzLnRvdXIuc2NvcmluZ19zeXN0ZW1fbmFtZSkgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPEZvb3RlciB2YWx1ZT17IHRoaXMuc3RhdGUucGFnZSB9IG9uQ2hhbmdlPXsgdGhpcy5oYW5kbGVQYWdlQ2hhbmdlIH0+XG4gICAgICAgICAgICAgICAgPEZvb3Rlckl0ZW1cbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9eyBfKFwidGFibGV0LnBhZ2VzLmRhbmNpbmdcIikgfVxuICAgICAgICAgICAgICAgICAgICBta2V5PVwiZGFuY2luZ1wiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8Rm9vdGVySXRlbVxuICAgICAgICAgICAgICAgICAgICBsYWJlbD17IF8oXCJ0YWJsZXQucGFnZXMuYWNyb1wiKSB9XG4gICAgICAgICAgICAgICAgICAgIG1rZXk9XCJhY3JvXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb290ZXI+XG4gICAgICAgICk7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5zZXR1cENhY2hlKCk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvc2ZhcnItSnVkZ2VUYWJsZXQgVGVjaEp1ZGdlTGF5b3V0XCI+XG4gICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlckhlYWRlcigpIH1cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvZHlcIj5cbiAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlckJvZHkoKSB9XG4gICAgICAgICAgICAgICAgICAgIDxDb25maXJtYXRpb25CdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbkNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1lZD17IEFycmF5LmZyb20odGhpcy5zY29yZXMudmFsdWVzKCkpLmV2ZXJ5KHMgPT4gcy5jb25maXJtZWQpIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17IHRoaXMuc3RhdGUuaGVhdCB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eyB0aGlzLmhhbmRsZUNvbmZpcm0gfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJGb290ZXIoKSB9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgXyBmcm9tIFwibDEwblwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb3RhbFNjb3JlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIGdldCBwcm9wVHlwZXMoKSB7XG4gICAgICAgIGNvbnN0IFBUID0gUmVhY3QuUHJvcFR5cGVzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2NvcmU6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgICAgIHRvdGFsX3Njb3JlOiBQVC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvdGFsLXNjb3JlXCI+XG4gICAgICAgICAgICAgICAgeyBfKFwidGFibGV0Lmdsb2JhbC50b3RhbF9zY29yZVwiKSB9OiB7IHRoaXMucHJvcHMuc2NvcmUuZGF0YS50b3RhbF9zY29yZSB9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblRvdGFsU2NvcmUuZGlzcGxheU5hbWUgPSBcInJ1bGVzX3NldHNfcm9zZmFycl9KdWRnZVRhYmxldF9Ub3RhbFNjb3JlXCI7XG4iLCJpbXBvcnQgZ2V0U2NvcmluZ1R5cGUgZnJvbSBcImNvbW1vbi9nZXRTY29yaW5nVHlwZVwiO1xuXG5pbXBvcnQgQWNyb2JhdGljc0xheW91dCBmcm9tIFwiLi9BY3JvYmF0aWNzTGF5b3V0XCI7XG5pbXBvcnQgRGFuY2VMYXlvdXQgZnJvbSBcIi4vRGFuY2VMYXlvdXRcIjtcbmltcG9ydCBGb3JtYXRpb25MYXlvdXQgZnJvbSBcIi4vRm9ybWF0aW9uTGF5b3V0XCI7XG5pbXBvcnQgRm9ybWF0aW9uQWNyb0xheW91dCBmcm9tIFwiLi9Gb3JtYXRpb25BY3JvTGF5b3V0XCI7XG5pbXBvcnQgU2ltcGxpZmllZExheW91dCBmcm9tIFwiLi9TaW1wbGlmaWVkTGF5b3V0XCI7XG5pbXBvcnQgU29sb0xheW91dCBmcm9tIFwiLi9Tb2xvTGF5b3V0XCI7XG5pbXBvcnQgSGVhZEp1ZGdlTGF5b3V0IGZyb20gXCIuL0hlYWRKdWRnZUxheW91dFwiO1xuaW1wb3J0IFRlY2hKdWRnZUxheW91dCBmcm9tIFwiLi9UZWNoSnVkZ2VMYXlvdXRcIjtcblxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcIkhvc3RNb2R1bGVzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEp1ZGdlVGFibGV0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIGdldCBwcm9wVHlwZXMoKSB7XG4gICAgICAgIGNvbnN0IFBUID0gUmVhY3QuUHJvcFR5cGVzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGlzY2lwbGluZUp1ZGdlOiBQVC5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIHRvdXI6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICBpZDogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgc2NvcmluZ19zeXN0ZW1fbmFtZTogUFQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHN0YXRpYyBMQVlPVVRTID0ge1xuICAgICAgICBcImFjcm9cIjogQWNyb2JhdGljc0xheW91dCxcbiAgICAgICAgXCJkYW5jZVwiOiBEYW5jZUxheW91dCxcbiAgICAgICAgXCJmb3JtYXRpb25cIjogRm9ybWF0aW9uTGF5b3V0LFxuICAgICAgICBcImZvcm1hdGlvbl9hY3JvXCI6IEZvcm1hdGlvbkFjcm9MYXlvdXQsXG4gICAgICAgIFwic2ltcGxpZmllZFwiOiBTaW1wbGlmaWVkTGF5b3V0LFxuICAgICAgICBcInNvbG9cIjogU29sb0xheW91dCxcbiAgICAgICAgXCJoZWFkXCI6IEhlYWRKdWRnZUxheW91dCxcbiAgICAgICAgXCJ0ZWNoXCI6IFRlY2hKdWRnZUxheW91dCxcbiAgICB9O1xuXG4gICAgaGFuZGxlU2NvcmVVcGRhdGUgPSAoc2NvcmVfaWQsIG5ld19zY29yZSkgPT4ge1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICAgICAgc2NvcmVfZGF0YTogbmV3X3Njb3JlLFxuICAgICAgICAgICAgZm9yY2U6IGZhbHNlLFxuICAgICAgICB9O1xuICAgICAgICBBcGkoXCJzY29yZS5zZXRcIiwgeyBzY29yZV9pZDogc2NvcmVfaWQsIGRhdGE6IHJlcXVlc3QgfSkuc2VuZCgpO1xuICAgIH1cbiAgICBoYW5kbGVTY29yZUNvbmZpcm0gPSAoc2NvcmVfaWQpID0+IHtcbiAgICAgICAgQXBpKFwic2NvcmUuY29uZmlybVwiLCB7IHNjb3JlX2lkOiBzY29yZV9pZCB9KS5zZW5kKCk7XG4gICAgfVxuICAgIGhhbmRsZUhlYXRDb25maXJtID0gKGhlYXQpID0+IHtcbiAgICAgICAgQXBpKFwidG91ci5jb25maXJtX2hlYXRcIiwge1xuICAgICAgICAgICAgdG91cl9pZDogdGhpcy5wcm9wcy50b3VyLmlkLFxuICAgICAgICAgICAgZGlzY2lwbGluZV9qdWRnZV9pZDogdGhpcy5wcm9wcy5kaXNjaXBsaW5lSnVkZ2UuaWQsXG4gICAgICAgICAgICBoZWF0OiBoZWF0LFxuICAgICAgICB9KS5zZW5kKCk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBzY29yaW5nX3R5cGUgPSBnZXRTY29yaW5nVHlwZSh0aGlzLnByb3BzLmRpc2NpcGxpbmVKdWRnZSwgdGhpcy5wcm9wcy50b3VyLnNjb3Jpbmdfc3lzdGVtX25hbWUpO1xuICAgICAgICBsZXQgTGF5b3V0Q2xhc3MgPSBKdWRnZVRhYmxldC5MQVlPVVRTW3Njb3JpbmdfdHlwZV07XG4gICAgICAgIGlmICghTGF5b3V0Q2xhc3MpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdj5Ob3QgaW1wbGVtZW50ZWQhPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvc2ZhcnItSnVkZ2VUYWJsZXRcIj5cbiAgICAgICAgICAgICAgICA8TGF5b3V0Q2xhc3NcbiAgICAgICAgICAgICAgICAgICAgZGlzY2lwbGluZUp1ZGdlPXsgdGhpcy5wcm9wcy5kaXNjaXBsaW5lSnVkZ2UgfVxuICAgICAgICAgICAgICAgICAgICB0b3VyPXsgdGhpcy5wcm9wcy50b3VyIH1cbiAgICAgICAgICAgICAgICAgICAgb25IZWF0Q29uZmlybT17IHRoaXMuaGFuZGxlSGVhdENvbmZpcm0gfVxuICAgICAgICAgICAgICAgICAgICBvblNjb3JlQ29uZmlybT17IHRoaXMuaGFuZGxlU2NvcmVDb25maXJtIH1cbiAgICAgICAgICAgICAgICAgICAgb25TY29yZVVwZGF0ZT17IHRoaXMuaGFuZGxlU2NvcmVVcGRhdGUgfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgXyBmcm9tIFwibDEwblwiO1xyXG5cclxuaW1wb3J0IGdldFBhcnRpY2lwYW50RGlzcGxheSBmcm9tIFwiY29tbW9uL2dldFBhcnRpY2lwYW50RGlzcGxheVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm93IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcclxuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBkaXNjaXBsaW5lSnVkZ2VzTWFwOiBQVC5pbnN0YW5jZU9mKE1hcCkuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgaXNGb3JtYXRpb246IFBULmJvb2wuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgcm93OiBQVC5zaGFwZSh7XHJcbiAgICAgICAgICAgICAgICBwbGFjZTogUFQubnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgcnVuOiBQVC5zaGFwZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBQVC5vbmVPZihbXCJPS1wiLCBcIk5QXCIsIFwiRFFcIl0pLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcXVhbGlmaWVkOiBQVC5ib29sLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFydGljaXBhbnQ6IFBULnNoYXBlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBQVC5udW1iZXIuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2x1YjogUFQuc2hhcGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogUFQuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgICAgICAgICBzY29yZXM6IFBULmFycmF5T2YoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFBULnNoYXBlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NpcGxpbmVfanVkZ2VfaWQ6IFBULm51bWJlci5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkXHJcbiAgICAgICAgICAgICAgICAgICAgKS5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIHZlcmJvc2VfdG90YWxfc2NvcmU6IFBULnNoYXBlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZDogUFQub25lT2YoW1wiT0tcIiwgXCJZQ1wiLCBcIlJDXCJdKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxfcGVuYWx0eTogUFQubnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmltYXJ5X3Njb3JlOiBQVC5udW1iZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZGFyeV9zY29yZTogUFQubnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c190b3VyOiBQVC5zaGFwZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmltYXJ5X3Njb3JlOiBQVC5udW1iZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRhcnlfc2NvcmU6IFBULm51bWJlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICBzaG93VG90YWxTY29yZTogUFQuYm9vbC5pc1JlcXVpcmVkLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBnZXRDYXJkKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnJvdy5ydW4uc3RhdHVzICE9PSBcIk9LXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwi4oCUXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNhcmQgPSB0aGlzLnByb3BzLnJvdy5ydW4udmVyYm9zZV90b3RhbF9zY29yZS5jYXJkO1xyXG4gICAgICAgIHJldHVybiBfKGByZXN1bHRzLmNhcmRzLiR7Y2FyZH1gLCB0aGlzLnByb3BzLmlzRm9ybWF0aW9uKTtcclxuICAgIH1cclxuICAgIGdldFBsYWNlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLnJvdy5ydW4uZGlzcXVhbGlmaWVkXHJcbiAgICAgICAgICAgID8gbnVsbFxyXG4gICAgICAgICAgICA6IHRoaXMucHJvcHMucm93LnBsYWNlO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyVG90YWxTY29yZUNlbGwoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLnNob3dUb3RhbFNjb3JlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY29udGVudCA9IFwi4oCUXCI7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucm93LnJ1bi5zdGF0dXMgPT09IFwiT0tcIikge1xyXG4gICAgICAgICAgICBjb250ZW50ID0gKFxyXG4gICAgICAgICAgICAgICAgPHNwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnByb3BzLnJvdy5ydW4udmVyYm9zZV90b3RhbF9zY29yZS5wcmltYXJ5X3Njb3JlLnRvRml4ZWQoMikgfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Ryb25nPlxyXG4gICAgICAgICAgICAgICAgICAgICZuYnNwO3sgXCIvIFwiIH1cclxuICAgICAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMucm93LnJ1bi52ZXJib3NlX3RvdGFsX3Njb3JlLnNlY29uZGFyeV9zY29yZS50b0ZpeGVkKDIpIH1cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInctMTggc2NvcmVcIj5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgeyBjb250ZW50IH1cclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ3LTcgcGxhY2VcIj5cclxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHRoaXMuZ2V0UGxhY2UoKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ3LTYgbnVtYmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnByb3BzLnJvdy5ydW4ucGFydGljaXBhbnQubnVtYmVyIH1cclxuICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInctMzAgcGFydGljaXBhbnRcIj5cclxuICAgICAgICAgICAgICAgICAgICB7IGdldFBhcnRpY2lwYW50RGlzcGxheSh0aGlzLnByb3BzLnJvdy5ydW4ucGFydGljaXBhbnQpXHJcbiAgICAgICAgICAgICAgICAgfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwiY2x1YlwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMucm93LnJ1bi5wYXJ0aWNpcGFudC5jbHViLm5hbWUgfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyVG90YWxTY29yZUNlbGwoKSB9XHJcbiAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidy04IGNhcmRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHRoaXMuZ2V0Q2FyZCgpIH1cclxuICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcblJvdy5kaXNwbGF5TmFtZSA9IFwicnVsZXNfc2V0c19yb3NmYXJyX1Jlc3VsdHNUYWJsZTFfUm93XCI7XHJcbiIsImltcG9ydCBfIGZyb20gXCJsMTBuXCI7XG5cbmltcG9ydCBSb3cgZnJvbSBcIi4vUm93XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVzdWx0c1RhYmxlMSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRhYmxlOiBQVC5hcnJheU9mKFxuICAgICAgICAgICAgICAgIFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgYWR2YW5jZXM6IFBULmJvb2wuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgcnVuOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFBULm9uZU9mKFtcIk9LXCIsIFwiTlBcIiwgXCJEUVwiXSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkXG4gICAgICAgICAgICApLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB0b3VyOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgc2NvcmluZ19zeXN0ZW1fbmFtZTogUFQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgbmV4dF90b3VyX2lkOiBQVC5udW1iZXIsXG4gICAgICAgICAgICAgICAgZGlzY2lwbGluZTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICBkaXNjaXBsaW5lX2p1ZGdlczogUFQuYXJyYXlPZihcbiAgICAgICAgICAgICAgICAgICAgICAgIFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgKS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHN0YXRpYyB0cmFuc2Zvcm1Eb2N4KGRvY3gpIHtcbiAgICAgICAgZG9jeFxuICAgICAgICAgICAgLmFkZFN0eWxlKFwiLmJvcmRlcmVkLXRhYmxlXCIsIFwiZm9udC1zaXplXCIsIFwiMTJwdFwiKVxuICAgICAgICAgICAgLmFkZFN0eWxlKFwiLmFkdmFuY2VzLWhlYWRlclwiLCBcImJhY2tncm91bmQtY29sb3JcIiwgXCIjZGRkXCIpO1xuICAgIH1cblxuICAgIGdldFJvd1N0YXR1cyhyb3cpIHtcbiAgICAgICAgaWYgKCFyb3cpIHtcbiAgICAgICAgICAgIHJldHVybiBcIm5vbmVcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocm93LnJ1bi5zdGF0dXMgIT09IFwiT0tcIikge1xuICAgICAgICAgICAgcmV0dXJuIHJvdy5ydW4uc3RhdHVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByb3cuYWR2YW5jZXMgPyBcImFkdmFuY2VkXCIgOiBcIm5vdF9hZHZhbmNlZFwiO1xuICAgIH1cbiAgICBnZXRTdGF0dXNIZWFkZXIocm93X3N0YXR1cykge1xuICAgICAgICByZXR1cm4gXyhgcmVzdWx0cy5oZWFkZXJzLnBhcnRpY2lwYW50c18ke3Jvd19zdGF0dXN9YCk7XG4gICAgfVxuICAgIHJlbmRlckFkdmFuY2VzSGVhZGVyKHByZXZfcm93LCBuZXh0X3JvdywgaGFzX25leHRfdG91ciwgbl9jb2xzKSB7XG4gICAgICAgIGNvbnN0IHByZXZfc3RhdHVzID0gdGhpcy5nZXRSb3dTdGF0dXMocHJldl9yb3cpO1xuICAgICAgICBjb25zdCBuZXh0X3N0YXR1cyA9IHRoaXMuZ2V0Um93U3RhdHVzKG5leHRfcm93KTtcbiAgICAgICAgaWYgKHByZXZfc3RhdHVzID09PSBuZXh0X3N0YXR1cykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFbXCJOUFwiLCBcIkRRXCJdLmluY2x1ZGVzKG5leHRfc3RhdHVzKSAmJiAhaGFzX25leHRfdG91cikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDx0ciBrZXk9eyBgQUgke25leHRfcm93LnJ1bi5pZH1gIH0+XG4gICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cImFkdmFuY2VzLWhlYWRlclwiIGNvbFNwYW49eyBuX2NvbHMgfT5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1sZWZ0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7IHRoaXMuZ2V0U3RhdHVzSGVhZGVyKG5leHRfc3RhdHVzKSB9XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgKVxuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IGhhc19uZXh0X3RvdXIgPSB0aGlzLnByb3BzLnRvdXIubmV4dF90b3VyX2lkICE9PSBudWxsO1xuICAgICAgICBjb25zdCBpc19mb3JtYXRpb24gPSBbXCJyb3NmYXJyLmZvcm1hdGlvblwiLCBcInJvc2ZhcnIuZm9ybWF0aW9uX2Fjcm9cIl0uaW5jbHVkZXModGhpcy5wcm9wcy50b3VyLnNjb3Jpbmdfc3lzdGVtX25hbWUpXG4gICAgICAgIGNvbnN0IHNob3dfdG90YWxfc2NvcmUgPSAhaXNfZm9ybWF0aW9uO1xuICAgICAgICBjb25zdCBkanNfbWFwID0gbmV3IE1hcCh0aGlzLnByb3BzLnRvdXIuZGlzY2lwbGluZS5kaXNjaXBsaW5lX2p1ZGdlcy5tYXAoZGogPT4gW2RqLmlkLCBkal0pKTtcbiAgICAgICAgbGV0IHJvd3MgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgdGhpcy5wcm9wcy50YWJsZS5sZW5ndGg7ICsraWR4KSB7XG4gICAgICAgICAgICByb3dzLnB1c2godGhpcy5yZW5kZXJBZHZhbmNlc0hlYWRlcihcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnRhYmxlW2lkeCAtIDFdLFxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMudGFibGVbaWR4XSxcbiAgICAgICAgICAgICAgICBoYXNfbmV4dF90b3VyLFxuICAgICAgICAgICAgICAgIDUgKyBzaG93X3RvdGFsX3Njb3JlXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIGNvbnN0IHJvdyA9IHRoaXMucHJvcHMudGFibGVbaWR4XTtcbiAgICAgICAgICAgIHJvd3MucHVzaChcbiAgICAgICAgICAgICAgICA8Um93XG4gICAgICAgICAgICAgICAgICAgIGRpc2NpcGxpbmVKdWRnZXNNYXA9eyBkanNfbWFwIH1cbiAgICAgICAgICAgICAgICAgICAgaXNGb3JtYXRpb249eyBpc19mb3JtYXRpb24gfVxuICAgICAgICAgICAgICAgICAgICBrZXk9eyByb3cucnVuLmlkIH1cbiAgICAgICAgICAgICAgICAgICAgcm93PXsgcm93IH1cbiAgICAgICAgICAgICAgICAgICAgc2hvd1RvdGFsU2NvcmU9eyBzaG93X3RvdGFsX3Njb3JlIH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJSZXN1bHRzVGFibGUxXCI+XG4gICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cImJvcmRlcmVkLXRhYmxlXCI+XG4gICAgICAgICAgICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwidy03IHBsYWNlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBfKFwicmVzdWx0cy5sYWJlbHMucGxhY2VcIikgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwidy02IG51bWJlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXyhcInJlc3VsdHMubGFiZWxzLm51bWJlclwiKSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJ3LTMwIHBhcnRpY2lwYW50XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBfKFwicmVzdWx0cy5sYWJlbHMucGFydGljaXBhbnRfbmFtZVwiKSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJjbHViXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBfKFwicmVzdWx0cy5sYWJlbHMucGFydGljaXBhbnRfY2x1YlwiKSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc2hvd190b3RhbF9zY29yZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInctMTggc2NvcmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXyhcInJlc3VsdHMubGFiZWxzLnRvdGFsX3Njb3JlXCIpIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbCB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInctOCBjYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IF8oXCJyZXN1bHRzLmxhYmVscy5jYXJkXCIpIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICB7IHJvd3MgfVxuICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblJlc3VsdHNUYWJsZTEuZGlzcGxheU5hbWUgPSBcInJ1bGVzX3NldHNfcm9zZmFycl9SZXN1bHRzVGFibGUxXCI7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDb2x1bW5zV2lkdGhzIHtcbiAgICBjb25zdHJ1Y3RvcihuX2p1ZGdlcywgaGFzX3RvdGFsX3Njb3JlKSB7XG4gICAgICAgIHRoaXMuanVkZ2Vfd2lkdGggPSBNYXRoLnJvdW5kKChoYXNfdG90YWxfc2NvcmUgPyA1NSA6IDY1KSAvIChuX2p1ZGdlcyArIDEpKTtcbiAgICAgICAgdGhpcy50b3RhbF9zY29yZV93aWR0aCA9IGhhc190b3RhbF9zY29yZSA/IDE0IDogMDtcbiAgICAgICAgdGhpcy5wbGFjZV93aWR0aCA9IDY7XG4gICAgICAgIHRoaXMubnVtYmVyX3dpZHRoID0gMztcbiAgICAgICAgdGhpcy5uYW1lX3dpZHRoID0gMTAwIC0gdGhpcy5qdWRnZV93aWR0aCAqIChuX2p1ZGdlcyArIDEpIC1cbiAgICAgICAgICAgIHRoaXMudG90YWxfc2NvcmVfd2lkdGggLSB0aGlzLnBsYWNlX3dpZHRoIC0gdGhpcy5udW1iZXJfd2lkdGg7XG4gICAgfVxuICAgIGdlblBsYWNlU3R5bGUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogYCR7dGhpcy5wbGFjZV93aWR0aH0lYCxcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZW5OdW1iZXJTdHlsZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoOiBgJHt0aGlzLm51bWJlcl93aWR0aH0lYCxcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZW5OYW1lU3R5bGUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogYCR7dGhpcy5uYW1lX3dpZHRofSVgLFxuICAgICAgICB9XG4gICAgfVxuICAgIGdlblRvdGFsU2NvcmVTdHlsZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoOiBgJHt0aGlzLnRvdGFsX3Njb3JlX3dpZHRofSVgLFxuICAgICAgICB9XG4gICAgfVxuICAgIGdlbkp1ZGdlU3R5bGUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogYCR7dGhpcy5qdWRnZV93aWR0aH0lYCxcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBfIGZyb20gXCJsMTBuXCI7XG5cbmltcG9ydCBnZXRQYXJ0aWNpcGFudERpc3BsYXkgZnJvbSBcImNvbW1vbi9nZXRQYXJ0aWNpcGFudERpc3BsYXlcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm93IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIGdldCBwcm9wVHlwZXMoKSB7XG4gICAgICAgIGNvbnN0IFBUID0gUmVhY3QuUHJvcFR5cGVzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGlzY2lwbGluZUp1ZGdlc01hcDogUFQuaW5zdGFuY2VPZihNYXApLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBpc0Zvcm1hdGlvbjogUFQuYm9vbC5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgbGluZURpc2NpcGxpbmVKdWRnZXM6IFBULmFycmF5T2YoXG4gICAgICAgICAgICAgICAgUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICByb2xlOiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkXG4gICAgICAgICAgICApLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICByb3c6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICBhZGRpdGlvbmFsX2RhdGE6IFBULm9iamVjdC5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIHBsYWNlOiBQVC5udW1iZXIsXG4gICAgICAgICAgICAgICAgcnVuOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogUFQub25lT2YoW1wiT0tcIiwgXCJOUFwiLCBcIkRRXCJdKS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICBkaXNxdWFsaWZpZWQ6IFBULmJvb2wuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgcGFydGljaXBhbnQ6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbHViOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogUFQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICBzY29yZXM6IFBULmFycmF5T2YoXG4gICAgICAgICAgICAgICAgICAgICAgICBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY2lwbGluZV9qdWRnZV9pZDogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgdmVyYm9zZV90b3RhbF9zY29yZTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZDogUFQub25lT2YoW1wiT0tcIiwgXCJZQ1wiLCBcIlJDXCJdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaW1hcnlfc2NvcmU6IFBULm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZGFyeV9zY29yZTogUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNfdG91cjogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW1hcnlfc2NvcmU6IFBULm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRhcnlfc2NvcmU6IFBULm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIHRvdXI6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICBzY29yaW5nX3N5c3RlbV9uYW1lOiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBzaG93VG90YWxTY29yZTogUFQuYm9vbC5pc1JlcXVpcmVkLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGlzRm9ybWF0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1wicm9zZmFyci5mb3JtYXRpb25cIiwgXCJyb3NmYXJyLmZvcm1hdGlvbl9hY3JvXCJdLmluZGV4T2YodGhpcy5wcm9wcy50b3VyLnNjb3Jpbmdfc3lzdGVtX25hbWUpID49IDA7XG4gICAgfVxuXG4gICAgZ2V0Q2FyZCgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucm93LnJ1bi5zdGF0dXMgIT09IFwiT0tcIikge1xuICAgICAgICAgICAgcmV0dXJuIFwi4oCUXCI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FyZCA9IHRoaXMucHJvcHMucm93LnJ1bi52ZXJib3NlX3RvdGFsX3Njb3JlLmNhcmQ7XG4gICAgICAgIHJldHVybiBfKGByZXN1bHRzLmNhcmRzLiR7Y2FyZH1gLCB0aGlzLnByb3BzLmlzRm9ybWF0aW9uKTtcbiAgICB9XG4gICAgZ2V0UGxhY2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLnJvdy5ydW4uZGlzcXVhbGlmaWVkXG4gICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgIDogdGhpcy5wcm9wcy5yb3cucGxhY2U7XG4gICAgfVxuICAgIHJlbmRlckZvcm1hdGlvblNjb3JlKHNjb3JlKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5yb3cuYWRkaXRpb25hbF9kYXRhLnBsYWNlc1tzY29yZS5pZF0gfVxuICAgICAgICAgICAgICAgIDwvc3Ryb25nPlxuICAgICAgICAgICAgICAgIHsgYCAoJHtzY29yZS5kYXRhLnRvdGFsX3Njb3JlLnRvRml4ZWQoMSl9KWAgfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICApO1xuICAgIH1cbiAgICByZW5kZXJTY29yZShkaXNjaXBsaW5lX2p1ZGdlLCBzY29yZSkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5yb3cucnVuLnN0YXR1cyAhPT0gXCJPS1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICZtZGFzaDtcbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXNjaXBsaW5lX2p1ZGdlLnJvbGUgPT09IFwiZGFuY2VfanVkZ2VcIiAmJiB0aGlzLmlzRm9ybWF0aW9uKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlckZvcm1hdGlvblNjb3JlKHNjb3JlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICB7IHNjb3JlLmRhdGEudG90YWxfc2NvcmUudG9GaXhlZCgyKSB9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICk7XG4gICAgfVxuICAgIHJlbmRlclRvdGFsU2NvcmVDZWxsKCkge1xuICAgICAgICBjb25zdCB0b3RhbF9zY29yZSA9IHRoaXMucHJvcHMucm93LnJ1bi52ZXJib3NlX3RvdGFsX3Njb3JlO1xuICAgICAgICBpZiAoIXRoaXMucHJvcHMuc2hvd1RvdGFsU2NvcmUpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnJvdy5ydW4uc3RhdHVzICE9PSBcIk9LXCIpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInRvdGFsLXNjb3JlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAmbWRhc2g7XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wcm9wcy50b3VyLnNjb3Jpbmdfc3lzdGVtX25hbWUgPT09IFwicm9zZmFyci5hbV9maW5hbF9hY3JvXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHBfc2NvcmUgPSB0b3RhbF9zY29yZS5wcmV2aW91c190b3VyLnByaW1hcnlfc2NvcmUudG9GaXhlZCgyKTtcbiAgICAgICAgICAgIGNvbnN0IHNfc2NvcmUgPSB0b3RhbF9zY29yZS5wcmV2aW91c190b3VyLnNlY29uZGFyeV9zY29yZS50b0ZpeGVkKDIpO1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidG90YWwtc2NvcmVcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGAke18oXCJyZXN1bHRzLmxhYmVscy5md19zY29yZV9zaG9ydFwiKSB9OiAke3Bfc2NvcmV9IC8gJHtzX3Njb3JlfWAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9lbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxiciAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRvdGFsX3Njb3JlLnByaW1hcnlfc2NvcmUudG9GaXhlZCgyKSB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICZuYnNwO3sgXCIvIFwiIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHsgdG90YWxfc2NvcmUuc2Vjb25kYXJ5X3Njb3JlLnRvRml4ZWQoMikgfVxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ0b3RhbC1zY29yZVwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICB7IHRvdGFsX3Njb3JlLnByaW1hcnlfc2NvcmUudG9GaXhlZCgyKSB9XG4gICAgICAgICAgICAgICAgICAgIDwvc3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICAmbmJzcDt7IFwiLyBcIiB9XG4gICAgICAgICAgICAgICAgICAgIHsgdG90YWxfc2NvcmUuc2Vjb25kYXJ5X3Njb3JlLnRvRml4ZWQoMikgfVxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICk7XG4gICAgfVxuICAgIHJlbmRlckp1ZGdlc1Njb3JlcygpIHtcbiAgICAgICAgY29uc3Qgc2NvcmVzX21hcCA9IG5ldyBNYXAodGhpcy5wcm9wcy5yb3cucnVuLnNjb3Jlcy5tYXAoc2NvcmUgPT4gW3Njb3JlLmRpc2NpcGxpbmVfanVkZ2VfaWQsIHNjb3JlXSkpO1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5saW5lRGlzY2lwbGluZUp1ZGdlcy5tYXAoKGRqLCBpZHgpID0+XG4gICAgICAgICAgICA8dGQga2V5PXsgZGogPyBkai5pZCA6IGBJJHtpZHh9YCB9PlxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJTY29yZShkaiwgc2NvcmVzX21hcC5nZXQoZGouaWQpKSB9XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICApO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInBsYWNlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7IHRoaXMuZ2V0UGxhY2UoKSB9XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJudW1iZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5yb3cucnVuLnBhcnRpY2lwYW50Lm51bWJlciB9XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJwYXJ0aWNpcGFudFwiPlxuICAgICAgICAgICAgICAgICAgICB7IGdldFBhcnRpY2lwYW50RGlzcGxheSh0aGlzLnByb3BzLnJvdy5ydW4ucGFydGljaXBhbnQpIH1cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJUb3RhbFNjb3JlQ2VsbCgpIH1cbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVySnVkZ2VzU2NvcmVzKCkgfVxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJjYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7IHRoaXMuZ2V0Q2FyZCgpIH1cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuUm93LmRpc3BsYXlOYW1lID0gXCJydWxlc19zZXRzX3Jvc2ZhcnJfUmVzdWx0c1RhYmxlMl9Sb3dcIjtcbiIsImltcG9ydCBfIGZyb20gXCJsMTBuXCI7XHJcblxyXG5pbXBvcnQgUm93IGZyb20gXCIuL1Jvd1wiO1xyXG5pbXBvcnQgQ29sdW1uc1dpZHRocyBmcm9tIFwiLi9Db2x1bW5zV2lkdGhzXCI7XHJcblxyXG5pbXBvcnQgZ2V0SnVkZ2VUYWJsZU1hcmsgZnJvbSBcImdldEp1ZGdlVGFibGVNYXJrXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXN1bHRzVGFibGUyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcclxuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0YWJsZTogUFQuYXJyYXlPZihcclxuICAgICAgICAgICAgICAgIFBULnNoYXBlKHtcclxuICAgICAgICAgICAgICAgICAgICBhZHZhbmNlczogUFQuYm9vbC5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIHJ1bjogUFQuc2hhcGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogUFQubnVtYmVyLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogUFQub25lT2YoW1wiT0tcIiwgXCJOUFwiLCBcIkRRXCJdKS5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkXHJcbiAgICAgICAgICAgICkuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgdG91cjogUFQuc2hhcGUoe1xyXG4gICAgICAgICAgICAgICAgc2NvcmluZ19zeXN0ZW1fbmFtZTogUFQuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgICAgICBuZXh0X3RvdXJfaWQ6IFBULm51bWJlcixcclxuICAgICAgICAgICAgICAgIGRpc2NpcGxpbmU6IFBULnNoYXBlKHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNjaXBsaW5lX2p1ZGdlczogUFQuYXJyYXlPZihcclxuICAgICAgICAgICAgICAgICAgICAgICAgUFQuc2hhcGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogUFQuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWRcclxuICAgICAgICAgICAgICAgICAgICApLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHRyYW5zZm9ybURvY3goZG9jeCkge1xyXG4gICAgICAgIGRvY3hcclxuICAgICAgICAgICAgLmFkZFN0eWxlKFwiLmJvcmRlcmVkLXRhYmxlXCIsIFwiZm9udC1zaXplXCIsIFwiOXB0XCIpXHJcbiAgICAgICAgICAgIC5hZGRTdHlsZShcIi5hZHZhbmNlcy1oZWFkZXJcIiwgXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIFwiI2RkZFwiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIudG90YWwtc2NvcmVcIiwgXCJmb250LXdlaWdodFwiLCBcImJvbGRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Um93U3RhdHVzKHJvdykge1xyXG4gICAgICAgIGlmICghcm93KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIm5vbmVcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJvdy5ydW4uc3RhdHVzICE9PSBcIk9LXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJvdy5ydW4uc3RhdHVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcm93LmFkdmFuY2VzID8gXCJhZHZhbmNlZFwiIDogXCJub3RfYWR2YW5jZWRcIjtcclxuICAgIH1cclxuICAgIGdldFN0YXR1c0hlYWRlcihyb3dfc3RhdHVzKSB7XHJcbiAgICAgICAgcmV0dXJuIF8oYHJlc3VsdHMuaGVhZGVycy5wYXJ0aWNpcGFudHNfJHtyb3dfc3RhdHVzfWApO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyQWR2YW5jZXNIZWFkZXIocHJldl9yb3csIG5leHRfcm93LCBoYXNfbmV4dF90b3VyLCBuX2NvbHMpIHtcclxuICAgICAgICBjb25zdCBwcmV2X3N0YXR1cyA9IHRoaXMuZ2V0Um93U3RhdHVzKHByZXZfcm93KTtcclxuICAgICAgICBjb25zdCBuZXh0X3N0YXR1cyA9IHRoaXMuZ2V0Um93U3RhdHVzKG5leHRfcm93KTtcclxuICAgICAgICBpZiAocHJldl9zdGF0dXMgPT09IG5leHRfc3RhdHVzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIVtcIk5QXCIsIFwiRFFcIl0uaW5jbHVkZXMobmV4dF9zdGF0dXMpICYmICFoYXNfbmV4dF90b3VyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8dHIga2V5PXsgYEFIJHtuZXh0X3Jvdy5ydW4uaWR9YCB9PlxyXG4gICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cImFkdmFuY2VzLWhlYWRlclwiIGNvbFNwYW49eyBuX2NvbHMgfT5cclxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWxlZnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGlzLmdldFN0YXR1c0hlYWRlcihuZXh0X3N0YXR1cykgfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgIDwvdGg+XHJcbiAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCBpc19mb3JtYXRpb24gPSBbXCJyb3NmYXJyLmZvcm1hdGlvblwiLCBcInJvc2ZhcnIuZm9ybWF0aW9uX2Fjcm9cIl0uaW5jbHVkZXModGhpcy5wcm9wcy50b3VyLnNjb3Jpbmdfc3lzdGVtX25hbWUpXHJcbiAgICAgICAgY29uc3Qgc2hvd190b3RhbF9zY29yZSA9ICFpc19mb3JtYXRpb247XHJcbiAgICAgICAgY29uc3QgbGluZV9qdWRnZXMgPSB0aGlzLnByb3BzLnRvdXIuZGlzY2lwbGluZS5kaXNjaXBsaW5lX2p1ZGdlcy5maWx0ZXIoXHJcbiAgICAgICAgICAgIGRqID0+IFtcImFjcm9fanVkZ2VcIiwgXCJkYW5jZV9qdWRnZVwiXS5pbmRleE9mKGRqLnJvbGUpID49IDApO1xyXG4gICAgICAgIGNvbnN0IGhhc19uZXh0X3RvdXIgPSB0aGlzLnByb3BzLnRvdXIubmV4dF90b3VyX2lkICE9PSBudWxsO1xyXG4gICAgICAgIGNvbnN0IHdpZHRocyA9IG5ldyBDb2x1bW5zV2lkdGhzKGxpbmVfanVkZ2VzLmxlbmd0aCwgc2hvd190b3RhbF9zY29yZSk7XHJcbiAgICAgICAgY29uc3QgZGpzX21hcCA9IG5ldyBNYXAodGhpcy5wcm9wcy50b3VyLmRpc2NpcGxpbmUuZGlzY2lwbGluZV9qdWRnZXMubWFwKGRqID0+IFtkai5pZCwgZGpdKSk7XHJcbiAgICAgICAgbGV0IHJvd3MgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCB0aGlzLnByb3BzLnRhYmxlLmxlbmd0aDsgKytpZHgpIHtcclxuICAgICAgICAgICAgcm93cy5wdXNoKHRoaXMucmVuZGVyQWR2YW5jZXNIZWFkZXIoXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnRhYmxlW2lkeCAtIDFdLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy50YWJsZVtpZHhdLFxyXG4gICAgICAgICAgICAgICAgaGFzX25leHRfdG91cixcclxuICAgICAgICAgICAgICAgIDQgKyBsaW5lX2p1ZGdlcy5sZW5ndGggKyBzaG93X3RvdGFsX3Njb3JlXHJcbiAgICAgICAgICAgICkpO1xyXG4gICAgICAgICAgICByb3dzLnB1c2goXHJcbiAgICAgICAgICAgICAgICA8Um93XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzY2lwbGluZUp1ZGdlc01hcD17IGRqc19tYXAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzRm9ybWF0aW9uPXsgaXNfZm9ybWF0aW9uIH1cclxuICAgICAgICAgICAgICAgICAgICBrZXk9eyB0aGlzLnByb3BzLnRhYmxlW2lkeF0ucnVuLmlkIH1cclxuICAgICAgICAgICAgICAgICAgICBsaW5lRGlzY2lwbGluZUp1ZGdlcz17IGxpbmVfanVkZ2VzIH1cclxuICAgICAgICAgICAgICAgICAgICByb3c9eyB0aGlzLnByb3BzLnRhYmxlW2lkeF0gfVxyXG4gICAgICAgICAgICAgICAgICAgIHNob3dUb3RhbFNjb3JlPXsgc2hvd190b3RhbF9zY29yZSB9XHJcbiAgICAgICAgICAgICAgICAgICAgdG91cj17IHRoaXMucHJvcHMudG91ciB9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIlJlc3VsdHNUYWJsZTJcIj5cclxuICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJib3JkZXJlZC10YWJsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aGVhZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInBsYWNlXCIgc3R5bGU9eyB3aWR0aHMuZ2VuUGxhY2VTdHlsZSgpIH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXyhcInJlc3VsdHMubGFiZWxzLnBsYWNlXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cIm51bWJlclwiIHN0eWxlPXsgd2lkdGhzLmdlbk51bWJlclN0eWxlKCkgfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBfKFwicmVzdWx0cy5sYWJlbHMubnVtYmVyXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInBhcnRpY2lwYW50XCIgc3R5bGU9eyB3aWR0aHMuZ2VuTmFtZVN0eWxlKCkgfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBfKFwicmVzdWx0cy5sYWJlbHMucGFydGljaXBhbnRfbmFtZVwiKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc2hvd190b3RhbF9zY29yZSA/IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwidG90YWwtc2NvcmVcIiBzdHlsZT17IHdpZHRocy5nZW5Ub3RhbFNjb3JlU3R5bGUoKSB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXyhcInJlc3VsdHMubGFiZWxzLnRvdGFsX3Njb3JlXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbCB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGxpbmVfanVkZ2VzLm1hcChkaiA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBrZXk9eyBkai5pZCB9IHN0eWxlPXsgd2lkdGhzLmdlbkp1ZGdlU3R5bGUoKSB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgZ2V0SnVkZ2VUYWJsZU1hcmsoZGopIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJjYXJkXCIgc3R5bGU9eyB3aWR0aHMuZ2VuSnVkZ2VTdHlsZSgpIH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBfKFwicmVzdWx0cy5sYWJlbHMuY2FyZFwiKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyByb3dzIH1cclxuICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuUmVzdWx0c1RhYmxlMi5kaXNwbGF5TmFtZSA9IFwicnVsZXNfc2V0c19yb3NmYXJyX1Jlc3VsdHNUYWJsZTJcIjtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29sdW1uc1dpZHRocyB7XG4gICAgY29uc3RydWN0b3Iobl9qdWRnZXMpIHtcbiAgICAgICAgdGhpcy5qdWRnZV93aWR0aCA9IE1hdGgucm91bmQoNzAgLyBuX2p1ZGdlcyk7XG4gICAgICAgIHRoaXMucGxhY2Vfd2lkdGggPSA3XG4gICAgICAgIHRoaXMuaW5mb193aWR0aCA9IDEwMCAtIHRoaXMuanVkZ2Vfd2lkdGggKiBuX2p1ZGdlcyAtIHRoaXMucGxhY2Vfd2lkdGg7XG4gICAgfVxuICAgIGdlblBsYWNlU3R5bGUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogYCR7dGhpcy5wbGFjZV93aWR0aH0lYCxcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZW5JbmZvU3R5bGUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogYCR7dGhpcy5pbmZvX3dpZHRofSVgLFxuICAgICAgICB9XG4gICAgfVxuICAgIGdlbkp1ZGdlU3R5bGUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogYCR7dGhpcy5qdWRnZV93aWR0aH0lYCxcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBfIGZyb20gXCJsMTBuXCI7XG5cbmltcG9ydCBnZXRQYXJ0aWNpcGFudERpc3BsYXkgZnJvbSBcImNvbW1vbi9nZXRQYXJ0aWNpcGFudERpc3BsYXlcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5mb0NlbGwgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcbiAgICAgICAgY29uc3QgUFQgPSBSZWFjdC5Qcm9wVHlwZXM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkaXNjaXBsaW5lSnVkZ2VzTWFwOiBQVC5pbnN0YW5jZU9mKE1hcCkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIHJvdzogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxfZGF0YTogUFQub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgYWR2YW5jZXM6IFBULmJvb2wuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICBwbGFjZTogUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgIHJ1bjogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFBULm9uZU9mKFtcIk9LXCIsIFwiTlBcIiwgXCJEUVwiXSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgdG90YWxfc2NvcmU6IFBULnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICBhY3JvYmF0aWNzOiBQVC5hcnJheU9mKFxuICAgICAgICAgICAgICAgICAgICAgICAgUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsX3Njb3JlOiBQVC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZTogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgcGFydGljaXBhbnQ6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXRpb25fbmFtZTogUFQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzcG9ydHNtZW46IFBULmFycmF5T2YoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdF9uYW1lOiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdF9uYW1lOiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICApLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbHViOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogUFQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICBzY29yZXM6IFBULmFycmF5T2YoXG4gICAgICAgICAgICAgICAgICAgICAgICBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY2lwbGluZV9qdWRnZV9pZDogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbF9zY29yZTogUFQub25lT2ZUeXBlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBULm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgdmVyYm9zZV90b3RhbF9zY29yZTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZDogUFQub25lT2YoW1wiT0tcIiwgXCJZQ1wiLCBcIlJDXCJdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzX3RvdXI6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmltYXJ5X3Njb3JlOiBQVC5udW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kYXJ5X3Njb3JlOiBQVC5udW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfdG91cjogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW1hcnlfc2NvcmU6IFBULm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRhcnlfc2NvcmU6IFBULm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIHRvdXI6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICBzY29yaW5nX3N5c3RlbV9uYW1lOiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICBuZXh0X3RvdXJfaWQ6IFBULm51bWJlcixcbiAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZ2V0Q2FyZCgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucm93LnJ1bi5zdGF0dXMgIT09IFwiT0tcIikge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FyZCA9IHRoaXMucHJvcHMucm93LnJ1bi52ZXJib3NlX3RvdGFsX3Njb3JlLmNhcmQ7XG4gICAgICAgIGNvbnN0IGlzX2Zvcm1hdGlvbiA9IFtcInJvc2ZhcnIuZm9ybWF0aW9uXCIsIFwicm9zZmFyci5mb3JtYXRpb25fYWNyb1wiXS5pbmNsdWRlcyh0aGlzLnByb3BzLnRvdXIuc2NvcmluZ19zeXN0ZW1fbmFtZSk7XG4gICAgICAgIHJldHVybiBfKGByZXN1bHRzLmNhcmRzLnZlcmJvc2VfJHtjYXJkfWAsIGlzX2Zvcm1hdGlvbik7XG4gICAgfVxuICAgIHJlbmRlclBhcnRpY2lwYW50SW5mbygpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICB7IF8oXCJnbG9iYWwucGhyYXNlcy5wYXJ0aWNpcGFudF9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5yb3cucnVuLnBhcnRpY2lwYW50Lm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMucm93LnJ1bi5wYXJ0aWNpcGFudC5zcG9ydHNtZW4ubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgeyBnZXRQYXJ0aWNpcGFudERpc3BsYXkodGhpcy5wcm9wcy5yb3cucnVuLnBhcnRpY2lwYW50KSB9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG4gICAgcmVuZGVySGVhZEp1ZGdlUGVuYWx0eSgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucm93LnJ1bi5zdGF0dXMgIT09IFwiT0tcIikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FyZCA9IHRoaXMuZ2V0Q2FyZCgpO1xuICAgICAgICBpZiAoY2FyZCA9PT0gXCJcIikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICB7IHRoaXMuZ2V0Q2FyZCgpIH1cbiAgICAgICAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgKTtcbiAgICB9XG4gICAgcmVuZGVyQWNyb1RhYmxlKCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5yb3cucnVuLnN0YXR1cyAhPT0gXCJPS1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoW1wicm9zZmFyci5hY3JvXCIsIFwicm9zZmFyci5hbV9maW5hbF9hY3JvXCJdLmluZGV4T2YodGhpcy5wcm9wcy50b3VyLnNjb3Jpbmdfc3lzdGVtX25hbWUpIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucHJvcHMucm93LnJ1bi5hY3JvYmF0aWNzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGFzX2Fjcm9fb3ZlcnJpZGVzID0gdGhpcy5wcm9wcy5yb3cucnVuLmFjcm9iYXRpY3MuZmluZEluZGV4KFxuICAgICAgICAgICAgZWxlbWVudCA9PiBlbGVtZW50LnNjb3JlICE9PSBlbGVtZW50Lm9yaWdpbmFsX3Njb3JlXG4gICAgICAgICkgPiAwO1xuICAgICAgICBjb25zdCBhY3JvX2NlbGxfd2lkdGggPSBgJHsoMTAwIC8gdGhpcy5wcm9wcy5yb3cucnVuLmFjcm9iYXRpY3MubGVuZ3RoKX0lYDtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICB7IGhhc19hY3JvX292ZXJyaWRlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXyhcInJlc3VsdHMubGFiZWxzLmFjcm9iYXRpY3NfdmVyYm9zZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXyhcInJlc3VsdHMubGFiZWxzLmFjcm9iYXRpY3NcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIH06XG4gICAgICAgICAgICAgICAgICAgIDwvc3Ryb25nPlxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwiYWNyby10YWJsZVwiPjx0Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnByb3BzLnJvdy5ydW4uYWNyb2JhdGljcy5tYXAoKGFjcm8sIGlkeCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQga2V5PXsgaWR4IH0gc3R5bGU9eyB7IHdpZHRoOiBhY3JvX2NlbGxfd2lkdGggfSB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBhY3JvLm9yaWdpbmFsX3Njb3JlLnRvRml4ZWQoMSkgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgfVxuICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgICB7IGhhc19hY3JvX292ZXJyaWRlcyA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMucm93LnJ1bi5hY3JvYmF0aWNzLm1hcCgoYWNybywgaWR4KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQga2V5PXsgaWR4IH0gc3R5bGU9eyB7IHdpZHRoOiBhY3JvX2NlbGxfd2lkdGggfSB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGFjcm8uc2NvcmUudG9GaXhlZCgxKSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgICApIDogbnVsbCB9XG4gICAgICAgICAgICAgICAgPC90Ym9keT48L3RhYmxlPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuICAgIHJlbmRlckFtQ2xhc3NGd1Njb3JlKCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy50b3VyLnNjb3Jpbmdfc3lzdGVtX25hbWUgIT09IFwicm9zZmFyci5hbV9maW5hbF9hY3JvXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBfc2NvcmUgPSB0aGlzLnByb3BzLnJvdy5ydW4udmVyYm9zZV90b3RhbF9zY29yZS5wcmV2aW91c190b3VyLnByaW1hcnlfc2NvcmUudG9GaXhlZCgyKTtcbiAgICAgICAgY29uc3Qgc19zY29yZSA9IHRoaXMucHJvcHMucm93LnJ1bi52ZXJib3NlX3RvdGFsX3Njb3JlLnByZXZpb3VzX3RvdXIuc2Vjb25kYXJ5X3Njb3JlLnRvRml4ZWQoMik7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICB7IF8oXCJyZXN1bHRzLmxhYmVscy5md19zY29yZVwiKSB9XG4gICAgICAgICAgICAgICAgPC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgeyBgOiAke3Bfc2NvcmV9IC8gJHtzX3Njb3JlfWAgfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICApO1xuICAgIH1cbiAgICByZW5kZXJBbUNsYXNzQWNyb1Njb3JlKCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5yb3cucnVuLnN0YXR1cyAhPT0gXCJPS1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wcm9wcy50b3VyLnNjb3Jpbmdfc3lzdGVtX25hbWUgIT09IFwicm9zZmFyci5hbV9maW5hbF9hY3JvXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBfc2NvcmUgPSB0aGlzLnByb3BzLnJvdy5ydW4udmVyYm9zZV90b3RhbF9zY29yZS5jdXJyZW50X3RvdXIucHJpbWFyeV9zY29yZS50b0ZpeGVkKDIpO1xuICAgICAgICBjb25zdCBzX3Njb3JlID0gdGhpcy5wcm9wcy5yb3cucnVuLnZlcmJvc2VfdG90YWxfc2NvcmUuY3VycmVudF90b3VyLnNlY29uZGFyeV9zY29yZS50b0ZpeGVkKDIpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgPHN0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgeyBfKFwicmVzdWx0cy5sYWJlbHMuYWNyb19zY29yZVwiKSB9XG4gICAgICAgICAgICAgICAgPC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgeyBgOiAke3Bfc2NvcmV9IC8gJHtzX3Njb3JlfWAgfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICApO1xuICAgIH1cbiAgICByZW5kZXJUb3RhbFNjb3JlKCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5yb3cucnVuLnN0YXR1cyAhPT0gXCJPS1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoW1wicm9zZmFyci5mb3JtYXRpb25cIiwgXCJyb3NmYXJyLmZvcm1hdGlvbl9hY3JvXCJdLmluY2x1ZGVzKHRoaXMucHJvcHMudG91ci5zY29yaW5nX3N5c3RlbV9uYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgIHsgYCR7XyhcInJlc3VsdHMubGFiZWxzLnRvdGFsX3Njb3JlXCIpfTogJHt0aGlzLnByb3BzLnJvdy5ydW4udG90YWxfc2NvcmV9YCB9XG4gICAgICAgICAgICAgICAgPC9zdHJvbmc+XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICk7XG4gICAgfVxuICAgIHJlbmRlck5vdFBlcmZvcm1lZExhYmVsKCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5yb3cucnVuLnN0YXR1cyAhPT0gXCJOUFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgPGVtPlxuICAgICAgICAgICAgICAgICAgICB7IF8oXCJyZXN1bHRzLmxhYmVscy5ub3RfcGVyZm9ybWVkXCIpIH1cbiAgICAgICAgICAgICAgICA8L2VtPlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICApXG4gICAgfVxuICAgIHJlbmRlckRpc3F1YWxpZmllZExhYmVsKCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5yb3cucnVuLnN0YXR1cyAhPT0gXCJEUVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgPGVtPlxuICAgICAgICAgICAgICAgICAgICB7IF8oXCJyZXN1bHRzLmxhYmVscy5kaXNxdWFsaWZpZWRcIikgfVxuICAgICAgICAgICAgICAgIDwvZW0+XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgIClcbiAgICB9XG4gICAgcmVuZGVyTmV4dFRvdXJMYWJlbCgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMudG91ci5uZXh0X3RvdXJfaWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICB7IGAke18oXCJyZXN1bHRzLmxhYmVscy5uZXh0X3RvdXJcIil9OiBgIH1cbiAgICAgICAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMucm93LmFkdmFuY2VzXG4gICAgICAgICAgICAgICAgICAgID8gXyhcImdsb2JhbC5sYWJlbHMueWVzXCIpXG4gICAgICAgICAgICAgICAgICAgIDogXyhcImdsb2JhbC5sYWJlbHMubm9cIilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICk7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJpbmZvLWJsb2NrXCI+XG4gICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlclBhcnRpY2lwYW50SW5mbygpIH1cbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVySGVhZEp1ZGdlUGVuYWx0eSgpIH1cbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyQWNyb1RhYmxlKCkgfVxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJBbUNsYXNzRndTY29yZSgpIH1cbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyQW1DbGFzc0Fjcm9TY29yZSgpIH1cbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyVG90YWxTY29yZSgpIH1cbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyTm90UGVyZm9ybWVkTGFiZWwoKSB9XG4gICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlckRpc3F1YWxpZmllZExhYmVsKCkgfVxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJOZXh0VG91ckxhYmVsKCkgfVxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbkluZm9DZWxsLmRpc3BsYXlOYW1lID0gXCJydWxlc19zZXRzX3Jvc2ZhcnJfUmVzdWx0c1RhYmxlM19JbmZvQ2VsbFwiO1xuIiwiaW1wb3J0IFZlcmJvc2VKdWRnZVNjb3JlIGZyb20gXCJjb21tb24vVmVyYm9zZUp1ZGdlU2NvcmVcIjtcblxuaW1wb3J0IEluZm9DZWxsIGZyb20gXCIuL0luZm9DZWxsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvdyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRpc2NpcGxpbmVKdWRnZXNNYXA6IFBULmluc3RhbmNlT2YoTWFwKS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgbGluZURpc2NpcGxpbmVKdWRnZXM6IFBULmFycmF5T2YoXG4gICAgICAgICAgICAgICAgUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICByb2xlOiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkXG4gICAgICAgICAgICApLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICByb3c6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICBhZGRpdGlvbmFsX2RhdGE6IFBULm9iamVjdC5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIHBsYWNlOiBQVC5udW1iZXIsXG4gICAgICAgICAgICAgICAgcnVuOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgICAgIGRpc3F1YWxpZmllZDogUFQuYm9vbC5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFBULm9uZU9mKFtcIk9LXCIsIFwiTlBcIiwgXCJEUVwiXSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgc2NvcmVzOiBQVC5hcnJheU9mKFxuICAgICAgICAgICAgICAgICAgICAgICAgUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NpcGxpbmVfanVkZ2VfaWQ6IFBULm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkuaXNSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICApLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgIHZlcmJvc2VfdG90YWxfc2NvcmU6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaW1hcnlfc2NvcmU6IFBULm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZGFyeV9zY29yZTogUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNfdG91cjogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW1hcnlfc2NvcmU6IFBULm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRhcnlfc2NvcmU6IFBULm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIHRvdXI6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICBzY29yaW5nX3N5c3RlbV9uYW1lOiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZ2V0UGxhY2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLnJvdy5ydW4uZGlzcXVhbGlmaWVkXG4gICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgIDogdGhpcy5wcm9wcy5yb3cucGxhY2U7XG4gICAgfVxuICAgIHJlbmRlclNjb3JlKGRpc2NpcGxpbmVfanVkZ2UsIHNjb3JlKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8VmVyYm9zZUp1ZGdlU2NvcmVcbiAgICAgICAgICAgICAgICBhZGRpdGlvbmFsRGF0YT17IHRoaXMucHJvcHMucm93LmFkZGl0aW9uYWxfZGF0YSB9XG4gICAgICAgICAgICAgICAgZGlzY2lwbGluZUp1ZGdlPXsgZGlzY2lwbGluZV9qdWRnZSB9XG4gICAgICAgICAgICAgICAgc2NvcmU9eyBzY29yZSB9XG4gICAgICAgICAgICAgICAgc2hvd1Njb3JlPXsgdGhpcy5wcm9wcy5yb3cucnVuLnN0YXR1cyA9PT0gXCJPS1wiIH1cbiAgICAgICAgICAgICAgICB0b3VyPXsgdGhpcy5wcm9wcy50b3VyIH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgfVxuICAgIHJlbmRlckp1ZGdlc1Njb3JlcygpIHtcbiAgICAgICAgY29uc3Qgc2NvcmVzX21hcCA9IG5ldyBNYXAodGhpcy5wcm9wcy5yb3cucnVuLnNjb3Jlcy5tYXAoc2NvcmUgPT4gW3Njb3JlLmRpc2NpcGxpbmVfanVkZ2VfaWQsIHNjb3JlXSkpO1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5saW5lRGlzY2lwbGluZUp1ZGdlcy5tYXAoKGRqLCBpZHgpID0+XG4gICAgICAgICAgICA8dGQga2V5PXsgZGogPyBkai5pZCA6IGBJJHtpZHh9YCB9PlxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJTY29yZShkaiwgc2NvcmVzX21hcC5nZXQoZGouaWQpKSB9XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICApO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInBsYWNlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7IHRoaXMuZ2V0UGxhY2UoKSB9XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgIDxJbmZvQ2VsbFxuICAgICAgICAgICAgICAgICAgICBkaXNjaXBsaW5lSnVkZ2VzTWFwPXsgdGhpcy5wcm9wcy5kaXNjaXBsaW5lSnVkZ2VzTWFwIH1cbiAgICAgICAgICAgICAgICAgICAgcm93PXsgdGhpcy5wcm9wcy5yb3cgfVxuICAgICAgICAgICAgICAgICAgICB0b3VyPXsgdGhpcy5wcm9wcy50b3VyIH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJKdWRnZXNTY29yZXMoKSB9XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuUm93LmRpc3BsYXlOYW1lID0gXCJydWxlc19zZXRzX3Jvc2ZhcnJfUmVzdWx0c1RhYmxlM19Sb3dcIjtcbiIsImltcG9ydCBfIGZyb20gXCJsMTBuXCI7XHJcblxyXG5pbXBvcnQgUm93IGZyb20gXCIuL1Jvd1wiO1xyXG5pbXBvcnQgQ29sdW1uc1dpZHRocyBmcm9tIFwiLi9Db2x1bW5zV2lkdGhzXCI7XHJcblxyXG5pbXBvcnQgZ2V0SnVkZ2VUYWJsZU1hcmsgZnJvbSBcImdldEp1ZGdlVGFibGVNYXJrXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXN1bHRzVGFibGUzIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcclxuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgIHRhYmxlOiBQVC5hcnJheU9mKFxyXG4gICAgICAgICAgICAgICAgUFQuc2hhcGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGFkdmFuY2VzOiBQVC5ib29sLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcnVuOiBQVC5zaGFwZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBQVC5udW1iZXIuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICAgICAgfSkuaXNSZXF1aXJlZFxyXG4gICAgICAgICAgICApLmlzUmVxdWlyZWQsXHJcbiAgICAgICAgICAgIHRvdXI6IFBULnNoYXBlKHtcclxuICAgICAgICAgICAgICAgIHNjb3Jpbmdfc3lzdGVtX25hbWU6IFBULnN0cmluZy5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICAgICAgbmV4dF90b3VyX2lkOiBQVC5udW1iZXIsXHJcbiAgICAgICAgICAgICAgICBkaXNjaXBsaW5lOiBQVC5zaGFwZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzY2lwbGluZV9qdWRnZXM6IFBULmFycmF5T2YoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFBULnNoYXBlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6IFBULnN0cmluZy5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkXHJcbiAgICAgICAgICAgICAgICAgICAgKS5pc1JlcXVpcmVkLFxyXG4gICAgICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcclxuICAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdHJhbnNmb3JtRG9jeChkb2N4KSB7XHJcbiAgICAgICAgZG9jeFxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIuYm9yZGVyZWQtdGFibGVcIiwgXCJmb250LXNpemVcIiwgXCI5cHRcIilcclxuICAgICAgICAgICAgLmFkZFN0eWxlKFwiLmJvcmRlcmVkLXRhYmxlIC5hY3JvLXRhYmxlIHRkXCIsIFwiZm9udC1zaXplXCIsIFwiOXB0XCIpXHJcbiAgICAgICAgICAgIC5hZGRTdHlsZShcIi5ib3JkZXJlZC10YWJsZSAuYWNyby10YWJsZSB0ZFwiLCBcInBhZGRpbmdcIiwgXCIwIDNwdFwiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIuYm9yZGVyZWQtdGFibGUgLmFjcm8tdGFibGUgdGRcIiwgXCJib3JkZXJcIiwgXCIwLjVwdCBzb2xpZCBibGFja1wiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIuYm9yZGVyZWQtdGFibGUgLnNjb3JlLWJyZWFrZG93biB0ZCwgLmJvcmRlcmVkLXRhYmxlIC5zY29yZS1icmVha2Rvd24gdGhcIiwgXCJmb250LXNpemVcIiwgXCI5cHRcIilcclxuICAgICAgICAgICAgLmFkZFN0eWxlKFwiLmJvcmRlcmVkLXRhYmxlIC5zY29yZS1icmVha2Rvd24gdGQsIC5ib3JkZXJlZC10YWJsZSAuc2NvcmUtYnJlYWtkb3duIHRoXCIsIFwiYm9yZGVyXCIsIFwibm9uZVwiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIuYm9yZGVyZWQtdGFibGUgLnNjb3JlLWJyZWFrZG93biB0aFwiLCBcInBhZGRpbmdcIiwgXCIwIDFwdCAwIDBcIilcclxuICAgICAgICAgICAgLmFkZFN0eWxlKFwiLmJvcmRlcmVkLXRhYmxlIC5zY29yZS1icmVha2Rvd24gdGRcIiwgXCJwYWRkaW5nXCIsIFwiMCAwIDAgMXB0XCIpXHJcbiAgICAgICAgICAgIC5hZGRTdHlsZShcIi5zY29yZS1icmVha2Rvd24gdGhcIiwgXCJ0ZXh0LWFsaWduXCIsIFwicmlnaHRcIilcclxuICAgICAgICAgICAgLmFkZFN0eWxlKFwiLnNjb3JlLWJyZWFrZG93biB0ZFwiLCBcInRleHQtYWxpZ25cIiwgXCJsZWZ0XCIpXHJcbiAgICAgICAgICAgIC5hZGRTdHlsZShcIi5zY29yZS1icmVha2Rvd24gdGRcIiwgXCJ0ZXh0LWFsaWduXCIsIFwibGVmdFwiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIuc2NvcmUtYnJlYWtkb3duXCIsIFwid2lkdGhcIiwgXCI1MHB0XCIpXHJcbiAgICAgICAgICAgIC5hZGRTdHlsZShcIi5hZHZhbmNlcy1oZWFkZXJcIiwgXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIFwiI2RkZFwiKVxyXG4gICAgICAgICAgICAuYWRkU3R5bGUoXCIudG90YWwtc2NvcmVcIiwgXCJmb250LXdlaWdodFwiLCBcImJvbGRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnN0IGxpbmVfanVkZ2VzID0gdGhpcy5wcm9wcy50b3VyLmRpc2NpcGxpbmUuZGlzY2lwbGluZV9qdWRnZXMuZmlsdGVyKFxyXG4gICAgICAgICAgICBkaiA9PiBbXCJhY3JvX2p1ZGdlXCIsIFwiZGFuY2VfanVkZ2VcIl0uaW5kZXhPZihkai5yb2xlKSA+PSAwKTtcclxuICAgICAgICBjb25zdCB3aWR0aHMgPSBuZXcgQ29sdW1uc1dpZHRocyhsaW5lX2p1ZGdlcy5sZW5ndGgpO1xyXG4gICAgICAgIGNvbnN0IGRqc19tYXAgPSBuZXcgTWFwKHRoaXMucHJvcHMudG91ci5kaXNjaXBsaW5lLmRpc2NpcGxpbmVfanVkZ2VzLm1hcChkaiA9PiBbZGouaWQsIGRqXSkpO1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIlJlc3VsdHNUYWJsZTNcIj5cclxuICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJib3JkZXJlZC10YWJsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aGVhZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInBsYWNlXCIgc3R5bGU9eyB3aWR0aHMuZ2VuUGxhY2VTdHlsZSgpIH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXyhcInJlc3VsdHMubGFiZWxzLnBsYWNlXCIpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInBhcnRpY2lwYW50XCIgc3R5bGU9eyB3aWR0aHMuZ2VuSW5mb1N0eWxlKCkgfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBfKFwicmVzdWx0cy5sYWJlbHMuaW5mb1wiKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbGluZV9qdWRnZXMubWFwKGRqID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGtleT17IGRqLmlkIH0gc3R5bGU9eyB3aWR0aHMuZ2VuSnVkZ2VTdHlsZSgpIH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBnZXRKdWRnZVRhYmxlTWFyayhkaikgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMudGFibGUubWFwKHJvdyA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NpcGxpbmVKdWRnZXNNYXA9eyBkanNfbWFwIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9eyByb3cucnVuLmlkIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lRGlzY2lwbGluZUp1ZGdlcz17IGxpbmVfanVkZ2VzIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3c9eyByb3cgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdXI9eyB0aGlzLnByb3BzLnRvdXIgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcblJlc3VsdHNUYWJsZTMuZGlzcGxheU5hbWUgPSBcInJ1bGVzX3NldHNfcm9zZmFycl9SZXN1bHRzVGFibGUzXCI7XHJcbiIsImltcG9ydCBfIGZyb20gXCJsMTBuXCI7XG5cbmltcG9ydCBmb3JtYXRTY29yZSBmcm9tIFwiLi9mb3JtYXRTY29yZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBY3JvU2NvcmUgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcbiAgICAgICAgY29uc3QgUFQgPSBSZWFjdC5Qcm9wVHlwZXM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzY29yZTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgIGlkOiBQVC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICBkYXRhOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgICAgIHRvdGFsX3Njb3JlOiBQVC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgcmF3X2RhdGE6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZHVjdGlvbnM6IFBULmFycmF5T2YoUFQubnVtYmVyKS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWlzdGFrZXM6IFBULm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwic2NvcmUtYnJlYWtkb3duXCI+PHRib2R5PlxuICAgICAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5zY29yZS5kYXRhLnJhd19kYXRhLnJlZHVjdGlvbnMubWFwKChzY29yZSwgaWR4KSA9PlxuICAgICAgICAgICAgICAgICAgICA8dHIga2V5PXsgaWR4IH0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dGg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+eyBfKFwicmVzdWx0cy5icmVha2Rvd24uYWNyb19uXCIsIGlkeCArIDEpIH06PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD57IGZvcm1hdFNjb3JlKHNjb3JlLCBcIi0kJVwiKSB9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICApIH1cbiAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgIDx0aD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPnsgXyhcInJlc3VsdHMuYnJlYWtkb3duLmZkXCIpIH06PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWlzdGFrZXNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPnsgZm9ybWF0U2NvcmUodGhpcy5wcm9wcy5zY29yZS5kYXRhLnJhd19kYXRhLm1pc3Rha2VzKSB9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICA8dGg+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD57IF8oXCJyZXN1bHRzLmJyZWFrZG93bi50XCIpICB9OjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInRvdGFsLXNjb3JlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD57IHRoaXMucHJvcHMuc2NvcmUuZGF0YS50b3RhbF9zY29yZSB9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICA8L3Rib2R5PjwvdGFibGU+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5BY3JvU2NvcmUuZGlzcGxheU5hbWUgPSBcInJ1bGVzX3NldHNfcm9zZmFycl9SZXN1bHRzVGFibGUzX1Jvd19BY3JvU2NvcmVcIjtcbiIsImltcG9ydCBfIGZyb20gXCJsMTBuXCI7XG5cbmltcG9ydCBmb3JtYXRTY29yZSBmcm9tIFwiLi9mb3JtYXRTY29yZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEYW5jZVNjb3JlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIGdldCBwcm9wVHlwZXMoKSB7XG4gICAgICAgIGNvbnN0IFBUID0gUmVhY3QuUHJvcFR5cGVzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2NvcmU6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICBpZDogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgZGF0YTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICB0b3RhbF9zY29yZTogUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgIHJhd19kYXRhOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBmd193b21hbjogUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgZndfbWFuOiBQVC5udW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYW5jZV9maWdzOiBQVC5udW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb3NpdGlvbjogUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgc21hbGxfbWlzdGFrZXM6IFBULm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpZ19taXN0YWtlczogUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgc2NvcmluZ1R5cGU6IFBULnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJzY29yZS1icmVha2Rvd25cIj48dGJvZHk+XG4gICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICA8dGg+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD57IF8oXCJyZXN1bHRzLmJyZWFrZG93bi5md1wiKSB9OjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+eyBmb3JtYXRTY29yZSh0aGlzLnByb3BzLnNjb3JlLmRhdGEucmF3X2RhdGEuZndfd29tYW4sIFwiLSQlXCIpIH08L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgIDx0aD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPnsgXyhcInJlc3VsdHMuYnJlYWtkb3duLmZtXCIpIH06PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD57IGZvcm1hdFNjb3JlKHRoaXMucHJvcHMuc2NvcmUuZGF0YS5yYXdfZGF0YS5md19tYW4sIFwiLSQlXCIpIH08L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgIDx0aD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPnsgXyhcInJlc3VsdHMuYnJlYWtkb3duLmRmXCIpIH06PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD57IGZvcm1hdFNjb3JlKHRoaXMucHJvcHMuc2NvcmUuZGF0YS5yYXdfZGF0YS5kYW5jZV9maWdzLCBcIkBcIikgfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgPHRoPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+eyBfKFwicmVzdWx0cy5icmVha2Rvd24uY1wiKSAgfTo8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPnsgZm9ybWF0U2NvcmUodGhpcy5wcm9wcy5zY29yZS5kYXRhLnJhd19kYXRhLmNvbXBvc2l0aW9uLCBcIkBcIikgfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgPHRoPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+eyBfKFwicmVzdWx0cy5icmVha2Rvd24uc21cIikgfTo8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaXN0YWtlc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+eyBmb3JtYXRTY29yZSh0aGlzLnByb3BzLnNjb3JlLmRhdGEucmF3X2RhdGEuc21hbGxfbWlzdGFrZXMpIH08L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgIDx0aD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPnsgXyhcInJlc3VsdHMuYnJlYWtkb3duLmJtXCIpIH06PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWlzdGFrZXNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPnsgZm9ybWF0U2NvcmUodGhpcy5wcm9wcy5zY29yZS5kYXRhLnJhd19kYXRhLmJpZ19taXN0YWtlcykgfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgPHRoPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+eyBfKFwicmVzdWx0cy5icmVha2Rvd24udFwiKSAgfTo8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ0b3RhbC1zY29yZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+eyB0aGlzLnByb3BzLnNjb3JlLmRhdGEudG90YWxfc2NvcmUudG9GaXhlZCgzKS5yZXBsYWNlKC9cXC4/MCskLywgXCJcIikgfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgPC90Ym9keT48L3RhYmxlPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuRGFuY2VTY29yZS5kaXNwbGF5TmFtZSA9IFwicnVsZXNfc2V0c19yb3NmYXJyX1Jlc3VsdHNUYWJsZTNfUm93X0RhbmNlU2NvcmVcIjtcbiIsImltcG9ydCBfIGZyb20gXCJsMTBuXCI7XG5cbmltcG9ydCBmb3JtYXRTY29yZSBmcm9tIFwiLi9mb3JtYXRTY29yZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtYXRpb25BY3JvU2NvcmUgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcbiAgICAgICAgY29uc3QgUFQgPSBSZWFjdC5Qcm9wVHlwZXM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhZGRpdGlvbmFsRGF0YTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgIHBsYWNlczogUFQub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHNjb3JlOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgaWQ6IFBULm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIGRhdGE6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgdG90YWxfc2NvcmU6IFBULm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICByYXdfZGF0YTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNyb2JhdGljczogUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGFuY2VfdGVjaDogUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGFuY2VfZmlnczogUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1wcmVzc2lvbjogUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgc21hbGxfbWlzdGFrZXM6IFBULm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpZ19taXN0YWtlczogUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJzY29yZS1icmVha2Rvd25cIj48dGJvZHk+XG4gICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICA8dGg+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD57IF8oXCJyZXN1bHRzLmJyZWFrZG93bi5hXCIpIH06PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD57IGZvcm1hdFNjb3JlKHRoaXMucHJvcHMuc2NvcmUuZGF0YS5yYXdfZGF0YS5hY3JvYmF0aWNzLCBcIkBcIikgfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgPHRoPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+eyBfKFwicmVzdWx0cy5icmVha2Rvd24uZHRcIikgfTo8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPnsgZm9ybWF0U2NvcmUodGhpcy5wcm9wcy5zY29yZS5kYXRhLnJhd19kYXRhLmRhbmNlX3RlY2gsIFwiQFwiKSB9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICA8dGg+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD57IF8oXCJyZXN1bHRzLmJyZWFrZG93bi5kZlwiKSB9OjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+eyBmb3JtYXRTY29yZSh0aGlzLnByb3BzLnNjb3JlLmRhdGEucmF3X2RhdGEuZGFuY2VfZmlncywgXCJAXCIpIH08L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgIDx0aD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPnsgXyhcInJlc3VsdHMuYnJlYWtkb3duLmlcIikgIH06PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD57IGZvcm1hdFNjb3JlKHRoaXMucHJvcHMuc2NvcmUuZGF0YS5yYXdfZGF0YS5pbXByZXNzaW9uLCBcIkBcIikgfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgPHRoPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+eyBfKFwicmVzdWx0cy5icmVha2Rvd24uc21cIikgfTo8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaXN0YWtlc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+eyBmb3JtYXRTY29yZSh0aGlzLnByb3BzLnNjb3JlLmRhdGEucmF3X2RhdGEuc21hbGxfbWlzdGFrZXMpIH08L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgIDx0aD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPnsgXyhcInJlc3VsdHMuYnJlYWtkb3duLmJtXCIpIH06PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWlzdGFrZXNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPnsgZm9ybWF0U2NvcmUodGhpcy5wcm9wcy5zY29yZS5kYXRhLnJhd19kYXRhLmJpZ19taXN0YWtlcykgfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgPHRoPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+eyBfKFwicmVzdWx0cy5icmVha2Rvd24udFwiKSAgfTo8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ0b3RhbC1zY29yZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+eyB0aGlzLnByb3BzLnNjb3JlLmRhdGEudG90YWxfc2NvcmUgfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5hZGRpdGlvbmFsRGF0YVxuICAgICAgICAgICAgICAgICAgICA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPnsgXyhcInJlc3VsdHMuYnJlYWtkb3duLnBcIikgIH06PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInRvdGFsLXNjb3JlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPnsgdGhpcy5wcm9wcy5hZGRpdGlvbmFsRGF0YS5wbGFjZXNbdGhpcy5wcm9wcy5zY29yZS5pZF0gfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgICAgKSA6IG51bGxcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIDwvdGJvZHk+PC90YWJsZT5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbkZvcm1hdGlvbkFjcm9TY29yZS5kaXNwbGF5TmFtZSA9IFwicnVsZXNfc2V0c19yb3NmYXJyX1Jlc3VsdHNUYWJsZTNfUm93X0Zvcm1hdGlvbkFjcm9TY29yZVwiO1xuIiwiaW1wb3J0IF8gZnJvbSBcImwxMG5cIjtcblxuaW1wb3J0IGZvcm1hdFNjb3JlIGZyb20gXCIuL2Zvcm1hdFNjb3JlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1hdGlvblNjb3JlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIGdldCBwcm9wVHlwZXMoKSB7XG4gICAgICAgIGNvbnN0IFBUID0gUmVhY3QuUHJvcFR5cGVzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWRkaXRpb25hbERhdGE6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICBwbGFjZXM6IFBULm9iamVjdC5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBzY29yZTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgIGlkOiBQVC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICBkYXRhOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgICAgIHRvdGFsX3Njb3JlOiBQVC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgcmF3X2RhdGE6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhbmNlX3RlY2g6IFBULm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhbmNlX2ZpZ3M6IFBULm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGltcHJlc3Npb246IFBULm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pc3Rha2VzOiBQVC5udW1iZXIsXG4gICAgICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cInNjb3JlLWJyZWFrZG93blwiPjx0Ym9keT5cbiAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgIDx0aD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPnsgXyhcInJlc3VsdHMuYnJlYWtkb3duLmR0XCIpIH06PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD57IGZvcm1hdFNjb3JlKHRoaXMucHJvcHMuc2NvcmUuZGF0YS5yYXdfZGF0YS5kYW5jZV90ZWNoLCBcIkBcIikgfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgPHRoPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+eyBfKFwicmVzdWx0cy5icmVha2Rvd24uZGZcIikgfTo8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPnsgZm9ybWF0U2NvcmUodGhpcy5wcm9wcy5zY29yZS5kYXRhLnJhd19kYXRhLmRhbmNlX2ZpZ3MsIFwiQFwiKSB9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICA8dGg+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD57IF8oXCJyZXN1bHRzLmJyZWFrZG93bi5pXCIpICB9OjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+eyBmb3JtYXRTY29yZSh0aGlzLnByb3BzLnNjb3JlLmRhdGEucmF3X2RhdGEuaW1wcmVzc2lvbiwgXCJAXCIpIH08L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgIDx0aD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPnsgXyhcInJlc3VsdHMuYnJlYWtkb3duLm1cIikgfTo8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaXN0YWtlc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+eyBmb3JtYXRTY29yZSh0aGlzLnByb3BzLnNjb3JlLmRhdGEucmF3X2RhdGEubWlzdGFrZXMpIH08L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgIDx0aD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPnsgXyhcInJlc3VsdHMuYnJlYWtkb3duLnRcIikgIH06PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidG90YWwtc2NvcmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPnsgdGhpcy5wcm9wcy5zY29yZS5kYXRhLnRvdGFsX3Njb3JlIH08L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMuYWRkaXRpb25hbERhdGFcbiAgICAgICAgICAgICAgICAgICAgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD57IF8oXCJyZXN1bHRzLmJyZWFrZG93bi5wXCIpICB9OjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ0b3RhbC1zY29yZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD57IHRoaXMucHJvcHMuYWRkaXRpb25hbERhdGEucGxhY2VzW3RoaXMucHJvcHMuc2NvcmUuaWRdIH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICAgICkgOiBudWxsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC90Ym9keT48L3RhYmxlPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuRm9ybWF0aW9uU2NvcmUuZGlzcGxheU5hbWUgPSBcInJ1bGVzX3NldHNfcm9zZmFycl9SZXN1bHRzVGFibGUzX1Jvd19Gb3JtYXRpb25TY29yZVwiO1xuIiwiaW1wb3J0IF8gZnJvbSBcImwxMG5cIjtcblxuaW1wb3J0IGZvcm1hdFNjb3JlIGZyb20gXCIuL2Zvcm1hdFNjb3JlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNvbG9TY29yZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNjb3JlOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgaWQ6IFBULm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIGRhdGE6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgdG90YWxfc2NvcmU6IFBULm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICByYXdfZGF0YTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZnc6IFBULm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhbmNlX2ZpZ3M6IFBULm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvc2l0aW9uOiBQVC5udW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzbWFsbF9taXN0YWtlczogUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmlnX21pc3Rha2VzOiBQVC5udW1iZXIsXG4gICAgICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBzY29yaW5nVHlwZTogUFQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cInNjb3JlLWJyZWFrZG93blwiPjx0Ym9keT5cbiAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgIDx0aD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPnsgXyhcInJlc3VsdHMuYnJlYWtkb3duLmZ3X3NvbG9cIikgfTo8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPnsgZm9ybWF0U2NvcmUodGhpcy5wcm9wcy5zY29yZS5kYXRhLnJhd19kYXRhLmZ3LCBcIi0kJVwiKSB9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICA8dGg+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD57IF8oXCJyZXN1bHRzLmJyZWFrZG93bi5kZlwiKSB9OjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+eyBmb3JtYXRTY29yZSh0aGlzLnByb3BzLnNjb3JlLmRhdGEucmF3X2RhdGEuZGFuY2VfZmlncywgXCJAXCIpIH08L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgIDx0aD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPnsgXyhcInJlc3VsdHMuYnJlYWtkb3duLmNcIikgIH06PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD57IGZvcm1hdFNjb3JlKHRoaXMucHJvcHMuc2NvcmUuZGF0YS5yYXdfZGF0YS5jb21wb3NpdGlvbiwgXCJAXCIpIH08L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgIDx0aD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPnsgXyhcInJlc3VsdHMuYnJlYWtkb3duLnNtXCIpIH06PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWlzdGFrZXNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPnsgZm9ybWF0U2NvcmUodGhpcy5wcm9wcy5zY29yZS5kYXRhLnJhd19kYXRhLnNtYWxsX21pc3Rha2VzKSB9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICA8dGg+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD57IF8oXCJyZXN1bHRzLmJyZWFrZG93bi5ibVwiKSB9OjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pc3Rha2VzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD57IGZvcm1hdFNjb3JlKHRoaXMucHJvcHMuc2NvcmUuZGF0YS5yYXdfZGF0YS5iaWdfbWlzdGFrZXMpIH08L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgIDx0aD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPnsgXyhcInJlc3VsdHMuYnJlYWtkb3duLnRcIikgIH06PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidG90YWwtc2NvcmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPnsgdGhpcy5wcm9wcy5zY29yZS5kYXRhLnRvdGFsX3Njb3JlIH08L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgIDwvdGJvZHk+PC90YWJsZT5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblNvbG9TY29yZS5kaXNwbGF5TmFtZSA9IFwicnVsZXNfc2V0c19yb3NmYXJyX1Jlc3VsdHNUYWJsZTNfUm93X1NvbG9TY29yZVwiO1xuIiwiaW1wb3J0IF8gZnJvbSBcImwxMG5cIjtcblxuaW1wb3J0IGZvcm1hdFNjb3JlIGZyb20gXCIuL2Zvcm1hdFNjb3JlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRlY2hTY29yZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBnZXQgcHJvcFR5cGVzKCkge1xuICAgICAgICBjb25zdCBQVCA9IFJlYWN0LlByb3BUeXBlcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNjb3JlOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgaWQ6IFBULm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIGRhdGE6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICAgICAgdG90YWxfc2NvcmU6IFBULnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICByYXdfZGF0YTogUFQuc2hhcGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAganVtcF9zdGVwczogUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZDogUFQuc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogUFQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHBhZChudW0sIHNpemUpIHtcbiAgICAgICAgY29uc3QgcyA9IGAwMDAwJHtudW19YDtcbiAgICAgICAgcmV0dXJuIHMuc3Vic3RyKHMubGVuZ3RoIC0gc2l6ZSk7XG4gICAgfVxuICAgIGdldFRpbWUoKSB7XG4gICAgICAgIGxldCB2YWwgPSB0aGlzLnByb3BzLnNjb3JlLmRhdGEucmF3X2RhdGEudGltZTtcbiAgICAgICAgaWYgKHZhbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIFwi4oCUXCJcbiAgICAgICAgfVxuICAgICAgICBsZXQgbSA9IDAsIHMgPSAwO1xuICAgICAgICBtID0gTWF0aC5mbG9vcih2YWwgLyA2MCk7XG4gICAgICAgIHZhbCAlPSA2MDtcbiAgICAgICAgcyA9IE1hdGguZmxvb3IodmFsKTtcbiAgICAgICAgcmV0dXJuIGAke219OiR7dGhpcy5wYWQocywgMil9YDtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwic2NvcmUtYnJlYWtkb3duXCI+PHRib2R5PlxuICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgPHRoPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+eyBfKFwicmVzdWx0cy5icmVha2Rvd24uanNcIikgfTo8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPnsgZm9ybWF0U2NvcmUodGhpcy5wcm9wcy5zY29yZS5kYXRhLnJhd19kYXRhLmp1bXBfc3RlcHMsIFwiJFwiKSB9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICA8dGg+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD57IF8oXCJyZXN1bHRzLmJyZWFrZG93bi50aW1lXCIpIH06PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD57IHRoaXMuZ2V0VGltZSgpIH08L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgIDwvdGJvZHk+PC90YWJsZT5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblRlY2hTY29yZS5kaXNwbGF5TmFtZSA9IFwicnVsZXNfc2V0c19yb3NmYXJyX1Jlc3VsdHNUYWJsZTNfUm93X1RlY2hTY29yZVwiO1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZm9ybWF0U2NvcmUoc2NvcmUsIHRlbXBsYXRlPVwiJFwiKSB7XG4gICAgaWYgKHNjb3JlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBcIuKAlFwiO1xuICAgIH1cbiAgICByZXR1cm4gdGVtcGxhdGVcbiAgICAgICAgLnJlcGxhY2UoXCIkXCIsIHNjb3JlKVxuICAgICAgICAucmVwbGFjZShcIkBcIiwgc2NvcmUudG9GaXhlZCgxKSlcbn1cbiIsImltcG9ydCBnZXRTY29yaW5nVHlwZSBmcm9tIFwiY29tbW9uL2dldFNjb3JpbmdUeXBlXCI7XG5cbmltcG9ydCBBY3JvU2NvcmUgZnJvbSBcIi4vQWNyb1Njb3JlXCI7XG5pbXBvcnQgRGFuY2VTY29yZSBmcm9tIFwiLi9EYW5jZVNjb3JlXCI7XG5pbXBvcnQgU29sb1Njb3JlIGZyb20gXCIuL1NvbG9TY29yZVwiO1xuaW1wb3J0IEZvcm1hdGlvbkFjcm9TY29yZSBmcm9tIFwiLi9Gb3JtYXRpb25BY3JvU2NvcmVcIjtcbmltcG9ydCBGb3JtYXRpb25TY29yZSBmcm9tIFwiLi9Gb3JtYXRpb25TY29yZVwiO1xuaW1wb3J0IFRlY2hTY29yZSBmcm9tIFwiLi9UZWNoU2NvcmVcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVyYm9zZUp1ZGdlU2NvcmUgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgZ2V0IHByb3BUeXBlcygpIHtcbiAgICAgICAgY29uc3QgUFQgPSBSZWFjdC5Qcm9wVHlwZXM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhZGRpdGlvbmFsRGF0YTogUFQub2JqZWN0LFxuICAgICAgICAgICAgZGlzY2lwbGluZUp1ZGdlOiBQVC5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIHNob3dTY29yZTogUFQuYm9vbC5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgc2NvcmU6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBQVC5zaGFwZSh7XG4gICAgICAgICAgICAgICAgICAgIHRvdGFsX3Njb3JlOiBQVC5vbmVPZlR5cGUoW1xuICAgICAgICAgICAgICAgICAgICAgICAgUFQubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgXSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIHRvdXI6IFBULnNoYXBlKHtcbiAgICAgICAgICAgICAgICBzY29yaW5nX3N5c3RlbV9uYW1lOiBQVC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgZGVmYXVsdFByb3BzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2hvd1Njb3JlOiB0cnVlLFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBpZiAoIXRoaXMucHJvcHMuc2hvd1Njb3JlKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICZtZGFzaDtcbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGxldCBTY29yZUNvbXBvbmVudCA9IG51bGw7XG4gICAgICAgIGNvbnN0IHNjb3JpbmdfdHlwZSA9IGdldFNjb3JpbmdUeXBlKHRoaXMucHJvcHMuZGlzY2lwbGluZUp1ZGdlLCB0aGlzLnByb3BzLnRvdXIuc2NvcmluZ19zeXN0ZW1fbmFtZSk7XG4gICAgICAgIHN3aXRjaCAoc2NvcmluZ190eXBlKSB7XG4gICAgICAgIGNhc2UgXCJkYW5jZVwiOlxuICAgICAgICAgICAgU2NvcmVDb21wb25lbnQgPSBEYW5jZVNjb3JlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJhY3JvXCI6XG4gICAgICAgICAgICBTY29yZUNvbXBvbmVudCA9IEFjcm9TY29yZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZm9ybWF0aW9uXCI6XG4gICAgICAgICAgICBTY29yZUNvbXBvbmVudCA9IEZvcm1hdGlvblNjb3JlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJmb3JtYXRpb25fYWNyb1wiOlxuICAgICAgICAgICAgU2NvcmVDb21wb25lbnQgPSBGb3JtYXRpb25BY3JvU2NvcmU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInNvbG9cIjpcbiAgICAgICAgICAgIFNjb3JlQ29tcG9uZW50ID0gU29sb1Njb3JlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0ZWNoXCI6XG4gICAgICAgICAgICBTY29yZUNvbXBvbmVudCA9IFRlY2hTY29yZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMuc2NvcmUuZGF0YS50b3RhbF9zY29yZS50b0ZpeGVkKDIpIH1cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgICAgICAgc2NvcmU6IHRoaXMucHJvcHMuc2NvcmUsXG4gICAgICAgICAgICBhZGRpdGlvbmFsRGF0YTogdGhpcy5wcm9wcy5hZGRpdGlvbmFsRGF0YSxcbiAgICAgICAgICAgIHNjb3JpbmdUeXBlOiBzY29yaW5nX3R5cGUsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8U2NvcmVDb21wb25lbnQgeyAuLi5wcm9wcyB9IC8+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5WZXJib3NlSnVkZ2VTY29yZS5kaXNwbGF5TmFtZSA9IFwicnVsZXNfc2V0c19yb3NmYXJyX2NvbW1vbl9WZXJib3NlSnVkZ2VTY29yZVwiO1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0UGFydGljaXBhbnREaXNwbGF5KHBhcnRpY2lwYW50KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVhY3QvZGlzcGxheS1uYW1lXHJcbiAgICBpZiAocGFydGljaXBhbnQuZm9ybWF0aW9uX25hbWUgIT09IFwiXCIpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICAgIHsgcGFydGljaXBhbnQuZm9ybWF0aW9uX25hbWUgfVxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwYXJ0aWNpcGFudC5zcG9ydHNtZW4ubWFwKChzLCBpZHgpID0+XHJcbiAgICAgICAgPHAga2V5PXsgaWR4IH0+XHJcbiAgICAgICAgICAgIHsgYCR7cy5sYXN0X25hbWV9ICR7cy5maXJzdF9uYW1lfWAgfVxyXG4gICAgICAgIDwvcD5cclxuICAgICk7XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0U2NvcmluZ1R5cGUoZGlzY2lwbGluZV9qdWRnZSwgc2NvcmluZ19zeXN0ZW1fbmFtZSkge1xuICAgIHN3aXRjaCAoZGlzY2lwbGluZV9qdWRnZS5yb2xlKSB7XG4gICAgY2FzZSBcImRhbmNlX2p1ZGdlXCI6XG4gICAgICAgIHN3aXRjaCAoc2NvcmluZ19zeXN0ZW1fbmFtZSkge1xuICAgICAgICBjYXNlIFwicm9zZmFyci5mb3JtYXRpb25cIjpcbiAgICAgICAgICAgIHJldHVybiBcImZvcm1hdGlvblwiO1xuICAgICAgICBjYXNlIFwicm9zZmFyci5mb3JtYXRpb25fYWNyb1wiOlxuICAgICAgICAgICAgcmV0dXJuIFwiZm9ybWF0aW9uX2Fjcm9cIjtcbiAgICAgICAgY2FzZSBcInJvc2ZhcnIuc2ltcGxpZmllZFwiOlxuICAgICAgICAgICAgcmV0dXJuIFwic2ltcGxpZmllZFwiO1xuICAgICAgICBjYXNlIFwicm9zZmFyci5zb2xvXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJzb2xvXCI7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gXCJkYW5jZVwiO1xuICAgICAgICB9XG4gICAgY2FzZSBcImFjcm9fanVkZ2VcIjpcbiAgICAgICAgc3dpdGNoIChzY29yaW5nX3N5c3RlbV9uYW1lKSB7XG4gICAgICAgIGNhc2UgXCJyb3NmYXJyLmFtX2ZpbmFsX2Z3XCI6XG4gICAgICAgICAgICByZXR1cm4gXCJkYW5jZVwiO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIFwiYWNyb1wiO1xuICAgICAgICB9XG4gICAgY2FzZSBcInRlY2hfanVkZ2VcIjpcbiAgICAgICAgcmV0dXJuIFwidGVjaFwiO1xuICAgIGNhc2UgXCJoZWFkX2p1ZGdlXCI6XG4gICAgICAgIHJldHVybiBcImhlYWRcIjtcbiAgICB9XG59XG4iLCJmdW5jdGlvbiBnZXRKdWRnZVRhYmxlTWFyayhkaXNjaXBsaW5lX2p1ZGdlKSB7XG4gICAgbGV0IHJlc3VsdCA9IGRpc2NpcGxpbmVfanVkZ2UuanVkZ2UubnVtYmVyO1xuICAgIGlmIChkaXNjaXBsaW5lX2p1ZGdlLnJvbGUgPT09IFwiYWNyb19qdWRnZVwiKSB7XG4gICAgICAgIHJlc3VsdCArPSBcIiAoQSlcIjtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZ2V0SnVkZ2VUYWJsZU1hcms7XG4iLCJpbXBvcnQgdHJhbnNsYXRlX3J1IGZyb20gXCIuL3J1XCI7XG5cbmNvbnN0IF8gPSB0cmFuc2xhdGVfcnVcblxuZXhwb3J0IGRlZmF1bHQgXztcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zbGF0ZShzcmMsIC4uLmFyZ3MpIHtcbiAgICBsZXQgUEhSQVNFUyA9IHtcbiAgICAgICAgXCJhZG1pblwiOiB7XG4gICAgICAgICAgICBcImJ1dHRvbnNcIjoge1xuICAgICAgICAgICAgICAgIFwiYWRkX2NsdWJcIjogXCLQlNC+0LHQsNCy0LjRgtGMINC60LvRg9CxXCIsXG4gICAgICAgICAgICAgICAgXCJhZGRfY29tcGV0aXRpb25cIjogXCLQodC+0LfQtNCw0YLRjCDRgdC+0YDQtdCy0L3QvtCy0LDQvdC40LVcIixcbiAgICAgICAgICAgICAgICBcImFkZF9jb21wZXRpdGlvbl9wbGFuX2l0ZW1cIjogXCLQlNC+0LHQsNCy0LjRgtGMINGN0LvQtdC80LXQvdGCXCIsXG4gICAgICAgICAgICAgICAgXCJhZGRfZGlzY2lwbGluZVwiOiBcItCU0L7QsdCw0LLQuNGC0Ywg0LTQuNGB0YbQuNC/0LvQuNC90YNcIixcbiAgICAgICAgICAgICAgICBcImFkZF9qdWRnZVwiOiBcItCU0L7QsdCw0LLQuNGC0Ywg0YHRg9C00YzRjlwiLFxuICAgICAgICAgICAgICAgIFwiYWRkX3BhcnRpY2lwYW50XCI6IFwi0JTQvtCx0LDQstC40YLRjCDRg9GH0LDRgdGC0L3QuNC60LBcIixcbiAgICAgICAgICAgICAgICBcImFkZF90b3VyXCI6IFwi0JTQvtCx0LDQstC40YLRjCDRgtGD0YBcIixcbiAgICAgICAgICAgICAgICBcImNvbmZpcm1fc2NvcmVcIjogXCLQl9Cw0YTQuNC60YHQuNGA0L7QstCw0YLRjFwiLFxuICAgICAgICAgICAgICAgIFwiZG9jeF9oZWF0c1wiOiBcItCX0LDRhdC+0LTRiyDQsiBET0NYXCIsXG4gICAgICAgICAgICAgICAgXCJkb2N4X251bWJlcnNcIjogXCLQndC+0LzQtdGA0LAg0LIgRE9DWFwiLFxuICAgICAgICAgICAgICAgIFwiZG9jeF9yZXN1bHRzXCI6IFwi0KDQtdC30YPQu9GM0YLQsNGC0Ysg0LIgRE9DWFwiLFxuICAgICAgICAgICAgICAgIFwiZXhwb3J0XCI6IFwi0K3QutGB0L/QvtGA0YLQuNGA0L7QstCw0YLRjFwiLFxuICAgICAgICAgICAgICAgIFwiaW1wb3J0XCI6IFwi0JjQvNC/0L7RgNGC0LjRgNC+0LLQsNGC0YxcIixcbiAgICAgICAgICAgICAgICBcImxhdW5jaF9hdXRvX3ByaW50ZXJcIjogXCLQl9Cw0L/Rg9GB0Log0LDQstGC0L7QvNCw0YLQuNGH0LXRgdC60L7QuSDQv9C10YfQsNGC0LhcIixcbiAgICAgICAgICAgICAgICBcImxvYWRfYWNyb1wiOiBcItCX0LDQs9GA0YPQt9C40YLRjCDQsNC60YDQvtCx0LDRgtC40LrRg1wiLFxuICAgICAgICAgICAgICAgIFwicmVmcmVzaF9jbGllbnRzXCI6IFwi0J/QtdGA0LXQt9Cw0LPRgNGD0LfQuNGC0Ywg0LLRgdC1INGD0YHRgtGA0L7QudGB0YLQstCwXCIsXG4gICAgICAgICAgICAgICAgXCJyZWxvYWRfY2xpZW50c1wiOiBcItCe0LHQvdC+0LLQuNGC0Ywg0LTQsNC90L3Ri9C1INC90LAg0LLRgdC10YUg0YPRgdGC0YDQvtC50YHRgtCy0LDRhVwiLFxuICAgICAgICAgICAgICAgIFwic3dpdGNoX3RvX3BsYW5cIjogXCLQodC+0YDRgtC40YDQvtCy0LrQsCDQv9C+INC/0YDQvtCz0YDQsNC80LzQtVwiLFxuICAgICAgICAgICAgICAgIFwic3dpdGNoX3RvX2Rpc2NpcGxpbmVzXCI6IFwi0KHQvtGA0YLQuNGA0L7QstC60LAg0L/QviDQtNC40YHRhtC40L/Qu9C40L3QsNC8XCIsXG4gICAgICAgICAgICAgICAgXCJ0b19zdGFydF9wYWdlXCI6IFwi0J3QsCDQs9C70LDQstC90YPRjlwiLFxuICAgICAgICAgICAgICAgIFwidW5jb25maXJtX3Njb3JlXCI6IFwi0J7RgtC80LXQvdCwINGE0LjQutGB0LDRhtC40LhcIixcbiAgICAgICAgICAgICAgICBcInVuZmluYWxpemVcIjogXCLQntGC0LzQtdC90LjRgtGMINGE0LjQvdCw0LvQuNC30LDRhtC40Y5cIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFwidGFibGV0XCI6IHtcbiAgICAgICAgICAgIFwiYWNyb19qdWRnZVwiOiB7XG4gICAgICAgICAgICAgICAgXCJmYWxsX2Rvd25cIjogXCLQn9Cw0LTQtdC90LjRjyAo4oiSMzApXCIsXG4gICAgICAgICAgICAgICAgXCJhY3JvX25cIjogKG4pID0+IGDQkNC60YDQvtCx0LDRgtC40LrQsCAke24gKyAxfWAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJhbGVydHNcIjoge1xuICAgICAgICAgICAgICAgIFwiaGFzX3VuY29uZmlybWVkX3Njb3Jlc1wiOiBcItCY0LzQtdGO0YLRgdGPINC90LXQt9Cw0YTQuNC60YHQuNGA0L7QstCw0L3QvdGL0LUg0L7RhtC10L3QutC4INGB0YPQtNC10Lkg0LIg0L/QvtGB0LvQtdC00L3QtdC8INC30LDRhdC+0LTQtS5cIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImJ1dHRvbnNcIjoge1xuICAgICAgICAgICAgICAgIFwiZGlzY2FyZF90aW1lXCI6IFwi0KPQtNCw0LvQuNGC0YxcIixcbiAgICAgICAgICAgICAgICBcImZpbmFsaXplX3RvdXJcIjogXCLQpNC40L3QsNC70LjQt9C40YDQvtCy0LDRgtGMINGC0YPRgFwiLFxuICAgICAgICAgICAgICAgIFwiZmluYWxpemVfdG91cl9hbmRfc3RhcnRfbmV4dFwiOiBcItCk0LjQvdCw0LvQuNC30LjRgNC+0LLQsNGC0Ywg0YLRg9GAINC4INC/0LXRgNC10LnRgtC4INC6INGB0LvQtdC00YPRjtGJ0LXQvNGDXCIsXG4gICAgICAgICAgICAgICAgXCJuZXh0X2hlYXRcIjogXCLQodC70LXQtC4g0LfQsNGF0L7QtFwiLFxuICAgICAgICAgICAgICAgIFwibm90X3BlcmZvcm1lZFwiOiBcItCd0LXQstGL0YXQvtC0INC90LAg0L/Qu9C+0YnQsNC00LrRg1wiLFxuICAgICAgICAgICAgICAgIFwicGVyZm9ybWVkXCI6IFwi0J7RgtC80LXQvdCwINC90LXQstGL0YXQvtC00LAg0L3QsCDQv9C70L7RidCw0LTQutGDXCIsXG4gICAgICAgICAgICAgICAgXCJwcmV2X2hlYXRcIjogXCLQn9GA0LXQtC4g0LfQsNGF0L7QtFwiLFxuICAgICAgICAgICAgICAgIFwicmVzZXRfc3RvcHdhdGNoXCI6IFwi0KHQsdGA0L7RgVwiLFxuICAgICAgICAgICAgICAgIFwic3RhcnRfc3RvcHdhdGNoXCI6IFwi0KHRgtCw0YDRglwiLFxuICAgICAgICAgICAgICAgIFwic3RvcF9zdG9wd2F0Y2hcIjogXCLQodGC0L7Qv1wiLFxuICAgICAgICAgICAgICAgIFwic3RvcF90b3VyXCI6IFwi0JfQsNCy0LXRgNGI0LjRgtGMINGC0YPRgFwiLFxuICAgICAgICAgICAgICAgIFwic3RvcF90b3VyX2FuZF9zdGFydF9uZXh0XCI6IFwi0JfQsNCy0LXRgNGI0LjRgtGMINGC0YPRgCDQuCDQv9C10YDQtdC50YLQuCDQuiDRgdC70LXQtNGD0Y7RidC10LzRgyDRgtGD0YDRg1wiLFxuICAgICAgICAgICAgICAgIFwic3VibWl0X3RpbWVcIjogXCLQodC+0YXRgNCw0L3QuNGC0YxcIixcbiAgICAgICAgICAgICAgICBcInRvX3N0YXJ0X3BhZ2VcIjogXCLQndCwINCz0LvQsNCy0L3Rg9GOXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJjb25maXJtc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJmaW5hbGl6ZV90b3VyXCI6IFwi0JLRiyDQtNC10LnRgdGC0LLQuNGC0LXQu9GM0L3QviDRhdC+0YLQuNGC0LUg0YTQuNC90LDQu9C40LfQuNGA0L7QstCw0YLRjCDRjdGC0L7RgiDRgtGD0YA/XCIsXG4gICAgICAgICAgICAgICAgXCJmaW5hbGl6ZV90b3VyX2FuZF9zdGFydF9uZXh0XCI6IFwi0JLRiyDQtNC10LnRgdGC0LLQuNGC0LXQu9GM0L3QviDRhdC+0YLQuNGC0LUg0YTQuNC90LDQu9C40LfQuNGA0L7QstCw0YLRjCDRjdGC0L7RgiDRgtGD0YAg0Lgg0L/QtdGA0LXQudGC0Lgg0Log0YHQu9C10LTRg9GO0YnQtdC80YMg0YLRg9GA0YM/XCIsXG4gICAgICAgICAgICAgICAgXCJzdG9wX3RvdXJcIjogXCLQktGLINC00LXQudGB0YLQstC40YLQtdC70YzQvdC+INGF0L7RgtC40YLQtSDQvtGB0YLQsNC90L7QstC40YLRjCDRjdGC0L7RgiDRgtGD0YA/XCIsXG4gICAgICAgICAgICAgICAgXCJzdG9wX3RvdXJfYW5kX3N0YXJ0X25leHRcIjogXCLQktGLINC00LXQudGB0YLQstC40YLQtdC70YzQvdC+INGF0L7RgtC40YLQtSDQv9C10YDQtdC50YLQuCDQuiDRgdC70LXQtNGD0Y7RidC10LzRgyDRgtGD0YDRgz9cIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImRhbmNlX2p1ZGdlXCI6IHtcbiAgICAgICAgICAgICAgICBcImFjcm9iYXRpY3NcIjogXCLQkNC60YDQvtCx0LDRgtC40LrQsFwiLFxuICAgICAgICAgICAgICAgIFwiYmlnX21pc3Rha2VzXCI6IFwi0JHQvtC70YzRiNC40LUg0L7RiNC40LHQutC4ICjiiJIzMClcIixcbiAgICAgICAgICAgICAgICBcImNvbXBvc2l0aW9uXCI6IFwi0JrQvtC80L/QvtC30LjRhtC40Y9cIixcbiAgICAgICAgICAgICAgICBcImRhbmNlX2ZpZ3NcIjogXCLQotCw0L3RhtC10LLQsNC70YzQvdGL0LUg0YTQuNCz0YPRgNGLXCIsXG4gICAgICAgICAgICAgICAgXCJkYW5jZV90ZWNoXCI6IFwi0KLQtdGF0L3QuNC60LAg0YLQsNC90YbQtdCy0LDQvdC40Y9cIixcbiAgICAgICAgICAgICAgICBcImZvcm1fZmFsbF9kb3duXCI6IFwi0J/QsNC00LXQvdC40Y8gKOKIkjMpXCIsXG4gICAgICAgICAgICAgICAgXCJmb3JtX21pc3Rha2VzXCI6IFwi0J7RiNC40LHQutC4ICjiiJIyKVwiLFxuICAgICAgICAgICAgICAgIFwiZm9ybV9zbWFsbF9taXN0YWtlc1wiOiBcItCc0LXQu9C60LjQtSDQvtGI0LjQsdC60LggKOKIkjIpXCIsXG4gICAgICAgICAgICAgICAgXCJmb3JtX2JpZ19taXN0YWtlc1wiOiBcItCR0L7Qu9GM0YjQuNC1INC+0YjQuNCx0LrQuCAo4oiSMylcIixcbiAgICAgICAgICAgICAgICBcImZ3XCI6IFwi0J7RgdC90L7QstC90L7QuSDRhdC+0LQgKNGB0LHQsNCy0LrQsCDQsiAlKVwiLFxuICAgICAgICAgICAgICAgIFwiZndfbWFuXCI6IFwi0J7RgdC90L7QstC90L7QuSDRhdC+0LQsINC/0LDRgNGC0L3RkdGAICjRgdCx0LDQstC60LAg0LIgJSlcIixcbiAgICAgICAgICAgICAgICBcImZ3X3dvbWFuXCI6IFwi0J7RgdC90L7QstC90L7QuSDRhdC+0LQsINC/0LDRgNGC0L3RkdGA0YjQsCAo0YHQsdCw0LLQutCwINCyICUpXCIsXG4gICAgICAgICAgICAgICAgXCJpbXByZXNzaW9uXCI6IFwi0J7QsdGJ0LXQtSDQstC/0LXRh9Cw0YLQu9C10L3QuNC1XCIsXG4gICAgICAgICAgICAgICAgXCJwb2ludHNcIjogXCLQntGG0LXQvdC60LBcIixcbiAgICAgICAgICAgICAgICBcInNtYWxsX21pc3Rha2VzXCI6IFwi0JzQtdC70LrQuNC1INC+0YjQuNCx0LrQuCAo4oiSNSlcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImdsb2JhbFwiOiB7XG4gICAgICAgICAgICAgICAgXCJjb25maXJtX3Njb3JlXCI6IFwi0JfQsNGE0LjQutGB0LjRgNC+0LLQsNGC0YxcIixcbiAgICAgICAgICAgICAgICBcImNvbmZpcm1lZFwiOiBcItCX0LDRhNC40LrRgdC40YDQvtCy0LDQvdC+XCIsXG4gICAgICAgICAgICAgICAgXCJkaXNxdWFsaWZpZWRcIjogXCLQlNC40YHQutCy0LDQu9C40YTQuNGG0LjRgNC+0LLQsNC9XCIsXG4gICAgICAgICAgICAgICAgXCJkaXNjYXJkX2Rpc3F1YWxpZmllZFwiOiBcItCe0YLQvNC10L3QsCDQtNC40YHQutCy0LDQu9C40YTQuNC60LDRhtC40LhcIixcbiAgICAgICAgICAgICAgICBcImRpc2NhcmRfbm90X3BlcmZvcm1lZFwiOiBcItCe0YLQvNC10L3QsCDQvdC10LLRi9GF0L7QtNCwINC90LAg0L/Qu9C+0YnQsNC00LrRg1wiLFxuICAgICAgICAgICAgICAgIFwiaGVhdF9udW1iZXJcIjogKG4sIHQpID0+IGDQl9Cw0YXQvtC0ICR7bn0g0LjQtyAke3R9YCxcbiAgICAgICAgICAgICAgICBcImp1ZGdlX251bWJlclwiOiAobikgPT4gYNCh0YPQtNGM0Y8g4oSWJHtufWAsXG4gICAgICAgICAgICAgICAgXCJtYXJrX2Rpc3F1YWxpZmllZFwiOiBcItCU0LjRgdC60LLQsNC70LjRhNC40LrQsNGG0LjRj1wiLFxuICAgICAgICAgICAgICAgIFwibWFya19ub3RfcGVyZm9ybWVkXCI6IFwi0J3QtdCy0YvRhdC+0LQg0L3QsCDQv9C70L7RidCw0LTQutGDXCIsXG4gICAgICAgICAgICAgICAgXCJub3RfcGVyZm9ybWluZ1wiOiBcItCd0LUg0LLRi9GB0YLRg9C/0LDQtdGCXCIsXG4gICAgICAgICAgICAgICAgXCJ0b3RhbF9zY29yZVwiOiBcItCh0YPQvNC80LAg0LHQsNC70LvQvtCyXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJoZWFkX2p1ZGdlXCI6IHtcbiAgICAgICAgICAgICAgICBcImFjcm9iYXRpY19vdmVycmlkZXNcIjogXCLQmtC+0YDRgNC10LrRgtC40YDQvtCy0LrQuCDQsNC60YDQvtCx0LDRgtC40LrQuFwiLFxuICAgICAgICAgICAgICAgIFwiY2FyZFwiOiBcItCa0LDRgNGC0L7Rh9C60LBcIixcbiAgICAgICAgICAgICAgICBcImRhbmNlX2p1ZGdlX3Njb3Jlc1wiOiBcItCe0YbQtdC90LrQuCDQu9C40L3QtdC50L3Ri9GFINGB0YPQtNC10LlcIixcbiAgICAgICAgICAgICAgICBcImZvcm1fcmVkX2NhcmRcIjogXCLQmtGA0LDRgdC90LDRj1wiLFxuICAgICAgICAgICAgICAgIFwiZm9ybV95ZWxsb3dfY2FyZFwiOiBcItCW0LXQu9GC0LDRj1wiLFxuICAgICAgICAgICAgICAgIFwib2tcIjogXCJPS1wiLFxuICAgICAgICAgICAgICAgIFwiY2FyZF90eXBlXCI6IFwi0JrQsNGA0YLQvtGH0LrQsFwiLFxuICAgICAgICAgICAgICAgIFwicHJldmlvdXNfY2FyZHNcIjogXCLQn9GA0LXQtNGL0LTRg9GJ0LjQtSDQutCw0YDRgtC+0YfQutC4XCIsXG4gICAgICAgICAgICAgICAgXCJyZWRfY2FyZFwiOiBcItCa0YDQsNGB0L3QsNGPXCIsXG4gICAgICAgICAgICAgICAgXCJ0ZWNoX2p1ZGdlX3Njb3Jlc1wiOiBcItCe0YbQtdC90LrQuCDRgtC10YXQvdC40YfQtdGB0LrQuNGFINGB0YPQtNC10LlcIixcbiAgICAgICAgICAgICAgICBcInllbGxvd19jYXJkXCI6IFwi0JbQtdC70YLQsNGPXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJ0ZWNoX2p1ZGdlXCI6IHtcbiAgICAgICAgICAgICAgICBcImZvcm1fcmVkX2NhcmRcIjogXCLQmtGA0LDRgdC90LDRjyAo4oiSMTUpXCIsXG4gICAgICAgICAgICAgICAgXCJmb3JtX3llbGxvd19jYXJkXCI6IFwi0JbQtdC70YLQsNGPXCIsXG4gICAgICAgICAgICAgICAgXCJqdW1wX3N0ZXBzXCI6IFwi0J7RgdC9LiDRhdC+0LTRi1wiLFxuICAgICAgICAgICAgICAgIFwib2tcIjogXCJPS1wiLFxuICAgICAgICAgICAgICAgIFwiY2FyZF90eXBlXCI6IFwi0JrQsNGA0YLQvtGH0LrQsFwiLFxuICAgICAgICAgICAgICAgIFwicmVzZXRfdG9fblwiOiAobikgPT4gYNCh0LHRgNC+0YEg0L3QsCAke259YCxcbiAgICAgICAgICAgICAgICBcInRpbWluZ1wiOiBcItCU0LvQuNGC0LXQu9GM0L3QvtGB0YLRjFwiLFxuICAgICAgICAgICAgICAgIFwicmVkX2NhcmRcIjogXCLQmtGA0LDRgdC90LDRj1wiLFxuICAgICAgICAgICAgICAgIFwic2VydmVyX3RpbWVcIjogKHQpID0+IHQgIT09IG51bGwgPyBg0KHQvtGF0YDQsNC90LXQvdC90L7QtSDQstGA0LXQvNGPOiAke3R9YCA6IFwi0J3QtdGCINGB0L7RhdGA0LDQvdC10L3QvdC+0LPQviDQstGA0LXQvNC10L3QuFwiLFxuICAgICAgICAgICAgICAgIFwieWVsbG93X2NhcmRcIjogXCLQltC10LvRgtCw0Y9cIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInBhZ2VzXCI6IHtcbiAgICAgICAgICAgICAgICBcImhlYXRzXCI6IFwi0JfQsNGF0L7QtNGLXCIsXG4gICAgICAgICAgICAgICAgXCJyZXN1bHRzXCI6IFwi0KDQtdC30YPQu9GM0YLQsNGC0YtcIixcbiAgICAgICAgICAgICAgICBcImFjdGlvbnNcIjogXCLQlNC10LnRgdGC0LLQuNGPXCIsXG4gICAgICAgICAgICAgICAgXCJkYW5jaW5nXCI6IFwi0KLQsNC90LXRhlwiLFxuICAgICAgICAgICAgICAgIFwiYWNyb1wiOiBcItCQ0LrRgNC+0LHQsNGC0LjQutCwXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBcInJlc3VsdHNcIjoge1xuICAgICAgICAgICAgXCJicmVha2Rvd25cIjoge1xuICAgICAgICAgICAgICAgIFwiYVwiOiBcIkFcIixcbiAgICAgICAgICAgICAgICBcImFjcm9fblwiOiAobikgPT4gYEEke259YCxcbiAgICAgICAgICAgICAgICBcImJtXCI6IFwi0JHQnlwiLFxuICAgICAgICAgICAgICAgIFwiY1wiOiBcItCaXCIsXG4gICAgICAgICAgICAgICAgXCJkZlwiOiBcItCi0KRcIixcbiAgICAgICAgICAgICAgICBcImR0XCI6IFwi0KJUXCIsXG4gICAgICAgICAgICAgICAgXCJmZFwiOiBcItCfXCIsXG4gICAgICAgICAgICAgICAgXCJmbVwiOiBcItCe0KXQvFwiLFxuICAgICAgICAgICAgICAgIFwiZndcIjogXCLQntCl0LZcIixcbiAgICAgICAgICAgICAgICBcImZ3X3NvbG9cIjogXCLQntClXCIsXG4gICAgICAgICAgICAgICAgXCJpXCI6IFwi0J7QklwiLFxuICAgICAgICAgICAgICAgIFwibVwiOiBcItCe0YhcIixcbiAgICAgICAgICAgICAgICBcInBcIjogXCLQnFwiLFxuICAgICAgICAgICAgICAgIFwic21cIjogXCLQnNCeXCIsXG4gICAgICAgICAgICAgICAgXCJqc1wiOiBcItCe0KVcIixcbiAgICAgICAgICAgICAgICBcInR2XCI6IFwi0JLRgNC10LzRj1wiLFxuICAgICAgICAgICAgICAgIFwicGVuYWx0eVwiOiBcItCo0YLRgNCw0YRcIixcbiAgICAgICAgICAgICAgICBcInRpbWVcIjogXCLQktGA0LXQvNGPXCIsXG4gICAgICAgICAgICAgICAgXCJ0XCI6IFwizqNcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImhlYWRlcnNcIjoge1xuICAgICAgICAgICAgICAgIFwicGFydGljaXBhbnRzX2FkdmFuY2VkXCI6IFwi0J/RgNC+0YjQu9C4INCyINGB0LvQtdC00YPRjtGJ0LjQuSDRgtGD0YBcIixcbiAgICAgICAgICAgICAgICBcInBhcnRpY2lwYW50c19ub3RfYWR2YW5jZWRcIjogXCLQndC1INC/0YDQvtGI0LvQuCDQsiDRgdC70LXQtNGD0Y7RidC40Lkg0YLRg9GAXCIsXG4gICAgICAgICAgICAgICAgXCJwYXJ0aWNpcGFudHNfTlBcIjogXCLQndC1INCy0YvRgdGC0YPQv9Cw0LvQuFwiLFxuICAgICAgICAgICAgICAgIFwicGFydGljaXBhbnRzX0RRXCI6IFwi0JTQuNGB0LrQstCw0LvQuNGE0LjQutCw0YbQuNGPXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJsYWJlbHNcIjoge1xuICAgICAgICAgICAgICAgIFwiYWNyb19zY29yZVwiOiBcItCg0LXQt9GD0LvRjNGC0LDRgiDQsNC60YDQvlwiLFxuICAgICAgICAgICAgICAgIFwiYWNyb2JhdGljc1wiOiBcItCQ0LrRgNC+0LHQsNGC0LjQutCwXCIsXG4gICAgICAgICAgICAgICAgXCJhY3JvYmF0aWNzX3ZlcmJvc2VcIjogXCLQkNC60YDQvtCx0LDRgtC40LrQsCAo0LfQsNGP0LLQutCwL9GE0LDQutGCKVwiLFxuICAgICAgICAgICAgICAgIFwiY2FyZFwiOiBcItCo0YLRgNCw0YRcIixcbiAgICAgICAgICAgICAgICBcImRpc3F1YWxpZmllZFwiOiBcItCU0LjRgdC60LLQsNC70LjRhNC40YbQuNGA0L7QstCw0L1cIixcbiAgICAgICAgICAgICAgICBcImRxXCI6IFwi0JTQuNGB0LrQsi5cIixcbiAgICAgICAgICAgICAgICBcImZ3X3Njb3JlXCI6IFwi0KDQtdC30YPQu9GM0YLQsNGCINCi0J1cIixcbiAgICAgICAgICAgICAgICBcImZ3X3Njb3JlX3Nob3J0XCI6IFwi0KLQnVwiLFxuICAgICAgICAgICAgICAgIFwiaW5mb1wiOiBcItCj0YfQsNGB0YLQvdC40LosINGA0LXQt9GD0LvRjNGC0LDRglwiLFxuICAgICAgICAgICAgICAgIFwibmV4dF90b3VyXCI6IFwi0KHQu9C10LTRg9GO0YnQuNC5INGC0YPRgFwiLFxuICAgICAgICAgICAgICAgIFwibm90X3BlcmZvcm1lZFwiOiBcItCd0LUg0L/RgNC40L3QuNC80LDQuyDRg9GH0LDRgdGC0LjQtVwiLFxuICAgICAgICAgICAgICAgIFwibnVtYmVyXCI6IFwi4oSWXCIsXG4gICAgICAgICAgICAgICAgXCJwYXJ0aWNpcGFudF9jbHViXCI6IFwi0JrQu9GD0LFcIixcbiAgICAgICAgICAgICAgICBcInBhcnRpY2lwYW50X2NvYWNoZXNcIjogXCLQotGA0LXQvdC10YDRi1wiLFxuICAgICAgICAgICAgICAgIFwicGFydGljaXBhbnRfbmFtZVwiOiBcItCj0YfQsNGB0YLQvdC40LpcIixcbiAgICAgICAgICAgICAgICBcInBlbmFsdHlcIjogXCLQqNGC0YDQsNGEXCIsXG4gICAgICAgICAgICAgICAgXCJwbGFjZVwiOiBcItCc0LXRgdGC0L5cIixcbiAgICAgICAgICAgICAgICBcInNwb3J0c21lblwiOiBcItCh0L/QvtGA0YLRgdC80LXQvdGLXCIsXG4gICAgICAgICAgICAgICAgXCJzcG9ydHNtZW5feWVhcl9vZl9iaXJ0aFwiOiBcItCTLtGALlwiLFxuICAgICAgICAgICAgICAgIFwic3ViXCI6IFwi0LfQsNC/XCIsXG4gICAgICAgICAgICAgICAgXCJ0b3RhbF9zY29yZVwiOiBcItCY0YLQvtCzXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJjYXJkc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJSQ1wiOiAoaXNfZm9ybWF0aW9uKSA9PiBpc19mb3JtYXRpb24gPyBcItCa0JogKOKIkjE1KVwiIDogXCLQmtCaICjiiJIzMClcIixcbiAgICAgICAgICAgICAgICBcIllDXCI6IFwi0JbQmlwiLFxuICAgICAgICAgICAgICAgIFwiT0tcIjogXCJcIixcbiAgICAgICAgICAgICAgICBcInZlcmJvc2VfUkNcIjogKGlzX2Zvcm1hdGlvbikgPT4gaXNfZm9ybWF0aW9uXG4gICAgICAgICAgICAgICAgICAgID8gXCLQmtGA0LDRgdC90LDRjyDQutCw0YDRgtC+0YfQutCwICjRiNGC0YDQsNGEIOKIkjE1KVwiXG4gICAgICAgICAgICAgICAgICAgIDogXCLQmtGA0LDRgdC90LDRjyDQutCw0YDRgtC+0YfQutCwICjRiNGC0YDQsNGEIOKIkjMwKVwiLFxuICAgICAgICAgICAgICAgIFwidmVyYm9zZV9ZQ1wiOiBcItCW0LXQu9GC0LDRjyDQutCw0YDRgtC+0YfQutCwXCIsXG4gICAgICAgICAgICAgICAgXCJ2ZXJib3NlX09LXCI6IFwiXCIsXG4gICAgICAgICAgICAgICAgXCJzaG9ydF9ZQ1wiOiBcItCW0JpcIixcbiAgICAgICAgICAgICAgICBcInNob3J0X1JDXCI6IFwi0JrQmlwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgXCJnbG9iYWxcIjoge1xuICAgICAgICAgICAgXCJidXR0b25zXCI6IHtcbiAgICAgICAgICAgICAgICBcInN1Ym1pdFwiOiBcItCh0L7RhdGA0LDQvdC40YLRjFwiLFxuICAgICAgICAgICAgICAgIFwiZGlzY2FyZFwiOiBcItCe0YLQvNC10L3QuNGC0YxcIixcbiAgICAgICAgICAgICAgICBcImNsb3NlXCI6IFwi0JfQsNC60YDRi9GC0YxcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImxhYmVsc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJ5ZXNcIjogXCLQlNCwXCIsXG4gICAgICAgICAgICAgICAgXCJub1wiOiBcItCd0LXRglwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwicGhyYXNlc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJwYXJ0aWNpcGFudF9uXCI6IChuLCBuYW1lLCBuX3NwKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuX3NwID4gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGDQpNC+0YDQvNC10LnRiNC9IOKEliR7bn1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gYDogJHtuYW1lfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAobl9zcCA9PT0gMilcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYNCf0LDRgNCwIOKEliR7bn1gXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGDQo9GH0LDRgdGC0L3QuNC6IOKEliR7bn1gXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcImp1ZGdlX25cIjogKG4pID0+IGDQm9C40L3QtdC50L3Ri9C5INGB0YPQtNGM0Y8g4oSWJHtufWAsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBcInNjb3Jpbmdfc3lzdGVtc19uYW1lc1wiOiB7XG4gICAgICAgICAgICBcInJvc2ZhcnJcIjoge1xuICAgICAgICAgICAgICAgIFwiYmFzZV9uYW1lXCI6IFwi0KDQvtGB0KTQkNCg0KBcIixcbiAgICAgICAgICAgICAgICBcImFjcm9cIjogXCLQoNC+0YHQpNCQ0KDQoCwg0LDQutGA0L7QsdCw0YLQuNGH0LXRgdC60LjQtSDQv9GA0L7Qs9GA0LDQvNC80YtcIixcbiAgICAgICAgICAgICAgICBcImFtX3F1YWxcIjogXCLQoNC+0YHQpNCQ0KDQoCwgQSDQuCBNINC60LvQsNGB0YHRiywg0LTQviDQv9C+0LvRg9GE0LjQvdCw0LvQsFwiLFxuICAgICAgICAgICAgICAgIFwiYW1fZmluYWxfYWNyb1wiOiBcItCg0L7RgdCk0JDQoNCgLCBBINC4IE0g0LrQu9Cw0YHRgdGLLCDRhNC40L3QsNC7LCDQsNC60YDQvtCx0LDRgtC40LrQsFwiLFxuICAgICAgICAgICAgICAgIFwiYW1fZmluYWxfZndcIjogXCLQoNC+0YHQpNCQ0KDQoCwgQSDQuCBNINC60LvQsNGB0YHRiywg0YTQuNC90LDQuywg0YLQtdGF0L3QuNC60LAg0L3QvtCzXCIsXG4gICAgICAgICAgICAgICAgXCJmb3JtYXRpb25cIjogXCLQoNC+0YHQpNCQ0KDQoCwg0YTQvtGA0LzQtdC50YjQvSDQsdC10Lcg0LDQutGA0L7QsdCw0YLQuNC60LhcIixcbiAgICAgICAgICAgICAgICBcImZvcm1hdGlvbl9hY3JvXCI6IFwi0KDQvtGB0KTQkNCg0KAsINGE0L7RgNC80LXQudGI0L0g0YEg0LDQutGA0L7QsdCw0YLQuNC60L7QuVwiLFxuICAgICAgICAgICAgICAgIFwibm9fYWNyb1wiOiBcItCg0L7RgdCk0JDQoNCgLCDRgtCw0L3RhtC10LLQsNC70YzQvdGL0LUg0L/RgNC+0LPRgNCw0LzQvNGLXCIsXG4gICAgICAgICAgICAgICAgXCJzaW1wbGlmaWVkXCI6IFwi0KDQvtGB0KTQkNCg0KAsINGD0L/RgNC+0YnQtdC90L3QsNGPINGB0LjRgdGC0LXQvNCwICgx4oCTNDApXCIsXG4gICAgICAgICAgICAgICAgXCJzb2xvXCI6IFwi0KDQvtGB0KTQkNCg0KAsINGB0L7Qu9C+LdC00LjRgdGG0LjQv9C70LjQvdGLXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBcImp1ZGdlX3JvbGVzXCI6IHtcbiAgICAgICAgICAgIFwiXCI6IFwiLVwiLFxuICAgICAgICAgICAgXCJhY3JvX2p1ZGdlXCI6IFwi0KHRg9C00YzRjyDQsNC60YDQvtCx0LDRgtC40LrQuFwiLFxuICAgICAgICAgICAgXCJkYW5jZV9qdWRnZVwiOiBcItCh0YPQtNGM0Y8g0YLQsNC90YbQsFwiLFxuICAgICAgICAgICAgXCJoZWFkX2p1ZGdlXCI6IFwi0JPQu9Cw0LLQvdGL0Lkg0YHRg9C00YzRj1wiLFxuICAgICAgICAgICAgXCJ0ZWNoX2p1ZGdlXCI6IFwi0KLQtdGF0L3QuNGH0LXRgdC60LjQuSDRgdGD0LTRjNGPXCIsXG4gICAgICAgIH0sXG4gICAgfTtcblxuICAgIGNvbnN0IHBhdGggPSBzcmMuc3BsaXQoXCIuXCIpO1xuICAgIGxldCBwaHJhc2VfcHRyID0gUEhSQVNFUztcbiAgICBmb3IgKGNvbnN0IGNodW5rIG9mIHBhdGgpIHtcbiAgICAgICAgcGhyYXNlX3B0ciA9IHBocmFzZV9wdHJbY2h1bmtdO1xuICAgICAgICBpZiAodHlwZW9mIHBocmFzZV9wdHIgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFVuYWJsZSB0byBmaW5kIHRyYW5zbGF0aW9uIGZvciAke3NyY31gKTtcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcGhyYXNlX3B0ciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBwaHJhc2VfcHRyKC4uLmFyZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gcGhyYXNlX3B0cjtcbn1cblxudHJhbnNsYXRlLnRvdXJfbmFtZV9zdWdnZXN0aW9ucyA9IFtcbiAgICBcItCk0LjQvdCw0LtcIixcbiAgICBcItCi0YPRgCDCq9Cd0LDQtNC10LbQtNGLwrtcIixcbiAgICBcItCe0YLQsdC+0YDQvtGH0L3Ri9C5INGC0YPRgFwiLFxuICAgIFwiMS8yINGE0LjQvdCw0LvQsFwiLFxuICAgIFwiMS80INGE0LjQvdCw0LvQsFwiLFxuICAgIFwiMS84INGE0LjQvdCw0LvQsFwiLFxuICAgIFwiMS8xNiDRhNC40L3QsNC70LBcIixcbiAgICBcItCk0LjQvdCw0LssINGC0LXRhdC90LjQutCwINC90L7Qs1wiLFxuICAgIFwi0KTQuNC90LDQuywg0LDQutGA0L7QsdCw0YLQuNC60LBcIixcbl07XG4iLCJjb25zdCBtZXRhID0ge1xuICAgIFwianVkZ2Vfcm9sZXNcIjogW1xuICAgICAgICBcImRhbmNlX2p1ZGdlXCIsXG4gICAgICAgIFwiYWNyb19qdWRnZVwiLFxuICAgICAgICBcImhlYWRfanVkZ2VcIixcbiAgICAgICAgXCJ0ZWNoX2p1ZGdlXCIsXG4gICAgXSxcbiAgICBcInNjb3Jpbmdfc3lzdGVtc1wiOiBbXG4gICAgICAgIFwicm9zZmFyci5ub19hY3JvXCIsXG4gICAgICAgIFwicm9zZmFyci5hY3JvXCIsXG4gICAgICAgIFwicm9zZmFyci5mb3JtYXRpb25cIixcbiAgICAgICAgXCJyb3NmYXJyLmZvcm1hdGlvbl9hY3JvXCIsXG4gICAgICAgIFwicm9zZmFyci5zaW1wbGlmaWVkXCIsXG4gICAgICAgIFwicm9zZmFyci5zb2xvXCIsXG4gICAgICAgIFwicm9zZmFyci5hbV9xdWFsXCIsXG4gICAgICAgIFwicm9zZmFyci5hbV9maW5hbF9md1wiLFxuICAgICAgICBcInJvc2ZhcnIuYW1fZmluYWxfYWNyb1wiLFxuICAgIF0sXG4gICAgXCJzdWdnZXN0ZWRfcHJvZ3JhbXNcIjogW1xuICAgICAgICBcImRlZmF1bHRcIixcbiAgICAgICAgXCJxdWFsaWZpY2F0aW9uXCIsXG4gICAgICAgIFwicXVhcnRlcmZpbmFsXCIsXG4gICAgICAgIFwiZmluYWxcIixcbiAgICBdLFxufVxuXG5leHBvcnQgZGVmYXVsdCBtZXRhO1xuIiwiaW1wb3J0IF8gZnJvbSBcImwxMG5cIjtcbmltcG9ydCBSZXN1bHRzVGFibGUxIGZyb20gXCJSZXN1bHRzVGFibGUxXCI7XG5pbXBvcnQgUmVzdWx0c1RhYmxlMiBmcm9tIFwiUmVzdWx0c1RhYmxlMlwiO1xuaW1wb3J0IFJlc3VsdHNUYWJsZTMgZnJvbSBcIlJlc3VsdHNUYWJsZTNcIjtcbmltcG9ydCBEaXNjaXBsaW5lUmVzdWx0c1RhYmxlIGZyb20gXCJEaXNjaXBsaW5lUmVzdWx0c1RhYmxlXCI7XG5pbXBvcnQgSnVkZ2VUYWJsZXQgZnJvbSBcIkp1ZGdlVGFibGV0XCI7XG5pbXBvcnQgQWRtaW5TY29yZUlucHV0IGZyb20gXCJBZG1pblNjb3JlSW5wdXRcIjtcbmltcG9ydCBnZXRKdWRnZVRhYmxlTWFyayBmcm9tIFwiZ2V0SnVkZ2VUYWJsZU1hcmtcIjtcbmltcG9ydCBtZXRhIGZyb20gXCJtZXRhXCI7XG5cbmltcG9ydCB7IHNldHVwIH0gZnJvbSBcIkhvc3RNb2R1bGVzXCI7XG5cbmNvbnN0IHJlc3BvbnNlID0gd2luZG93LnJlZ2lzdGVyUnVsZXNTZXQoXCJSb3NGQVJSXCIsIHtcbiAgICBtZXRhOiBtZXRhLFxuICAgIHRyYW5zbGF0ZTogXyxcbiAgICB0b3VyX3Jlc3VsdHNfdGFibGVfMTogUmVzdWx0c1RhYmxlMSxcbiAgICB0b3VyX3Jlc3VsdHNfdGFibGVfMjogUmVzdWx0c1RhYmxlMixcbiAgICB0b3VyX3Jlc3VsdHNfdGFibGVfMzogUmVzdWx0c1RhYmxlMyxcbiAgICBkaXNjaXBsaW5lX3Jlc3VsdHNfdGFibGU6IERpc2NpcGxpbmVSZXN1bHRzVGFibGUsXG4gICAganVkZ2VfdGFibGV0OiBKdWRnZVRhYmxldCxcbiAgICBhZG1pbl9zY29yZV9pbnB1dDogQWRtaW5TY29yZUlucHV0LFxuICAgIGdldF9qdWRnZV90YWJsZV9tYXJrOiBnZXRKdWRnZVRhYmxlTWFyayxcbn0pO1xuXG5zZXR1cChyZXNwb25zZSk7XG4iXX0=
